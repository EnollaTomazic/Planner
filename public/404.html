<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Redirecting…</title>
  </head>
  <body>
    <main>
      <h1>Redirecting…</h1>
      <p>This route falls back to the Planner single-page app.</p>
      <p>
        If the redirect does not start automatically,
        <a id="pages-redirect-link" href="__BASE_PATH__/index.html">return to Planner</a>.
      </p>
    </main>
    <script>
      (function () {
        var placeholder = "__BASE_PATH__";
        var basePath = placeholder;
        if (basePath === "__BASE_PATH__") {
          basePath = "";
        } else {
          var trimmedBasePath = basePath.trim();
          basePath = trimmedBasePath === "" ? "" : trimmedBasePath;
        }
        if (basePath && basePath !== "/") {
          basePath = "/" + basePath.replace(/^\/+|\/+$/g, "");
        }
        if (basePath === "/") {
          basePath = "";
        }
        var storagePlaceholder = "__GITHUB_PAGES_REDIRECT_STORAGE_KEY__";
        var defaultStorageKey = "noxis-planner:v1:gh-pages:redirect";
        var storageKey = storagePlaceholder;
        if (!storageKey || storageKey === "__GITHUB_PAGES_REDIRECT_STORAGE_KEY__") {
          storageKey = defaultStorageKey;
        } else {
          storageKey = storageKey.trim() || defaultStorageKey;
        }

        var target = (basePath || "") + "/index.html";
        var search = window.location.search || "";
        var hash = window.location.hash || "";
        var originalLocation = window.location.pathname + search + hash;
        if (originalLocation && typeof window.sessionStorage !== "undefined") {
          try {
            window.sessionStorage.setItem(storageKey, originalLocation);
          } catch (error) {
            // Ignore write failures (storage disabled, quota exceeded, etc.).
          }
        }
        var fallbackLink = document.getElementById("pages-redirect-link");
        if (fallbackLink) {
          fallbackLink.setAttribute("href", target + search + hash);
        }
        window.location.replace(target + search + hash);
      })();
    </script>
  </body>
</html>
