/* =========================================================
   Theme tokens + per-theme glitch backdrops
   ========================================================= */

/* ---------- Tokens (dark base) ---------- */
:root {
  --background: 246 35% 7%;
  --foreground: 260 20% 96%;
  --text: var(--foreground);
  --card: 248 30% 10%;
  --panel: var(--card);
  --border: 252 20% 22%;
  --line: var(--border);
  --input: 250 22% 12%;
  --ring: 262 83% 58%;
  --theme-ring: hsl(var(--ring));
  --primary: 262 83% 58%;
  --primary-foreground: 0 0% 100%;
  --primary-soft: 262 83% 18%;
  --accent: 292 80% 60%;
  --accent-2: 192 90% 50%;
  --accent-foreground: 0 0% 100%;
  --accent-soft: 292 80% 20%;
  --glow: 292 80% 60%;
  --ring-muted: 248 20% 22%;
  --danger: 0 84% 60%;
  --muted: 248 26% 14%;
  --muted-foreground: 250 15% 70%;
  --surface: 248 24% 12%;
  --surface-2: 248 24% 16%;
  --surface-vhs: 210 27% 6%;
  --surface-streak: 240 16% 12%;
  --shadow-color: 262 83% 58%;
  --lav-deep: 320 85% 60%;
  --success: 316 92% 70%;
  --success-glow: 316 92% 52% / 0.6;
  --glitch-r: 339 100% 59%;
  --glitch-r-light: 315 100% 88%;
  --glitch-b: 206 100% 61%;
  --glitch-b-light: 206 100% 90%;
  --icon-fg: 247 100% 77%;
  --accent-overlay: hsl(var(--accent));
  --ring-contrast: hsl(var(--ring));
  --glow-active: hsl(var(--glow));
  --text-on-accent: hsl(var(--foreground));

  /* Default button tones */
  --neon: var(--glow);
  --neon-soft: hsl(var(--neon));
  --btn-bg: transparent;
  --btn-fg: hsl(var(--foreground));

  /* Hairlines, radii, motion, control geometry, gradients */
  /* Fallback (works everywhere) */
  --card-hairline: hsl(var(--border));

  --hairline-w: 1px;
  --radius-md: 8px;
  --radius-lg: 12px;
  --radius-xl: 16px;
  --radius-2xl: 24px;
  --radius-card: var(--radius-xl);
  --ease-out: cubic-bezier(0.16, 1, 0.3, 1);
  --ease-snap: cubic-bezier(0.2, 0.8, 0.2, 1);
  --dur-quick: 140ms; --dur-chill: 220ms; --dur-slow: 420ms;
  --control-h: 44px; --control-radius: var(--radius-xl);
  --control-fs: 0.9rem; --control-px: 1rem;

  --edge-iris: conic-gradient(
    from 180deg,
    hsl(262 83% 58% / 0),
    hsl(262 83% 58% / 0.7),
    hsl(192 90% 50% / 0.7),
    hsl(320 85% 60% / 0.7),
    hsl(262 83% 58% / 0)
  );
  --seg-active-grad: linear-gradient(
    90deg,
    hsl(262 83% 58% / 0.95),
    hsl(292 80% 60% / 0.95),
    hsl(192 90% 50% / 0.95)
  );
  --shadow: 0 10px 30px hsl(250 30% 2% / 0.35);
}

/* Upgrade tokens when color-mix(oklab) is supported */
@supports (color: color-mix(in oklab, white, black)) {
  :root {
    --accent-overlay: color-mix(in oklab, hsl(var(--accent)) 60%, transparent);
    --ring-contrast: color-mix(in oklab, hsl(var(--ring)) 70%, hsl(var(--background)) 30%);
    --glow-active: color-mix(in oklab, hsl(var(--glow)) 50%, transparent);
    --neon-soft: color-mix(in oklab, hsl(var(--neon)) 50%, transparent);
    --card-hairline: color-mix(
      in oklab,
      hsl(var(--border)) 82%,
      hsl(var(--accent)) 18%
    );
  }
}

/* Upgrade contrast token when color-contrast is supported */
@supports (color: color-contrast(white vs black)) {
  :root {
    --text-on-accent: color-contrast(var(--accent-overlay) vs hsl(var(--foreground)), hsl(var(--background)));
  }
}

/* Retina half-pixel hairlines when available */
@supports (border: 0.5px solid transparent) {
  :root { --hairline-w: 0.5px; }
}

/* ---------- Light ---------- */
html.light {
  --background: 0 0% 100%;
  --foreground: 240 10% 10%;
  --text: var(--foreground);
  --card: 0 0% 100%;
  --panel: var(--card);
  --border: 240 9% 90%;
  --line: var(--border);
  --input: 240 9% 97%;
  --ring: 262 83% 58%;
  --theme-ring: hsl(var(--ring));
  --primary: 262 83% 58%;
  --primary-foreground: 0 0% 100%;
  --primary-soft: 262 83% 92%;
  --accent: 292 80% 45%;
  --accent-2: 200 100% 50%;
  --accent-foreground: 0 0% 100%;
  --accent-soft: 292 80% 94%;
  --glow: 292 80% 45%;
  --ring-muted: 240 9% 90%;
  --danger: 0 84% 55%;
  --muted: 240 6% 96%;
  --muted-foreground: 240 4% 35%;
  --surface: 240 7% 98%;
  --surface-2: 240 6% 96%;
  --surface-vhs: 210 27% 6%;
  --surface-streak: 240 16% 12%;
  --shadow-color: 262 83% 58%;
  --lav-deep: 320 85% 60%;
  --success: 316 86% 62%;
  --success-glow: 316 86% 48% / 0.55;
}

/* ---------- Glitch v2 ---------- */
html.theme-glitch2 {
  --background: 283 100% 4%;
  --foreground: 260 20% 98%;
  --text: var(--foreground);
  --card: 281 100% 7%;
  --panel: var(--card);
  --border: 279 100% 15%;
  --line: var(--border);
  --input: 279 100% 15%;
  --ring: 279 100% 37%;
  --theme-ring: hsl(var(--ring));
  --primary: 279 100% 37%;
  --primary-foreground: 0 0% 100%;
  --primary-soft: 279 100% 15%;
  --accent: 280 100% 50%;
  --accent-2: 182 100% 50%;
  --accent-soft: 280 100% 20%;
  --muted: 279 100% 15%;
  --muted-foreground: 279 20% 75%;
  --shadow-color: 279 100% 37%;
  --lav-deep: 280 100% 50%;
  --success: 316 92% 70%;
  --success-glow: 316 92% 52% / 0.6;
  --edge-iris: conic-gradient(
    from 180deg,
    hsl(279 100% 37% / 0),
    hsl(279 100% 37% / 0.7),
    hsl(182 100% 50% / 0.7),
    hsl(280 100% 50% / 0.7),
    hsl(279 100% 37% / 0)
  );
  --seg-active-grad: linear-gradient(
    90deg,
    hsl(279 100% 37% / 0.95),
    hsl(280 100% 50% / 0.95),
    hsl(182 100% 50% / 0.95)
  );
  --shadow: 0 10px 30px hsl(279 30% 4% / 0.3);
}

/* ---------- Citrus ---------- */
html.theme-citrus {
  /* Dark Citrus palette */
  --background: 23 100% 4%;
  --foreground: 30 35% 96%;
  --text: var(--foreground);
  --card: 25 100% 10%;
  --panel: var(--card);
  --border: 22 100% 24%;
  --line: var(--border);
  --input: 22 100% 16%;
  --ring: 21 100% 35%;
  --theme-ring: hsl(var(--ring));
  --primary: 21 100% 35%;
  --primary-foreground: 0 0% 100%;
  --primary-soft: 21 100% 20%;
  --accent: 24 100% 50%;
  --accent-2: 51 100% 50%;
  --accent-soft: 24 100% 20%;
  --muted: 22 100% 24%;
  --muted-foreground: 22 20% 70%;
  --shadow-color: 21 100% 35%;
  --lav-deep: 24 100% 50%;
  --success: 150 70% 45%;
  --success-glow: 150 70% 35% / 0.6;
}

/* ---------- Noir ---------- */
html.theme-noir {
  --background: 0 0% 2%;
  --foreground: 0 0% 92%;
  --text: var(--foreground);
  --card: 0 0% 8%;
  --panel: var(--card);
  --border: 0 0% 18%;
  --line: var(--border);
  --input: 0 0% 14%;
  --ring: 0 0% 40%;
  --theme-ring: hsl(var(--ring));
  --primary: 0 0% 40%;
  --primary-foreground: 0 0% 100%;
  --primary-soft: 0 0% 20%;
  --accent: 0 0% 67%;
  --accent-2: 0 0% 94%;
  --accent-soft: 0 0% 27%;
  --muted: 0 0% 18%;
  --muted-foreground: 0 0% 60%;
  --shadow-color: 0 0% 40%;
  --lav-deep: 0 0% 67%;
  --success: 140 60% 50%;
  --success-glow: 140 60% 40% / 0.6;
}

/* ---------- Oceanic ---------- */
html.theme-ocean {
  --background: 220 50% 8%;
  --foreground: 210 20% 96%;
  --text: var(--foreground);
  --card: 220 35% 12%;
  --panel: var(--card);
  --border: 220 20% 24%;
  --line: var(--border);
  --input: 220 24% 14%;
  --ring: 195 85% 55%;
  --theme-ring: hsl(var(--ring));
  --primary: 195 85% 55%;
  --primary-foreground: 0 0% 100%;
  --primary-soft: 195 85% 16%;
  --accent: 190 90% 55%;
  --accent-2: 225 85% 60%;
  --accent-soft: 190 80% 20%;
  --muted: 220 24% 16%;
  --muted-foreground: 220 14% 72%;
  --shadow-color: 200 90% 55%;
  --lav-deep: 250 80% 65%;
  --success: 160 70% 45%;
  --success-glow: 160 70% 35% / 0.6;
}

/* ---------- Rose Quartz ---------- */
html.theme-rose {
  --background: 333 100% 4%;
  --foreground: 330 20% 96%;
  --text: var(--foreground);
  --card: 339 100% 10%;
  --panel: var(--card);
  --border: 341 100% 22%;
  --line: var(--border);
  --input: 341 100% 16%;
  --ring: 343 100% 35%;
  --theme-ring: hsl(var(--ring));
  --primary: 343 100% 35%;
  --primary-foreground: 0 0% 100%;
  --primary-soft: 343 100% 20%;
  --accent: 340 100% 45%;
  --accent-2: 347 100% 90%;
  --accent-soft: 340 100% 20%;
  --muted: 341 100% 22%;
  --muted-foreground: 340 20% 72%;
  --shadow-color: 343 100% 35%;
  --lav-deep: 340 100% 45%;
  --success: 150 65% 45%;
  --success-glow: 150 65% 36% / 0.6;
}

/* =========================================================
   Per-theme glitch backdrops
   ========================================================= */

/* Default Lavender-Glitch backdrop:
   Applies if youâ€™re on theme-lg (both light & dark) OR no theme class. */
html.theme-lg body,
html.theme-lg-dark body,
html.theme-lg-light body,
html:not(.theme-citrus):not(.theme-noir):not(.theme-ocean):not(.theme-rose):not(.theme-glitch2) body {
  background-image:
    radial-gradient(1200px 700px at 18% -10%, hsl(262 83% 58% / 0.16), transparent 60%),
    radial-gradient(1100px 600px at 110% 18%, hsl(192 90% 50% / 0.14), transparent 60%),
    radial-gradient(900px 480px at 50% 120%, hsl(320 85% 60% / 0.1), transparent 65%);
  background-attachment: fixed, fixed, fixed;
}
html.theme-lg body::before,
html.theme-lg-dark body::before,
html.theme-lg-light body::before,
html:not(.theme-citrus):not(.theme-noir):not(.theme-ocean):not(.theme-rose):not(.theme-glitch2) body::before {
  content: ""; position: fixed; inset: 0; pointer-events: none; z-index: 0; opacity: 0.1;
  background:
    repeating-linear-gradient(90deg, hsl(var(--accent)) 0 1px, transparent 1px 26px),
    repeating-linear-gradient(0deg,  hsl(var(--accent)) 0 1px, transparent 1px 26px);
  mix-blend-mode: screen; animation: lg-grid-drift 18s linear infinite;
}
html.theme-lg body::after,
html.theme-lg-dark body::after,
html.theme-lg-light body::after,
html:not(.theme-citrus):not(.theme-noir):not(.theme-ocean):not(.theme-rose):not(.theme-glitch2) body::after {
  content: ""; position: fixed; inset: -10%; pointer-events: none; z-index: 0;
  background:
    radial-gradient(60% 40% at 10% 0%,   hsl(262 83% 58% / 0.2), transparent 60%),
    radial-gradient(50% 35% at 100% 5%,  hsl(192 90% 50% / 0.18), transparent 60%),
    radial-gradient(55% 35% at 50% 120%, hsl(320 85% 60% / 0.14), transparent 65%),
    radial-gradient(120% 100% at 50% 100%, hsl(0 0% 0% / 0.35), transparent 70%);
  filter: blur(2px) saturate(110%);
  animation: lg-aurora-pan 24s ease-in-out infinite alternate;
}

/* Glitch v2 backdrop */
html.theme-glitch2 body {
  background-image:
    radial-gradient(1000px 600px at 20% -10%, hsl(279 100% 37% / 0.2), transparent 60%),
    linear-gradient(180deg, hsl(var(--card)), hsl(var(--background)));
  background-attachment: fixed, fixed;
}
html.theme-glitch2 body::before,
html.theme-glitch2 body::after {
  content: none;
}

/* Citrus backdrop */
html.theme-citrus body {
  background-image:
    radial-gradient(1200px 700px at 20% -10%, hsl(21 100% 35% / 0.22), transparent 60%),
    radial-gradient(1200px 600px at 120% 10%, hsl(24 100% 50% / 0.18), transparent 60%),
    linear-gradient(180deg, hsl(var(--card)), hsl(var(--background)));
  background-attachment: fixed, fixed, fixed;
}
html.theme-citrus body::before {
  content: ""; position: fixed; inset: 0; pointer-events: none; z-index: 0; opacity: 0.08;
  background:
    repeating-linear-gradient(90deg, hsl(21 100% 35% / 0.25) 0 1px, transparent 1px 26px),
    repeating-linear-gradient(0deg,  hsl(24 100% 50% / 0.25) 0 1px, transparent 1px 26px);
  mix-blend-mode: screen; animation: citrus-grid 20s linear infinite;
}
html.theme-citrus body::after {
  content: ""; position: fixed; inset: -8%; pointer-events: none; z-index: 0;
  background:
    radial-gradient(60% 40% at 12% -5%,  hsl(21 100% 35% / 0.18), transparent 60%),
    radial-gradient(50% 35% at 105% 10%, hsl(24 100% 50% / 0.16), transparent 60%),
    radial-gradient(55% 35% at 50% 110%, hsl(51 100% 50% / 0.12), transparent 65%);
  filter: blur(2px) saturate(110%); animation: citrus-pan 28s ease-in-out infinite alternate;
}
@keyframes citrus-grid { to { transform: translate3d(26px, 26px, 0); } }
@keyframes citrus-pan {
  0%   { transform: translate3d(-1%, -1%, 0) scale(1.01); opacity: .95; }
  50%  { transform: translate3d( 1%,  0%, 0) scale(1.00); opacity: 1; }
  100% { transform: translate3d( 2%,  1%, 0) scale(1.01); opacity: .95; }
}

/* Noir backdrop */
html.theme-noir body {
  background-image:
    radial-gradient(1000px 520px at 15% -10%, hsl(0 0% 100% / 0.06), transparent 60%),
    radial-gradient(900px 520px at 110% 15%, hsl(0 0% 100% / 0.05), transparent 60%),
    linear-gradient(180deg, hsl(var(--card) / 0.9), hsl(var(--background)));
  background-attachment: fixed, fixed, fixed;
}
html.theme-noir body::before {
  content: ""; position: fixed; inset: 0; pointer-events: none; z-index: 0;
  background: repeating-linear-gradient(0deg, hsl(0 0% 100% / 0.045) 0 1px, transparent 1px 3px);
  mix-blend-mode: soft-light; opacity: 0.25; animation: noir-scan 14s linear infinite;
}
html.theme-noir body::after {
  content: ""; position: fixed; inset: -12%; pointer-events: none; z-index: 0;
  background:
    radial-gradient(80% 60% at 50% 120%, hsl(0 0% 0% / 0.4), transparent 70%),
    radial-gradient(40% 25% at 6% 4%,  hsl(0 0% 67% / 0.12), transparent 60%),
    radial-gradient(40% 25% at 94% 10%, hsl(0 0% 94% / 0.10), transparent 60%);
  filter: blur(1.5px) saturate(105%); opacity: 0.9; animation: noir-drift 26s ease-in-out infinite alternate;
}
@keyframes noir-scan { 0%{background-position-y:0} 100%{background-position-y:100%} }
@keyframes noir-drift { 0%{transform:translate3d(-1%,0,0)} 100%{transform:translate3d(1%,0,0)} }

/* Oceanic backdrop */
html.theme-ocean body {
  background-image:
    radial-gradient(1200px 700px at 12% -12%, hsl(195 85% 55% / 0.20), transparent 60%),
    radial-gradient(1100px 600px at 108% 16%, hsl(190 90% 55% / 0.16), transparent 60%),
    linear-gradient(180deg, hsl(var(--card) / 0.9), hsl(var(--background)));
  background-attachment: fixed, fixed, fixed;
}
html.theme-ocean body::before {
  content:""; position:fixed; inset:0; z-index:0; pointer-events:none;
  background:
    repeating-linear-gradient(90deg, hsl(195 85% 55% / 0.28) 0 1px, transparent 1px 26px),
    repeating-linear-gradient(0deg,  hsl(225 85% 60% / 0.22) 0 1px, transparent 1px 26px);
  mix-blend-mode: screen; opacity:.10; animation: lg-grid-drift 20s linear infinite;
}
html.theme-ocean body::after {
  content:""; position:fixed; inset:-10%; z-index:0; pointer-events:none;
  background:
    radial-gradient(60% 40% at 14% -6%, hsl(195 85% 55% / 0.18), transparent 60%),
    radial-gradient(55% 35% at 50% 114%, hsl(225 85% 60% / 0.12), transparent 65%),
    radial-gradient(50% 35% at 102% 8%,  hsl(160 70% 45% / 0.10), transparent 60%);
  filter: blur(2px) saturate(112%); animation: ocean-pan 26s ease-in-out infinite alternate;
}
@keyframes ocean-pan {
  0% { transform: translate3d(-1%, -1%, 0) scale(1.01); opacity:.95; }
  50%{ transform: translate3d( 1%,  0%, 0) scale(1.00); opacity:1; }
 100% { transform: translate3d( 2%,  1%, 0) scale(1.01); opacity:.95; }
}

/* Rose Quartz backdrop */
html.theme-rose body {
  background-image:
    radial-gradient(1100px 620px at 16% -8%,  hsl(343 100% 35% / 0.20), transparent 60%),
    radial-gradient(1000px 560px at 106% 14%, hsl(340 100% 45% / 0.16), transparent 60%),
    linear-gradient(180deg, hsl(var(--card) / 0.92), hsl(var(--background)));
  background-attachment: fixed, fixed, fixed;
}
html.theme-rose body::before {
  content:""; position:fixed; inset:0; z-index:0; pointer-events:none;
  background:
    repeating-linear-gradient(90deg, hsl(343 100% 35% / 0.30) 0 1px, transparent 1px 26px),
    repeating-linear-gradient(0deg,  hsl(340 100% 45% / 0.26) 0 1px, transparent 1px 26px);
  mix-blend-mode: screen; opacity:.10; animation: lg-grid-drift 18s linear infinite;
}
html.theme-rose body::after {
  content:""; position:fixed; inset:-10%; z-index:0; pointer-events:none;
  background:
    radial-gradient(60% 40% at 12% -6%, hsl(343 100% 35% / 0.18), transparent 60%),
    radial-gradient(55% 35% at 50% 116%, hsl(340 100% 45% / 0.12), transparent 65%),
    radial-gradient(50% 35% at 100% 8%,   hsl(347 100% 90% / 0.10), transparent 60%);
  filter: blur(2px) saturate(112%); animation: rose-pan 27s ease-in-out infinite alternate;
}
@keyframes rose-pan { 0% { transform: translate3d(-1%,-1%,0) } 100% { transform: translate3d(1%,1%,0) } }

/* Additional background options */
html.bg-alt1 body {
  background-image:
    radial-gradient(1000px 600px at 10% -10%, hsl(var(--accent) / 0.20), transparent 60%),
    radial-gradient(900px 500px at 110% 20%, hsl(var(--accent-2) / 0.18), transparent 60%),
    linear-gradient(180deg, hsl(var(--card)), hsl(var(--background)));
  background-attachment: fixed, fixed, fixed;
}
html.bg-alt1 body::before,
html.bg-alt1 body::after {
  content: none;
}

html.bg-alt2 body {
  background-image:
    radial-gradient(1000px 600px at 50% 0%, hsl(var(--primary) / 0.18), transparent 60%),
    radial-gradient(900px 500px at 50% 120%, hsl(var(--accent) / 0.16), transparent 60%),
    linear-gradient(180deg, hsl(var(--card)), hsl(var(--background)));
  background-attachment: fixed, fixed, fixed;
}
html.bg-alt2 body::before,
html.bg-alt2 body::after {
  content: none;
}

html.bg-light body {
  background-image:
    radial-gradient(1200px 700px at 50% -10%, hsl(var(--foreground) / 0.08), transparent 60%),
    radial-gradient(1000px 600px at 50% 120%, hsl(var(--accent) / 0.06), transparent 60%),
    linear-gradient(180deg, hsl(var(--card)), hsl(var(--background)));
  background-attachment: fixed, fixed, fixed;
}
html.bg-light body::before,
html.bg-light body::after {
  content: none;
}

html.bg-vhs body {
  background-color: hsl(var(--surface-vhs));
  background-image:
    radial-gradient(circle at 20% 30%, hsl(var(--accent-2) / 0.15), transparent 60%),
    repeating-linear-gradient(
      to bottom,
      hsl(var(--accent-2) / 0.15),
      hsl(var(--accent-2) / 0.15) 1px,
      transparent 1px,
      transparent 3px
    );
  background-blend-mode: screen;
}
html.bg-vhs body::before,
html.bg-vhs body::after {
  content: none;
}

html.bg-streak body {
  background-color: hsl(var(--surface-streak));
  background-image:
    radial-gradient(circle at 70% 40%, hsl(var(--accent) / 0.25), transparent 40%),
    repeating-linear-gradient(
      to right,
      hsl(var(--accent) / 0.2),
      hsl(var(--accent) / 0.2) 6px,
      transparent 6px,
      transparent 20px
    );
  background-blend-mode: lighten;
}
html.bg-streak body::before,
html.bg-streak body::after {
  content: none;
}

/* ---------- Shared backdrop animations ---------- */
@keyframes lg-grid-drift { 0%{transform:translate3d(0,0,0)} 100%{transform:translate3d(26px,26px,0)} }
@keyframes lg-aurora-pan {
  0% { transform: translate3d(-2%,-1%,0) scale(1.02); opacity:.95; }
 50% { transform: translate3d( 1%, 0%,0) scale(1.01); opacity:1; }
100% { transform: translate3d( 2%, 1%,0) scale(1.02); opacity:.95; }
}

/* ---------- Intensity toggles (all themes) ---------- */
html.bg-intense body::before { opacity: 0.05; }
html.bg-intense body::after  { filter: blur(2px) saturate(120%); }

/* =========================================================
   Pretty Chroma Hairline (utility)
   =========================================================
   Usage: add class="pretty-border" to any container that should
   have a tinted, animated hairline that respects --card-hairline.
   No literal white is used for the border color itself.
*/
.pretty-border {
  position: relative;
  border-radius: var(--radius-card, 1rem);
  background-clip: padding-box;
  border: 1px solid hsl(var(--card-hairline));
  isolation: isolate;
}

/* Outer chroma ring (masked to the border box) */
.pretty-border::before {
  content: "";
  position: absolute;
  inset: -1px;
  padding: 1px;
  border-radius: inherit;
  pointer-events: none;
  background: conic-gradient(
    from 180deg,
    hsl(262 83% 58% / 0),
    hsl(262 83% 58% /.65),
    hsl(192 90% 50% /.65),
    hsl(320 85% 60% /.65),
    hsl(262 83% 58% / 0)
  );
  /* mask to only show the ring, not fill the card */
  -webkit-mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
  -webkit-mask-composite: xor;
          mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
          mask-composite: exclude;
  opacity: .55;
  animation:
    pb-hue 8s linear infinite,
    pb-jitter 2.4s steps(6,end) infinite;
}

/* Soft CRT scan overlay (uses foreground tint, not white) */
.pretty-border::after {
  content: "";
  position: absolute;
  inset: 0;
  border-radius: inherit;
  pointer-events: none;
  background: repeating-linear-gradient(
    to bottom,
    hsl(var(--foreground) / .05) 0 1px,
    transparent 2px 3px
  );
  mix-blend-mode: soft-light;
  opacity: .18;
}

@keyframes pb-hue { to { filter: hue-rotate(360deg); } }
@keyframes pb-jitter {
  0%,100% { transform: translate(0,0); }
  25% { transform: translate(.25px,-.2px); }
  50% { transform: translate(-.2px,.25px); }
  75% { transform: translate(.15px,.15px); }
}
