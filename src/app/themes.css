/* Auto-generated by scripts/generate-themes.ts */
/* Do not edit directly. */
/* =========================================================
   Theme tokens + per-theme glitch backdrops
   ========================================================= */
/**
 * Do not edit directly, this file was auto-generated.
 */
:root {
  --highlight: 0 0% 100%;
  --lav-deep: 318 82% 60%;
  --team-blue: 200 100% 60%;
  --team-red: 0 85% 60%;
  --btn-bg: transparent;
  --btn-fg: hsl(var(--foreground));
  --hover: hsl(var(--foreground) / 0.08);
  --active: hsl(var(--foreground) / 0.12);
  --disabled: 0.5;
  --loading: 0.6;
  --edge-iris: conic-gradient(
    from 180deg,
    hsl(262 88% 60% / 0),
    hsl(262 88% 60% / 0.72),
    hsl(var(--accent-3) / 0.72),
    hsl(318 82% 60% / 0.7),
    hsl(262 88% 60% / 0)
  );
  --seg-active-grad: linear-gradient(
    90deg,
    hsl(var(--primary-soft) / 0.85),
    hsl(var(--accent-soft) / 0.85),
    hsl(var(--accent-2) / 0.8)
  );
  --seg-active-base: hsl(var(--card));
  --lg-violet: var(--ring);
  --lg-cyan: var(--accent-2);
  --lg-pink: var(--lav-deep);
  --lg-black: var(--background);
  --visually-hidden-top: -9999px;
  --bg: var(--background);
  --text: var(--foreground);
  --text-on-accent: hsl(var(--foreground));
  --control-fs: var(--font-ui);
  --font-size-md: var(--font-body);
  --font-weight-bold: 800;
  --font-label: 12px;
  --font-ui: 15px;
  --font-body: 19px;
  --font-title: 24px;
  --font-title-lg: 30px;
  --control-h-xs: 24px;
  --control-h-sm: 32px;
  --control-h-md: 40px;
  --control-h-lg: 48px;
  --control-h-xl: 56px;
  --control-h: var(--control-h-md);
  --shell-width: 1280px;
  --shell-max: var(--shell-width);
  --shadow-inset-contrast: inset 0 0 0 var(--hairline-w) var(--ring-contrast);
  --shadow-inset-hairline: inset 0 0 0 var(--hairline-w) hsl(var(--card-hairline));
  --shadow-control-hover: 0 var(--spacing-1) var(--spacing-2) hsl(var(--shadow-color) / 0.3);
  --space1: var(--spacing-1);
  --space2: var(--spacing-2);
  --space3: var(--spacing-3);
  --space4: var(--spacing-4);
  --space5: var(--spacing-5);
  --space6: var(--spacing-6);
  --space7: var(--spacing-7);
  --space8: var(--spacing-8);
  --space12: calc(var(--space-8) + var(--space-4));
  --space16: calc(var(--space-8) * 2);
  --ring-size1: var(--spacing-0-5);
  --ring-size2: var(--spacing-1);
  --ring-diameter-xs: var(--space-5);
  --ring-diameter-s: var(--space-6);
  --ring-diameter-m: var(--space-8);
  --ring-diameter-l: calc(var(--space-8) * 3.5);
  --ring-stroke-xs: var(--ring-size-1);
  --ring-stroke-s: var(--ring-size-1);
  --ring-stroke-m: var(--ring-size-2);
  --ring-stroke-l: var(--ring-size-2);
  --ring-inset: calc(var(--space-3) / 2);
  --layout-gutter-sm: var(--spacing-4);
  --layout-gutter-md: var(--spacing-5);
  --layout-gutter-lg: var(--spacing-6);
  --aa-min-contrast: 4.5;
  --space9: calc(var(--space-8) + var(--space-1));
  --space10: calc(var(--space-8) + var(--space-2));
  --space11: calc(var(--space-8) + var(--space-3));
  --depth-shadow-inset: var(--shadow-depth-inner);
  --layout-quick-action-min: calc(var(--spacing-8) * 3);
  --layout-quick-action-tooltip-max: calc(var(--spacing-8) * 5);
  --spacing0125: calc(var(--spacing-1) / 8);
  --spacing025: calc(var(--spacing-1) / 4);
  --spacing05: calc(var(--spacing-1) / 2);
  --spacing075: calc(var(--spacing-1) * 0.75);
  --spacing1: 4px;
  --spacing2: 8px;
  --spacing3: 12px;
  --spacing4: 16px;
  --spacing5: 24px;
  --spacing6: 32px;
  --spacing7: 48px;
  --spacing8: 64px;
  --icon-size: var(--icon-size-md);
  --icon-size-xs: 14px;
  --icon-size-sm: 16px;
  --icon-size-md: 18px;
  --icon-size-lg: 24px;
  --icon-size-xl: 32px;
  --icon-size-2xl: 76px;
  --icon-stroke100: var(--spacing-0-5);
  --icon-stroke150: calc(var(--spacing-0-5) * 1.25);
  --control-radius: var(--radius-xl);
  --pillar-wave-start: var(--accent);
  --pillar-wave-end: var(--accent-2);
  --pillar-wave-shadow: var(--accent) / 0.35;
  --pillar-trading-start: var(--lav-deep);
  --pillar-trading-end: var(--accent);
  --pillar-trading-shadow: var(--lav-deep) / 0.35;
  --pillar-vision-start: var(--success);
  --pillar-vision-end: var(--accent-2);
  --pillar-vision-shadow: var(--success) / 0.35;
  --pillar-tempo-start: var(--ring);
  --pillar-tempo-end: var(--accent);
  --pillar-tempo-shadow: var(--ring) / 0.35;
  --pillar-positioning-start: var(--accent-2);
  --pillar-positioning-end: var(--primary);
  --pillar-positioning-shadow: var(--accent-2) / 0.35;
  --pillar-comms-start: var(--lav-deep);
  --pillar-comms-end: var(--primary);
  --pillar-comms-shadow: var(--primary) / 0.35;
  --card-radius: var(--radius-xl);
  --blob-radius-soft: calc(var(--radius-2xl) + var(--spacing-2));
  --radius-sm: 6px;
  --radius-md: 8px;
  --radius-lg: 12px;
  --radius-xl: 16px;
  --radius2xl: 24px;
  --radius-full: 9999px;
  --background: 247 34% 6%;
  --foreground: 258 26% 97%;
  --card: 249 30% 12%;
  --card-foreground: var(--foreground);
  --panel: var(--card);
  --border: 253 28% 24%;
  --line: var(--border);
  --input: 249 28% 12%;
  --ring: 262 88% 66%;
  --theme-ring: hsl(var(--ring));
  --primary: 262 88% 60%;
  --primary-foreground: 0 0% 100%;
  --primary-soft: 262 88% 20%;
  --accent: 294 90% 42%;
  --accent2: 190 88% 32%;
  --accent3: 200 88% 34%;
  --accent-foreground: 0 0% 100%;
  --accent-contrast: 294 92% 72%;
  --accent-soft: 294 90% 16%;
  --glow: 296 96% 56%;
  --ring-muted: 248 22% 24%;
  --danger: 0 84% 60%;
  --warning: 43 96% 56%;
  --warning-soft: var(--warning) / 0.1;
  --warning-soft-strong: var(--warning) / 0.2;
  --muted: 248 24% 15%;
  --muted-foreground: 248 18% 74%;
  --fg-muted: var(--muted-foreground);
  --surface: 248 26% 11%;
  --surface2: 248 26% 16%;
  --surface-vhs: 210 24% 7%;
  --surface-streak: 240 18% 13%;
  --shadow-color: 263 78% 56%;
  --noir-background: 352 68% 4%;
  --noir-foreground: 0 0% 94%;
  --noir-border: 352 44% 24%;
  --hardstuck-background: 120 58% 3%;
  --hardstuck-foreground: 120 60% 72%;
  --hardstuck-border: 120 42% 22%;
  --success: 160 72% 48%;
  --success-soft: var(--success) / 0.2;
  --success-glow: 160 72% 38% / 0.6;
  --tone-top: 38 92% 60%;
  --tone-jg: 152 52% 44%;
  --tone-mid: 265 72% 62%;
  --tone-bot: 195 75% 56%;
  --tone-sup: 320 72% 60%;
  --aurora-g: var(--accent-2);
  --aurora-g-light: 150 100% 85%;
  --aurora-p: var(--accent);
  --aurora-p-light: 272 80% 85%;
  --icon-fg: 250 96% 78%;
  --accent-overlay: hsl(var(--accent));
  --ring-contrast: hsl(var(--ring));
  --glow-active: hsl(var(--glow));
  --neon: var(--glow);
  --neon-soft: hsl(var(--neon));
  --focus: var(--theme-ring);
  --card-hairline: hsl(var(--border));
  --hairline-w: 1px;
  --control-px: var(--spacing-3);
  --review-result-win-gradient: linear-gradient(
    90deg,
    hsl(var(--success) / 0.22),
    hsl(var(--accent) / 0.18)
  );
  --review-result-loss-gradient: linear-gradient(
    90deg,
    hsl(var(--danger) / 0.24),
    hsl(var(--primary) / 0.2)
  );
  --shadow: 0 10px 30px hsl(250 38% 2% / 0.32);
  --shadow-dropdown: 0 12px 40px hsl(var(--shadow-color) / 0.55);
  --shadow-neo-sm: calc(var(--spacing-1)) calc(var(--spacing-1)) calc(var(--spacing-2))
      hsl(var(--panel) / 0.72),
    calc(var(--spacing-1) * -1) calc(var(--spacing-1) * -1) calc(var(--spacing-2))
      hsl(var(--foreground) / 0.06);
  --shadow-depth-outer: calc(var(--spacing-3)) calc(var(--spacing-3)) var(--spacing-5)
      hsl(var(--panel) / 0.72),
    calc(var(--spacing-3) * -1) calc(var(--spacing-3) * -1) var(--spacing-5)
      hsl(var(--foreground) / 0.06);
  --shadow-depth-outer-strong: var(--spacing-4) var(--spacing-4) var(--spacing-6) hsl(var(--panel) / 0.72),
    calc(var(--spacing-4) * -1) calc(var(--spacing-4) * -1) var(--spacing-6)
      hsl(var(--foreground) / 0.08);
  --shadow-depth-inner: inset var(--spacing-1) var(--spacing-1) var(--spacing-3)
      hsl(var(--panel) / 0.85),
    inset calc(var(--spacing-1) * -1) calc(var(--spacing-1) * -1) var(--spacing-3)
      hsl(var(--foreground) / 0.08);
  --shadow-ring: 0 0 var(--spacing-3) hsl(var(--ring));
  --shadow-depth-soft: 0 var(--spacing-1) var(--spacing-3) calc(var(--spacing-1) * -1)
      hsl(var(--shadow-color));
  --shadow-glow-sm: 0 0 var(--spacing-2) var(--glow-active);
  --shadow-glow-md: 0 0 var(--spacing-4) var(--glow-active);
  --shadow-glow-lg: 0 0 var(--spacing-5) var(--glow-active);
  --shadow-glow-xl: 0 var(--spacing-2) var(--spacing-6) var(--glow-active);
  --shadow-nav-active: 0 0 0 var(--hairline-w) hsl(var(--ring) / 0.35),
    0 var(--spacing-2) var(--spacing-6) hsl(var(--ring) / 0.2);
  --shadow-outline-subtle: 0 0 0 var(--hairline-w) hsl(var(--border) / 0.12);
  --shadow-outline-faint: 0 0 0 var(--hairline-w) hsl(var(--border) / 0.08);
  --shadow-badge: inset 0 var(--hairline-w) 0 hsl(var(--foreground) / 0.06),
    0 0 0 var(--hairline-w) hsl(var(--card-hairline) / 0.35),
    0 var(--spacing-3) var(--spacing-4) hsl(var(--shadow-color) / 0.18);
  --shadow-glow-current: 0 0 var(--spacing-2) currentColor;
  --shadow-neon-soft: 0 0 var(--spacing-2) var(--neon),
    0 0 var(--spacing-4) var(--neon-soft);
  --shadow-neon-strong: 0 0 var(--spacing-3) var(--neon),
    0 0 var(--spacing-5) var(--neon-soft);
  --shadow-control: inset 0 var(--spacing-1) var(--spacing-2) 0 color-mix(in oklab, hsl(var(--shadow-color)) 18%, hsl(var(--background)) 82%),
    var(--shadow-outline-subtle);
  --glow-strong: var(--ring) / 0.55;
  --glow-soft: var(--accent) / 0.25;
  --shadow-neon: 0 0 var(--space-1) hsl(var(--neon) / 0.55),
    0 0 calc(var(--space-3) - var(--space-1) / 2) hsl(var(--neon) / 0.35),
    0 0 calc(var(--space-4) + var(--space-1) / 2) hsl(var(--neon) / 0.2);
  --btn-primary-hover-shadow: 0 calc(var(--space-1) / 2) calc(var(--space-3) / 2)
    calc(-1 * var(--space-1) / 4) hsl(var(--accent) / 0.25);
  --btn-primary-active-shadow: inset 0 0 0 calc(var(--space-1) / 4)
    hsl(var(--accent) / 0.6);
  --hero-divider-blur: calc(var(--spacing-1) * 1.5);
  --hero-illustration-opacity: 0.84;
  --hero-illustration-blur: calc(var(--space-4) + var(--space-1));
  --warning-foreground: 0 0% 100%;
  --success-foreground: 0 0% 100%;
  --danger-foreground: 0 0% 100%;
  --state-success-surface: color-mix(in oklab, hsl(var(--success)) 18%, hsl(var(--surface)));
  --state-success-border: color-mix(in oklab, hsl(var(--success)) 65%, hsl(var(--border)));
  --state-warning-surface: color-mix(in oklab, hsl(var(--warning)) 20%, hsl(var(--surface)));
  --state-warning-border: color-mix(in oklab, hsl(var(--warning)) 60%, hsl(var(--border)));
  --state-danger-surface: color-mix(in oklab, hsl(var(--danger)) 18%, hsl(var(--surface)));
  --state-danger-border: color-mix(in oklab, hsl(var(--danger)) 62%, hsl(var(--border)));
  --aurora-g-light-color: hsl(var(--aurora-g-light));
  --aurora-p-light-color: hsl(var(--aurora-p-light));
  --elevation0: none;
  --elevation1: var(--shadow-outline-faint);
  --elevation2: var(--shadow-outline-subtle);
  --elevation3: var(--shadow-control);
  --skeleton-bg: hsl(var(--muted) / 0.6);
  --skeleton-fill: hsl(var(--foreground) / 0.08);
  --gradient-noise-opacity: 0.1;
  --gradient-noise-overlay-opacity: 0.06;
  --shadow-inner-sm: inset 0 var(--spacing-0-125) var(--spacing-0-5) hsl(var(--shadow-color) / 0.18);
  --shadow-inner-md: inset 0 var(--spacing-0-25) var(--spacing-1) hsl(var(--shadow-color) / 0.28);
  --shadow-outer-lg: 0 var(--spacing-4) var(--spacing-7) hsl(var(--shadow-color) / 0.36);
  --glow-primary: hsl(var(--primary) / 0.55);
  --blob-surface1: hsl(var(--surface));
  --blob-surface2: hsl(var(--surface-2));
  --blob-surface3: hsl(var(--card));
  --blob-surface-shadow: hsl(var(--shadow-color) / 0.4);
  --glitch-noise-primary: hsl(var(--accent) / 0.25);
  --glitch-noise-secondary: hsl(var(--ring) / 0.2);
  --glitch-noise-contrast: hsl(var(--foreground) / 0.12);
  --elevation-card: var(--shadow-outline-subtle);
  --elevation-card-pressed: var(--shadow-control);
  --neo-depth-sm: var(--spacing-1);
  --neo-depth-md: var(--spacing-3);
  --neo-depth-lg: var(--spacing-4);
  --neo-surface: color-mix(in oklab, hsl(var(--card)) 88%, hsl(var(--panel)) 12%);
  --neo-surface-alt: color-mix(in oklab, hsl(var(--panel)) 82%, hsl(var(--card)) 18%);
  --neo-highlight: color-mix(in oklab, hsl(var(--ring)) 18%, hsl(var(--card)));
  --depth-shadow-outer: var(--shadow-depth-outer);
  --depth-shadow-outer-strong: var(--shadow-depth-outer-strong);
  --depth-shadow-soft: var(--shadow-depth-soft);
  --depth-shadow-inner: var(--shadow-depth-inner);
  --depth-glow-highlight-soft: hsl(var(--highlight) / 0.08);
  --depth-glow-highlight-medium: hsl(var(--highlight) / 0.35);
  --depth-glow-highlight-strong: hsl(var(--highlight) / 0.55);
  --depth-glow-shadow-soft: hsl(var(--shadow-color) / 0.14);
  --depth-glow-shadow-medium: hsl(var(--shadow-color) / 0.28);
  --depth-glow-shadow-strong: hsl(var(--shadow-color) / 0.42);
  --depth-focus-ring-rest: 0 0 0 0 hsl(var(--ring) / 0),
    0 0 0 0 hsl(var(--ring) / 0);
  --depth-focus-ring-active: 0 0 0 calc(var(--hairline-w) * 1) hsl(var(--ring))
    var(--shadow-glow-lg);
  --backdrop-blob1: var(--lg-violet);
  --backdrop-blob2: var(--lg-cyan);
  --backdrop-blob3: var(--lg-pink);
  --backdrop-blob-shadow: var(--lg-black);
  --backdrop-grid-primary: var(--accent);
  --backdrop-grid-secondary: var(--accent);
  --backdrop-grid-opacity: 0.1;
  --backdrop-drip1: var(--backdrop-blob-1);
  --backdrop-drip2: var(--backdrop-blob-2);
  --backdrop-drip3: var(--backdrop-blob-3);
  --backdrop-drip-shadow: var(--backdrop-blob-shadow);
  --neo-glow-strength: 0.45;
  --neon-outline-opacity: 0.35;
  --glitch-intensity: 1.0;
  --glitch-fringe: 12deg;
  --glitch-static-opacity: 0.18;
  --glitch-noise-level: var(--glitch-static-opacity);
  --glitch-overlay-button-opacity: 0.42;
  --glitch-overlay-button-opacity-reduced: 0.28;
  --glitch-chromatic-offset-strong: calc(var(--spacing-0-25) / 4);
  --glitch-chromatic-offset-medium: calc(var(--spacing-0-25) * 3 / 20);
  --glitch-chromatic-offset-light: calc(var(--spacing-0-25) / 10);
  --glitch-halo-opacity: 0.28;
  --glitch-ring-color: hsl(var(--ring) / 0.55);
  --glitch-ring-blur: var(--space-2);
  --glitch-ring-shadow: 0 0 var(--glitch-ring-blur) var(--glitch-ring-color);
  --glitch-accent-color: hsl(var(--accent) / 0.35);
  --glitch-accent-blur: var(--spacing-0-5);
  --glitch-accent-shadow: 0 0 var(--glitch-accent-blur) var(--glitch-accent-color);
  --retro-grid-step: 24px;
  --retro-grid-opacity: 0.15;
  --glitch-overlay-opacity-card: 0.55;
  --shadow-inner-lg: inset 0 var(--spacing-0-5) var(--spacing-2) hsl(var(--shadow-color) / 0.36);
  --shadow-outer-xl: 0 var(--spacing-5) var(--spacing-8) hsl(var(--shadow-color) / 0.45);
  --glow-ring: 0 0 0 calc(var(--spacing-0-5)) hsl(var(--ring) / 0.5), 0 0 var(--spacing-3) hsl(var(--ring) / 0.22);
  --glitch-noise-hover: calc(var(--glitch-noise-level) * 1.3);
  --grid-color: var(--accent);
  --grid-alpha: 0.1;
  --grid-size: calc(var(--space-6) - var(--space-1));
  --shadow-outer-sm: 0 var(--spacing-2) var(--spacing-4) hsl(var(--shadow-color) / 0.24);
  --shadow-outer-md: 0 var(--spacing-3) var(--spacing-6) hsl(var(--shadow-color) / 0.3);
  --card-elev1: var(--shadow-outline-faint), var(--shadow-outer-sm);
  --card-elev2: var(--shadow-outline-subtle), var(--shadow-outer-md);
  --card-elev3: var(--shadow-outline-subtle), var(--shadow-outer-lg);
  --glow-ring-sm: 0 0 0 calc(var(--spacing-0-25)) hsl(var(--ring) / 0.45);
  --glow-ring-md: 0 0 0 calc(var(--spacing-0-5)) hsl(var(--ring) / 0.5), 0 0 var(--spacing-2) hsl(var(--ring) / 0.2);
  --blob-surface: color-mix(in oklab, hsl(var(--surface)) 70%, hsl(var(--surface-2)) 30%);
  --drip-surface: color-mix(in oklab, hsl(var(--accent)) 18%, hsl(var(--background)) 82%);
  --gradient-blob-primary: radial-gradient(120% 120% at 50% 10%, hsl(var(--surface) / 0.85), hsl(var(--surface-2) / 0.35), transparent 85%);
  --gradient-drip-overlay: radial-gradient(60% 40% at 10% 0%, hsl(var(--backdrop-drip-1) / 0.2), transparent 60%), radial-gradient(50% 35% at 100% 5%, hsl(var(--backdrop-drip-2) / 0.18), transparent 60%), radial-gradient(55% 35% at 50% 120%, hsl(var(--backdrop-drip-3) / 0.14), transparent 65%), radial-gradient(120% 100% at 50% 100%, hsl(var(--backdrop-drip-shadow) / 0.35), transparent 70%);
  --gradient-drip-overlay-compact: radial-gradient(125% 85% at 18% -20%, hsl(var(--backdrop-drip-1) / 0.28), transparent 65%), radial-gradient(115% 85% at 82% -15%, hsl(var(--backdrop-drip-2) / 0.24), transparent 62%), radial-gradient(120% 95% at 50% 110%, hsl(var(--backdrop-drip-3) / 0.16), transparent 70%);
  --gradient-glitch-primary: linear-gradient(135deg, hsl(var(--accent) / 0.35), hsl(var(--accent-2) / 0.3));
  --gradient-glitch-overlay: linear-gradient(120deg, hsl(var(--accent) / 0.12) 0%, transparent 58%, hsl(var(--ring) / 0.16) 100%), var(--card-overlay-scanlines);
  --gradient-glitch-rail: linear-gradient(180deg, hsl(var(--primary) / 0.6) 0%, hsl(var(--accent) / 0.45) 45%, hsl(var(--ring) / 0.6) 100%);
  --gradient-hero-slot-highlight: radial-gradient(circle at top left, var(--depth-glow-highlight-medium) 0%, transparent 62%);
  --gradient-hero-slot-shadow: radial-gradient(circle at bottom right, var(--depth-glow-shadow-medium) 0%, transparent 65%);
  --gradient-hero-topline: linear-gradient(90deg, hsl(var(--accent) / 0.28), transparent 55%, hsl(var(--accent-2) / 0.32));
  --gradient-hero-action-halo: radial-gradient(120% 95% at 50% 0%, hsl(var(--accent) / 0.24), transparent 65%);
  --gradient-panel-tilt-strong: linear-gradient(140deg, hsl(var(--card) / 0.95), hsl(var(--surface-2) / 0.78));
  --gradient-panel-tilt-bright: linear-gradient(140deg, hsl(var(--card) / 0.98), hsl(var(--surface-2) / 0.82));
  --gradient-panel-tilt-muted: linear-gradient(140deg, hsl(var(--card) / 0.94), hsl(var(--surface-2) / 0.72));
  --danger-surface-foreground: var(--danger-foreground);
  --surface-overlay-soft: 0.12;
  --surface-overlay-strong: 0.2;
  --glitch-card-surface-top: hsl(var(--card) / 0.78);
  --glitch-card-surface-bottom: hsl(var(--panel) / 0.66);
  --surface-card-soft: linear-gradient(180deg, hsl(var(--card) / 0.65), hsl(var(--card) / 0.45));
  --surface-card-strong: linear-gradient(180deg, hsl(var(--card) / 0.85), hsl(var(--card) / 0.65));
  --surface-card-strong-hover: linear-gradient(180deg, hsl(var(--card) / 0.95), hsl(var(--card) / 0.75));
  --surface-card-strong-active: linear-gradient(180deg, hsl(var(--card) / 0.8), hsl(var(--card) / 0.6));
  --surface-card-strong-today: linear-gradient(180deg, hsl(var(--card) / 0.9), hsl(var(--card) / 0.7));
  --surface-card-strong-empty: linear-gradient(180deg, hsl(var(--card) / 0.6), hsl(var(--card) / 0.5));
  --surface-rail-accent: linear-gradient(180deg, hsl(var(--accent)), hsl(var(--primary)));
  --glitch-intensity-default: 1.0;
  --glitch-intensity-subtle: calc(var(--glitch-intensity-default) * 0.68);
  --glitch-intensity-hero-rail: 0.74;
  --glitch-intensity-backdrop-blob1: 0.18;
  --glitch-intensity-backdrop-blob2: 0.16;
  --glitch-intensity-backdrop-blob3: 0.12;
  --glitch-intensity-backdrop-drip1: 0.23;
  --glitch-intensity-backdrop-drip2: 0.2;
  --glitch-intensity-backdrop-drip3: 0.16;
  --glitch-intensity-backdrop-shadow: 0.38;
  --glitch-pixel: var(--glitch-noise-level);
  --stat-good: var(--success);
  --stat-warn: var(--warning);
  --stat-bad: var(--danger);
  --ease-out: cubic-bezier(0.16, 1, 0.3, 1);
  --ease-motion-glitch: cubic-bezier(0.2, 0.8, 0.2, 1);
  --dur-quick: 140ms;
  --dur-chill: 220ms;
  --dur-slow: 420ms;
  --card-overlay-scanlines: repeating-linear-gradient(
    to bottom,
    hsl(var(--foreground) / 0.035) 0,
    hsl(var(--foreground) / 0.035) var(--spacing-0-25),
    transparent var(--spacing-0-5),
    transparent calc(var(--spacing-0-5) + var(--spacing-0-25))
  );
  --glitch-duration: 450ms;
  --glow-pulse: glow-pulse var(--dur-slow) var(--ease-out) infinite alternate;
  --glitch-rgb-shift: drop-shadow(calc(var(--glitch-chromatic-offset-light) * -1) 0 0 hsl(var(--accent) / 0.45)) drop-shadow(var(--glitch-chromatic-offset-light) 0 0 hsl(var(--ring) / 0.45));
  --glitch-scanline: glitch-scanline calc(var(--glitch-duration) * 1.2) steps(2, end) infinite;
  --scanline: var(--glitch-scanline);
  --motion-duration-sm: var(--dur-quick);
  --motion-duration-md: var(--dur-chill);
  --motion-duration-lg: var(--dur-slow);
  --motion-ease-glitch: var(--ease-motion-glitch);
  --header-stack: calc(var(--spacing-8) + var(--spacing-4));
}
@supports (color: color-mix(in oklab, white, black)) {
  :root {
    --aurora-g-light: color-mix(in oklab, hsl(var(--accent-2)) 37.5%, white);
    --aurora-g-light-color: var(--aurora-g-light);
    --aurora-p-light: color-mix(in oklab, hsl(var(--accent)) 37.5%, white);
    --aurora-p-light-color: var(--aurora-p-light);
  }
}
@media (prefers-reduced-motion: no-preference) {
  :root {
    --glitch-scanline: glitch-scanline calc(var(--glitch-duration) * 1.2) steps(2, end) infinite;
    --glitch-rgb-shift: drop-shadow(calc(var(--glitch-chromatic-offset-light) * -1) 0 0 hsl(var(--accent) / 0.45)) drop-shadow(var(--glitch-chromatic-offset-light) 0 0 hsl(var(--ring) / 0.45));
    --glow-pulse: glow-pulse var(--dur-slow) var(--ease-out) infinite alternate;
  }
}
@media (prefers-reduced-motion: reduce) {
  :root {
    --glitch-scanline: none;
    --glitch-rgb-shift: none;
    --glow-pulse: none;
  }
}
:root {
  --lg-violet: var(--ring);
  --lg-cyan: var(--accent-2);
  --lg-pink: var(--lav-deep);
  --lg-black: var(--background);
  --card-foreground: var(--foreground);
  --header-stack: calc(var(--spacing-8) + var(--spacing-4));
  --layout-gutter-sm: var(--spacing-4);
  --layout-gutter-md: var(--spacing-5);
  --layout-gutter-lg: var(--spacing-6);
  --layout-quick-action-min: calc(var(--spacing-8) * 3);
  --layout-quick-action-tooltip-max: calc(var(--spacing-8) * 5);
  --card-radius: var(--radius-xl);
  --elevation-card: var(--shadow-outline-subtle);
  --elevation-card-pressed: var(--shadow-control);
  /* Depth & surface spacing (neumorphism) */
  --neo-depth-sm: var(--spacing-1);
  --neo-depth-md: var(--spacing-3);
  --neo-depth-lg: var(--spacing-4);
  --neo-surface: color-mix(in oklab, hsl(var(--card)) 88%, hsl(var(--panel)) 12%);
  --neo-surface-alt: color-mix(in oklab, hsl(var(--panel)) 82%, hsl(var(--card)) 18%);
  --neo-highlight: color-mix(in oklab, hsl(var(--ring)) 18%, hsl(var(--card)));
  --success-foreground: 0 0% 100%;
  --warning-foreground: 0 0% 100%;
  --danger-foreground: 0 0% 100%;
  --state-success-surface: hsl(var(--success) / 0.18);
  --state-success-border: hsl(var(--success) / 0.55);
  --state-warning-surface: hsl(var(--warning) / 0.2);
  --state-warning-border: hsl(var(--warning) / 0.6);
  --state-danger-surface: hsl(var(--danger) / 0.18);
  --state-danger-border: hsl(var(--danger) / 0.62);
  /* Depth shadows (outer/inner) */
  --depth-shadow-outer: var(--shadow-depth-outer);
  --depth-shadow-outer-strong: var(--shadow-depth-outer-strong);
  --depth-shadow-soft: var(--shadow-depth-soft);
  --depth-shadow-inner: var(--shadow-depth-inner);
  --shadow-inner-sm: inset 0 var(--spacing-0-125) var(--spacing-0-5) hsl(var(--shadow-color) / 0.18);
  --shadow-inner-md: inset 0 var(--spacing-0-25) var(--spacing-1) hsl(var(--shadow-color) / 0.28);
  --shadow-inner-lg: inset 0 var(--spacing-0-5) var(--spacing-2) hsl(var(--shadow-color) / 0.36);
  --shadow-outer-sm: 0 var(--spacing-2) var(--spacing-4) hsl(var(--shadow-color) / 0.24);
  --shadow-outer-md: 0 var(--spacing-3) var(--spacing-6) hsl(var(--shadow-color) / 0.3);
  --shadow-outer-lg: 0 var(--spacing-4) var(--spacing-7) hsl(var(--shadow-color) / 0.36);
  --shadow-outer-xl: 0 var(--spacing-5) var(--spacing-8) hsl(var(--shadow-color) / 0.45);
  /* Depth glow ramps */
  --depth-glow-highlight-soft: hsl(var(--highlight) / 0.08);
  --depth-glow-highlight-medium: hsl(var(--highlight) / 0.35);
  --depth-glow-highlight-strong: hsl(var(--highlight) / 0.55);
  --depth-glow-shadow-soft: hsl(var(--shadow-color) / 0.14);
  --depth-glow-shadow-medium: hsl(var(--shadow-color) / 0.28);
  --depth-glow-shadow-strong: hsl(var(--shadow-color) / 0.42);
  --depth-focus-ring-rest:
    0 0 0 0 hsl(var(--ring) / 0),
    0 0 0 0 hsl(var(--ring) / 0);
  --depth-focus-ring-active:
    0 0 0 calc(var(--hairline-w) * 1) hsl(var(--ring))
    var(--shadow-glow-lg);
  --hero-illustration-opacity: 0.84;
  --hero-illustration-blur: calc(var(--space-4) + var(--space-1));
  /* Hero/backdrop intensity controls */
  --glitch-intensity-hero-rail: 0.74;
  --glitch-intensity-backdrop-blob-1: 0.18;
  --glitch-intensity-backdrop-blob-2: 0.16;
  --glitch-intensity-backdrop-blob-3: 0.12;
  --glitch-intensity-backdrop-drip-1: 0.23;
  --glitch-intensity-backdrop-drip-2: 0.2;
  --glitch-intensity-backdrop-drip-3: 0.16;
  --glitch-intensity-backdrop-shadow: 0.38;
  /* Organic backdrops */
  --backdrop-blob-1: var(--lg-violet);
  --backdrop-blob-2: var(--lg-cyan);
  --backdrop-blob-3: var(--lg-pink);
  --backdrop-blob-shadow: var(--lg-black);
  --backdrop-grid-primary: var(--accent);
  --backdrop-grid-secondary: var(--accent);
  --backdrop-grid-opacity: 0.1;
  /* Grid overlay tokens (opacity / scale / color) */
  --grid-color: var(--accent);
  --grid-alpha: 0.1;
  --grid-size: calc(var(--space-6) - var(--space-1));
  --backdrop-drip-1: var(--backdrop-blob-1);
  --backdrop-drip-2: var(--backdrop-blob-2);
  --backdrop-drip-3: var(--backdrop-blob-3);
  --backdrop-drip-shadow: var(--backdrop-blob-shadow);
  --blob-surface-1: hsl(var(--surface));
  --blob-surface-2: hsl(var(--surface-2));
  --blob-surface-3: hsl(var(--card));
  --blob-surface-shadow: hsl(var(--shadow-color) / 0.4);
  --blob-radius-soft: calc(var(--radius-2xl) + var(--spacing-2));
  /* Glow parity (retro-futurism) */
  /* neo-glow-strength multiplies --shadow-neon */
  --neo-glow-strength: 0.45;
  --glow-primary: hsl(var(--primary) / 0.55);
  --glow-ring: 0 0 0 calc(var(--spacing-0-5)) hsl(var(--ring) / 0.5), 0 0 var(--spacing-3) hsl(var(--ring) / 0.22);
  --neon-outline-opacity: 0.35;
  /* Glitch normalization (identical amplitude & cadence) */
  /* 0–1 scaling for transforms/opacity */
  --glitch-intensity: 1.0;
  /* base animation length */
  --glitch-duration: 450ms;
  /* hue-rotate magnitude */
  --glitch-fringe: 12deg;
  /* overlay alpha */
  --glitch-static-opacity: 0.18;
  --glitch-noise-level: var(--glitch-static-opacity);
  /* Card glitch overlay alpha */
  --glitch-overlay-opacity-card: 0.55;
  /* Button glitch overlays */
  --glitch-overlay-button-opacity: 0.42;
  --glitch-overlay-button-opacity-reduced: 0.28;
  /* Chromatic separation offsets */
  --glitch-chromatic-offset-strong: calc(var(--spacing-0-25) / 4);
  --glitch-chromatic-offset-medium: calc(var(--spacing-0-25) * 3 / 20);
  --glitch-chromatic-offset-light: calc(var(--spacing-0-25) / 10);
  --glitch-halo-opacity: 0.28;
  --glitch-ring-color: hsl(var(--ring) / 0.55);
  --glitch-ring-blur: var(--space-2);
  --glitch-ring-shadow: 0 0 var(--glitch-ring-blur) var(--glitch-ring-color);
  --glitch-accent-color: hsl(var(--accent) / 0.35);
  --glitch-accent-blur: var(--spacing-0-5);
  --glitch-accent-shadow: 0 0 var(--glitch-accent-blur) var(--glitch-accent-color);
  --glitch-noise-primary: hsl(var(--accent) / 0.25);
  --glitch-noise-secondary: hsl(var(--ring) / 0.2);
  --glitch-noise-contrast: hsl(var(--foreground) / 0.12);
  --glitch-noise-hover: calc(var(--glitch-noise-level) * 1.3);
  /* Retro grid parity */
  --retro-grid-step: 24px;
  --retro-grid-opacity: 0.15;
  /* Accessibility clamps */
  /* used in tests; not CSS-enforced */
  --aa-min-contrast: 4.5;
  --shadow-neon:
    0 0 var(--space-1) hsl(var(--neon) / 0.55),
    0 0 calc(var(--space-3) - var(--space-1) / 2) hsl(var(--neon) / 0.35),
    0 0 calc(var(--space-4) + var(--space-1) / 2) hsl(var(--neon) / 0.2);
  --btn-primary-hover-shadow: 0 calc(var(--space-1) / 2) calc(var(--space-3) / 2)
    calc(-1 * var(--space-1) / 4) hsl(var(--accent) / 0.25);
  --btn-primary-active-shadow: inset 0 0 0 calc(var(--space-1) / 4)
    hsl(var(--accent) / 0.6);
  --pillar-wave-start: 257 90% 70%;
  --pillar-wave-end: 198 90% 62%;
  --pillar-wave-shadow: 258 90% 38% / 0.35;
  --pillar-trading-start: 292 85% 72%;
  --pillar-trading-end: 318 85% 66%;
  --pillar-trading-shadow: 292 85% 38% / 0.35;
  --pillar-vision-start: 157 70% 55%;
  --pillar-vision-end: 192 75% 60%;
  --pillar-vision-shadow: 170 70% 30% / 0.35;
  --pillar-tempo-start: 260 85% 70%;
  --pillar-tempo-end: 284 85% 65%;
  --pillar-tempo-shadow: 270 80% 35% / 0.35;
  --pillar-positioning-start: 190 90% 66%;
  --pillar-positioning-end: 220 90% 66%;
  --pillar-positioning-shadow: 205 85% 35% / 0.35;
  --pillar-comms-start: 286 90% 68%;
  --pillar-comms-end: 312 88% 66%;
  --pillar-comms-shadow: 300 80% 36% / 0.35;
}
/* Upgrade tokens when color-mix(oklab) is supported */
@supports (color: color-mix(in oklab, white, black)) {
  :root {
    --accent-overlay: color-mix(in oklab, hsl(var(--accent)) 60%, transparent);
    --ring-contrast: color-mix(
      in oklab,
      hsl(var(--ring)) 70%,
      hsl(var(--background)) 30%
    );
    --glow-active: color-mix(in oklab, hsl(var(--glow)) 50%, transparent);
    --glow-primary: color-mix(in oklab, hsl(var(--primary)) 58%, transparent);
    --neon-soft: color-mix(in oklab, hsl(var(--neon)) 50%, transparent);
    --card-hairline: color-mix(
      in oklab,
      hsl(var(--border)) 82%,
      hsl(var(--accent)) 18%
    );
    --blob-surface-1: color-mix(
      in oklab,
      hsl(var(--surface)) 72%,
      hsl(var(--accent)) 28%
    );
    --blob-surface-2: color-mix(
      in oklab,
      hsl(var(--surface-2)) 68%,
      hsl(var(--accent-2)) 32%
    );
    --blob-surface-3: color-mix(
      in oklab,
      hsl(var(--card)) 70%,
      hsl(var(--ring)) 30%
    );
    --blob-surface-shadow: color-mix(
      in oklab,
      hsl(var(--shadow-color)) 68%,
      hsl(var(--background)) 32%
    );
    --aurora-g-light: color-mix(in oklab, hsl(var(--accent-2)) 37.5%, white);
    --aurora-g-light-color: var(--aurora-g-light);
    --aurora-p-light: color-mix(in oklab, hsl(var(--accent)) 37.5%, white);
    --aurora-p-light-color: var(--aurora-p-light);
  }
  html.theme-aurora {
    --aurora-g-light: color-mix(in oklab, hsl(var(--accent-2)) 37.5%, white);
    --aurora-g-light-color: var(--aurora-g-light);
    --aurora-p-light: color-mix(in oklab, hsl(var(--accent)) 37.5%, white);
    --aurora-p-light-color: var(--aurora-p-light);
  }
  html.theme-hardstuck {
    --blob-surface-1: color-mix(
      in oklab,
      hsl(var(--surface)) 62%,
      hsl(var(--hardstuck-foreground)) 38%
    );
    --blob-surface-2: color-mix(
      in oklab,
      hsl(var(--surface-2)) 58%,
      hsl(var(--hardstuck-foreground)) 42%
    );
    --blob-surface-3: color-mix(
      in oklab,
      hsl(var(--card)) 60%,
      hsl(var(--ring)) 40%
    );
    --blob-surface-shadow: color-mix(
      in oklab,
      hsl(var(--shadow-color)) 64%,
      hsl(var(--background)) 36%
    );
    --glow-primary: color-mix(in oklab, hsl(var(--ring)) 52%, transparent);
  }
  html.theme-noir {
    --blob-surface-1: color-mix(
      in oklab,
      hsl(var(--surface)) 66%,
      hsl(var(--foreground)) 34%
    );
    --blob-surface-2: color-mix(
      in oklab,
      hsl(var(--surface-2)) 60%,
      hsl(var(--foreground)) 40%
    );
    --blob-surface-3: color-mix(
      in oklab,
      hsl(var(--card)) 64%,
      hsl(var(--accent)) 36%
    );
    --blob-surface-shadow: color-mix(
      in oklab,
      hsl(var(--shadow-color)) 66%,
      hsl(var(--background)) 34%
    );
    --glow-primary: color-mix(in oklab, hsl(var(--ring)) 56%, transparent);
  }
}
/* Upgrade contrast token when color-contrast is supported */
@supports (color: color-contrast(white vs black)) {
  :root {
    --text-on-accent: color-contrast(
      var(--accent-overlay) vs hsl(var(--foreground)),
      hsl(var(--background))
    );
    --success-foreground: color-contrast(
      var(--state-success-surface) vs hsl(var(--foreground)),
      hsl(var(--background))
    );
    --warning-foreground: color-contrast(
      var(--state-warning-surface) vs hsl(var(--foreground)),
      hsl(var(--background))
    );
    --danger-foreground: color-contrast(
      var(--state-danger-surface) vs hsl(var(--foreground)),
      hsl(var(--background))
    );
  }
}
/* Retina half-pixel hairlines when available */
@supports (border: 0.5px solid transparent) {
  :root {
    --hairline-w: 0.5px;
  }
}
/* ---------- Aurora ---------- */
html.theme-aurora {
  --background: 284 78% 5%;
  --foreground: 268 32% 97%;
  --text: var(--foreground);
  --card: 282 70% 11%;
  --panel: var(--card);
  --border: 280 58% 20%;
  --line: var(--border);
  --input: 280 58% 13%;
  --ring: 152 100% 62%;
  --theme-ring: hsl(var(--ring));
  --primary: 152 96% 58%;
  --primary-foreground: 0 0% 100%;
  --primary-soft: 152 100% 24%;
  --accent: 274 78% 64%;
  --accent-contrast: 274 80% 84%;
  --accent-2: 152 96% 56%;
  --accent-foreground: 0 0% 100%;
  --accent-soft: 274 78% 22%;
  --glow: 152 100% 68%;
  --muted: 280 52% 16%;
  --muted-foreground: 280 24% 76%;
  --surface: 282 64% 10%;
  --surface-2: 280 48% 18%;
  --surface-vhs: 284 72% 6%;
  --surface-streak: 280 42% 14%;
  --shadow-color: 152 80% 50%;
  --shadow: 0 12px 32px hsl(var(--shadow-color) / 0.3);
  --shadow-inner-lg: inset 0 var(--spacing-0-5) var(--spacing-2) hsl(var(--shadow-color) / 0.36);
  --shadow-outer-xl: 0 var(--spacing-5) var(--spacing-8) hsl(var(--shadow-color) / 0.45);
  --hero-illustration-opacity: 0.82;
  --hero-illustration-blur: calc(var(--space-4) + var(--space-1));
  --glitch-intensity-hero-rail: 0.7;
  --glitch-intensity-backdrop-blob-1: 0.2;
  --glitch-intensity-backdrop-blob-2: 0.14;
  --glitch-intensity-backdrop-blob-3: 0.12;
  --glitch-intensity-backdrop-drip-1: 0.4;
  --glitch-intensity-backdrop-drip-2: 0.4;
  --glitch-intensity-backdrop-drip-3: 0;
  --glitch-intensity-backdrop-shadow: 0;
  --neo-glow-strength: 0.4;
  --glitch-intensity: 0.4;
  --glitch-fringe: 8deg;
  --glitch-static-opacity: 0.1;
  --lav-deep: 276 88% 68%;
  --icon-fg: 152 96% 72%;
  --success: 148 72% 48%;
  --success-foreground: 0 0% 100%;
  --success-glow: 148 72% 38% / 0.6;
  --warning: 43 96% 56%;
  --warning-foreground: 0 0% 100%;
  --danger: 0 84% 60%;
  --danger-foreground: 0 0% 100%;
  --aurora-g: var(--accent-2);
  --aurora-g-light: 150 100% 85%;
  --aurora-p: var(--accent);
  --aurora-p-light: 272 80% 85%;
  --shadow-base: 280 32% 6%;
  --backdrop-blob-1: var(--accent-2);
  --backdrop-blob-2: var(--accent);
  --backdrop-blob-3: var(--accent-2);
  --backdrop-blob-shadow: var(--card);
  --backdrop-grid-primary: var(--accent-2);
  --backdrop-grid-secondary: var(--accent);
  --grid-color: var(--accent-2);
  --grid-alpha: 0.12;
  --grid-size: calc(var(--space-6) + var(--space-1));
  --backdrop-drip-1: var(--accent-2);
  --backdrop-drip-2: var(--accent);
  --backdrop-drip-3: var(--accent-2);
  --backdrop-drip-shadow: var(--card);
  --glow-ring: 0 0 0 calc(var(--spacing-0-5)) hsl(var(--ring) / 0.5), 0 0 var(--spacing-3) hsl(var(--ring) / 0.22);
  --blob-radius-soft: calc(var(--radius-2xl) + var(--spacing-2));
  --glitch-noise-hover: calc(var(--glitch-noise-level) * 1.3);
  --edge-iris: conic-gradient(
    from 180deg,
    hsl(var(--accent-2) / 0),
    hsl(var(--accent-2) / 0.7),
    hsl(var(--accent) / 0.7),
    hsl(var(--accent-2) / 0.7),
    hsl(var(--accent-2) / 0)
  );
  --seg-active-grad: linear-gradient(
    90deg,
    hsl(var(--accent-2) / 0.3),
    hsl(var(--accent) / 0.32),
    hsl(var(--accent-2) / 0.3)
  );
  --shadow: 0 10px 30px hsl(var(--shadow-base) / 0.28);
}
/* ---------- Citrus ---------- */
html.theme-citrus {
  /* Dark citrus palette inspired by industrial orange hardware */
  --background: 210 16% 7%;
  --foreground: 32 42% 96%;
  --text: var(--foreground);
  --card: 212 20% 13%;
  --panel: var(--card);
  --border: 212 22% 26%;
  --line: var(--border);
  --input: 212 24% 15%;
  --ring: 28 95% 56%;
  --theme-ring: hsl(var(--ring));
  --primary: 28 95% 56%;
  --primary-foreground: 0 0% 100%;
  --primary-soft: 28 95% 24%;
  --accent: 26 92% 44%;
  --accent-contrast: 26 92% 70%;
  --accent-2: 168 72% 32%;
  --accent-foreground: 0 0% 100%;
  --accent-soft: 26 92% 18%;
  --glow: 28 96% 62%;
  --muted: 212 18% 22%;
  --muted-foreground: 212 20% 70%;
  --surface: 212 22% 12%;
  --surface-2: 212 20% 20%;
  --surface-vhs: 210 16% 6%;
  --surface-streak: 212 18% 16%;
  --shadow-color: 28 90% 42%;
  --shadow: 0 14px 36px hsl(var(--shadow-color) / 0.32);
  --shadow-inner-lg: inset 0 var(--spacing-0-5) var(--spacing-2) hsl(var(--shadow-color) / 0.36);
  --shadow-outer-xl: 0 var(--spacing-5) var(--spacing-8) hsl(var(--shadow-color) / 0.45);
  --hero-illustration-opacity: 0.8;
  --hero-illustration-blur: calc(var(--space-4) + var(--space-1));
  --glitch-intensity-hero-rail: 0.7;
  --glitch-intensity-backdrop-blob-1: 0.22;
  --glitch-intensity-backdrop-blob-2: 0.18;
  --glitch-intensity-backdrop-blob-3: 0;
  --glitch-intensity-backdrop-drip-1: 0.18;
  --glitch-intensity-backdrop-drip-2: 0.16;
  --glitch-intensity-backdrop-drip-3: 0.12;
  --glitch-intensity-backdrop-shadow: 0;
  --neo-glow-strength: 0.45;
  --glitch-intensity: 0.38;
  --glitch-fringe: 7deg;
  --glitch-static-opacity: 0.09;
  --lav-deep: 28 90% 56%;
  --icon-fg: 28 96% 74%;
  --success: 150 68% 46%;
  --success-foreground: 0 0% 100%;
  --success-glow: 150 68% 36% / 0.6;
  --warning: 43 96% 56%;
  --warning-foreground: 0 0% 100%;
  --danger: 0 84% 60%;
  --danger-foreground: 0 0% 100%;
  --citrus-teal: 168 72% 42%;
  --backdrop-blob-1: var(--ring);
  --backdrop-blob-2: var(--citrus-teal);
  --backdrop-blob-3: var(--ring);
  --backdrop-blob-shadow: var(--card);
  --backdrop-grid-primary: var(--ring);
  --backdrop-grid-secondary: var(--citrus-teal);
  --backdrop-grid-opacity: 0.08;
  --grid-color: var(--ring);
  --grid-alpha: 0.08;
  --grid-size: calc(var(--space-6) - var(--space-1));
  --backdrop-drip-1: var(--ring);
  --backdrop-drip-2: var(--citrus-teal);
  --backdrop-drip-3: var(--ring);
  --backdrop-drip-shadow: var(--card);
  --glow-ring: 0 0 0 calc(var(--spacing-0-5)) hsl(var(--ring) / 0.5), 0 0 var(--spacing-3) hsl(var(--ring) / 0.22);
  --blob-radius-soft: calc(var(--radius-2xl) + var(--spacing-2));
  --glitch-noise-hover: calc(var(--glitch-noise-level) * 1.3);
}
/* ---------- Noir ---------- */
html.theme-noir {
  --background: 352 68% 4%;
  --foreground: 0 0% 94%;
  --text: var(--foreground);
  --card: 352 62% 10%;
  --panel: var(--card);
  --border: 352 44% 24%;
  --line: var(--border);
  --input: 352 48% 12%;
  --ring: 356 86% 60%;
  --theme-ring: hsl(var(--ring));
  --primary: 356 86% 60%;
  --primary-foreground: 0 0% 100%;
  --primary-soft: 356 86% 24%;
  --accent: 184 86% 35%;
  --accent-contrast: 184 90% 70%;
  --accent-2: 32 92% 38%;
  --accent-foreground: 0 0% 100%;
  --accent-soft: 184 86% 14%;
  --glow: 356 90% 62%;
  --muted: 352 34% 18%;
  --muted-foreground: 352 24% 68%;
  --surface: 352 56% 10%;
  --surface-2: 352 36% 18%;
  --surface-vhs: 352 64% 5%;
  --surface-streak: 352 30% 14%;
  --shadow-color: 356 70% 50%;
  --shadow: 0 18px 44px hsl(var(--shadow-color) / 0.38);
  --shadow-inner-sm: inset 0 var(--spacing-0-125) var(--spacing-0-5) hsl(var(--shadow-color) / 0.2);
  --shadow-inner-md: inset 0 var(--spacing-0-25) var(--spacing-1) hsl(var(--shadow-color) / 0.3);
  --shadow-inner-lg: inset 0 var(--spacing-0-5) var(--spacing-2) hsl(var(--shadow-color) / 0.38);
  --shadow-outer-lg: 0 var(--spacing-4) var(--spacing-7) hsl(var(--shadow-color) / 0.42);
  --shadow-outer-xl: 0 var(--spacing-5) var(--spacing-8) hsl(var(--shadow-color) / 0.48);
  --hero-illustration-opacity: 0.6;
  --hero-illustration-blur: calc(var(--space-5) + var(--space-1));
  --glitch-intensity-hero-rail: 0.46;
  --glitch-intensity-backdrop-blob-1: 0.08;
  --glitch-intensity-backdrop-blob-2: 0.06;
  --glitch-intensity-backdrop-blob-3: 0.04;
  --glitch-intensity-backdrop-drip-1: 0.24;
  --glitch-intensity-backdrop-drip-2: 0.1;
  --glitch-intensity-backdrop-drip-3: 0.06;
  --glitch-intensity-backdrop-shadow: 0.06;
  --neo-glow-strength: 0.6;
  --glitch-intensity: 0.3;
  --glitch-fringe: 6deg;
  --glitch-static-opacity: 0.07;
  --glitch-noise-primary: hsl(var(--ring) / 0.28);
  --glitch-noise-secondary: hsl(var(--accent) / 0.22);
  --glitch-noise-contrast: hsl(var(--foreground) / 0.14);
  --lav-deep: 356 80% 62%;
  --icon-fg: 356 92% 72%;
  --success: 136 56% 52%;
  --success-foreground: 0 0% 100%;
  --success-glow: 136 56% 42% / 0.6;
  --warning: 43 96% 56%;
  --warning-foreground: 0 0% 100%;
  --danger: 0 84% 60%;
  --danger-foreground: 0 0% 100%;
  --noir-red: 356 82% 58%;
  --noir-rose: 352 68% 54%;
  --noir-ink: 352 80% 6%;
  --noir-ruby: 12 76% 46%;
  --glow-primary: hsl(var(--ring) / 0.58);
  --glow-ring: 0 0 0 calc(var(--spacing-0-5)) hsl(var(--ring) / 0.52), 0 0 var(--spacing-3) hsl(var(--ring) / 0.24);
  --blob-surface-1: hsl(352 46% 12%);
  --blob-surface-2: hsl(352 38% 18%);
  --blob-surface-3: hsl(184 68% 20%);
  --blob-surface-shadow: hsl(356 72% 10% / 0.42);
  --blob-radius-soft: calc(var(--radius-2xl) + var(--spacing-2));
  --backdrop-blob-1: var(--noir-red);
  --backdrop-blob-2: var(--noir-rose);
  --backdrop-blob-3: var(--noir-ruby);
  --backdrop-blob-shadow: var(--noir-ink);
  --backdrop-grid-primary: var(--noir-red);
  --backdrop-grid-secondary: var(--noir-red);
  --backdrop-grid-opacity: 0.2;
  --grid-color: var(--noir-red);
  --grid-alpha: 0.2;
  --grid-size: var(--space-5);
  --backdrop-drip-1: var(--noir-ink);
  --backdrop-drip-2: var(--noir-red);
  --backdrop-drip-3: var(--noir-ruby);
  --backdrop-drip-shadow: var(--noir-ink);
  --glitch-noise-hover: calc(var(--glitch-noise-level) * 1.35);
}
/* ---------- Oceanic ---------- */
html.theme-ocean {
  --background: 216 48% 8%;
  --foreground: 204 22% 96%;
  --text: var(--foreground);
  --card: 218 34% 14%;
  --panel: var(--card);
  --border: 218 26% 24%;
  --line: var(--border);
  --input: 218 28% 14%;
  --ring: 194 88% 58%;
  --theme-ring: hsl(var(--ring));
  --primary: 194 88% 58%;
  --primary-foreground: 0 0% 100%;
  --primary-soft: 194 88% 18%;
  --accent: 204 92% 32%;
  --accent-contrast: 204 92% 68%;
  --accent-2: 230 78% 36%;
  --accent-foreground: 0 0% 100%;
  --accent-soft: 204 92% 14%;
  --glow: 194 94% 64%;
  --muted: 218 24% 17%;
  --muted-foreground: 218 16% 74%;
  --surface: 218 30% 12%;
  --surface-2: 218 26% 18%;
  --surface-vhs: 216 44% 7%;
  --surface-streak: 218 22% 15%;
  --shadow-color: 198 84% 52%;
  --shadow: 0 16px 40px hsl(var(--shadow-color) / 0.34);
  --shadow-inner-lg: inset 0 var(--spacing-0-5) var(--spacing-2) hsl(var(--shadow-color) / 0.36);
  --shadow-outer-xl: 0 var(--spacing-5) var(--spacing-8) hsl(var(--shadow-color) / 0.45);
  --hero-illustration-opacity: 0.78;
  --hero-illustration-blur: calc(var(--space-4) + var(--space-1));
  --glitch-intensity-hero-rail: 0.72;
  --glitch-intensity-backdrop-blob-1: 0.2;
  --glitch-intensity-backdrop-blob-2: 0.16;
  --glitch-intensity-backdrop-blob-3: 0.12;
  --glitch-intensity-backdrop-drip-1: 0.2;
  --glitch-intensity-backdrop-drip-2: 0.14;
  --glitch-intensity-backdrop-drip-3: 0.12;
  --glitch-intensity-backdrop-shadow: 0.16;
  --neo-glow-strength: 0.52;
  --glitch-intensity: 0.4;
  --glitch-fringe: 7deg;
  --glitch-static-opacity: 0.1;
  --lav-deep: 254 78% 68%;
  --icon-fg: 194 90% 72%;
  --success: 158 72% 48%;
  --success-foreground: 0 0% 100%;
  --success-glow: 158 72% 38% / 0.6;
  --warning: 43 96% 56%;
  --warning-foreground: 0 0% 100%;
  --danger: 0 84% 60%;
  --danger-foreground: 0 0% 100%;
  --ocean-cyan: 194 88% 52%;
  --ocean-indigo: 230 72% 62%;
  --backdrop-blob-1: var(--ring);
  --backdrop-blob-2: var(--ocean-cyan);
  --backdrop-blob-3: var(--ocean-indigo);
  --backdrop-blob-shadow: var(--card);
  --backdrop-grid-primary: var(--ring);
  --backdrop-grid-secondary: var(--ocean-indigo);
  --backdrop-grid-opacity: 0.1;
  --grid-color: var(--ring);
  --grid-alpha: 0.12;
  --grid-size: var(--space-6);
  --backdrop-drip-1: var(--ring);
  --backdrop-drip-2: var(--ocean-indigo);
  --backdrop-drip-3: var(--success);
  --backdrop-drip-shadow: var(--card);
  --glow-ring: 0 0 0 calc(var(--spacing-0-5)) hsl(var(--ring) / 0.5), 0 0 var(--spacing-3) hsl(var(--ring) / 0.22);
  --blob-radius-soft: calc(var(--radius-2xl) + var(--spacing-2));
  --glitch-noise-hover: calc(var(--glitch-noise-level) * 1.3);
}
/* ---------- Kitten ---------- */
html.theme-kitten {
  --background: 334 92% 3%;
  --foreground: 332 28% 97%;
  --text: var(--foreground);
  --card: 334 86% 9%;
  --panel: var(--card);
  --border: 334 70% 22%;
  --line: var(--border);
  --input: 334 72% 11%;
  --ring: 336 90% 56%;
  --theme-ring: hsl(var(--ring));
  --primary: 336 90% 56%;
  --primary-foreground: 0 0% 100%;
  --primary-soft: 336 90% 24%;
  --accent: 340 86% 36%;
  --accent-contrast: 340 88% 74%;
  --accent-2: 194 90% 40%;
  --accent-foreground: 0 0% 100%;
  --accent-soft: 340 86% 14%;
  --glow: 336 94% 64%;
  --muted: 334 64% 18%;
  --muted-foreground: 334 26% 74%;
  --surface: 334 74% 9%;
  --surface-2: 334 60% 15%;
  --surface-vhs: 334 88% 4%;
  --surface-streak: 334 50% 12%;
  --shadow-color: 336 72% 48%;
  --shadow: 0 12px 30px hsl(var(--shadow-color) / 0.3);
  --shadow-inner-lg: inset 0 var(--spacing-0-5) var(--spacing-2) hsl(var(--shadow-color) / 0.36);
  --shadow-outer-xl: 0 var(--spacing-5) var(--spacing-8) hsl(var(--shadow-color) / 0.45);
  --hero-illustration-opacity: 0.8;
  --hero-illustration-blur: calc(var(--space-4) + var(--space-1));
  --glitch-intensity-hero-rail: 0.72;
  --glitch-intensity-backdrop-blob-1: 0.2;
  --glitch-intensity-backdrop-blob-2: 0.16;
  --glitch-intensity-backdrop-blob-3: 0.12;
  --glitch-intensity-backdrop-drip-1: 0.2;
  --glitch-intensity-backdrop-drip-2: 0.15;
  --glitch-intensity-backdrop-drip-3: 0.12;
  --glitch-intensity-backdrop-shadow: 0.16;
  --neo-glow-strength: 0.42;
  --glitch-intensity: 0.36;
  --glitch-fringe: 6deg;
  --glitch-static-opacity: 0.085;
  --lav-deep: 336 84% 64%;
  --icon-fg: 336 92% 72%;
  --success: 152 62% 48%;
  --success-foreground: 0 0% 100%;
  --success-glow: 152 62% 38% / 0.6;
  --warning: 43 96% 56%;
  --warning-foreground: 0 0% 100%;
  --danger: 0 84% 60%;
  --danger-foreground: 0 0% 100%;
  --kitten-rose: 346 94% 42%;
  --kitten-pink: 342 96% 48%;
  --kitten-blush: 348 88% 88%;
  --backdrop-blob-1: var(--kitten-rose);
  --backdrop-blob-2: var(--kitten-pink);
  --backdrop-blob-3: var(--kitten-blush);
  --backdrop-blob-shadow: var(--card);
  --backdrop-grid-primary: var(--kitten-rose);
  --backdrop-grid-secondary: var(--kitten-pink);
  --backdrop-grid-opacity: 0.1;
  --grid-color: var(--kitten-rose);
  --grid-alpha: 0.12;
  --grid-size: calc(var(--space-5) + var(--space-1));
  --backdrop-drip-1: var(--kitten-rose);
  --backdrop-drip-2: var(--kitten-pink);
  --backdrop-drip-3: var(--kitten-blush);
  --backdrop-drip-shadow: var(--card);
  --glow-ring: 0 0 0 calc(var(--spacing-0-5)) hsl(var(--ring) / 0.5), 0 0 var(--spacing-3) hsl(var(--ring) / 0.22);
  --blob-radius-soft: calc(var(--radius-2xl) + var(--spacing-2));
  --glitch-noise-hover: calc(var(--glitch-noise-level) * 1.3);
}
/* ---------- Hardstuck ---------- */
html.theme-hardstuck {
  --background: 120 58% 3%;
  --foreground: 120 60% 72%;
  --text: var(--foreground);
  --card: 120 52% 9%;
  --panel: var(--card);
  --border: 120 42% 22%;
  --line: var(--border);
  --input: 120 46% 9%;
  --ring: 120 100% 64%;
  --theme-ring: hsl(var(--ring));
  --primary: 120 100% 64%;
  --primary-foreground: 0 0% 8%;
  --primary-soft: 120 100% 26%;
  --accent: 120 92% 58%;
  --accent-contrast: 120 92% 78%;
  --accent-2: 120 76% 22%;
  --accent-2-foreground: 120 32% 94%;
  --accent-foreground: 0 0% 8%;
  --text-on-accent: hsl(var(--hardstuck-foreground));
  --accent-soft: 120 90% 16%;
  --glow: 120 100% 70%;
  --ring-muted: 120 32% 22%;
  --danger: 0 84% 60%;
  --warning: 43 96% 56%;
  --muted: 120 34% 11%;
  --muted-foreground: 120 18% 74%;
  --surface: 120 32% 8%;
  --surface-2: 120 34% 13%;
  --surface-vhs: 120 26% 4%;
  --surface-streak: 120 18% 11%;
  --shadow-color: 120 84% 44%;
  --shadow: 0 18px 46px hsl(var(--shadow-color) / 0.4);
  --shadow-inner-sm: inset 0 var(--spacing-0-125) var(--spacing-0-5) hsl(var(--shadow-color) / 0.16);
  --shadow-inner-md: inset 0 var(--spacing-0-25) var(--spacing-1) hsl(var(--shadow-color) / 0.24);
  --shadow-inner-lg: inset 0 var(--spacing-0-5) var(--spacing-2) hsl(var(--shadow-color) / 0.3);
  --shadow-outer-lg: 0 var(--spacing-4) var(--spacing-7) hsl(var(--shadow-color) / 0.34);
  --shadow-outer-xl: 0 var(--spacing-5) var(--spacing-8) hsl(var(--shadow-color) / 0.42);
  --hero-illustration-opacity: 0.58;
  --hero-illustration-blur: calc(var(--space-5) + var(--space-1));
  --glitch-intensity-hero-rail: 0.44;
  --glitch-intensity-backdrop-blob-1: 0.1;
  --glitch-intensity-backdrop-blob-2: 0.06;
  --glitch-intensity-backdrop-blob-3: 0.04;
  --glitch-intensity-backdrop-drip-1: 0.22;
  --glitch-intensity-backdrop-drip-2: 0.08;
  --glitch-intensity-backdrop-drip-3: 0.06;
  --glitch-intensity-backdrop-shadow: 0.08;
  --neo-glow-strength: 0.58;
  --glitch-intensity: 0.28;
  --glitch-fringe: 5deg;
  --glitch-static-opacity: 0.07;
  --glitch-noise-primary: hsl(var(--ring) / 0.24);
  --glitch-noise-secondary: hsl(var(--accent) / 0.18);
  --glitch-noise-contrast: hsl(var(--hardstuck-foreground) / 0.18);
  --lav-deep: 120 90% 52%;
  --icon-fg: 120 92% 64%;
  --success: 120 94% 52%;
  --success-foreground: 0 0% 100%;
  --success-glow: 120 90% 42% / 0.6;
  --warning: 43 96% 56%;
  --warning-foreground: 0 0% 100%;
  --danger: 0 84% 60%;
  --danger-foreground: 0 0% 100%;
  --hardstuck-forest: 120 70% 42%;
  --hardstuck-deep: 120 82% 8%;
  --glow-primary: hsl(var(--ring) / 0.5);
  --glow-ring: 0 0 0 calc(var(--spacing-0-5)) hsl(var(--ring) / 0.48), 0 0 var(--spacing-3) hsl(var(--ring) / 0.2);
  --blob-surface-1: hsl(120 38% 14%);
  --blob-surface-2: hsl(120 44% 18%);
  --blob-surface-3: hsl(120 48% 24%);
  --blob-surface-shadow: hsl(120 72% 12% / 0.45);
  --blob-radius-soft: calc(var(--radius-2xl) + var(--spacing-2));
  --backdrop-blob-1: var(--ring);
  --backdrop-blob-2: var(--hardstuck-forest);
  --backdrop-blob-3: var(--ring);
  --backdrop-blob-shadow: var(--hardstuck-deep);
  --backdrop-grid-primary: var(--ring);
  --backdrop-grid-secondary: var(--ring);
  --backdrop-grid-opacity: 0.2;
  --grid-color: var(--ring);
  --grid-alpha: 0.2;
  --grid-size: var(--space-5);
  --backdrop-drip-1: var(--hardstuck-deep);
  --backdrop-drip-2: var(--ring);
  --backdrop-drip-3: var(--hardstuck-forest);
  --backdrop-drip-shadow: var(--hardstuck-deep);
  --glitch-noise-hover: calc(var(--glitch-noise-level) * 1.35);
}
/* ---------- Retro ---------- */
html.theme-retro {
  /* Neon grid inspired by retro-futurist arcades */
  --background: 258 78% 4%;
  --foreground: 196 28% 96%;
  --text: var(--foreground);
  --card: 260 68% 10%;
  --panel: var(--card);
  --border: 260 56% 22%;
  --line: var(--border);
  --input: 260 58% 12%;
  --ring: 304 100% 68%;
  --theme-ring: hsl(var(--ring));
  --primary: 304 100% 68%;
  --primary-foreground: 0 0% 8%;
  --primary-soft: 304 100% 24%;
  --accent: 304 100% 68%;
  --accent-contrast: 304 100% 85%;
  --accent-2: 188.7 89.6% 69.8%;
  --accent-3: 257.5 85.7% 72.5%;
  --accent-foreground: 0 0% 6%;
  --accent-soft: 304 100% 20%;
  --muted: 260 48% 18%;
  --muted-foreground: 260 22% 78%;
  --surface: 260 60% 10%;
  --surface-2: 260 50% 16%;
  --surface-vhs: 258 76% 5%;
  --surface-streak: 260 44% 13%;
  --shadow-color: 304 92% 56%;
  --shadow-inner-lg: inset 0 var(--spacing-0-5) var(--spacing-2) hsl(var(--shadow-color) / 0.36);
  --shadow-outer-xl: 0 var(--spacing-5) var(--spacing-8) hsl(var(--shadow-color) / 0.45);
  --hero-illustration-opacity: 0.9;
  --hero-illustration-blur: calc(var(--space-4) + var(--space-1));
  --glitch-intensity-hero-rail: 0.82;
  --glitch-intensity-backdrop-blob-1: 0.26;
  --glitch-intensity-backdrop-blob-2: 0.22;
  --glitch-intensity-backdrop-blob-3: 0.18;
  --glitch-intensity-backdrop-drip-1: 0.34;
  --glitch-intensity-backdrop-drip-2: 0.3;
  --glitch-intensity-backdrop-drip-3: 0.26;
  --glitch-intensity-backdrop-shadow: 0.34;
  --glitch-intensity: 0.46;
  --glitch-static-opacity: 0.2;
  --lav-deep: 257.5 85.7% 72.5%;
  --icon-fg: 304 100% 80%;
  --success: 158 72% 48%;
  --success-foreground: 0 0% 100%;
  --success-glow: 158 72% 38% / 0.6;
  --warning: 43 96% 56%;
  --warning-foreground: 0 0% 100%;
  --danger: 0 84% 60%;
  --danger-foreground: 0 0% 100%;
  --glow: 304 100% 68%;
  --glow-active: hsl(var(--accent-2));
  --glow-ring: 0 0 0 calc(var(--spacing-0-5)) hsl(var(--ring) / 0.5), 0 0 var(--spacing-3) hsl(var(--ring) / 0.22);
  --shadow-glow-sm:
    0 0 var(--spacing-2) hsl(var(--glow) / 0.7),
    0 0 var(--spacing-4) hsl(var(--accent-2) / 0.45);
  --shadow-glow-md:
    0 0 var(--spacing-3) hsl(var(--glow) / 0.55),
    0 0 var(--spacing-5) hsl(var(--accent-2) / 0.4),
    0 0 var(--spacing-6) hsl(var(--accent-3) / 0.3);
  --shadow-glow-lg:
    0 0 var(--spacing-4) hsl(var(--glow) / 0.5),
    0 0 var(--spacing-6) hsl(var(--accent-2) / 0.38),
    0 0 var(--spacing-7) hsl(var(--accent-3) / 0.28);
  --shadow-glow-xl:
    0 var(--spacing-1) var(--spacing-5) hsl(var(--glow) / 0.45),
    0 var(--spacing-2) var(--spacing-7) hsl(var(--accent-2) / 0.32),
    0 var(--spacing-3) var(--spacing-8) hsl(var(--accent-3) / 0.24);
  --backdrop-blob-1: var(--accent-3);
  --backdrop-blob-2: var(--accent-2);
  --backdrop-blob-3: var(--accent);
  --backdrop-blob-shadow: var(--accent);
  --backdrop-grid-primary: var(--accent-3);
  --backdrop-grid-secondary: var(--accent-2);
  --backdrop-grid-opacity: 0.18;
  --grid-color: var(--accent-3);
  --grid-alpha: 0.18;
  --grid-size: calc(var(--space-6) - var(--space-1));
  --backdrop-drip-1: var(--accent-3);
  --backdrop-drip-2: var(--accent-2);
  --backdrop-drip-3: var(--accent);
  --backdrop-drip-shadow: var(--accent);
  --blob-radius-soft: calc(var(--radius-2xl) + var(--spacing-2));
  --grid-lines:
    repeating-linear-gradient(
      90deg,
      hsl(var(--accent) / 0.18) 0 1px,
      hsl(var(--accent-3) / 0.08) 1px 28px
  );
  --scan-lines:
    repeating-linear-gradient(
      0deg,
      hsl(var(--accent-2) / 0.16) 0 1px,
      transparent 1px 14px,
      hsl(var(--accent-3) / 0.12) 14px 15px,
      transparent 15px 28px
  );
  --glitch-noise-hover: calc(var(--glitch-noise-level) * 1.35);
}
/* =========================================================
   Per-theme glitch backdrops
   ========================================================= */
/* Default Lavender-Glitch backdrop:
   Applies if you’re on theme-lg (both light & dark) OR no theme class. */
html.theme-lg body,
html.theme-lg-dark body,
html:not(.theme-citrus):not(.theme-noir):not(.theme-ocean):not(
    .theme-kitten
  ):not(.theme-aurora):not(.theme-hardstuck)
  body {
  background-image:
    radial-gradient(
      1200px 700px at 18% -10%,
      hsl(
        var(--backdrop-blob-1) /
          var(--glitch-intensity-backdrop-blob-1, 0.18)
      ),
      transparent 60%
    ),
    radial-gradient(
      1100px 600px at 110% 18%,
      hsl(
        var(--backdrop-blob-2) /
          var(--glitch-intensity-backdrop-blob-2, 0.16)
      ),
      transparent 60%
    ),
    radial-gradient(
      900px 480px at 50% 120%,
      hsl(
        var(--backdrop-blob-3) /
          var(--glitch-intensity-backdrop-blob-3, 0.12)
      ),
      transparent 65%
    );
  background-attachment: fixed, fixed, fixed;
}
.page-backdrop__layer[data-variant="grid"] {
  --grid-stroke: hsl(var(--grid-color));
  --grid-mask: radial-gradient(
    circle at center,
    hsl(var(--shadow-color) / 0.95) 0%,
    hsl(var(--shadow-color) / 0.6) 48%,
    hsl(var(--shadow-color) / 0) 78%
  );
  background-image:
    linear-gradient(
      90deg,
      var(--grid-stroke) 0 var(--hairline-w),
      transparent var(--hairline-w) var(--grid-size)
    ),
    linear-gradient(
      0deg,
      var(--grid-stroke) 0 var(--hairline-w),
      transparent var(--hairline-w) var(--grid-size)
    );
  background-size:
    var(--grid-size) var(--grid-size),
    var(--grid-size) var(--grid-size);
  background-position: 0 0, 0 0;
  background-repeat: repeat, repeat;
  mix-blend-mode: screen;
  opacity: var(--grid-alpha);
  will-change: background-position;
  animation: grid-drift 28s linear infinite;
  transform: translateZ(0);
  -webkit-mask-image: var(--grid-mask);
  mask-image: var(--grid-mask);
  -webkit-mask-size: 160% 160%;
  mask-size: 160% 160%;
  -webkit-mask-repeat: no-repeat;
  mask-repeat: no-repeat;
  -webkit-mask-position: center;
  mask-position: center;
}
@media (prefers-reduced-motion: reduce) {
  .page-backdrop__layer[data-variant="grid"] {
    animation: none;
  }
}
html.no-animations .page-backdrop__layer[data-variant="grid"] {
  animation: none;
}
html.theme-lg body::after,
html.theme-lg-dark body::after,
html:not(.theme-citrus):not(.theme-noir):not(.theme-ocean):not(
    .theme-kitten
  ):not(.theme-aurora):not(.theme-hardstuck)
  body::after {
  content: "";
  position: fixed;
  inset: -10%;
  pointer-events: none;
  z-index: 0;
  background:
    radial-gradient(
      60% 40% at 10% 0%,
      hsl(
        var(--backdrop-drip-1) /
          var(--glitch-intensity-backdrop-drip-1, 0.23)
      ),
      transparent 60%
    ),
    radial-gradient(
      50% 35% at 100% 5%,
      hsl(
        var(--backdrop-drip-2) /
          var(--glitch-intensity-backdrop-drip-2, 0.2)
      ),
      transparent 60%
    ),
    radial-gradient(
      55% 35% at 50% 120%,
      hsl(
        var(--backdrop-drip-3) /
          var(--glitch-intensity-backdrop-drip-3, 0.16)
      ),
      transparent 65%
    ),
    radial-gradient(
      120% 100% at 50% 100%,
      hsl(
        var(--backdrop-drip-shadow) /
          var(--glitch-intensity-backdrop-shadow, 0.38)
      ),
      transparent 70%
    );
  filter: blur(2px) saturate(110%);
  animation: lg-aurora-pan 24s ease-in-out infinite alternate;
}
/* Aurora backdrop */
html.theme-aurora body {
  background-image:
    radial-gradient(
      1000px 600px at 20% -10%,
      hsl(
        var(--backdrop-blob-1) /
          var(--glitch-intensity-backdrop-blob-1, 0.2)
      ),
      transparent 60%
    ),
    linear-gradient(180deg, hsl(var(--card)), hsl(var(--background)));
  background-attachment: fixed, fixed;
}
html.theme-aurora body::after {
  content: none;
}
html.theme-aurora body::before {
  content: "";
  position: fixed;
  inset: -10%;
  pointer-events: none;
  z-index: 0;
  background: conic-gradient(
    from 0deg,
    hsl(
      var(--backdrop-drip-1) /
        var(--glitch-intensity-backdrop-drip-1, 0.4)
    ),
    hsl(
      var(--backdrop-drip-2) /
        var(--glitch-intensity-backdrop-drip-2, 0.4)
    ),
    hsl(
      var(--backdrop-drip-1) /
        var(--glitch-intensity-backdrop-drip-1, 0.4)
    )
  );
  filter: blur(calc(var(--space-8) * 2)) saturate(150%);
}
@media (prefers-reduced-motion: no-preference) {
  html.theme-aurora body::before {
    animation: aurora-spin 30s linear infinite;
  }
}
/* Citrus backdrop */
html.theme-citrus body {
  background-image:
    radial-gradient(
      1200px 700px at 20% -10%,
      hsl(
        var(--backdrop-blob-1) /
          var(--glitch-intensity-backdrop-blob-1, 0.22)
      ),
      transparent 60%
    ),
    radial-gradient(
      1200px 600px at 120% 10%,
      hsl(
        var(--backdrop-blob-2) /
          var(--glitch-intensity-backdrop-blob-2, 0.18)
      ),
      transparent 60%
    ),
    linear-gradient(180deg, hsl(var(--card)), hsl(var(--background)));
  background-attachment: fixed, fixed, fixed;
}
html.theme-citrus body::after {
  content: "";
  position: fixed;
  inset: -8%;
  pointer-events: none;
  z-index: 0;
  background:
    radial-gradient(
      60% 40% at 12% -5%,
      hsl(
        var(--backdrop-drip-1) /
          var(--glitch-intensity-backdrop-drip-1, 0.18)
      ),
      transparent 60%
    ),
    radial-gradient(
      50% 35% at 105% 10%,
      hsl(
        var(--backdrop-drip-2) /
          var(--glitch-intensity-backdrop-drip-2, 0.16)
      ),
      transparent 60%
    ),
    radial-gradient(
      55% 35% at 50% 110%,
      hsl(
        var(--backdrop-drip-3) /
          var(--glitch-intensity-backdrop-drip-3, 0.12)
      ),
      transparent 65%
    );
  filter: blur(2px) saturate(110%);
  animation: citrus-pan 28s ease-in-out infinite alternate;
}
@keyframes citrus-pan {
  0% {
    transform: translate3d(-1%, -1%, 0) scale(1.01);
    opacity: 0.95;
  }
  50% {
    transform: translate3d(1%, 0%, 0) scale(1);
    opacity: 1;
  }
  100% {
    transform: translate3d(2%, 1%, 0) scale(1.01);
    opacity: 0.95;
  }
}
/* Noir backdrop */
html.theme-noir body {
  background-image:
    radial-gradient(
      1000px 520px at 15% -10%,
      hsl(
        var(--backdrop-blob-1) /
          var(--glitch-intensity-backdrop-blob-1, 0.15)
      ),
      transparent 60%
    ),
    radial-gradient(
      900px 520px at 110% 15%,
      hsl(
        var(--backdrop-blob-2) /
          var(--glitch-intensity-backdrop-blob-2, 0.12)
      ),
      transparent 60%
    ),
    linear-gradient(180deg, hsl(var(--card) / 0.9), hsl(var(--background)));
  background-attachment: fixed, fixed, fixed;
}
html.theme-noir body::after {
  content: "";
  position: fixed;
  inset: -12%;
  pointer-events: none;
  z-index: 0;
  background:
    radial-gradient(
      80% 60% at 50% 120%,
      hsl(
        var(--backdrop-drip-1) /
          var(--glitch-intensity-backdrop-drip-1, 0.45)
      ),
      transparent 70%
    ),
    radial-gradient(
      40% 25% at 6% 4%,
      hsl(
        var(--backdrop-drip-2) /
          var(--glitch-intensity-backdrop-drip-2, 0.15)
      ),
      transparent 60%
    ),
    radial-gradient(
      40% 25% at 94% 10%,
      hsl(
        var(--backdrop-drip-3) /
          var(--glitch-intensity-backdrop-drip-3, 0.12)
      ),
      transparent 60%
    );
  filter: blur(1.5px) saturate(110%);
  opacity: 0.9;
  animation: noir-drift 26s ease-in-out infinite alternate;
}
@keyframes noir-drift {
  0% {
    transform: translate3d(-1%, 0, 0);
  }
  100% {
    transform: translate3d(1%, 0, 0);
  }
}
/* Oceanic backdrop */
html.theme-ocean body {
  background-image:
    radial-gradient(
      1200px 700px at 12% -12%,
      hsl(
        var(--backdrop-blob-1) /
          var(--glitch-intensity-backdrop-blob-1, 0.2)
      ),
      transparent 60%
    ),
    radial-gradient(
      1100px 600px at 108% 16%,
      hsl(
        var(--backdrop-blob-2) /
          var(--glitch-intensity-backdrop-blob-2, 0.16)
      ),
      transparent 60%
    ),
    linear-gradient(180deg, hsl(var(--card) / 0.9), hsl(var(--background)));
  background-attachment: fixed, fixed, fixed;
}
html.theme-ocean body::after {
  content: "";
  position: fixed;
  inset: -10%;
  z-index: 0;
  pointer-events: none;
  background:
    radial-gradient(
      60% 40% at 14% -6%,
      hsl(
        var(--backdrop-drip-1) /
          var(--glitch-intensity-backdrop-drip-1, 0.18)
      ),
      transparent 60%
    ),
    radial-gradient(
      55% 35% at 50% 114%,
      hsl(
        var(--backdrop-drip-2) /
          var(--glitch-intensity-backdrop-drip-2, 0.12)
      ),
      transparent 65%
    ),
    radial-gradient(
      50% 35% at 102% 8%,
      hsl(
        var(--backdrop-drip-3) /
          var(--glitch-intensity-backdrop-drip-3, 0.1)
      ),
      transparent 60%
    );
  filter: blur(2px) saturate(112%);
  animation: ocean-pan 26s ease-in-out infinite alternate;
}
@keyframes ocean-pan {
  0% {
    transform: translate3d(-1%, -1%, 0) scale(1.01);
    opacity: 0.95;
  }
  50% {
    transform: translate3d(1%, 0%, 0) scale(1);
    opacity: 1;
  }
  100% {
    transform: translate3d(2%, 1%, 0) scale(1.01);
    opacity: 0.95;
  }
}
/* Kitten backdrop */
html.theme-kitten body {
  background-image:
    radial-gradient(
      1100px 620px at 16% -8%,
      hsl(
        var(--backdrop-blob-1) /
          var(--glitch-intensity-backdrop-blob-1, 0.2)
      ),
      transparent 60%
    ),
    radial-gradient(
      1000px 560px at 106% 14%,
      hsl(
        var(--backdrop-blob-2) /
          var(--glitch-intensity-backdrop-blob-2, 0.16)
      ),
      transparent 60%
    ),
    linear-gradient(180deg, hsl(var(--card) / 0.92), hsl(var(--background)));
  background-attachment: fixed, fixed, fixed;
}
html.theme-kitten body::after {
  content: "";
  position: fixed;
  inset: -10%;
  z-index: 0;
  pointer-events: none;
  background:
    radial-gradient(
      60% 40% at 12% -6%,
      hsl(
        var(--backdrop-drip-1) /
          var(--glitch-intensity-backdrop-drip-1, 0.18)
      ),
      transparent 60%
    ),
    radial-gradient(
      55% 35% at 50% 116%,
      hsl(
        var(--backdrop-drip-2) /
          var(--glitch-intensity-backdrop-drip-2, 0.12)
      ),
      transparent 65%
    ),
    radial-gradient(
      50% 35% at 100% 8%,
      hsl(
        var(--backdrop-drip-3) /
          var(--glitch-intensity-backdrop-drip-3, 0.1)
      ),
      transparent 60%
    );
  filter: blur(2px) saturate(112%);
  animation: kitten-pan 27s ease-in-out infinite alternate;
}
@keyframes kitten-pan {
  0% {
    transform: translate3d(-1%, -1%, 0);
  }
  100% {
    transform: translate3d(1%, 1%, 0);
  }
}
/* Hardstuck backdrop */
html.theme-hardstuck body {
  background-image:
    radial-gradient(
      1000px 520px at 20% -10%,
      hsl(
        var(--backdrop-blob-1) /
          var(--glitch-intensity-backdrop-blob-1, 0.15)
      ),
      transparent 60%
    ),
    radial-gradient(
      900px 520px at 110% 15%,
      hsl(
        var(--backdrop-blob-2) /
          var(--glitch-intensity-backdrop-blob-2, 0.12)
      ),
      transparent 60%
    ),
    linear-gradient(180deg, hsl(var(--card) / 0.9), hsl(var(--background)));
  background-attachment: fixed, fixed, fixed;
}
html.theme-hardstuck body::after {
  content: "";
  position: fixed;
  inset: -12%;
  pointer-events: none;
  z-index: 0;
  background:
    radial-gradient(
      80% 60% at 50% 120%,
      hsl(
        var(--backdrop-drip-1) /
          var(--glitch-intensity-backdrop-drip-1, 0.45)
      ),
      transparent 70%
    ),
    radial-gradient(
      40% 25% at 6% 4%,
      hsl(
        var(--backdrop-drip-2) /
          var(--glitch-intensity-backdrop-drip-2, 0.15)
      ),
      transparent 60%
    ),
    radial-gradient(
      40% 25% at 94% 10%,
      hsl(
        var(--backdrop-drip-3) /
          var(--glitch-intensity-backdrop-drip-3, 0.12)
      ),
      transparent 60%
    );
  filter: blur(1.5px) saturate(110%);
  opacity: 0.9;
  animation: hardstuck-drift 26s ease-in-out infinite alternate;
}
/* Retro backdrop */
html.theme-retro body {
  background-image:
    radial-gradient(
      1100px 640px at 18% -12%,
      hsl(
        var(--backdrop-blob-1) /
          var(--glitch-intensity-backdrop-blob-1, 0.22)
      ),
      transparent 62%
    ),
    radial-gradient(
      1000px 560px at 108% 10%,
      hsl(
        var(--backdrop-blob-2) /
          var(--glitch-intensity-backdrop-blob-2, 0.18)
      ),
      transparent 60%
    ),
    radial-gradient(
      1200px 760px at 50% 120%,
      hsl(
        var(--backdrop-blob-3) /
          var(--glitch-intensity-backdrop-blob-3, 0.14)
      ),
      transparent 70%
    ),
    linear-gradient(180deg, hsl(var(--card)), hsl(var(--background)));
  background-attachment: fixed, fixed, fixed, fixed;
}
html.theme-retro body::after {
  content: "";
  position: fixed;
  inset: -10%;
  pointer-events: none;
  z-index: 0;
  background:
    var(--scan-lines),
    radial-gradient(
      65% 45% at 12% 0%,
      hsl(
        var(--backdrop-drip-1) /
          var(--glitch-intensity-backdrop-drip-1, 0.28)
      ),
      transparent 62%
    ),
    radial-gradient(
      55% 38% at 88% 8%,
      hsl(
        var(--backdrop-drip-2) /
          var(--glitch-intensity-backdrop-drip-2, 0.24)
      ),
      transparent 60%
    ),
    radial-gradient(
      70% 48% at 50% 115%,
      hsl(
        var(--backdrop-drip-3) /
          var(--glitch-intensity-backdrop-drip-3, 0.2)
      ),
      transparent 72%
    );
  filter: blur(1.5px) saturate(115%);
  opacity: 0.9;
}
@media (prefers-reduced-motion: no-preference) {
  html.theme-retro body::after {
    animation: retro-pan 38s linear infinite reverse;
  }
}
@keyframes hardstuck-drift {
  0% {
    transform: translate3d(-1%, 0, 0);
  }
  100% {
    transform: translate3d(1%, 0, 0);
  }
}
@keyframes retro-pan {
  0% {
    transform: translate3d(0, 0, 0);
  }
  100% {
    transform: translate3d(28px, 18px, 0);
  }
}
/* Additional background options */
html.bg-alt1 body {
  background-image:
    radial-gradient(
      1000px 600px at 10% -10%,
      hsl(var(--backdrop-blob-1) / 0.2),
      transparent 60%
    ),
    radial-gradient(
      900px 500px at 110% 20%,
      hsl(var(--backdrop-blob-2) / 0.18),
      transparent 60%
    ),
    linear-gradient(180deg, hsl(var(--card)), hsl(var(--background)));
  background-attachment: fixed, fixed, fixed;
}
html.bg-alt1 body::before,
html.bg-alt1 body::after {
  content: none;
}
html.bg-alt2 body {
  background-image:
    radial-gradient(
      1000px 600px at 50% 0%,
      hsl(var(--backdrop-blob-1) / 0.18),
      transparent 60%
    ),
    radial-gradient(
      900px 500px at 50% 120%,
      hsl(var(--backdrop-blob-3) / 0.16),
      transparent 60%
    ),
    linear-gradient(180deg, hsl(var(--card)), hsl(var(--background)));
  background-attachment: fixed, fixed, fixed;
}
html.bg-alt2 body::before,
html.bg-alt2 body::after {
  content: none;
}
html.bg-vhs body {
  background-color: hsl(var(--surface-vhs));
  background-image:
    radial-gradient(
      circle at 20% 30%,
      hsl(var(--backdrop-blob-2) / 0.15),
      transparent 60%
    ),
    repeating-linear-gradient(
      to bottom,
      hsl(var(--backdrop-blob-2) / 0.15),
      hsl(var(--backdrop-blob-2) / 0.15) 1px,
      transparent 1px,
      transparent 3px
    );
  background-blend-mode: screen;
}
html.bg-vhs body::before,
html.bg-vhs body::after {
  content: none;
}
html.bg-streak body {
  background-color: hsl(var(--surface-streak));
  background-image:
    radial-gradient(
      circle at 70% 40%,
      hsl(var(--backdrop-blob-3) / 0.25),
      transparent 40%
    ),
    repeating-linear-gradient(
      to right,
      hsl(var(--backdrop-blob-3) / 0.2),
      hsl(var(--backdrop-blob-3) / 0.2) 6px,
      transparent 6px,
      transparent 20px
    );
  background-blend-mode: lighten;
}
html.bg-streak body::before,
html.bg-streak body::after {
  content: none;
}
/* ---------- Shared backdrop animations ---------- */
@keyframes grid-drift {
  0% {
    background-position: 0 0, 0 0;
  }
  50% {
    background-position:
      calc(var(--grid-size) * -0.5) calc(var(--grid-size) * 0.5),
      calc(var(--grid-size) * 0.5) calc(var(--grid-size) * -0.5);
  }
  100% {
    background-position:
      calc(var(--grid-size) * -1) calc(var(--grid-size)),
      calc(var(--grid-size)) calc(var(--grid-size) * -1);
  }
}
@keyframes lg-aurora-pan {
  0% {
    transform: translate3d(-2%, -1%, 0) scale(1.02);
    opacity: 0.95;
  }
  50% {
    transform: translate3d(1%, 0%, 0) scale(1.01);
    opacity: 1;
  }
  100% {
    transform: translate3d(2%, 1%, 0) scale(1.02);
    opacity: 0.95;
  }
}
@keyframes aurora-spin {
  to {
    transform: rotate(1turn);
  }
}
/* ---------- Intensity toggles (all themes) ---------- */
html.bg-intense body::before {
  opacity: 0.05;
}
html.bg-intense body::after {
  filter: blur(2px) saturate(120%);
}
/* =========================================================
   Pretty Chroma Hairline (utility)
   =========================================================
   Usage: add class="pretty-border" to any container that should
   have a tinted, animated hairline that respects --card-hairline.
   No literal white is used for the border color itself.
*/
.pretty-border {
  position: relative;
  border-radius: var(--radius-card, 1rem);
  background-clip: padding-box;
  border: 1px solid hsl(var(--card-hairline));
  isolation: isolate;
}
/* Outer chroma ring (masked to the border box) */
.pretty-border::before {
  content: "";
  position: absolute;
  inset: -1px;
  padding: 1px;
  border-radius: inherit;
  pointer-events: none;
  background: conic-gradient(
    from 180deg,
    hsl(var(--backdrop-blob-1) / 0),
    hsl(var(--backdrop-blob-1) / 0.65),
    hsl(var(--backdrop-blob-2) / 0.65),
    hsl(var(--backdrop-blob-3) / 0.65),
    hsl(var(--backdrop-blob-1) / 0)
  );
  /* mask to only show the ring, not fill the card */
  -webkit-mask:
    linear-gradient(hsl(var(--foreground)) 0 0) content-box,
    linear-gradient(hsl(var(--foreground)) 0 0);
  -webkit-mask-composite: xor;
  mask:
    linear-gradient(hsl(var(--foreground)) 0 0) content-box,
    linear-gradient(hsl(var(--foreground)) 0 0);
  mask-composite: exclude;
  opacity: 0.55;
  animation:
    pb-hue 8s linear infinite,
    pb-jitter 2.4s steps(6, end) infinite;
}
/* Soft CRT scan overlay (uses foreground tint, not white) */
.pretty-border::after {
  content: "";
  position: absolute;
  inset: 0;
  border-radius: inherit;
  pointer-events: none;
  background: repeating-linear-gradient(
    to bottom,
    hsl(var(--foreground) / 0.05) 0 1px,
    transparent 2px 3px
  );
  mix-blend-mode: soft-light;
  opacity: 0.18;
}
@keyframes pb-hue {
  to {
    filter: hue-rotate(360deg);
  }
}
@keyframes pb-jitter {
  0%,
  100% {
    transform: translate(0, 0);
  }
  25% {
    transform: translate(0.25px, -0.2px);
  }
  50% {
    transform: translate(-0.2px, 0.25px);
  }
  75% {
    transform: translate(0.15px, 0.15px);
  }
}
