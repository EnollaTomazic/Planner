.root {
  --planner-panel-surface: linear-gradient(
    180deg,
    hsl(var(--card) / 0.82),
    hsl(var(--card) / 0.64)
  );
  --planner-panel-soft: linear-gradient(
    180deg,
    hsl(var(--card) / 0.76),
    hsl(var(--card) / 0.58)
  );
  --planner-panel-border: hsl(var(--card-hairline) / 0.35);
  --planner-panel-shadow: var(--depth-shadow-soft);
  --planner-chip-surface: hsl(var(--accent) / 0.16);
  --planner-chip-border: hsl(var(--accent) / 0.35);
  margin-top: clamp(var(--space-6), 6vh, var(--space-8));
  border-radius: 24px;
  padding: clamp(var(--space-5), 4.5vw, var(--space-7));
  background: linear-gradient(
    180deg,
    hsl(var(--surface) / 0.92),
    hsl(var(--surface) / 0.72)
  );
  border: 1px solid var(--planner-panel-border);
  box-shadow: var(--planner-panel-shadow);
  -webkit-backdrop-filter: blur(18px);
  backdrop-filter: blur(18px);
  overflow: hidden;
  isolation: isolate;
}

.shell {
  position: relative;
  z-index: 1;
  row-gap: clamp(var(--space-5), 3.5vw, var(--space-6));
}

.widgetRow {
  position: relative;
  display: grid;
  gap: var(--space-5);
}

@media (min-width: 48rem) {
  .widgetRow {
    grid-template-columns: repeat(12, minmax(0, 1fr));
    align-items: stretch;
  }

  .splitHalf {
    grid-column: span 6;
  }
}

.section {
  position: relative;
  display: grid;
  gap: var(--space-4);
  padding: clamp(var(--space-4), 2.5vw, var(--space-5));
  border-radius: 20px;
  background: var(--planner-panel-soft);
  border: 1px solid var(--planner-panel-border);
  box-shadow: var(--planner-panel-shadow);
  -webkit-backdrop-filter: blur(18px);
  backdrop-filter: blur(18px);
}

.sectionHeading {
  font-size: var(--font-label);
  letter-spacing: 0.16em;
  text-transform: uppercase;
  color: hsl(var(--muted-foreground) / 0.7);
}

.overviewRow {
  display: grid;
  gap: var(--space-5);
}

@media (min-width: 64rem) {
  .overviewRow {
    grid-template-columns: repeat(2, minmax(0, 1fr));
  }
}

.overviewCard {
  display: flex;
  flex-direction: column;
  gap: var(--space-4);
  padding: clamp(var(--space-4), 2.5vw, var(--space-5));
  border-radius: 20px;
  background: var(--planner-panel-soft);
  border: 1px solid var(--planner-panel-border);
  box-shadow: var(--planner-panel-shadow);
  -webkit-backdrop-filter: blur(18px);
  backdrop-filter: blur(18px);
}

.overviewHeader {
  display: grid;
  gap: var(--space-2);
}

.cardLabel {
  font-size: var(--font-label);
  letter-spacing: 0.18em;
  text-transform: uppercase;
  color: hsl(var(--muted-foreground) / 0.68);
}

.cardTitle {
  font-size: clamp(1.4rem, 2.2vw, 1.8rem);
  font-weight: 600;
  letter-spacing: -0.01em;
  color: hsl(var(--foreground));
}

.cardHint {
  font-size: var(--font-small);
  color: hsl(var(--muted-foreground) / 0.72);
}

.metricList {
  display: grid;
  gap: var(--space-3);
}

.metricItem {
  list-style: none;
}

.metricLink {
  display: grid;
  gap: var(--space-2);
  padding: var(--space-3);
  border-radius: 16px;
  background: var(--planner-panel-surface);
  border: 1px solid var(--planner-panel-border);
  box-shadow: inset 0 1px 0 hsl(var(--foreground) / 0.06), var(--planner-panel-shadow);
  text-decoration: none;
  transition: transform 160ms ease, box-shadow 160ms ease;
}

.metricLink:hover,
.metricLink:focus-visible {
  transform: translateY(-2px);
  box-shadow:
    inset 0 1px 0 hsl(var(--foreground) / 0.08),
    0 14px 28px hsl(var(--shadow-color) / 0.22);
}

.metricLink:focus-visible {
  outline: 2px solid hsl(var(--accent) / 0.55);
  outline-offset: 2px;
}

.metricLabel {
  font-size: var(--font-label);
  letter-spacing: 0.16em;
  text-transform: uppercase;
  color: hsl(var(--muted-foreground) / 0.68);
}

.metricValue {
  font-size: var(--font-title-sm);
  font-weight: 600;
  color: hsl(var(--foreground));
  letter-spacing: -0.005em;
}

.metricCta {
  font-size: var(--font-small);
  color: hsl(var(--muted-foreground) / 0.72);
}

.cardActions {
  display: flex;
  justify-content: flex-end;
}

.primaryButton {
  box-shadow: 0 18px 30px hsl(var(--accent) / 0.24);
}

.primaryButton:hover {
  box-shadow: 0 16px 26px hsl(var(--accent) / 0.2);
}

.primaryButton:focus-visible {
  box-shadow:
    0 0 0 2px hsl(var(--background)),
    0 0 0 4px hsl(var(--accent) / 0.45),
    0 18px 30px hsl(var(--accent) / 0.24);
}

.progressBlock {
  position: relative;
  display: flex;
  align-items: center;
  gap: var(--space-3);
  padding: var(--space-3);
  border-radius: 16px;
  background: var(--planner-panel-surface);
  border: 1px solid var(--planner-panel-border);
  box-shadow: var(--planner-panel-shadow);
  -webkit-backdrop-filter: blur(14px);
  backdrop-filter: blur(14px);
}

.progressBlock :global(.progress-fill) {
  background: hsl(var(--accent));
}

.progressValue {
  font-size: var(--font-title-sm);
  font-weight: 600;
  color: hsl(var(--foreground));
}

.goalList {
  display: grid;
  gap: var(--space-3);
}

.goalItem {
  display: grid;
  gap: var(--space-1);
}

.goalTitle {
  font-size: var(--font-body);
  font-weight: 500;
  color: hsl(var(--foreground));
}

.goalDetail {
  font-size: var(--font-small);
  color: hsl(var(--muted-foreground) / 0.7);
}

.emptyGoal {
  font-size: var(--font-small);
  color: hsl(var(--muted-foreground) / 0.72);
}

.calendarStrip {
  display: grid;
  gap: var(--space-3);
}

.calendarMeta {
  display: flex;
  flex-direction: column;
  gap: var(--space-1);
}

.calendarSummary {
  font-size: var(--font-body);
  color: hsl(var(--muted-foreground) / 0.74);
}

.calendarDays {
  display: grid;
  grid-auto-flow: column;
  gap: var(--space-2);
  overflow-x: auto;
  padding-bottom: var(--space-1);
  list-style: none;
}

.calendarDay {
  display: grid;
  gap: var(--space-1);
  padding: var(--space-2);
  border-radius: 16px;
  border: 1px solid var(--planner-panel-border);
  background: hsl(var(--card) / 0.52);
  color: inherit;
  min-width: 76px;
  transition: transform 160ms ease, box-shadow 160ms ease, border-color 160ms ease;
}

.calendarDay:hover:not([aria-disabled="true"]),
.calendarDay:focus-visible {
  transform: translateY(-2px);
  box-shadow: 0 12px 20px hsl(var(--shadow-color) / 0.18);
  border-color: hsl(var(--accent) / 0.4);
}

.calendarDay:focus-visible {
  outline: 2px solid hsl(var(--accent) / 0.5);
  outline-offset: 2px;
}

.calendarDayToday {
  border-color: hsl(var(--accent) / 0.45);
}

.calendarDaySelected {
  background: hsl(var(--accent) / 0.24);
  color: hsl(var(--foreground));
}

.calendarDayDisabled {
  opacity: 0.45;
  cursor: not-allowed;
}

.calendarDayLabel {
  font-size: var(--font-label);
  text-transform: uppercase;
  letter-spacing: 0.16em;
  color: hsl(var(--muted-foreground) / 0.68);
}

.calendarDayNumber {
  font-size: var(--font-title-sm);
  font-weight: 600;
  color: hsl(var(--foreground));
}

.calendarDayCount {
  font-size: var(--font-small);
  color: hsl(var(--muted-foreground) / 0.68);
}

.miniGrid {
  display: grid;
  gap: var(--space-5);
}

@media (min-width: 64rem) {
  .miniGrid {
    grid-template-columns: repeat(12, minmax(0, 1fr));
  }

  .miniGrid > :global(*) {
    grid-column: span 4;
  }
}

.highlightList {
  margin-top: var(--space-2);
  display: grid;
  gap: var(--space-3);
}

.highlightList :global(li:first-child) {
  padding-block-start: 0;
}

.highlightList :global(li:last-child) {
  padding-block-end: 0;
}

.highlightListItem {
  display: grid;
  gap: var(--space-2);
}

.highlightEntry {
  display: grid;
  gap: var(--space-1);
}

.highlightHeader {
  display: flex;
  flex-wrap: wrap;
  align-items: baseline;
  justify-content: space-between;
  gap: var(--space-2);
}

.highlightTitle {
  font-size: var(--font-title-sm);
  font-weight: 600;
  color: hsl(var(--foreground));
}

.highlightSchedule {
  font-size: var(--font-small);
  color: hsl(var(--muted-foreground) / 0.7);
}

.highlightSummary {
  font-size: var(--font-small);
  color: hsl(var(--muted-foreground) / 0.7);
}

.tabPanelCard {
  padding: clamp(var(--space-4), 2.5vw, var(--space-5));
  border-radius: 20px;
  background: var(--planner-panel-soft);
  border: 1px solid var(--planner-panel-border);
  box-shadow: var(--planner-panel-shadow);
  -webkit-backdrop-filter: blur(18px);
  backdrop-filter: blur(18px);
}

.tabHeader {
  display: inline-flex;
  gap: var(--space-2);
  padding-bottom: var(--space-3);
  border-bottom: 1px solid hsl(var(--accent) / 0.28);
}

.tabButton {
  position: relative;
  padding: var(--space-2) var(--space-4);
  border-radius: 999px;
  background: hsl(var(--card) / 0.55);
  color: hsl(var(--muted-foreground) / 0.76);
  font-size: var(--font-label);
  letter-spacing: 0.18em;
  text-transform: uppercase;
  transition: transform 160ms ease, box-shadow 160ms ease, background 160ms ease;
}

.tabButton:hover,
.tabButton:focus-visible {
  transform: translateY(-2px);
  box-shadow: 0 12px 20px hsl(var(--shadow-color) / 0.18);
  background: hsl(var(--card) / 0.65);
}

.tabButton:focus-visible {
  outline: 2px solid hsl(var(--accent) / 0.5);
  outline-offset: 2px;
}

.tabButtonActive {
  background: hsl(var(--accent) / 0.28);
  color: hsl(var(--foreground));
}

.tabPanels {
  margin-top: var(--space-4);
}

.tabPanel {
  display: block;
}

.tabPanel[hidden] {
  display: none;
}

.calendarPanel {
  display: grid;
  gap: var(--space-3);
}

.aiPanel {
  position: relative;
  display: grid;
  gap: var(--space-3);
  padding: clamp(var(--space-4), 2.2vw, var(--space-5));
  border-radius: 20px;
  background: var(--planner-panel-soft);
  border: 1px solid var(--planner-panel-border);
  box-shadow: var(--planner-panel-shadow);
  -webkit-backdrop-filter: blur(18px);
  backdrop-filter: blur(18px);
}

.aiHeader {
  display: flex;
  flex-wrap: wrap;
  align-items: center;
  gap: var(--space-2);
}

.aiChip {
  display: inline-flex;
  align-items: center;
  gap: var(--space-1);
  padding: var(--space-1) var(--space-2);
  border-radius: 999px;
  background: var(--planner-chip-surface);
  border: 1px solid var(--planner-chip-border);
  color: hsl(var(--accent-foreground));
  font-size: var(--font-label);
  letter-spacing: 0.14em;
  text-transform: uppercase;
}

.aiCopy {
  font-size: var(--font-body);
  color: hsl(var(--muted-foreground) / 0.78);
}

.aiActions {
  display: flex;
  flex-wrap: wrap;
  gap: var(--space-3);
}

.secondaryButton {
  background: hsl(var(--card) / 0.55) !important;
  color: hsl(var(--muted-foreground) / 0.82) !important;
  box-shadow: inset 0 1px 0 hsl(var(--foreground) / 0.06) !important;
}

.secondaryButton:hover {
  background: hsl(var(--card) / 0.65) !important;
}

.aiHint {
  font-size: var(--font-small);
  color: hsl(var(--muted-foreground) / 0.7);
}
