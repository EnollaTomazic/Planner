.root {
  --panel-surface: color-mix(in oklab, hsl(var(--card)) 88%, hsl(var(--surface-2)) 12%);
  --panel-surface-soft: color-mix(in oklab, hsl(var(--panel-surface)) 82%, hsl(var(--surface)) 18%);
  --panel-border: hsl(var(--border) / 0.45);
  margin-top: clamp(var(--space-6), 6vh, var(--space-8));
  border-radius: var(--radius-2xl);
  padding: clamp(var(--space-6), 4vw, var(--space-7));
  background: var(--panel-surface);
  border: 1px solid var(--panel-border);
  box-shadow: 0 var(--space-2) var(--space-6) hsl(var(--surface) / 0.32);
  overflow: hidden;
  isolation: isolate;
}

.shell {
  position: relative;
  z-index: 1;
  row-gap: var(--space-5);
}

.widgetRow {
  position: relative;
  display: grid;
  gap: var(--space-5);
}

@media (min-width: 48rem) {
  .widgetRow {
    grid-template-columns: repeat(12, minmax(0, 1fr));
    align-items: stretch;
  }
  .splitHalf {
    grid-column: span 6;
  }
}

.section {
  position: relative;
  padding: clamp(var(--space-5), 3vw, var(--space-6));
  border-radius: var(--radius-xl);
  background: var(--panel-surface-soft);
  border: 1px solid hsl(var(--border) / 0.35);
  box-shadow: 0 var(--space-2) var(--space-5) hsl(var(--surface) / 0.28);
}

.sectionHeading {
  font-size: var(--font-label);
  letter-spacing: 0.14em;
  text-transform: uppercase;
  color: hsl(var(--muted-foreground));
  margin-bottom: var(--space-2);
}

.overviewRow {
  display: grid;
  gap: var(--space-6);
}

@media (min-width: 64rem) {
  .overviewRow {
    grid-template-columns: repeat(2, minmax(0, 1fr));
  }
}

.overviewCard {
  display: flex;
  flex-direction: column;
  gap: var(--space-5);
  padding: clamp(var(--space-5), 3vw, var(--space-6));
  border-radius: var(--radius-xl);
  background: var(--panel-surface-soft);
  border: 1px solid hsl(var(--border) / 0.35);
  box-shadow: 0 var(--space-2) var(--space-5) hsl(var(--surface) / 0.28);
}

.overviewHeader {
  display: grid;
  gap: var(--space-4);
}

.cardLabel {
  font-size: var(--font-label);
  letter-spacing: 0.14em;
  text-transform: uppercase;
  color: hsl(var(--muted-foreground));
}

.cardTitle {
  font-size: clamp(1.4rem, 2.2vw, 1.8rem);
  font-weight: 600;
  letter-spacing: -0.01em;
  color: hsl(var(--foreground));
}

.cardHint {
  font-size: var(--font-small);
  color: hsl(var(--muted-foreground));
}

.metricList {
  display: grid;
  gap: var(--space-4);
}

.metricItem {
  list-style: none;
}

.metricLink {
  display: grid;
  gap: var(--space-2);
  padding: var(--space-4);
  border-radius: var(--radius-xl);
  background: color-mix(in oklab, hsl(var(--panel-surface)) 90%, hsl(var(--surface)) 10%);
  border: 1px solid hsl(var(--border) / 0.35);
  text-decoration: none;
  transition: transform 160ms ease, box-shadow 160ms ease;
}

.metricLink:hover,
.metricLink:focus-visible {
  transform: translateY(calc(var(--space-2) * -0.5));
  box-shadow: 0 var(--space-2) var(--space-5) hsl(var(--surface) / 0.32);
}

.metricLink:focus-visible {
  outline: 2px solid hsl(var(--accent) / 0.55);
  outline-offset: 2px;
}

.metricLabel {
  font-size: var(--font-label);
  letter-spacing: 0.14em;
  text-transform: uppercase;
  color: hsl(var(--muted-foreground));
}

.metricValue {
  font-size: var(--font-title-sm);
  font-weight: 600;
  color: hsl(var(--foreground));
  letter-spacing: -0.005em;
}

.metricCta {
  font-size: var(--font-small);
  color: hsl(var(--muted-foreground));
}

.cardActions {
  display: flex;
  justify-content: flex-end;
}

.primaryButton {
  box-shadow: var(--shadow-depth-soft) !important;
}

.primaryButton:hover,
.primaryButton:focus-visible {
  box-shadow: 0 var(--space-2) var(--space-5) hsl(var(--surface) / 0.32) !important;
}

.progressBlock {
  position: relative;
  display: flex;
  align-items: center;
  gap: var(--space-4);
  padding: var(--space-4);
  border-radius: var(--radius-xl);
  background: color-mix(in oklab, hsl(var(--panel-surface)) 88%, hsl(var(--surface)) 12%);
  border: 1px solid hsl(var(--border) / 0.35);
}

.progressBlock :global(.progress-fill) {
  background: hsl(var(--accent));
}

.progressValue {
  font-size: var(--font-title-sm);
  font-weight: 600;
  color: hsl(var(--foreground));
  min-width: 3ch;
}

.goalList {
  display: grid;
  gap: var(--space-4);
}

.goalItem {
  display: grid;
  gap: var(--space-2);
}

.goalTitle {
  font-size: var(--font-body);
  font-weight: 600;
  color: hsl(var(--foreground));
}

.goalDetail {
  font-size: var(--font-small);
  color: hsl(var(--muted-foreground));
}

.emptyGoal {
  font-size: var(--font-small);
  color: hsl(var(--muted-foreground));
}

.calendarStrip {
  display: grid;
  gap: var(--space-4);
}

.calendarMeta {
  display: flex;
  flex-direction: column;
  gap: var(--space-2);
}

.calendarSummary {
  font-size: var(--font-small);
  color: hsl(var(--muted-foreground));
}

.calendarDays {
  display: grid;
  grid-auto-flow: column;
  gap: var(--space-4);
  overflow-x: auto;
  padding-bottom: var(--space-2);
}

.calendarDays li {
  list-style: none;
}

.calendarDay {
  display: grid;
  gap: var(--space-2);
  padding: var(--space-2) var(--space-4);
  border-radius: var(--radius-xl);
  border: 1px solid hsl(var(--border) / 0.35);
  background: color-mix(in oklab, hsl(var(--panel-surface)) 84%, hsl(var(--surface)) 16%);
  min-width: 96px;
  transition: transform 160ms ease, box-shadow 160ms ease;
}

.calendarDay:hover:not(.calendarDayDisabled),
.calendarDay:focus-visible:not(.calendarDayDisabled) {
  transform: translateY(calc(var(--space-2) * -0.5));
  box-shadow: 0 var(--space-2) var(--space-5) hsl(var(--surface) / 0.32);
}

.calendarDay:focus-visible {
  outline: 2px solid hsl(var(--accent) / 0.5);
  outline-offset: 2px;
}

.calendarDayToday {
  border-color: hsl(var(--accent) / 0.5);
}

.calendarDaySelected {
  background: color-mix(in oklab, hsl(var(--accent) / 0.25), hsl(var(--panel-surface)) 70%);
}

.calendarDayDisabled {
  opacity: 0.45;
  cursor: not-allowed;
}

.calendarDayLabel {
  font-size: var(--font-label);
  text-transform: uppercase;
  letter-spacing: 0.14em;
  color: hsl(var(--muted-foreground));
}

.calendarDayNumber {
  font-size: var(--font-title-sm);
  font-weight: 600;
  color: hsl(var(--foreground));
}

.calendarDayCount {
  font-size: var(--font-small);
  color: hsl(var(--muted-foreground));
}

.miniGrid {
  display: grid;
  gap: var(--space-6);
}

@media (min-width: 64rem) {
  .miniGrid {
    grid-template-columns: repeat(12, minmax(0, 1fr));
  }
  .miniGrid > :global(*) {
    grid-column: span 4;
  }
}

.highlightList {
  margin-top: var(--space-4);
}

.highlightList :global(li:first-child) {
  padding-block-start: 0;
}

.highlightList :global(li:last-child) {
  padding-block-end: 0;
}

.highlightListItem {
  display: grid;
  gap: var(--space-4);
}

.highlightEntry {
  display: grid;
  gap: var(--space-2);
}

.highlightHeader {
  display: flex;
  flex-wrap: wrap;
  align-items: baseline;
  justify-content: space-between;
  gap: var(--space-2);
}

.highlightTitle {
  font-size: var(--font-title-sm);
  font-weight: 600;
  color: hsl(var(--foreground));
}

.highlightSchedule {
  font-size: var(--font-small);
  color: hsl(var(--muted-foreground));
}

.highlightSummary {
  font-size: var(--font-small);
  color: hsl(var(--muted-foreground));
}

.tabPanelCard {
  padding: clamp(var(--space-5), 3vw, var(--space-6));
  border-radius: var(--radius-xl);
  background: var(--panel-surface-soft);
  border: 1px solid hsl(var(--border) / 0.35);
  box-shadow: 0 var(--space-2) var(--space-5) hsl(var(--surface) / 0.28);
}

.tabHeader {
  display: inline-flex;
  gap: var(--space-4);
  padding-bottom: var(--space-4);
  border-bottom: 1px solid hsl(var(--border) / 0.35);
}

.tabButton {
  position: relative;
  padding: var(--space-2) var(--space-4);
  border-radius: var(--radius-full);
  background: color-mix(in oklab, hsl(var(--panel-surface)) 86%, hsl(var(--surface)) 14%);
  color: hsl(var(--muted-foreground));
  font-size: var(--font-label);
  letter-spacing: 0.16em;
  text-transform: uppercase;
  transition: transform 160ms ease, box-shadow 160ms ease, background 160ms ease;
}

.tabButton:hover,
.tabButton:focus-visible {
  transform: translateY(calc(var(--space-2) * -0.5));
  box-shadow: 0 var(--space-2) var(--space-5) hsl(var(--surface) / 0.32);
}

.tabButton:focus-visible {
  outline: 2px solid hsl(var(--accent) / 0.5);
  outline-offset: 2px;
}

.tabButtonActive {
  background: hsl(var(--accent) / 0.25);
  color: hsl(var(--foreground));
}

.tabPanels {
  margin-top: var(--space-5);
}

.tabPanel {
  display: block;
}

.tabPanel[hidden] {
  display: none;
}

.calendarPanel {
  display: grid;
  gap: var(--space-4);
}

.aiPanel {
  position: relative;
  display: grid;
  gap: var(--space-4);
  padding: clamp(var(--space-5), 3vw, var(--space-6));
  border-radius: var(--radius-xl);
  background: var(--panel-surface-soft);
  border: 1px solid hsl(var(--border) / 0.35);
  box-shadow: 0 var(--space-2) var(--space-5) hsl(var(--surface) / 0.28);
}

.aiHeader {
  display: flex;
  flex-wrap: wrap;
  align-items: center;
  gap: var(--space-4);
}

.aiChip {
  display: inline-flex;
  align-items: center;
  gap: var(--space-2);
  padding: var(--space-2) var(--space-4);
  border-radius: var(--radius-full);
  background: hsl(var(--accent) / 0.18);
  border: 1px solid hsl(var(--accent) / 0.35);
  color: hsl(var(--accent-foreground));
  font-size: var(--font-label);
  letter-spacing: 0.14em;
  text-transform: uppercase;
}

.aiCopy {
  font-size: var(--font-body);
  color: hsl(var(--muted-foreground));
}

.aiActions {
  display: flex;
  flex-wrap: wrap;
  gap: var(--space-4);
}

.secondaryButton {
  background: color-mix(in oklab, hsl(var(--panel-surface)) 86%, hsl(var(--surface)) 14%) !important;
  color: hsl(var(--foreground)) !important;
  box-shadow: none !important;
}

.secondaryButton:hover,
.secondaryButton:focus-visible {
  box-shadow: 0 var(--space-2) var(--space-5) hsl(var(--surface) / 0.28) !important;
}

.aiHint {
  font-size: var(--font-small);
  color: hsl(var(--muted-foreground));
}
