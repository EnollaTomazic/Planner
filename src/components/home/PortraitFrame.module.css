.root {
  --portrait-glow: clamp(var(--space-6), 14vw, var(--space10));
}

.inner {
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
  background:
    linear-gradient(160deg, hsl(var(--surface-2) / 0.96), hsl(var(--surface) / 0.86));
  box-shadow:
    inset 0 0 0 calc(var(--hairline-w) * 2) hsl(var(--card-hairline) / 0.45),
    inset 0 calc(var(--space-1) * -0.6) calc(var(--space-3) / 1.6)
      hsl(var(--shadow-color) / 0.3),
    0 calc(var(--space-1) / 2) calc(var(--space-3)) hsl(var(--shadow-color) / 0.16);
}

.innerTransparent {
  background: hsl(var(--surface) / 0.08);
  box-shadow:
    inset 0 0 0 calc(var(--hairline-w) * 1.4) hsl(var(--card-hairline) / 0.32),
    0 calc(var(--space-1) / 2) calc(var(--space-3)) hsl(var(--shadow-color) / 0.12);
}

.rim {
  background:
    linear-gradient(145deg, hsl(var(--surface-2) / 0.82), hsl(var(--surface) / 0.98));
  box-shadow:
    0 calc(var(--space-1) / 2) calc(var(--space-3)) hsl(var(--shadow-color) / 0.24),
    inset 0 0 0 calc(var(--hairline-w) * 2) hsl(var(--card-hairline) / 0.38);
}

.glow {
  background: radial-gradient(
    circle at 50% 20%,
    hsl(var(--accent-2) / 0.8),
    hsl(var(--accent-1) / 0.28) 60%,
    transparent 100%
  );
  filter: blur(calc(var(--portrait-glow) / 1.6));
  opacity: 0.88;
}

.portraitImage {
  width: 100%;
  height: 100%;
  object-fit: cover;
  object-position: center 36%;
  border-radius: inherit;
  filter: drop-shadow(0 calc(var(--space-1) / 2) calc(var(--space-3)) hsl(var(--shadow-color) / 0.45));
}

.imageAngel {
  object-position: center 34%;
  filter: drop-shadow(0 calc(var(--space-1)) calc(var(--space-4)) hsl(var(--accent-2) / 0.35));
}

.imageDemon {
  object-position: center 30%;
  filter: drop-shadow(0 calc(var(--space-1)) calc(var(--space-4)) hsl(var(--lav-deep) / 0.45));
}

.imageDuoBackToBack {
  object-position: center 42%;
}

.rimLighting {
  position: absolute;
  inset: calc(var(--space-1) * -0.3);
  border-radius: inherit;
  pointer-events: none;
  background: radial-gradient(
      circle at 36% 24%,
      hsl(var(--highlight) / 0.45),
      transparent 70%
    ),
    radial-gradient(circle at 70% 26%, hsl(var(--accent-1) / 0.4), transparent 72%);
  mix-blend-mode: screen;
  opacity: 0.55;
}

.bloom {
  position: absolute;
  inset: calc(var(--space-3) * -1.2);
  border-radius: inherit;
  pointer-events: none;
  background: radial-gradient(
    circle at 50% 40%,
    hsl(var(--accent-2) / 0.45),
    transparent 72%
  );
  opacity: 0.58;
  filter: blur(calc(var(--space-4) / 1.4));
}

.bloomAngel {
  background: radial-gradient(
    circle at 46% 30%,
    hsl(var(--accent-2) / 0.55),
    hsl(var(--highlight) / 0.32) 40%,
    transparent 80%
  );
}

.bloomDemon {
  background: radial-gradient(
    circle at 52% 44%,
    hsl(var(--lav-deep) / 0.6),
    hsl(var(--accent-1) / 0.3) 55%,
    transparent 84%
  );
}

.bloomDuo {
  background: radial-gradient(
      circle at 36% 32%,
      hsl(var(--accent-2) / 0.4),
      transparent 75%
    ),
    radial-gradient(
      circle at 64% 42%,
      hsl(var(--lav-deep) / 0.46),
      transparent 78%
    );
}

.stage {
  position: absolute;
  inset: calc(var(--space-1) * 0.8);
  border-radius: inherit;
  pointer-events: none;
  background:
    radial-gradient(
      circle at 50% 82%,
      hsl(var(--surface-2) / 0.32),
      transparent 72%
    ),
    radial-gradient(
      circle at 40% 20%,
      hsl(var(--accent-2) / 0.24),
      transparent 70%
    ),
    radial-gradient(
      circle at 64% 24%,
      hsl(var(--accent-1) / 0.22),
      transparent 74%
    );
  mix-blend-mode: screen;
  opacity: 0.72;
}

.stageTransparent {
  opacity: 0.4;
  mix-blend-mode: lighten;
}

.stageBackToBack {
  background:
    radial-gradient(
      circle at 32% 26%,
      hsl(var(--accent-2) / 0.2),
      transparent 74%
    ),
    radial-gradient(
      circle at 68% 34%,
      hsl(var(--lav-deep) / 0.26),
      transparent 76%
    ),
    radial-gradient(
      circle at 50% 82%,
      hsl(var(--surface-2) / 0.28),
      transparent 72%
    );
}

.pulseRing {
  position: absolute;
  inset: calc(var(--space-4) * -1.3);
  border-radius: inherit;
  background: radial-gradient(
    circle at 50% 50%,
    hsl(var(--accent-1) / 0.45),
    transparent 70%
  );
  opacity: 0;
  transform: scale(0.94);
  transition:
    opacity var(--motion-duration-md) var(--ease-out),
    transform var(--motion-duration-md) var(--ease-out);
  z-index: -1;
}

.pulseRingActive {
  opacity: 0.6;
  transform: scale(1);
  animation: pulseHalo 2.4s var(--ease-out) infinite;
}

@keyframes pulseHalo {
  0% {
    opacity: 0.55;
    transform: scale(0.96);
  }
  40% {
    opacity: 0.4;
    transform: scale(1.02);
  }
  100% {
    opacity: 0;
    transform: scale(1.08);
  }
}

@media (prefers-reduced-motion: reduce) {
  .pulseRing {
    transition-duration: var(--motion-duration-sm);
  }

  .pulseRingActive {
    animation: none;
    opacity: 0.45;
  }
}
