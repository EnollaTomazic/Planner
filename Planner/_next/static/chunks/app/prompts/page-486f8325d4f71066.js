(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[942],{8899:(e,t,r)=>{"use strict";r.d(t,{PromptsPage:()=>b});var a=r(95155),s=r(12115),n=r(91182),l=r(45167),i=r(67419),u=r(29825),c=r(32413),o=r(66290),d=r(12621),p=r(20637);let h=s.lazy(async()=>({default:(await r.e(2289).then(r.bind(r,12289))).ChatPromptsTab})),m=s.lazy(async()=>({default:(await r.e(444).then(r.bind(r,50444))).CodexPromptsTab})),f=s.lazy(async()=>({default:(await r.e(6053).then(r.bind(r,96053))).NotesTab})),v=[{key:"chat",label:"ChatGPT"},{key:"codex",label:"Codex review"},{key:"notes",label:"Notes"}];function b(){let{prompts:e,query:t,setQuery:r,filtered:h,save:m}=(0,c.r)(),{prompts:b,query:C,setQuery:k,filtered:j,save:N}=(0,o.M)(),[w]=(0,p.v)(),[S,P]=(0,d.b)(),[T,E]=(0,i.ud)("prompts.tab.v1","chat"),M=s.useRef(null),q=s.useRef(null),[L,A]=s.useState(!1),[R,_]=s.useState(!1),z=s.useMemo(()=>v.map(t=>{if("chat"===t.key)return{...t,badge:e.length>0?e.length:void 0};if("codex"===t.key)return{...t,badge:b.length>0?b.length:void 0};let r=S.trim().length>0;return{...t,badge:r?1:void 0}}),[e.length,b.length,S]),B=s.useMemo(()=>"chat"===T?t:"codex"===T?C:"",[T,t,C]),Q=s.useCallback(e=>{if("chat"===T)return void r(e);"codex"===T&&k(e)},[T,r,k]),F=s.useCallback(()=>{var e,t;if("chat"===T){null==(e=M.current)||e.call(M);return}"codex"===T&&(null==(t=q.current)||t.call(q))},[T]),G=s.useMemo(()=>"chat"===T?!L:"codex"!==T||!R,[T,L,R]),K=s.useMemo(()=>"chat"===T?e.length:"codex"===T?b.length:+(S.trim().length>0),[T,e.length,b.length,S]);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.qK,{as:"header",className:"py-[var(--space-6)]",children:(0,a.jsx)(u.X,{id:"prompts-header",count:K,query:B,onQueryChange:Q,onSave:F,disabled:G})}),(0,a.jsx)(n.qK,{as:"section",className:"space-y-[var(--space-6)] py-[var(--space-6)]","aria-labelledby":"prompts-header",children:(0,a.jsxs)(l.Tabs,{value:T,onValueChange:E,idBase:"prompts-tabs",children:[(0,a.jsx)(l.TabList,{items:z,ariaLabel:"Prompt workspaces",variant:"neo",showBaseline:!0}),(0,a.jsx)(l.TabPanel,{value:"chat",className:"pb-[var(--space-8)]",children:(0,a.jsx)(s.Suspense,{fallback:(0,a.jsx)(y,{children:"Loading ChatGPT workspace…"}),children:(0,a.jsx)(x,{prompts:h,query:t,personas:w,savePrompt:m,saveRef:M,onCanSaveChange:A})})}),(0,a.jsx)(l.TabPanel,{value:"codex",className:"pb-[var(--space-8)]",children:(0,a.jsx)(s.Suspense,{fallback:(0,a.jsx)(y,{children:"Loading Codex checklist…"}),children:(0,a.jsx)(g,{prompts:j,query:C,savePrompt:N,saveRef:q,onCanSaveChange:_})})}),(0,a.jsx)(l.TabPanel,{value:"notes",className:"pb-[var(--space-8)]",children:(0,a.jsx)(s.Suspense,{fallback:(0,a.jsx)(y,{children:"Preparing notes…"}),children:(0,a.jsx)(f,{value:S,onChange:P})})})]})})]})}function x(e){let{prompts:t,query:r,personas:n,savePrompt:l,saveRef:i,onCanSaveChange:u}=e,[c,o]=s.useState(""),[d,p]=s.useState(""),m=s.useMemo(()=>!!(c.trim()||d.trim()),[d,c]);s.useEffect(()=>{u(m)},[m,u]),s.useEffect(()=>()=>{u(!1)},[u]);let f=s.useCallback(()=>{l(c,d)&&(o(""),p(""))},[l,d,c]);return s.useEffect(()=>(i.current=f,()=>{i.current===f&&(i.current=null)}),[f,i]),(0,a.jsx)(h,{title:c,text:d,onTitleChange:o,onTextChange:p,prompts:t,query:r,personas:n})}function g(e){let{prompts:t,query:r,savePrompt:n,saveRef:l,onCanSaveChange:i}=e,[u,c]=s.useState(""),[o,d]=s.useState(""),p=s.useMemo(()=>!!(u.trim()||o.trim()),[o,u]);s.useEffect(()=>{i(p)},[p,i]),s.useEffect(()=>()=>{i(!1)},[i]);let h=s.useCallback(()=>{n(u,o)&&(c(""),d(""))},[n,o,u]);return s.useEffect(()=>(l.current=h,()=>{l.current===h&&(l.current=null)}),[h,l]),(0,a.jsx)(m,{title:u,text:o,onTitleChange:c,onTextChange:d,prompts:t,query:r})}function y(e){let{children:t}=e;return(0,a.jsx)("div",{role:"status","aria-live":"polite",className:"rounded-[var(--radius-md)] border border-dashed border-border bg-muted/30 p-[var(--space-4)] text-center text-ui text-muted-foreground",children:t})}},12591:(e,t,r)=>{"use strict";r.d(t,{N:()=>i});var a=r(12115),s=r(67419);function n(e){if(!Array.isArray(e))return null;let t=[];for(let r of e){let e=function(e){if(!("object"==typeof e&&null!==e&&!Array.isArray(e)))return null;let t=e.id,r=e.text,a=e.createdAt;if("string"!=typeof t||"string"!=typeof r||"number"!=typeof a||!Number.isFinite(a))return null;let s={id:t,text:r,createdAt:a},n=e.title;return"string"==typeof n&&(s.title=n),s}(r);e&&t.push(e)}return t}let l=[];function i(e){let[t,i]=(0,s.ud)(e,l,{decode:n}),[u,c]=a.useState(""),o=a.useMemo(()=>t.map(e=>{var t;return{...e,title:e.title&&e.title.trim()?e.title.trim():(null==(t=(e.text||"").split(/\r?\n/).find(e=>e.trim()))?void 0:t.trim())||"Untitled"}}),[t]),d=a.useRef(null),p=a.useRef(null),[h,m]=a.useState(o),f=a.useCallback(async()=>{d.current||(d.current=r.e(3736).then(r.bind(r,93736)));let{default:e}=await d.current;if(p.current)return p.current.setCollection(o),p.current;let t=new e(o,{keys:["title","text"],threshold:.3});return p.current=t,t},[o]);return a.useEffect(()=>{let e=u.trim();if(!e)return void m(o);let t=!1;if(!p.current){let t=e.toLowerCase();m(o.filter(e=>e.title.toLowerCase().includes(t)||e.text.toLowerCase().includes(t)))}return(async()=>{let r=await f();if(t)return;let a=r.search(e);t||m(a.map(e=>e.item))})(),()=>{t=!0}},[f,u,o]),{prompts:t,query:u,setQuery:c,filtered:h,save:a.useCallback((e,t)=>{var r;let a=t.trim(),n=e.trim()||(null==(r=a.split(/\r?\n/)[0])?void 0:r.trim())||"Untitled";if(!a&&!e.trim())return!1;let l={id:(0,s.uid)("p"),title:n,text:a,createdAt:Date.now()};return i(e=>[l,...e]),!0},[i])}}},12621:(e,t,r)=>{"use strict";r.d(t,{b:()=>s});var a=r(67419);function s(){return(0,a.ud)("prompts.notes.v1","")}},20637:(e,t,r)=>{"use strict";r.d(t,{v:()=>n});var a=r(67419);let s=[];function n(){return(0,a.ud)("prompts.personas.v1",s)}},29825:(e,t,r)=>{"use strict";r.d(t,{X:()=>u});var a=r(95155),s=r(12115),n=r(91182),l=r(61920);let i=["hover","focus","active","disabled","loading"];function u(e){let{id:t="prompts-header",count:r,query:u,onQueryChange:c,onSave:o,disabled:d}=e,p=s.useCallback(e=>{c(u===e?"":e)},[c,u]),h="".concat(t,"-search");return(0,a.jsx)(n.zY,{containerClassName:"relative isolate",header:{id:t,heading:"Prompts",sticky:!1,right:(0,a.jsxs)("span",{className:"pill","aria-live":"polite",children:[r," saved"]})},hero:{sticky:!1,tone:"supportive",topClassName:"top-[var(--header-stack)]",heading:(0,a.jsx)("span",{className:"sr-only",id:"".concat(t,"-hero"),children:"Prompt workspace controls"}),children:(0,a.jsx)("div",{className:"hidden sm:flex flex-wrap items-center gap-[var(--space-2)]",children:i.map(e=>{let t=u===e;return(0,a.jsx)(l.Badge,{interactive:!0,selected:t,"aria-pressed":t,onClick:()=>p(e),children:e},e)})}),search:{id:h,value:u,onValueChange:c,debounceMs:300,placeholder:"Search prompts…","aria-label":"Search prompts",variant:"neo",round:!0},actions:(0,a.jsx)(n.$n,{type:"button",variant:"default",onClick:o,disabled:d,children:"Save"})}})}},32413:(e,t,r)=>{"use strict";r.d(t,{r:()=>s});var a=r(12591);function s(){return(0,a.N)("prompts.chat.v1")}},66290:(e,t,r)=>{"use strict";r.d(t,{M:()=>s});var a=r(12591);function s(){return(0,a.N)("prompts.codex.v1")}},70253:(e,t,r)=>{Promise.resolve().then(r.bind(r,8899))}},e=>{e.O(0,[1925,603,8087,3498,1182,8441,1255,7358],()=>e(e.s=70253)),_N_E=e.O()}]);
//# sourceMappingURL=page-486f8325d4f71066.js.map