"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8899],{8899:(e,t,r)=>{r.d(t,{PromptsPage:()=>g});var a=r(95155),l=r(12115),s=r(80948),n=r(97684),i=r(67419),c=r(27566),o=r(12289),d=r(29825),u=r(32413),p=r(66290),m=r(12621),f=r(20637);let h=l.lazy(async()=>({default:(await r.e(444).then(r.bind(r,50444))).CodexPromptsTab})),x=l.lazy(async()=>({default:(await r.e(6053).then(r.bind(r,96053))).NotesTab})),v=[{key:"chat",label:"ChatGPT"},{key:"codex",label:"Codex review"},{key:"notes",label:"Notes"}],b="prompts-tabs";function g(){let{prompts:e,query:t,setQuery:r,filtered:o,save:h,update:g,remove:k}=(0,u.r)(),{prompts:C,query:w,setQuery:P,filtered:S,save:q,update:T,remove:A}=(0,p.M)(),[D]=(0,f.v)(),[I,M]=(0,m.b)(),[R,E]=(0,i.ud)("prompts.tab.v1","chat"),G=l.useMemo(()=>v.map(t=>{if("chat"===t.key)return{value:t.key,label:t.label,badge:e.length>0?e.length:void 0};if("codex"===t.key)return{value:t.key,label:t.label,badge:C.length>0?C.length:void 0};let r=I.trim().length>0;return{value:t.key,label:t.label,badge:r?1:void 0}}),[e.length,C.length,I]),L=l.useMemo(()=>"chat"===R?t:"codex"===R?w:"",[R,t,w]),z=l.useCallback(e=>{if("chat"===R)return void r(e);"codex"===R&&P(e)},[R,r,P]),F=l.useMemo(()=>"chat"===R?e.length:"codex"===R?C.length:+(I.trim().length>0),[R,e.length,C.length,I]);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(s.qK,{as:"header",className:"py-[var(--space-6)]",children:(0,a.jsx)(d.X,{id:"prompts-header",count:F,query:L,onQueryChange:z})}),(0,a.jsxs)(s.qK,{as:"main",id:"page-main",tabIndex:-1,className:"space-y-[var(--space-6)] py-[var(--space-6)]","aria-labelledby":"prompts-header",children:[(0,a.jsx)(n.SegmentedControl,{options:G,value:R,onValueChange:E,ariaLabel:"Prompt workspaces",size:"md",className:"w-full",idBase:b}),v.map(e=>{let r,s=R===e.key,n="".concat(b,"-").concat(e.key,"-tab"),i="".concat(b,"-").concat(e.key,"-panel");return r="chat"===e.key?(0,a.jsx)(y,{prompts:o,query:t,personas:D,savePrompt:h,updatePrompt:g,deletePrompt:k}):"codex"===e.key?(0,a.jsx)(l.Suspense,{fallback:(0,a.jsx)(N,{children:"Loading Codex checklist…"}),children:(0,a.jsx)(j,{prompts:S,query:w,savePrompt:q,updatePrompt:T,deletePrompt:A})}):(0,a.jsx)(l.Suspense,{fallback:(0,a.jsx)(N,{children:"Preparing notes…"}),children:(0,a.jsx)(x,{value:I,onChange:M})}),(0,a.jsx)("div",{role:"tabpanel",id:i,"aria-labelledby":n,hidden:!s,tabIndex:s?0:-1,"data-state":s?"active":"inactive",className:(0,c.cn)("focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background focus-visible:shadow-[var(--shadow-glow-md)]","pb-[var(--space-8)]"),children:s?r:null},e.key)})]})]})}function y(e){let{prompts:t,query:r,personas:s,savePrompt:n,updatePrompt:i,deletePrompt:c}=e,d=l.useCallback((e,t,r)=>n(e,t),[n]);return(0,a.jsx)(o.$,{prompts:t,query:r,personas:s,savePrompt:d,updatePrompt:i,deletePrompt:c})}function j(e){let{prompts:t,query:r,savePrompt:s,updatePrompt:n,deletePrompt:i}=e,c=l.useCallback((e,t,r)=>s(e,t),[s]);return(0,a.jsx)(h,{prompts:t,query:r,savePrompt:c,updatePrompt:n,deletePrompt:i})}function N(e){let{children:t}=e;return(0,a.jsx)("div",{role:"status","aria-live":"polite",className:"rounded-[var(--radius-md)] border border-dashed border-border bg-muted/30 p-[var(--space-4)] text-center text-ui text-muted-foreground",children:t})}},12289:(e,t,r)=>{r.d(t,{$:()=>u});var a=r(95155),l=r(12115),s=r(80948),n=r(12414),i=r(21880),c=r(27566);let o=[{value:"ChatGPT",label:"ChatGPT"},{value:"Codex review",label:"Codex review"},{value:"Notes",label:"Notes"}],d=()=>({title:"",prompt:"",category:"ChatGPT"});function u(e){let{prompts:t,query:r,personas:u,savePrompt:p,updatePrompt:m,deletePrompt:f}=e,h=l.useId(),x=l.useId(),v=l.useId(),b=l.useId(),[g,y]=l.useState(d),j=l.useRef(g);l.useEffect(()=>{j.current=g},[g]);let[N,k]=l.useState(null),C=l.useCallback(()=>{let e=d();j.current=e,y(e),k(null)},[]),w=l.useCallback(e=>{var t,r,a,l,s;let n=null!=(a=null==(t=e.title)?void 0:t.trim())?a:"",i=null!=(l=null==(r=e.prompt)?void 0:r.trim())?l:"";if(!n||!i)return!1;let c=null!=(s=e.category)?s:"ChatGPT";if(N){let e=m(N,n,i);return e&&C(),e}let o=p(n,i,c);return o&&C(),o},[N,C,p,m]),P=l.useCallback(e=>{var t,r,a;let s=null!=(t=e.title)?t:"",n=null!=(r=e.prompt)?r:"",i=null!=(a=e.category)?a:"ChatGPT",c=j.current;if(c.title===s&&c.prompt===n&&c.category===i)return;let o={title:s,prompt:n,category:i};l.startTransition(()=>{j.current=o,y(o)})},[]),S=l.useCallback(e=>{var t;let r={title:e.title,prompt:e.text,category:null!=(t=j.current.category)?t:"ChatGPT"};j.current=r,y(r),k(e.id)},[]),q=l.useCallback(e=>{f(e.id)&&N===e.id&&C()},[f,N,C]),T=l.useMemo(()=>{var e,t,r,a;let l=null!=(r=null==(e=g.title)?void 0:e.trim())?r:"",s=null!=(a=null==(t=g.prompt)?void 0:t.trim())?a:"";return 0===l.length||0===s.length},[g.prompt,g.title]),A=N?"Update":"Save";return(0,a.jsxs)("div",{className:"flex flex-col gap-[var(--space-6)]",children:[(0,a.jsxs)("section",{"aria-labelledby":h,className:"flex flex-col gap-[var(--space-3)]",children:[(0,a.jsxs)("div",{className:"space-y-[var(--space-1)]",children:[(0,a.jsx)("h3",{id:h,className:"type-title",children:"Compose prompt"}),(0,a.jsx)("p",{className:"text-ui text-muted-foreground",children:"Draft a ChatGPT request and save it for future reuse."})]}),(0,a.jsx)(s.Ub,{className:"p-[var(--space-4)]",children:(0,a.jsx)(n.C,{id:"chat-prompts-form-".concat(b),title:"New ChatGPT prompt",fields:[{id:"title",label:"Title",placeholder:"Review macro calls",required:!0},{id:"category",label:"Category",type:"select",options:o,defaultValue:"ChatGPT"},{id:"prompt",label:"Prompt",placeholder:"Write your prompt or snippet…",type:"textarea",rows:6,required:!0}],initialValues:g,submitLabel:A,submitDisabled:T,onSubmit:w,onValuesChange:P})})]}),(0,a.jsxs)("section",{"aria-labelledby":x,className:"flex flex-col gap-[var(--space-3)]",children:[(0,a.jsxs)("div",{className:"space-y-[var(--space-1)]",children:[(0,a.jsx)("h3",{id:x,className:"type-title",children:"Personas"}),(0,a.jsx)("p",{className:"text-ui text-muted-foreground",children:"Keep tailored introductions to quickly set tone and context."})]}),u.length>0?(0,a.jsx)("ul",{className:"grid gap-[var(--space-3)] md:grid-cols-2",children:u.map(e=>(0,a.jsx)("li",{children:(0,a.jsxs)(s.Zp,{className:"flex h-full flex-col gap-[var(--space-3)] p-[var(--space-4)]",children:[(0,a.jsxs)("header",{className:"space-y-[var(--space-1)]",children:[(0,a.jsx)("h4",{className:"font-semibold text-body",children:e.name}),e.description?(0,a.jsx)("p",{className:"text-ui text-muted-foreground",children:e.description}):null,(0,a.jsxs)("time",{dateTime:new Date(e.createdAt).toISOString(),className:"block text-label text-muted-foreground",children:["Added ",new Date(e.createdAt).toLocaleString(c.ne)]})]}),(0,a.jsx)("p",{className:"whitespace-pre-wrap rounded-[var(--radius-md)] bg-card/60 p-[var(--space-3)] text-ui",children:e.prompt})]})},e.id))}):(0,a.jsx)("p",{className:"text-ui text-muted-foreground",children:"No personas yet. Start a collection to keep favorite tones handy."})]}),(0,a.jsxs)("section",{"aria-labelledby":v,className:"flex flex-col gap-[var(--space-3)]",children:[(0,a.jsxs)("div",{className:"space-y-[var(--space-1)]",children:[(0,a.jsx)("h3",{id:v,className:"type-title",children:"Reusable prompts"}),(0,a.jsx)("p",{className:"text-ui text-muted-foreground",children:"Saved ChatGPT prompts appear here with newest first."})]}),(0,a.jsx)(i.q,{prompts:t,query:r,onSelectPrompt:S,onEditPrompt:S,onDeletePrompt:q})]})]})}},12414:(e,t,r)=>{r.d(t,{C:()=>c});var a=r(95155),l=r(12115),s=r(80948),n=r(27566);let i=(e,t)=>{let r=Object.keys(e),a=Object.keys(t);if(r.length!==a.length)return!1;for(let a of r)if(e[a]!==t[a])return!1;return!0},c=l.forwardRef((e,t)=>{let{id:r,title:c,description:o,className:d,contentClassName:u,submitLabel:p="Save",submitDisabled:m,resetOnSubmit:f=!0,initialValues:h,fields:x,onSubmit:v,onValuesChange:b,afterFields:g,footer:y,actions:j,statusBadge:N}=e,k=l.useId(),C=null!=r?r:k,w=l.useMemo(()=>{let e={};for(let a of x){var t,r;let l=a.id;e[l]=null!=(r=null!=(t=null==h?void 0:h[l])?t:a.defaultValue)?r:""}return e},[x,h]),[P,S]=l.useState(w),q=l.useRef(P);l.useEffect(()=>{q.current=P},[P]);let T=l.useMemo(()=>x.map(e=>e.id),[x]),A=l.useRef(w),D=l.useRef(h),I=l.useRef(T),M=l.useRef(!0);l.useEffect(()=>{let e=A.current,t=D.current,r=I.current,a=r.length!==T.length||T.some((e,t)=>e!==r[t])||!i(e,w),l=!((e,t)=>e===t||!!e&&!!t&&i(e,t))(t,h),s=!i(q.current,w);if(M.current||a||l&&s){M.current=!1,A.current=w,D.current=h,I.current=T,q.current=w,S(w);return}A.current=w,D.current=h,I.current=T,M.current=!1},[w,T,h,b]);let R=l.useRef(null),E=l.useCallback((e,t)=>{S(r=>({...r,[e]:t}))},[]),G=l.useCallback(()=>{S(w)},[w]);l.useImperativeHandle(t,()=>({focus:e=>{var t;null==(t=R.current)||t.focus(e)},reset:G}),[G]),l.useEffect(()=>{b&&b(P)},[b,P]);let L=l.useCallback(async e=>{if(e.preventDefault(),!v)return;let t=await v(P);f&&!1!==t&&G()},[v,f,G,P]);return(0,a.jsx)("form",{id:C,onSubmit:L,className:d,children:(0,a.jsxs)("div",{className:(0,n.cn)("flex flex-col gap-[var(--space-4)]",u),children:[(c||o||N)&&(0,a.jsx)("header",{className:"space-y-[var(--space-2)]",children:(0,a.jsxs)("div",{className:"flex flex-wrap items-start justify-between gap-[var(--space-2)]",children:[(0,a.jsxs)("div",{className:"space-y-[var(--space-1)]",children:[c?(0,a.jsx)("h3",{className:"text-title font-semibold tracking-[-0.01em]",children:c}):null,o?(0,a.jsx)("p",{className:"text-ui text-muted-foreground",children:o}):null]}),N?(0,a.jsx)("span",{className:"shrink-0",children:N}):null]})}),(0,a.jsx)("div",{className:"flex flex-col gap-[var(--space-4)]",children:x.map((e,t)=>{var r;let l="".concat(C,"-").concat(e.id),n=null!=(r=P[e.id])?r:"",i=e.helper?"".concat(l,"-helper"):void 0,c=e.description?"".concat(l,"-description"):void 0,o={id:l,name:e.id,placeholder:e.placeholder,value:n,onChange:t=>{E(e.id,t.target.value)},required:e.required,disabled:e.disabled},d=e.helper?e.helper:void 0,u="".concat(l,"-label");return(0,a.jsxs)("div",{className:"space-y-[var(--space-2)]",children:[(0,a.jsxs)("div",{className:"grid gap-[var(--space-1)]",children:[(0,a.jsxs)("div",{className:"flex flex-wrap items-center gap-[var(--space-2)]",children:[(0,a.jsx)("label",{id:u,htmlFor:l,className:"text-ui font-medium text-foreground",children:e.label}),e.required?(0,a.jsx)(s.Ex,{size:"sm",tone:"accent",className:"uppercase tracking-[0.08em]","aria-hidden":"true",children:"Required"}):null]}),e.description?(0,a.jsx)("span",{id:c,className:"text-label text-muted-foreground",children:e.description}):null]}),(0,a.jsx)(s.D0.Root,{helper:d,helperId:i,className:"bg-card/60",children:function(e){var t,r,l;let{field:n,commonProps:i,descriptionId:c,helperId:o,setFirstFieldRef:d}=e,u=null!=(t=n.type)?t:"text",p={...i,"aria-describedby":c&&o?"".concat(c," ").concat(o):null!=c?c:o};switch(u){case"textarea":return(0,a.jsx)(s.D0.Textarea,{...p,rows:n.rows,ref:d});case"select":return(0,a.jsxs)(s.D0.Select,{...p,ref:d,children:[(0,a.jsx)("option",{value:"",disabled:!0,hidden:!0,children:null!=(r=n.placeholder)?r:"Select"}),(null!=(l=n.options)?l:[]).map(e=>(0,a.jsx)("option",{value:e.value,children:e.label},e.value))]});default:return(0,a.jsx)(s.D0.Input,{...p,type:n.inputType,inputMode:n.inputMode,ref:d})}}({field:e,commonProps:o,descriptionId:c,helperId:i,setFirstFieldRef:0===t?e=>{R.current=e}:void 0})})]},e.id)})}),g,(0,a.jsxs)("div",{className:"flex flex-wrap items-center justify-end gap-[var(--space-3)]",children:[j,(0,a.jsx)(s.$n,{type:"submit",disabled:m,size:"sm",children:p})]}),y]})})});c.displayName="EntityForm"},12591:(e,t,r)=>{r.d(t,{N:()=>i});var a=r(12115),l=r(67419);function s(e){if(!Array.isArray(e))return null;let t=[];for(let r of e){let e=function(e){if(!("object"==typeof e&&null!==e&&!Array.isArray(e)))return null;let t=e.id,r=e.text,a=e.createdAt;if("string"!=typeof t||"string"!=typeof r||"number"!=typeof a||!Number.isFinite(a))return null;let l={id:t,text:r,createdAt:a},s=e.title;return"string"==typeof s&&(l.title=s),l}(r);e&&t.push(e)}return t}let n=[];function i(e){let[t,i]=(0,l.ud)(e,n,{decode:s}),[c,o]=a.useState(""),d=a.useMemo(()=>t.map(e=>{var t;return{...e,title:e.title&&e.title.trim()?e.title.trim():(null==(t=(e.text||"").split(/\r?\n/).find(e=>e.trim()))?void 0:t.trim())||"Untitled"}}),[t]),u=a.useRef(null),p=a.useRef(null),[m,f]=a.useState(d),h=a.useCallback(async()=>{u.current||(u.current=r.e(3736).then(r.bind(r,93736)));let{default:e}=await u.current;if(p.current)return p.current.setCollection(d),p.current;let t=new e(d,{keys:["title","text"],threshold:.3});return p.current=t,t},[d]);a.useEffect(()=>{let e=c.trim();if(!e)return void f(d);let t=!1;if(!p.current){let t=e.toLowerCase();f(d.filter(e=>e.title.toLowerCase().includes(t)||e.text.toLowerCase().includes(t)))}return(async()=>{let r=await h();if(t)return;let a=r.search(e);t||f(a.map(e=>e.item))})(),()=>{t=!0}},[h,c,d]);let x=a.useCallback((e,t)=>{var r;let a=t.trim(),s=e.trim()||(null==(r=a.split(/\r?\n/)[0])?void 0:r.trim())||"Untitled";if(!a&&!e.trim())return!1;let n={id:(0,l.uid)("p"),title:s,text:a,createdAt:Date.now()};return i(e=>[n,...e]),!0},[i]);return{prompts:t,query:c,setQuery:o,filtered:m,save:x,update:a.useCallback((e,t,r)=>{var a;let l=r.trim(),s=t.trim()||(null==(a=l.split(/\r?\n/)[0])?void 0:a.trim())||"Untitled";if(!l&&!t.trim())return!1;let n=!1;return i(t=>t.map(t=>t.id!==e?t:(n=!0,{...t,title:s,text:l}))),n},[i]),remove:a.useCallback(e=>{let t=!1;return i(r=>r.filter(r=>{let a=r.id!==e;return a||(t=!0),a})),t},[i])}}},12621:(e,t,r)=>{r.d(t,{b:()=>l});var a=r(67419);function l(){return(0,a.ud)("prompts.notes.v1","")}},20637:(e,t,r)=>{r.d(t,{v:()=>s});var a=r(67419);let l=[];function s(){return(0,a.ud)("prompts.personas.v1",l)}},21880:(e,t,r)=>{r.d(t,{q:()=>u});var a=r(95155),l=r(12115),s=r(18514),n=r(71360),i=r(48346),c=r(80948),o=r(61920),d=r(27566);function u(e){let{prompts:t,query:r,onSelectPrompt:u,onEditPrompt:p,onDeletePrompt:m}=e,f=r.trim(),h=l.useMemo(()=>t.map(e=>{let t=new Date(e.createdAt);return{...e,createdAtDateTime:t.toISOString(),createdAtLabel:t.toLocaleString(d.ne)}}),[t]),x=l.useMemo(()=>{if(0===t.length)return f?{title:"No prompts found",description:(0,a.jsxs)("span",{className:"inline-flex items-center gap-[var(--space-1)]",children:["No prompts match ",(0,a.jsx)(o.Badge,{size:"sm",tone:"neutral",children:f})]})}:{title:"No prompts saved yet",description:"Create a prompt to build your library."}},[t.length,f]);return(0,a.jsx)(i.G,{items:h,getKey:e=>e.id,listClassName:"mt-[var(--space-4)] space-y-[var(--space-3)]",emptyState:x,renderItem:e=>(0,a.jsxs)(c.Zp,{role:u?"button":void 0,tabIndex:u?0:void 0,onClick:u?()=>{null==u||u(e)}:void 0,onKeyDown:t=>{u&&("Enter"===t.key||" "===t.key)&&(t.preventDefault(),u(e))},className:(0,d.cn)("group flex flex-col gap-[var(--space-2)] rounded-card border border-border bg-card/80 p-[var(--space-3)] shadow-neo transition-all","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background",u&&"cursor-pointer hover:ring-2 hover:ring-ring hover:ring-offset-2 hover:ring-offset-background"),children:[(0,a.jsxs)("header",{className:"flex items-start justify-between gap-[var(--space-3)]",children:[(0,a.jsxs)("div",{className:"min-w-0 space-y-[var(--space-1)]",children:[(0,a.jsx)("h3",{className:"truncate font-semibold text-body",children:e.title}),(0,a.jsxs)("time",{dateTime:e.createdAtDateTime,className:"block text-label text-muted-foreground",children:["Saved ",e.createdAtLabel]})]}),(0,a.jsxs)("div",{className:"flex shrink-0 items-center gap-[var(--space-1-5)]",children:[(0,a.jsx)(c.K0,{"aria-label":"Edit ".concat(e.title),size:"sm",variant:"quiet",tone:"primary",onClick:t=>{t.stopPropagation(),null==p||p(e)},children:(0,a.jsx)(s.A,{"aria-hidden":"true"})}),(0,a.jsx)(c.K0,{"aria-label":"Delete ".concat(e.title),size:"sm",variant:"quiet",tone:"danger",onClick:t=>{t.stopPropagation(),null==m||m(e)},children:(0,a.jsx)(n.A,{"aria-hidden":"true"})})]})]}),e.text?(0,a.jsx)("p",{className:"line-clamp-3 whitespace-pre-line text-ui text-muted-foreground",children:e.text}):null]})})}},29825:(e,t,r)=>{r.d(t,{X:()=>o});var a=r(95155),l=r(12115),s=r(80948),n=r(61920),i=r(27566);let c=["hover","focus","active","disabled","loading"];function o(e){let{id:t="prompts-header",count:r,query:o,onQueryChange:d}=e,u=l.useMemo(()=>{let e=new Intl.NumberFormat().format(r);return"".concat(e," saved")},[r]),p=l.useCallback(e=>{d(o===e?"":e)},[d,o]),m="".concat(t,"-search");return(0,a.jsx)(s.lq,{id:t,className:"col-span-full",title:(0,a.jsx)("span",{id:t,children:"Prompts"}),sticky:!1,frame:!1,tone:"heroic",padding:"none",barClassName:"flex flex-col items-start gap-[var(--space-2)] sm:flex-row sm:items-center sm:justify-between",actions:(0,a.jsx)("span",{className:"whitespace-nowrap text-label font-medium tracking-[0.02em] text-muted-foreground",children:u}),bodyClassName:"px-[var(--space-2)] sm:px-[var(--space-1)] md:px-0",searchBar:{id:m,value:o,onValueChange:d,debounceMs:300,placeholder:"Search prompts…","aria-label":"Search prompts",variant:"neo",round:!0},children:(0,a.jsx)("div",{role:"group","aria-label":"Prompt chip filters",className:(0,i.cn)("flex items-center gap-[var(--space-2)]","overflow-x-auto","pb-[var(--space-1)]","[-webkit-overflow-scrolling:touch]","-mx-[var(--space-2)] sm:-mx-[var(--space-1)] md:mx-0","px-[var(--space-2)] sm:px-[var(--space-1)] md:px-0"),children:c.map(e=>{let t=o===e;return(0,a.jsx)(n.Badge,{interactive:!0,selected:t,"aria-pressed":t,onClick:()=>p(e),tone:"accent",className:(0,i.cn)("[--badge-surface:transparent]","border-[theme('colors.interaction.accent.surfaceHover')]","text-muted-foreground","hover:text-foreground","focus-visible:text-foreground","data-[selected=true]:!bg-[theme('colors.interaction.accent.tintActive')]","data-[selected=true]:!text-on-accent","data-[selected=true]:!border-[theme('colors.interaction.accent.surfaceActive')]"),children:e},e)})})})}},32413:(e,t,r)=>{r.d(t,{r:()=>l});var a=r(12591);function l(){return(0,a.N)("prompts.chat.v1")}},66290:(e,t,r)=>{r.d(t,{M:()=>l});var a=r(12591);function l(){return(0,a.N)("prompts.codex.v1")}}}]);
//# sourceMappingURL=8899-bdb79b53817851b5.js.map