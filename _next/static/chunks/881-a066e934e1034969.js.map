{"version":3,"file":"static/chunks/881-a066e934e1034969.js","mappings":"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","sources":["webpack://_N_E/./src/components/ui/primitives/AvatarFrame.module.css","webpack://_N_E/./src/components/ui/toggles/Toggle.gallery.tsx","webpack://_N_E/./src/components/ui/primitives/InsetRow.tsx","webpack://_N_E/./src/components/ui/primitives/Card.tsx","webpack://_N_E/./src/components/ui/layout/SectionCard.tsx","webpack://_N_E/./src/components/ui/ai/AIRetryErrorBubble.tsx","webpack://_N_E/./src/components/ui/toggles/NeonIcon.tsx","webpack://_N_E/./src/components/ui/primitives/Textarea.tsx","webpack://_N_E/./src/components/ui/toggles/NeonIcon.gallery.tsx","webpack://_N_E/./src/components/layout/Stack.module.css","webpack://_N_E/./src/components/ui/layout/hero/Hero.module.css","webpack://_N_E/./src/components/ui/primitives/IconButton.tsx","webpack://_N_E/./src/components/ui/theme/ThemeSelector.module.css","webpack://_N_E/./src/components/ui/hooks/useScopedCssVars.tsx","webpack://_N_E/./src/icons/CatCompanionIcon.tsx","webpack://_N_E/./src/components/ui/layout/NeomorphicFrameStyles.css","webpack://_N_E/./src/lib/logging.ts","webpack://_N_E/./src/components/ui/theme/ThemeSelector.tsx","webpack://_N_E/./src/components/ui/layout/hero/HeroScene.module.css","webpack://_N_E/./src/components/ui/primitives/BlobContainer.tsx","webpack://_N_E/./src/components/ui/primitives/Button.tsx","webpack://_N_E/./src/components/ui/radio/RadioIconGroup.gallery.tsx","webpack://_N_E/./src/components/ui/layout/Split.tsx","webpack://_N_E/./src/components/ui/layout/Header.gallery.tsx","webpack://_N_E/./src/components/ui/Toast.tsx","webpack://_N_E/./src/components/ui/primitives/SegmentedButton.module.css","webpack://_N_E/./src/components/ui/primitives/Field.tsx","webpack://_N_E/./src/components/ui/primitives/InsetRow.module.css","webpack://_N_E/./src/components/ui/primitives/Badge.module.css","webpack://_N_E/./src/components/ui/primitives/VirtualizedList.tsx","webpack://_N_E/./src/components/ui/toggles/Toggle.module.css","webpack://_N_E/./src/components/ui/feedback/Snackbar.tsx","webpack://_N_E/./src/components/ui/theme/getAccentColors.ts","webpack://_N_E/./src/components/ui/primitives/SegmentedButton.tsx","webpack://_N_E/./src/components/ui/primitives/GlitchSegmentedGroup.tsx","webpack://_N_E/./src/components/ui/primitives/Neu.ts","webpack://_N_E/./src/components/ui/layout/SectionCard.module.css","webpack://_N_E/./src/components/ui/primitives/IssueBadge.tsx","webpack://_N_E/./src/components/ui/layout/TitleBar.module.css","webpack://_N_E/./src/components/ui/ai/AIConfidenceHint.tsx","webpack://_N_E/./public/BEST_ONE_EVAH.png","webpack://_N_E/./src/legacy/ui/layout/PageShell.tsx","webpack://_N_E/./src/components/ui/layout/PageShell.tsx","webpack://_N_E/./src/components/ui/variants.ts","webpack://_N_E/./src/components/ui/primitives/GlitchSegmentedButton.tsx","webpack://_N_E/./src/lib/useReducedMotion.ts","webpack://_N_E/./src/lib/feature-flags.ts","webpack://_N_E/./lib/base-path.js","webpack://_N_E/./src/lib/utils.ts","webpack://_N_E/./src/components/ui/feedback/Skeleton.tsx","webpack://_N_E/./src/lib/theme-context.tsx","webpack://_N_E/./src/components/ui/neumorphic.module.css","webpack://_N_E/./src/components/ui/toggles/Toggle.tsx","webpack://_N_E/./src/components/ui/feedback/Spinner.tsx","webpack://_N_E/./src/components/ui/radio/RadioIconGroup.tsx","webpack://_N_E/./src/components/ui/ai/AILoadingShimmer.tsx","webpack://_N_E/./src/components/ui/select/Select.module.css","webpack://_N_E/./src/components/ui/layout/hero/HeroScene.tsx","webpack://_N_E/./src/components/ui/layout/Hero.tsx","webpack://_N_E/./src/components/ui/hooks/useDialogTrap.ts","webpack://_N_E/./src/lib/useLegacyUi.ts","webpack://_N_E/./src/components/layout/Cluster.module.css","webpack://_N_E/./src/legacy/ui/Hero.tsx","webpack://_N_E/./src/components/ui/Hero.tsx","webpack://_N_E/./src/components/ui/primitives/Input.module.css","webpack://_N_E/./src/components/tabs/HeaderTabs.tsx","webpack://_N_E/./src/components/ui/select/AnimatedSelect.tsx","webpack://_N_E/./src/components/ui/select/NativeSelect.tsx","webpack://_N_E/./src/components/ui/select/shared.ts","webpack://_N_E/./src/components/ui/Select.tsx","webpack://_N_E/./src/components/layout/Grid.module.css","webpack://_N_E/./src/components/tabs/HeaderTabs.module.css","webpack://_N_E/./src/components/ui/primitives/RangeSlider.tsx","webpack://_N_E/./src/components/ui/primitives/DripEdge.tsx","webpack://_N_E/./src/components/ui/primitives/Tabs.tsx","webpack://_N_E/./src/components/ui/primitives/Textarea.gallery.tsx","webpack://_N_E/./src/lib/useDebouncedCallback.ts","webpack://_N_E/./src/components/ui/toggles/CheckCircle.tsx","webpack://_N_E/./src/lib/depth-theme-context.tsx","webpack://_N_E/./src/lib/tokens.ts","webpack://_N_E/./src/components/ui/primitives/GlitchProgress.tsx","webpack://_N_E/./src/lib/useAnimationsDisabled.ts","webpack://_N_E/./src/config/nav.ts","webpack://_N_E/./src/components/ui/primitives/Input.tsx","webpack://_N_E/./src/components/ui/ai/AITypingIndicator.tsx","webpack://_N_E/./src/components/ui/primitives/Field.module.css","webpack://_N_E/./src/components/ui/Label.tsx","webpack://_N_E/./src/components/ui/Sheet.tsx","webpack://_N_E/./src/components/ui/primitives/SearchBar.tsx","webpack://_N_E/./src/data/heroIllustrationStates.ts","webpack://_N_E/./src/data/heroImages.ts","webpack://_N_E/./src/components/ui/layout/Header.tsx","webpack://_N_E/./src/legacy/ui/primitives/Card.tsx","webpack://_N_E/./src/components/ui/Card.tsx","webpack://_N_E/./src/components/ui/primitives/TagInput.tsx","webpack://_N_E/./src/icons/ProgressRingIcon.tsx","webpack://_N_E/./src/components/ui/primitives/Badge.tsx","webpack://_N_E/./src/components/ui/patterns/NoiseOverlay.tsx","webpack://_N_E/./src/components/ui/primitives/SearchBar.gallery.tsx","webpack://_N_E/./src/components/ui/theme/ThemePicker.tsx","webpack://_N_E/./src/components/ui/Label.gallery.tsx","webpack://_N_E/./src/lib/local-bootstrap.ts","webpack://_N_E/./src/lib/storage-key.ts","webpack://_N_E/./src/lib/db.ts","webpack://_N_E/./src/lib/useFieldNaming.ts","webpack://_N_E/./src/lib/useFieldIds.ts","webpack://_N_E/./src/components/ui/primitives/IconButton.gallery.tsx","webpack://_N_E/./src/components/ui/primitives/Card.module.css","webpack://_N_E/./src/legacy/ui/primitives/Card.module.css","webpack://_N_E/./src/components/ui/toggles/CheckCircle.module.css","webpack://_N_E/./src/lib/theme.ts","webpack://_N_E/./src/components/ui/theme/ThemeToggle.tsx","webpack://_N_E/./src/components/ui/layout/hero/HeroGlitchStyles.tsx","webpack://_N_E/./src/components/ui/hooks/useFloatingStyleClass.tsx","webpack://_N_E/./src/components/ui/primitives/Badge.gallery.tsx","webpack://_N_E/./src/components/ui/layout/hero/useHeroStyles.ts","webpack://_N_E/./src/components/ui/feedback/Progress.tsx","webpack://_N_E/./src/components/ui/layout/NeomorphicFrameStyles.tsx","webpack://_N_E/./src/components/ui/primitives/Field.gallery.tsx","webpack://_N_E/./src/components/ui/primitives/GlitchProgress.module.css","webpack://_N_E/./src/components/ui/ai/AIExplainTooltip.tsx","webpack://_N_E/./src/components/ui/primitives/Modal.tsx","webpack://_N_E/./src/components/ui/Toast.module.css","webpack://_N_E/./src/components/ui/primitives/AvatarFrame.tsx","webpack://_N_E/./src/components/ui/primitives/Button.gallery.tsx","webpack://_N_E/./src/components/ui/select/useAnimatedSelect.ts","webpack://_N_E/./src/components/ui/select/AnimatedSelectTrigger.tsx","webpack://_N_E/./src/components/ui/theme/SettingsSelect.tsx","webpack://_N_E/./tokens/tokens.js","webpack://_N_E/./src/lib/filter-tokens.ts","webpack://_N_E/./src/icons/RingNoiseDefs.tsx","webpack://_N_E/./src/components/ui/primitives/GlitchSegmentedGroup.module.css","webpack://_N_E/./src/components/ui/layout/TitleBar.tsx","webpack://_N_E/./src/components/gallery/registry.ts","webpack://_N_E/./src/components/ui/select/AnimatedSelectList.tsx","webpack://_N_E/./src/components/ui/CatCompanion.tsx","webpack://_N_E/./src/components/layout/shared.ts","webpack://_N_E/./src/components/layout/Cluster.tsx","webpack://_N_E/./src/components/ui/Cluster.tsx","webpack://_N_E/./src/components/ui/feedback/Alert.tsx","webpack://_N_E/./src/components/ui/feedback/ProgressRing.tsx","webpack://_N_E/./src/components/layout/Grid.tsx","webpack://_N_E/./src/components/ui/Grid.tsx","webpack://_N_E/./src/components/ui/layout/BasePage.tsx","webpack://_N_E/./src/components/ui/layout/DecorLayer.tsx","webpack://_N_E/./src/components/ui/layout/primary-nav.ts","webpack://_N_E/./src/components/ui/primitives/Slider.tsx","webpack://_N_E/./src/components/layout/Sidebar.tsx","webpack://_N_E/./src/components/ui/Sidebar.tsx","webpack://_N_E/./src/components/ui/SkipLink.tsx","webpack://_N_E/./src/components/layout/Stack.tsx","webpack://_N_E/./src/components/ui/Stack.tsx","webpack://_N_E/./src/components/layout/Switcher.tsx","webpack://_N_E/./src/components/ui/Switcher.tsx","webpack://_N_E/./src/components/ui/index.ts","webpack://_N_E/./src/components/tabs/useRovingTabState.ts","webpack://_N_E/./src/components/ui/theme/BackgroundPicker.tsx","webpack://_N_E/./src/components/ui/layout/TabBar.module.css","webpack://_N_E/./src/lib/useMounted.ts","webpack://_N_E/./src/components/ui/primitives/Button.module.css","webpack://_N_E/./src/components/ui/AnimationToggle.tsx","webpack://_N_E/./src/components/ui/layout/TabBar.tsx","webpack://_N_E/./src/components/ui/layout/NeomorphicHeroFrame.tsx","webpack://_N_E/./src/components/ui/layout/hero/HeroGlitchStyles.css","webpack://_N_E/./src/components/ui/primitives/DripEdge.module.css","webpack://_N_E/./src/components/layout/Switcher.module.css","webpack://_N_E/./src/components/ui/ai/AIAbortButton.tsx","webpack://_N_E/./src/lib/features.ts","webpack://_N_E/./src/components/ui/primitives/SegmentedButton.gallery.tsx","webpack://_N_E/./src/components/ui/primitives/IconButton.module.css","webpack://_N_E/./src/components/ui/Select.gallery.tsx","webpack://_N_E/./src/components/ui/primitives/Tabs.gallery.tsx","webpack://_N_E/./src/components/ui/primitives/Input.gallery.tsx","webpack://_N_E/./src/lib/react.ts","webpack://_N_E/./src/components/ui/primitives/RangeSlider.module.css","webpack://_N_E/./src/components/ui/toggles/NeonIcon.module.css","webpack://_N_E/./src/lib/telemetry.ts","webpack://_N_E/./src/components/ui/radio/tone.ts","webpack://_N_E/./src/components/ui/ai/AIErrorCard.tsx","webpack://_N_E/./src/components/ui/primitives/SegmentedControl.tsx","webpack://_N_E/./src/components/ui/layout/hero/HeroSearchBar.tsx","webpack://_N_E/./src/components/ui/layout/TabBar.gallery.tsx","webpack://_N_E/./env/schema.ts","webpack://_N_E/./env/shared.ts","webpack://_N_E/./env/client.ts","webpack://_N_E/./env/server.ts","webpack://_N_E/./env/index.ts","webpack://_N_E/./src/components/ui/layout/hero/HeroImage.tsx","webpack://_N_E/./src/components/ui/ai/AIOutput.tsx","webpack://_N_E/./src/components/layout/Sidebar.module.css"],"sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"AvatarFrame_root__5J8k5\",\"sizeSm\":\"AvatarFrame_sizeSm__ozGeX\",\"sizeMd\":\"AvatarFrame_sizeMd__4spZ0\",\"sizeLg\":\"AvatarFrame_sizeLg__sl4rY\",\"sizeXl\":\"AvatarFrame_sizeXl__cKSvF\",\"framelessSurface\":\"AvatarFrame_framelessSurface__Ce8rE\",\"rim\":\"AvatarFrame_rim__tDymH\",\"inner\":\"AvatarFrame_inner__ESRzZ\",\"glow\":\"AvatarFrame_glow__4XeYq\",\"media\":\"AvatarFrame_media__SfFwC\"};","\"use client\";\n\nimport * as React from \"react\";\n\nimport { createGalleryPreview, defineGallerySection } from \"@/components/gallery/registry\";\nimport { cn } from \"@/lib/utils\";\n\nimport { Toggle } from \"./Toggle\";\n\ntype ToggleProps = React.ComponentProps<typeof Toggle>;\n\ntype ToggleState = {\n  id: string;\n  name: string;\n  className?: string;\n  props?: Partial<ToggleProps>;\n  code: string;\n};\n\nconst TOGGLE_STATES: readonly ToggleState[] = [\n  {\n    id: \"default\",\n    name: \"Default\",\n    code: `<Toggle leftLabel=\"Left\" rightLabel=\"Right\" />`,\n  },\n  {\n    id: \"hover\",\n    name: \"Hover\",\n    className: \"bg-[--toggle-hover-surface]\",\n    code: `<Toggle leftLabel=\"Left\" rightLabel=\"Right\" className=\"bg-[--toggle-hover-surface]\" />`,\n  },\n  {\n    id: \"focus-visible\",\n    name: \"Focus-visible\",\n    className:\n      \"ring-2 ring-[var(--toggle-focus-ring)] ring-offset-2 ring-offset-[var(--surface-2)] shadow-[var(--toggle-focus-glow)] focus-visible:ring-2 focus-visible:ring-[var(--toggle-focus-ring)] focus-visible:ring-offset-2 focus-visible:ring-offset-[var(--surface-2)]\",\n    code: `<Toggle\n  leftLabel=\"Left\"\n  rightLabel=\"Right\"\n  className=\"ring-2 ring-[var(--toggle-focus-ring)] ring-offset-2 ring-offset-[var(--surface-2)] shadow-[var(--toggle-focus-glow)] focus-visible:ring-2 focus-visible:ring-[var(--toggle-focus-ring)] focus-visible:ring-offset-2 focus-visible:ring-offset-[var(--surface-2)]\"\n/>`,\n  },\n  {\n    id: \"active\",\n    name: \"Active\",\n    className: \"bg-[--toggle-active-surface]\",\n    code: `<Toggle leftLabel=\"Left\" rightLabel=\"Right\" className=\"bg-[--toggle-active-surface]\" />`,\n  },\n  {\n    id: \"disabled\",\n    name: \"Disabled\",\n    props: { disabled: true },\n    code: `<Toggle leftLabel=\"Left\" rightLabel=\"Right\" disabled />`,\n  },\n  {\n    id: \"loading\",\n    name: \"Loading\",\n    props: { loading: true },\n    code: `<Toggle leftLabel=\"Left\" rightLabel=\"Right\" loading />`,\n  },\n] as const;\n\nfunction ToggleStatePreview({ state }: { state: ToggleState }) {\n  const { className, props } = state;\n  const mergedClassName = cn(className, props?.className);\n\n  return (\n    <Toggle\n      leftLabel={props?.leftLabel ?? \"Left\"}\n      rightLabel={props?.rightLabel ?? \"Right\"}\n      {...props}\n      className={mergedClassName}\n    />\n  );\n}\n\nfunction ToggleGalleryPreview() {\n  const [value, setValue] = React.useState<ToggleProps[\"value\"]>(\"Left\");\n\n  return (\n    <div className=\"flex flex-col gap-[var(--space-4)]\">\n      <Toggle\n        leftLabel=\"Strategy\"\n        rightLabel=\"Execute\"\n        value={value}\n        onChange={(next) => setValue(next)}\n      />\n      <div className=\"flex flex-col gap-[var(--space-2)]\">\n        <p className=\"text-caption text-muted-foreground\">States</p>\n        <div className=\"flex flex-wrap gap-[var(--space-2)]\">\n          {TOGGLE_STATES.map((state) => (\n            <ToggleStatePreview key={state.id} state={state} />\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport const ToggleGallery = defineGallerySection({\n  id: \"toggles\",\n  entries: [\n    {\n      id: \"toggle\",\n      name: \"Toggle\",\n      description: \"Binary switch with hover, focus, active, disabled, and loading states\",\n      kind: \"primitive\",\n      tags: [\"toggle\", \"switch\"],\n      props: [\n        { name: \"leftLabel\", type: \"string\" },\n        { name: \"rightLabel\", type: \"string\" },\n        { name: \"value\", type: '\"Left\" | \"Right\"', defaultValue: '\"Left\"' },\n        { name: \"onChange\", type: '(value: \"Left\" | \"Right\") => void' },\n        { name: \"disabled\", type: \"boolean\", defaultValue: \"false\" },\n        { name: \"loading\", type: \"boolean\", defaultValue: \"false\" },\n        { name: \"className\", type: \"string\" },\n      ],\n      axes: [\n        {\n          id: \"state\",\n          label: \"State\",\n          type: \"state\",\n          values: TOGGLE_STATES.map(({ name }) => ({ value: name })),\n        },\n      ],\n      preview: createGalleryPreview({\n        id: \"ui:toggle:interactive\",\n        render: () => <ToggleGalleryPreview />,\n      }),\n      states: TOGGLE_STATES.map((state) => ({\n        id: state.id,\n        name: state.name,\n        code: state.code,\n        preview: createGalleryPreview({\n          id: `ui:toggle:state:${state.id}`,\n          render: () => <ToggleStatePreview state={state} />,\n        }),\n      })),\n      code: `<div className=\"flex flex-col gap-[var(--space-4)]\">\n  <Toggle leftLabel=\"Strategy\" rightLabel=\"Execute\" />\n  <div className=\"flex flex-wrap gap-[var(--space-2)]\">\n    <Toggle leftLabel=\"Left\" rightLabel=\"Right\" />\n    <Toggle leftLabel=\"Left\" rightLabel=\"Right\" className=\"bg-[--toggle-hover-surface]\" />\n    <Toggle\n      leftLabel=\"Left\"\n      rightLabel=\"Right\"\n      className=\"ring-2 ring-[var(--toggle-focus-ring)] ring-offset-2 ring-offset-[var(--surface-2)] shadow-[var(--toggle-focus-glow)] focus-visible:ring-2 focus-visible:ring-[var(--toggle-focus-ring)] focus-visible:ring-offset-2 focus-visible:ring-offset-[var(--surface-2)]\"\n    />\n    <Toggle leftLabel=\"Left\" rightLabel=\"Right\" className=\"bg-[--toggle-active-surface]\" />\n    <Toggle leftLabel=\"Left\" rightLabel=\"Right\" disabled />\n    <Toggle leftLabel=\"Left\" rightLabel=\"Right\" loading />\n  </div>\n</div>`,\n    },\n  ],\n})\n\nexport default ToggleGallery\n","\"use client\";\n\nimport * as React from \"react\";\n\nimport { cn } from \"@/lib/utils\";\n\nimport styles from \"./InsetRow.module.css\";\n\nexport interface InsetRowProps extends React.HTMLAttributes<HTMLDivElement> {\n  label?: React.ReactNode;\n  labelId?: string;\n  description?: React.ReactNode;\n  descriptionId?: string;\n  actions?: React.ReactNode;\n  errorMessage?: React.ReactNode;\n  errorMessageId?: string;\n  contentClassName?: string;\n  children: React.ReactNode;\n}\n\nexport const InsetRow = React.forwardRef<HTMLDivElement, InsetRowProps>(\n  (\n    {\n      label,\n      labelId: labelIdProp,\n      description,\n      descriptionId: descriptionIdProp,\n      actions,\n      errorMessage,\n      errorMessageId: errorMessageIdProp,\n      contentClassName,\n      className,\n      children,\n      ...rest\n    },\n    ref,\n  ) => {\n    const generatedId = React.useId();\n    const labelId = label ? labelIdProp ?? `${generatedId}-label` : undefined;\n    const descriptionId = description\n      ? descriptionIdProp ?? `${generatedId}-description`\n      : undefined;\n    const errorMessageId = errorMessage\n      ? errorMessageIdProp ?? `${generatedId}-error`\n      : undefined;\n\n    const describedBy = React.useMemo(() => {\n      const ids: string[] = [];\n      if (descriptionId) {\n        ids.push(descriptionId);\n      }\n      if (errorMessageId) {\n        ids.push(errorMessageId);\n      }\n      return ids.length > 0 ? ids.join(\" \") : undefined;\n    }, [descriptionId, errorMessageId]);\n\n    return (\n      <div\n        ref={ref}\n        role=\"group\"\n        aria-labelledby={labelId}\n        aria-describedby={describedBy}\n        className={cn(\n          styles.root,\n          \"rounded-card border border-card-hairline/70 p-[var(--space-4)] text-foreground shadow-[var(--shadow-inner-lg)]\",\n          className,\n        )}\n        {...rest}\n      >\n        {(label || description || actions) && (\n          <div className=\"flex flex-wrap items-start justify-between gap-[var(--space-2)]\">\n            {label ? (\n              <div className=\"space-y-[var(--space-1)]\">\n                <p\n                  id={labelId}\n                  className=\"text-label font-medium text-muted-foreground\"\n                >\n                  {label}\n                </p>\n                {description ? (\n                  <p\n                    id={descriptionId}\n                    className=\"text-caption text-muted-foreground\"\n                  >\n                    {description}\n                  </p>\n                ) : null}\n              </div>\n            ) : null}\n            {actions ? (\n              <div className=\"flex items-center gap-[var(--space-2)] text-label font-medium\">\n                {actions}\n              </div>\n            ) : null}\n            {!label && description ? (\n              <p\n                id={descriptionId}\n                className=\"text-caption text-muted-foreground\"\n              >\n                {description}\n              </p>\n            ) : null}\n          </div>\n        )}\n\n        <div\n          className={cn(\n            \"mt-[var(--space-3)] grid gap-[var(--space-3)]\",\n            contentClassName,\n          )}\n        >\n          {children}\n        </div>\n\n        {errorMessage ? (\n          <p\n            id={errorMessageId}\n            role=\"alert\"\n            className=\"mt-[var(--space-3)] text-caption font-medium text-danger\"\n          >\n            {errorMessage}\n          </p>\n        ) : null}\n      </div>\n    );\n  },\n);\n\nInsetRow.displayName = \"InsetRow\";\n","import * as React from \"react\";\nimport { Slot } from \"@radix-ui/react-slot\";\nimport { cn } from \"@/lib/utils\";\nimport styles from \"./Card.module.css\";\n\nexport type CardDepth = \"base\" | \"raised\" | \"sunken\";\n\nexport type CardStatus = 'default' | 'info' | 'success' | 'error';\n\nexport type CardProps = React.HTMLAttributes<HTMLDivElement> & {\n  asChild?: boolean;\n  depth?: CardDepth;\n  glitch?: boolean;\n  overlay?: React.ReactNode;\n  /**\n   * Optional semantic status to tint the border/background using theme tokens.\n   */\n  status?: CardStatus;\n};\n\nconst depthShadowClasses: Record<CardDepth, string> = {\n  base: \"shadow-neo-soft\",\n  raised:\n    \"shadow-neo hover:shadow-neo-strong focus-visible:shadow-neo-strong focus-within:shadow-neo-strong\",\n  sunken: \"shadow-neo-inset\",\n};\n\nconst hasCardOverlay = (node: React.ReactNode): boolean => {\n  if (node === null || node === undefined || typeof node === \"boolean\") {\n    return false;\n  }\n  if (Array.isArray(node)) {\n    return node.some((child) => hasCardOverlay(child));\n  }\n  if (React.isValidElement(node)) {\n    type OverlayElementProps = {\n      children?: React.ReactNode;\n      [\"data-card-overlay\"]?: string;\n    };\n    const element = node as React.ReactElement<OverlayElementProps>;\n    if (element.props?.[\"data-card-overlay\"] === \"true\") {\n      return true;\n    }\n    return hasCardOverlay(element.props?.children);\n  }\n  return false;\n};\n\nconst Card = React.forwardRef<React.ElementRef<\"div\">, CardProps>(\n  (\n    {\n      className,\n      asChild = false,\n      depth = \"base\",\n      glitch = false,\n      children,\n      overlay,\n      status = \"default\",\n      ...props\n    },\n    ref,\n  ) => {\n    const { [\"data-text\"]: providedGlitchText, ...restProps } = props as CardProps & {\n      [\"data-text\"]?: unknown;\n    };\n    const glitchText =\n      typeof providedGlitchText === \"string\" ? providedGlitchText : undefined;\n\n    const statusClassNames: Record<CardStatus, string> = {\n      default:\n        \"[--card-status-surface:transparent] [--card-status-border:hsl(var(--card-hairline)/0.35)]\",\n      info:\n        \"[--card-status-surface:hsl(var(--status-info, var(--accent-2))/0.08)] [--card-status-border:hsl(var(--status-info, var(--accent-2))/0.55)]\",\n      success:\n        \"[--card-status-surface:hsl(var(--success)/0.08)] [--card-status-border:hsl(var(--success)/0.55)]\",\n      error:\n        \"[--card-status-surface:hsl(var(--danger)/0.08)] [--card-status-border:hsl(var(--danger)/0.55)]\",\n    };\n\n    const baseClassName = cn(\n      styles.root,\n      glitch && \"group/glitch isolate\",\n      \"rounded-card r-card-lg p-[var(--space-4)] border border-[color:var(--card-status-border)] bg-[color:color-mix(in_oklab,var(--card-status-surface),hsl(var(--card)/0.72))] text-card-foreground\",\n      depthShadowClasses[depth],\n      statusClassNames[status],\n      className,\n    );\n\n    const overlayEnabled = glitch && !hasCardOverlay(children);\n    const glitchOverlay = overlayEnabled ? (\n      <span\n        aria-hidden\n        data-card-overlay=\"true\"\n        className=\"pointer-events-none absolute inset-0 -z-10 overflow-hidden rounded-[inherit]\"\n      >\n        <span\n          className=\"absolute inset-0 rounded-[inherit] bg-gradient-blob-primary opacity-0 blur-[var(--space-4)] transition-opacity duration-motion-sm ease-out motion-reduce:animate-none motion-safe:animate-blob-drift group-hover/glitch:opacity-[var(--glitch-overlay-opacity-card,0.08)] group-focus-visible/glitch:opacity-[var(--glitch-overlay-opacity-card,0.08)] group-focus-within/glitch:opacity-[var(--glitch-overlay-opacity-card,0.08)]\"\n        />\n        <span\n          className=\"absolute inset-0 rounded-[inherit] bg-glitch-noise bg-cover opacity-0 mix-blend-screen transition-opacity duration-motion-sm ease-out motion-reduce:animate-none motion-safe:animate-glitch-noise group-hover/glitch:opacity-[var(--glitch-noise-level,0.06)] group-focus-visible/glitch:opacity-[var(--glitch-noise-level,0.06)] group-focus-within/glitch:opacity-[calc(var(--glitch-noise-level,0.06)*1.3)]\"\n        />\n        <span\n          className=\"absolute inset-0 rounded-[inherit] bg-[repeating-linear-gradient(0deg,transparent,transparent_4px,hsl(var(--card-foreground)/0.04)_6px,hsl(var(--card-foreground)/0.04)_8px)] opacity-0 transition-opacity duration-motion-sm ease-out group-hover/glitch:opacity-60 group-focus-visible/glitch:opacity-60\"\n          style={{ maskImage: \"linear-gradient(180deg, hsl(var(--surface)/0.12), hsl(var(--surface)/0.08))\" }}\n        />\n      </span>\n    ) : null;\n\n    const glitchSprite = (\n      <div aria-hidden className=\"glitch-sprite rounded-[inherit]\" />\n    );\n\n    const baseProps = {\n      className: baseClassName,\n      \"data-depth\": depth,\n      \"data-glitch\": glitch ? \"true\" : undefined,\n      \"data-text\": glitchText,\n      ...restProps,\n    };\n\n    if (asChild) {\n      const childCount = React.Children.count(children);\n      if (childCount !== 1 || !React.isValidElement(children)) {\n        if (process.env.NODE_ENV !== \"production\") {\n          console.warn(\"[Card] `asChild` requires a single valid React element child.\");\n        }\n\n        return null;\n      }\n\n      const child = React.Children.only(children) as React.ReactElement<{ children?: React.ReactNode }>;\n      const content = (\n        <>\n          {glitchSprite}\n          {glitchOverlay}\n          {child.props.children}\n          {overlay}\n        </>\n      );\n\n      return (\n        <Slot {...baseProps} ref={ref as React.ForwardedRef<HTMLElement>}>\n          {React.cloneElement(child, undefined, content)}\n        </Slot>\n      );\n    }\n\n    return (\n      <div ref={ref} {...baseProps}>\n        {glitchSprite}\n        {glitchOverlay}\n        {children}\n        {overlay}\n      </div>\n    );\n  },\n);\nCard.displayName = \"Card\";\n\nexport const CardHeader = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"flex flex-col space-y-[var(--space-2)]\",\n      className,\n    )}\n    {...props}\n  />\n));\nCardHeader.displayName = \"CardHeader\";\n\nexport const CardTitle = React.forwardRef<\n  HTMLHeadingElement,\n  React.HTMLAttributes<HTMLHeadingElement>\n>(({ className, ...props }, ref) => (\n  <h3\n    ref={ref}\n    className={cn(\"text-title font-semibold tracking-[-0.01em]\", className)}\n    {...props}\n  />\n));\nCardTitle.displayName = \"CardTitle\";\n\nexport const CardDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => (\n  <p\n    ref={ref}\n    className={cn(\"text-ui text-muted-foreground\", className)}\n    {...props}\n  />\n));\nCardDescription.displayName = \"CardDescription\";\n\nexport const CardContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"pt-[var(--space-2)]\", className)}\n    {...props}\n  />\n));\nCardContent.displayName = \"CardContent\";\n\nexport const CardFooter = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex items-center pt-[var(--space-4)]\", className)}\n    {...props}\n  />\n));\nCardFooter.displayName = \"CardFooter\";\nconst CardBody = CardContent;\n\nexport { Card, CardBody };\n","// src/components/ui/SectionCard.tsx\n\"use client\";\n\nimport * as React from \"react\";\nimport { cn } from \"@/lib/utils\";\nimport styles from \"./SectionCard.module.css\";\n\ntype NoiseLevel = \"none\" | \"subtle\" | \"moderate\";\n\ntype RootProps = React.HTMLAttributes<HTMLElement> & {\n  variant?: \"neo\" | \"plain\" | \"glitch\";\n  noiseLevel?: NoiseLevel;\n};\nexport type SectionCardHeaderProps = Omit<\n  React.HTMLAttributes<HTMLDivElement>,\n  \"title\"\n> & {\n  sticky?: boolean;\n  topClassName?: string; // sticky top offset\n  children?: React.ReactNode; // if provided, we render this and ignore title/actions\n  title?: React.ReactNode; // optional convenience API\n  actions?: React.ReactNode; // optional convenience API\n  titleAs?: \"h1\" | \"h2\" | \"h3\" | \"h4\" | \"h5\" | \"h6\";\n  titleClassName?: string;\n};\ntype BodyProps = React.HTMLAttributes<HTMLDivElement>;\n\ntype SectionCardContextValue = {\n  headingId?: string;\n  setHeadingId: React.Dispatch<React.SetStateAction<string | undefined>>;\n};\n\nconst SectionCardContext = React.createContext<SectionCardContextValue | null>(\n  null,\n);\n\nconst SECTION_CARD_NOISE_STYLES: Record<NoiseLevel, React.CSSProperties> = {\n  none: {\n    \"--texture-grain-opacity\": \"var(--theme-noise-level-none, 0)\",\n    \"--texture-grain-strength\": \"0\",\n    \"--texture-scanline-opacity\": \"var(--theme-noise-level-none, 0)\",\n    \"--texture-scanline-strength\": \"0\",\n    backgroundImage: \"var(--texture-scanlines)\",\n  } as React.CSSProperties,\n  subtle: {\n    \"--texture-grain-opacity\": \"var(--theme-noise-level-subtle, 0.03)\",\n    \"--texture-scanline-opacity\": \"var(--theme-scanline-opacity-subtle, 0.045)\",\n    backgroundImage: \"var(--texture-scanlines)\",\n  } as React.CSSProperties,\n  moderate: {\n    \"--texture-grain-opacity\": \"var(--theme-noise-level-moderate, 0.04)\",\n    \"--texture-scanline-opacity\": \"var(--theme-scanline-opacity-moderate, 0.06)\",\n    backgroundImage: \"var(--texture-scanlines)\",\n  } as React.CSSProperties,\n};\n\nconst SectionCardRoot = React.forwardRef<HTMLElement, RootProps>(\n  ({ variant = \"neo\", noiseLevel, className, children, style, ...props }, ref) => {\n    const [headingId, setHeadingId] = React.useState<string | undefined>();\n    const contextValue = React.useMemo(\n      () => ({ headingId, setHeadingId }),\n      [headingId],\n    );\n\n    const resolvedNoiseLevel: NoiseLevel = React.useMemo(() => {\n      if (noiseLevel) {\n        return noiseLevel;\n      }\n\n      return variant === \"glitch\" ? \"moderate\" : \"subtle\";\n    }, [noiseLevel, variant]);\n\n    const noiseStyle = React.useMemo<React.CSSProperties | undefined>(() => {\n      const variables = SECTION_CARD_NOISE_STYLES[resolvedNoiseLevel];\n\n      if (!style) {\n        return { ...variables };\n      }\n\n      return { ...variables, ...style };\n    }, [resolvedNoiseLevel, style]);\n\n    const showNoiseBackground = resolvedNoiseLevel !== \"none\";\n\n    const variantClassName = React.useMemo(() => {\n      if (variant === \"neo\") {\n        return cn(\n          \"card-neo-soft shadow-depth-outer-strong\",\n          showNoiseBackground &&\n            \"bg-[var(--texture-scanlines)] shadow-[var(--shadow-outer-xl)]\",\n        );\n      }\n\n      if (variant === \"plain\") {\n        return cn(\n          \"card-soft\",\n          showNoiseBackground &&\n            \"bg-[var(--texture-scanlines)] shadow-[var(--shadow-outer-xl)]\",\n        );\n      }\n\n      return styles.glitch;\n    }, [showNoiseBackground, variant]);\n\n    return (\n      <SectionCardContext.Provider value={contextValue}>\n        <section\n          ref={ref}\n          data-variant={variant}\n          className={cn(\n            \"relative overflow-hidden rounded-card r-card-lg text-card-foreground\",\n            variantClassName,\n            className,\n          )}\n          style={noiseStyle}\n          {...props}\n        >\n          <div aria-hidden className=\"glitch-sprite rounded-[inherit]\" />\n          {children}\n        </section>\n      </SectionCardContext.Provider>\n    );\n  },\n);\nSectionCardRoot.displayName = \"SectionCard\";\n\nfunction SectionCardHeader({\n  sticky,\n  topClassName = \"top-[var(--space-8)]\",\n  className,\n  children,\n  title,\n  actions,\n  titleAs = \"h2\",\n  titleClassName,\n  id,\n  ...props\n}: SectionCardHeaderProps) {\n  const setHeadingId = React.useContext(SectionCardContext)?.setHeadingId;\n  const autoId = React.useId();\n  const shouldUseDefaultLayout = children === undefined || children === null;\n  const hasTitle = shouldUseDefaultLayout && title !== undefined && title !== null;\n  const headingId = hasTitle ? id ?? autoId : undefined;\n\n  React.useEffect(() => {\n    if (!setHeadingId) return;\n\n    setHeadingId(headingId);\n\n    return () => {\n      setHeadingId(undefined);\n    };\n  }, [setHeadingId, headingId]);\n\n  let renderedTitle: React.ReactNode = null;\n\n  if (hasTitle && headingId) {\n    if (\n      React.isValidElement(title) &&\n      typeof title.type === \"string\" &&\n      /^h[1-6]$/.test(title.type)\n    ) {\n      const headingElement = title as React.ReactElement<{\n        className?: string;\n        id?: string;\n      }>;\n\n      renderedTitle = React.cloneElement(headingElement, {\n        id: headingId,\n        className: cn(titleClassName, headingElement.props.className),\n      });\n    } else {\n      const HeadingTag = titleAs;\n      renderedTitle = (\n        <HeadingTag id={headingId} className={titleClassName}>\n          {title}\n        </HeadingTag>\n      );\n    }\n  } else if (title !== undefined && title !== null) {\n    renderedTitle = title;\n  }\n\n  return (\n    <div\n      className={cn(\n        \"section-h\",\n        sticky ? cn(\"sticky\", topClassName) : undefined,\n        className,\n      )}\n      {...props}\n    >\n      {children ?? (\n        <div className=\"flex w-full items-center justify-between\">\n          <div>{renderedTitle}</div>\n          <div>{actions}</div>\n        </div>\n      )}\n    </div>\n  );\n}\n\nfunction SectionCardBody({ className, ...props }: BodyProps) {\n  const context = React.useContext(SectionCardContext);\n  const labelledBy =\n    (props as React.HTMLAttributes<HTMLDivElement>)[\"aria-labelledby\"] ??\n    context?.headingId;\n\n  return (\n    <div\n      {...props}\n      className={cn(\"section-b\", \"text-ui\", className)}\n      aria-labelledby={labelledBy}\n    />\n  );\n}\n\nconst SectionCard = Object.assign(SectionCardRoot, {\n  Header: SectionCardHeader,\n  Body: SectionCardBody,\n});\n\nexport { SectionCardHeader, SectionCardBody };\nexport { SectionCard };\n","\"use client\";\n\nimport * as React from \"react\";\nimport { AlertTriangle, RotateCcw } from \"lucide-react\";\n\nimport { Button } from \"@/components/ui\";\nimport { cn } from \"@/lib/utils\";\n\nexport interface AIRetryErrorBubbleProps extends React.ComponentPropsWithoutRef<\"div\"> {\n  readonly message: string;\n  readonly hint?: string;\n  readonly onRetry?: () => void;\n  readonly retryLabel?: string;\n  readonly icon?: React.ReactNode;\n  readonly actions?: React.ReactNode;\n}\n\nconst DEFAULT_RETRY_LABEL = \"Retry\";\n\nconst AIRetryErrorBubble = React.forwardRef<HTMLDivElement, AIRetryErrorBubbleProps>(\n  (\n    { message, hint, onRetry, retryLabel = DEFAULT_RETRY_LABEL, icon, actions, className, children, ...props },\n    ref,\n  ) => {\n    const retryAction = React.useMemo(() => {\n      if (!onRetry) return actions;\n      if (actions) return actions;\n      return (\n        <Button\n          type=\"button\"\n          size=\"sm\"\n          tone=\"danger\"\n          variant=\"quiet\"\n          onClick={onRetry}\n          className=\"gap-[var(--space-2)] px-[var(--space-3)]\"\n        >\n          <RotateCcw aria-hidden className=\"size-[var(--space-4)]\" />\n          {retryLabel}\n        </Button>\n      );\n    }, [actions, onRetry, retryLabel]);\n\n    return (\n      <div\n        ref={ref}\n        role=\"alert\"\n        aria-live=\"assertive\"\n        className={cn(\n          \"flex items-start gap-[var(--space-3)] rounded-card border border-[hsl(var(--danger)/0.4)]\",\n          \"bg-[hsl(var(--danger)/0.16)] p-[var(--space-3)] text-[hsl(var(--danger-foreground))] shadow-[var(--shadow-outline-subtle)]\",\n          className,\n        )}\n        {...props}\n      >\n        <span\n          aria-hidden\n          className=\"grid size-[var(--space-8)] shrink-0 place-items-center rounded-full bg-[hsl(var(--danger)/0.2)] text-[hsl(var(--danger))] shadow-[var(--shadow-inset-hairline)]\"\n        >\n          {icon ?? <AlertTriangle className=\"size-[var(--space-4)]\" aria-hidden />}\n        </span>\n        <div className=\"flex flex-1 flex-col gap-[var(--space-2)]\">\n          <p className=\"text-label font-medium\">{message}</p>\n          {hint ? <p className=\"text-caption text-[hsl(var(--danger-foreground)/0.78)]\">{hint}</p> : null}\n          {children}\n          {retryAction ? <div className=\"pt-[var(--space-1-5)]\">{retryAction}</div> : null}\n        </div>\n      </div>\n    );\n  },\n);\n\nAIRetryErrorBubble.displayName = \"AIRetryErrorBubble\";\nexport { AIRetryErrorBubble };\n","// src/components/ui/NeonIcon.tsx\n\"use client\";\n\nimport * as React from \"react\";\n\nimport { cn } from \"@/lib/utils\";\n\nimport styles from \"./NeonIcon.module.css\";\n\ntype Phase = \"steady-on\" | \"ignite\" | \"off\" | \"powerdown\";\ntype NeonIconSize = \"xs\" | \"sm\" | \"md\" | \"lg\" | \"xl\" | \"2xl\";\ntype NeonIconTone = \"accent\" | \"primary\" | \"ring\" | \"success\" | \"warning\" | \"danger\" | \"info\";\n\ntype NeonIconProps = {\n  icon: React.ComponentType<React.SVGProps<SVGSVGElement>>;\n  on: boolean;\n  size?: NeonIconSize;\n  /** CSS variable name like \"--accent-1\", \"--primary\", \"--ring\" */\n  colorVar?: string;\n  /** Preferred tone shorthand; overrides colorVar when provided. */\n  tone?: NeonIconTone;\n  title?: string;\n  className?: string;\n  /** toggle CRT scanlines layer */\n  scanlines?: boolean;\n  /** toggle wide aura layer */\n  aura?: boolean;\n};\n\nconst TONE_SET = new Set<NeonIconTone>([\n  \"accent\",\n  \"primary\",\n  \"ring\",\n  \"success\",\n  \"warning\",\n  \"danger\",\n  \"info\",\n]);\n\nconst ICON_SIZE_VARS: Record<NeonIconSize, string> = {\n  xs: \"var(--icon-size-xs)\",\n  sm: \"var(--icon-size-sm)\",\n  md: \"var(--icon-size-md)\",\n  lg: \"var(--icon-size-lg)\",\n  xl: \"var(--icon-size-xl)\",\n  \"2xl\": \"var(--icon-size-2xl)\",\n};\n\nconst toTone = (tone?: NeonIconTone, colorVar?: string): NeonIconTone => {\n  if (tone && TONE_SET.has(tone)) return tone;\n  if (colorVar) {\n    const normalized = colorVar.startsWith(\"--\") ? colorVar.slice(2) : colorVar;\n    if (TONE_SET.has(normalized as NeonIconTone)) {\n      return normalized as NeonIconTone;\n    }\n  }\n  return \"accent\";\n};\n\nexport function NeonIcon({\n  icon: Icon,\n  on,\n  size = \"md\",\n  colorVar = \"--accent-1\",\n  tone,\n  title,\n  className,\n  scanlines = true,\n  aura = true,\n}: NeonIconProps) {\n  const prev = React.useRef(on);\n  const [phase, setPhase] = React.useState<Phase>(on ? \"steady-on\" : \"off\");\n\n  React.useEffect(() => {\n    if (on !== prev.current) {\n      if (on) {\n        setPhase(\"ignite\");\n        const t = setTimeout(() => setPhase(\"steady-on\"), 620);\n        prev.current = on;\n        return () => clearTimeout(t);\n      } else {\n        setPhase(\"powerdown\");\n        const t = setTimeout(() => setPhase(\"off\"), 360);\n        prev.current = on;\n        return () => clearTimeout(t);\n      }\n    }\n    prev.current = on;\n  }, [on]);\n\n  const lit = phase === \"ignite\" || phase === \"steady-on\";\n  const toneAttr = toTone(tone, colorVar);\n\n  return (\n    <span\n      className={cn(\n        styles.root,\n        \"relative inline-grid place-items-center overflow-visible rounded-full border border-border bg-card/35\",\n        className,\n      )}\n      data-phase={phase}\n      data-size={size}\n      data-tone={toneAttr}\n      style={{ width: ICON_SIZE_VARS[size], height: ICON_SIZE_VARS[size] }}\n      aria-hidden\n      title={title}\n    >\n      {/* Base glyph */}\n      <Icon\n        className={styles.icon}\n        width=\"100%\"\n        height=\"100%\"\n        strokeWidth=\"var(--icon-stroke-100, 2)\"\n        aria-hidden\n      />\n\n      {/* Tight glow */}\n      <Icon\n        className={cn(styles.core, \"absolute\", lit && styles.coreAnimated)}\n        aria-hidden\n      />\n\n      {/* Wide aura (optional) */}\n      {aura && (\n        <Icon\n          className={cn(styles.aura, \"absolute\", lit && styles.auraAnimated)}\n          aria-hidden\n        />\n      )}\n\n      {/* CRT scanlines (optional) */}\n      {scanlines && (\n        <span\n          className={cn(styles.scanlines, \"rounded-full\", lit && styles.scanlinesAnimated)}\n          aria-hidden\n        />\n      )}\n\n      {/* One-shot overlays */}\n      <span\n        className={cn(styles.ignite, phase === \"ignite\" && styles.igniteAnimated)}\n        aria-hidden\n      />\n      <span\n        className={cn(styles.powerdown, phase === \"powerdown\" && styles.powerdownAnimated)}\n        aria-hidden\n      />\n    </span>\n  );\n}\n\nexport function NeonGlowWrap({ lit, children }: { lit: boolean; children: React.ReactNode }) {\n  return (\n    <span className={cn(styles.wrap, lit && styles.wrapLit)}>\n      <span className={styles.glowPrimary} aria-hidden />\n      <span className={cn(styles.glowAura, lit && styles.auraAnimated)} aria-hidden />\n      <span className={styles.content}>{children}</span>\n    </span>\n  );\n}\n","\"use client\";\n\nimport * as React from \"react\";\nimport { cn } from \"@/lib/utils\";\nimport { useFieldIds } from \"@/lib/useFieldIds\";\nimport { Field } from \"./Field\";\n\n/**\n * Textarea primitive.\n * No default `resize-*` utility is applied; use the `resize` prop or\n * `textareaClassName` to control resizing behavior.\n */\nexport type TextareaProps =\n  React.TextareaHTMLAttributes<HTMLTextAreaElement> & {\n    /** Optional className for the outer wrapper */\n    className?: string;\n    /** Optional className for the inner <textarea> element */\n    textareaClassName?: string;\n    /** Tailwind `resize-*` utility to control resizing behavior */\n    resize?: string;\n    /** Optional loading state forwarded via `data-loading` */\n    \"data-loading\"?: string | boolean | number;\n  };\n\nexport const Textarea = React.forwardRef<HTMLTextAreaElement, TextareaProps>(\n  function Textarea(\n    {\n      className,\n      textareaClassName,\n      resize,\n      id,\n      name,\n      \"aria-label\": ariaLabel,\n      ...props\n    },\n    ref,\n  ) {\n    const { id: finalId, name: finalName, isInvalid } = useFieldIds(\n      ariaLabel as string | undefined,\n      id,\n      name,\n      {\n        ariaInvalid: props[\"aria-invalid\"],\n        slugifyFallback: true,\n      },\n    );\n    const loadingAttr = props[\"data-loading\"];\n    const loading =\n      loadingAttr === \"\" ||\n      loadingAttr === true ||\n      loadingAttr === \"true\" ||\n      loadingAttr === 1;\n\n    return (\n      <Field.Root\n        invalid={isInvalid}\n        disabled={props.disabled}\n        readOnly={props.readOnly}\n        loading={loading}\n        className={cn(\"items-start\", className)}\n      >\n        <Field.Textarea\n          ref={ref}\n          id={finalId}\n          name={finalName}\n          aria-label={ariaLabel}\n          className={cn(resize, textareaClassName)}\n          {...props}\n        />\n      </Field.Root>\n    );\n  },\n);\n\nTextarea.displayName = \"Textarea\";\n","\"use client\";\n\nimport * as React from \"react\";\nimport { Zap } from \"lucide-react\";\n\nimport {\n  createGalleryPreview,\n  defineGallerySection,\n} from \"@/components/gallery/registry\";\n\nimport { NeonIcon } from \"./NeonIcon\";\n\ntype NeonIconProps = React.ComponentProps<typeof NeonIcon>;\n\ntype NeonIconState = {\n  readonly id: string;\n  readonly name: string;\n  readonly props: Partial<NeonIconProps>;\n  readonly code: string;\n};\n\nconst BASE_PROPS: Pick<NeonIconProps, \"icon\" | \"on\"> = {\n  icon: Zap,\n  on: true,\n};\n\nconst NEON_ICON_STATES: readonly NeonIconState[] = [\n  {\n    id: \"accent\",\n    name: \"Accent (lit)\",\n    props: { tone: \"accent\" },\n    code: `<NeonIcon icon={Zap} on tone=\"accent\" />`,\n  },\n  {\n    id: \"danger\",\n    name: \"Danger (lit)\",\n    props: { tone: \"danger\" },\n    code: `<NeonIcon icon={Zap} on tone=\"danger\" />`,\n  },\n  {\n    id: \"danger-off\",\n    name: \"Danger (powerdown)\",\n    props: { tone: \"danger\", on: false },\n    code: `<NeonIcon icon={Zap} on={false} tone=\"danger\" />`,\n  },\n  {\n    id: \"accent-2xl\",\n    name: \"Accent 2xl\",\n    props: { tone: \"accent\", size: \"2xl\" },\n    code: `<NeonIcon icon={Zap} on tone=\"accent\" size=\"2xl\" />`,\n  },\n] as const;\n\nfunction NeonIconStatePreview({ state }: { readonly state: NeonIconState }) {\n  return <NeonIcon {...BASE_PROPS} {...state.props} />;\n}\n\nfunction NeonIconGalleryPreview() {\n  return (\n    <div className=\"flex flex-wrap items-center gap-[var(--space-4)]\">\n      <NeonIcon {...BASE_PROPS} tone=\"accent\" />\n      <NeonIcon {...BASE_PROPS} tone=\"primary\" />\n      <NeonIcon {...BASE_PROPS} tone=\"ring\" />\n      <NeonIcon {...BASE_PROPS} tone=\"success\" />\n      <NeonIcon {...BASE_PROPS} tone=\"warning\" />\n      <NeonIcon {...BASE_PROPS} tone=\"danger\" />\n      <NeonIcon {...BASE_PROPS} tone=\"danger\" on={false} />\n      <NeonIcon {...BASE_PROPS} tone=\"accent\" size=\"2xl\" />\n    </div>\n  );\n}\n\nexport const NeonIconGallery = defineGallerySection({\n  id: \"toggles\",\n  entries: [\n    {\n      id: \"neon-icon\",\n      name: \"NeonIcon\",\n      description: \"Animated neon glyph with tone-driven glow ramps and power states.\",\n      kind: \"primitive\",\n      tags: [\"icon\", \"toggle\", \"glow\"],\n      props: [\n        {\n          name: \"icon\",\n          type: \"React.ComponentType<React.SVGProps<SVGSVGElement>>\",\n        },\n        { name: \"on\", type: \"boolean\" },\n        {\n          name: \"tone\",\n          type:\n            '\"accent\" | \"primary\" | \"ring\" | \"success\" | \"warning\" | \"danger\" | \"info\"',\n          defaultValue: '\"accent\"',\n        },\n        {\n          name: \"size\",\n          type: '\"xs\" | \"sm\" | \"md\" | \"lg\" | \"xl\" | \"2xl\"',\n          defaultValue: '\"md\"',\n        },\n        { name: \"scanlines\", type: \"boolean\", defaultValue: \"true\" },\n        { name: \"aura\", type: \"boolean\", defaultValue: \"true\" },\n      ],\n      axes: [\n        {\n          id: \"state\",\n          label: \"State\",\n          type: \"state\",\n          values: NEON_ICON_STATES.map((state) => ({ value: state.name })),\n        },\n      ],\n      preview: createGalleryPreview({\n        id: \"ui:neon-icon:gallery\",\n        render: () => <NeonIconGalleryPreview />,\n      }),\n      states: NEON_ICON_STATES.map((state) => ({\n        id: state.id,\n        name: state.name,\n        code: state.code,\n        preview: createGalleryPreview({\n          id: `ui:neon-icon:state:${state.id}`,\n          render: () => <NeonIconStatePreview state={state} />,\n        }),\n      })),\n      code: `<div className=\"flex flex-wrap items-center gap-[var(--space-4)]\">\n  <NeonIcon icon={Zap} on tone=\"accent\" />\n  <NeonIcon icon={Zap} on tone=\"primary\" />\n  <NeonIcon icon={Zap} on tone=\"ring\" />\n  <NeonIcon icon={Zap} on tone=\"success\" />\n  <NeonIcon icon={Zap} on tone=\"warning\" />\n  <NeonIcon icon={Zap} on tone=\"danger\" />\n  <NeonIcon icon={Zap} on={false} tone=\"danger\" />\n  <NeonIcon icon={Zap} on tone=\"accent\" size=\"2xl\" />\n</div>`,\n    },\n  ],\n})\n\nexport default NeonIconGallery\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"stack\":\"Stack_stack__dsKVe\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"divider\":\"Hero_divider__q2j6z\",\"dividerLine\":\"Hero_dividerLine__5LpNy\",\"dividerGlow\":\"Hero_dividerGlow__e1qPp\",\"scanlineOverlay\":\"Hero_scanlineOverlay__K8w4u\",\"heroBloom\":\"Hero_heroBloom__TdjdS\"};","\"use client\";\n\nimport * as React from \"react\";\nimport { motion, useReducedMotion } from \"framer-motion\";\nimport { hasTextContent } from \"@/lib/react\";\nimport { cn } from \"@/lib/utils\";\nimport { useAnimationsDisabled } from \"@/lib/useAnimationsDisabled\";\nimport neumorphicStyles from \"../neumorphic.module.css\";\nimport { type GlitchOverlayToken, BlobContainer } from \"./BlobContainer\";\nimport { DripEdge } from \"./DripEdge\";\nimport styles from \"./IconButton.module.css\";\nimport {\n  resolveUIVariant,\n  type DeprecatedUIVariant,\n  type UIVariant,\n} from \"@/components/ui/variants\";\n\nexport type IconButtonSize = \"sm\" | \"md\" | \"lg\" | \"xl\";\ntype Icon = \"xs\" | \"sm\" | \"md\" | \"lg\" | \"xl\";\n\ntype Tone = \"primary\" | \"accent\" | \"info\" | \"danger\";\nexport const ICON_BUTTON_VARIANTS = [\n  \"default\",\n  \"neo\",\n  \"quiet\",\n  \"glitch\",\n] as const satisfies readonly UIVariant[];\nexport type IconButtonVariant = (typeof ICON_BUTTON_VARIANTS)[number];\ntype LegacyIconButtonVariant = Extract<\n  DeprecatedUIVariant,\n  \"primary\" | \"secondary\" | \"soft\" | \"ghost\"\n>;\ntype IconButtonVariantProp = IconButtonVariant | LegacyIconButtonVariant;\n\ntype RequireAtLeastOne<T, Keys extends keyof T> = Pick<\n  T,\n  Exclude<keyof T, Keys>\n> &\n  {\n    [K in Keys]-?: Required<Pick<T, K>> &\n      Partial<Pick<T, Exclude<Keys, K>>>;\n  }[Keys];\n\n/**\n * Props for the {@link IconButton} component.\n * @property loading - When `true`, the button is disabled and `data-loading` is set.\n */\ntype AccessibleLabelProps = RequireAtLeastOne<\n  {\n    \"aria-label\"?: string;\n    \"aria-labelledby\"?: string;\n    title?: string;\n  },\n  \"aria-label\" | \"aria-labelledby\" | \"title\"\n>;\n\ntype MotionButtonProps = React.ComponentProps<typeof motion.button>;\n\nexport type IconButtonProps =\n  Omit<MotionButtonProps, \"children\" | \"style\"> &\n    AccessibleLabelProps & {\n      size?: IconButtonSize;\n      iconSize?: Icon;\n      tone?: Tone;\n      variant?: IconButtonVariantProp;\n      loading?: boolean;\n      children?: React.ReactNode;\n      glitch?: boolean;\n      glitchIntensity?: GlitchOverlayToken;\n    };\n\nconst iconMap: Record<Icon, string> = {\n  xs: \"[&_svg]:size-[calc(var(--control-h-xs)/2)]\",\n  sm: \"[&_svg]:size-[calc(var(--control-h-sm)/2)]\",\n  md: \"[&_svg]:size-[calc(var(--control-h-md)/2)]\",\n  lg: \"[&_svg]:size-[calc(var(--control-h-lg)/2)]\",\n  xl: \"[&_svg]:size-[calc(var(--control-h-xl)/2)]\",\n};\nconst defaultIcon: Record<IconButtonSize, Icon> = {\n  sm: \"sm\",\n  md: \"md\",\n  lg: \"lg\",\n  xl: \"xl\",\n};\nconst getSizeClass = (s: IconButtonSize) => {\n  const sizeMap: Record<IconButtonSize, string> = {\n    sm: \"h-[var(--control-h-sm)] w-[var(--control-h-sm)]\",\n    md: \"h-[var(--control-h-md)] w-[var(--control-h-md)]\",\n    lg: \"h-[var(--control-h-lg)] w-[var(--control-h-lg)]\",\n    xl: \"h-[var(--control-h-xl)] w-[var(--control-h-xl)]\",\n  };\n  return sizeMap[s];\n};\n\nconst toneTintTokens = {\n  primary: \"[--hover:hsl(var(--foreground)/0.1)] [--active:hsl(var(--foreground)/0.2)]\",\n  accent: \"[--hover:hsl(var(--accent-1)/0.25)] [--active:hsl(var(--accent-1)/0.35)]\",\n  info: \"[--hover:hsl(var(--accent-2)/0.25)] [--active:hsl(var(--accent-2)/0.35)]\",\n  danger: \"[--hover:hsl(var(--danger)/0.1)] [--active:hsl(var(--danger)/0.2)]\",\n} satisfies Record<Tone, string>;\n\nconst toneInteractionTokens = {\n  primary: \"[--hover:hsl(var(--primary)/0.14)] [--active:hsl(var(--primary)/0.2)]\",\n  accent: \"[--hover:hsl(var(--accent-1)/0.14)] [--active:hsl(var(--accent-1)/0.2)]\",\n  info: \"[--hover:hsl(var(--accent-2)/0.14)] [--active:hsl(var(--accent-2)/0.2)]\",\n  danger: \"[--hover:hsl(var(--danger)/0.14)] [--active:hsl(var(--danger)/0.2)]\",\n} satisfies Record<Tone, string>;\n\nconst toneForegroundVar: Record<Tone, string> = {\n  primary: \"--primary-foreground\",\n  accent: \"--accent-1-foreground\",\n  info: \"--accent-2-foreground\",\n  danger: \"--danger-foreground\",\n};\n\nconst primaryShadowVars: Record<Tone, string> = {\n  primary:\n    \"[--glow-active:hsl(var(--primary)/0.35)] [--btn-primary-hover-shadow:0_var(--spacing-0-5)_calc(var(--space-3)/2)_calc(-1*var(--spacing-0-25))_hsl(var(--primary)/0.25)] [--btn-primary-active-shadow:inset_0_0_0_var(--spacing-0-25)_hsl(var(--primary)/0.6)]\",\n  accent:\n    \"[--glow-active:hsl(var(--accent-1)/0.35)] [--btn-primary-hover-shadow:0_var(--spacing-0-5)_calc(var(--space-3)/2)_calc(-1*var(--spacing-0-25))_hsl(var(--accent-1)/0.25)] [--btn-primary-active-shadow:inset_0_0_0_var(--spacing-0-25)_hsl(var(--accent-1)/0.6)]\",\n  info:\n    \"[--glow-active:hsl(var(--accent-2)/0.35)] [--btn-primary-hover-shadow:0_var(--spacing-0-5)_calc(var(--space-3)/2)_calc(-1*var(--spacing-0-25))_hsl(var(--accent-2)/0.25)] [--btn-primary-active-shadow:inset_0_0_0_var(--spacing-0-25)_hsl(var(--accent-2)/0.6)]\",\n  danger:\n    \"[--glow-active:hsl(var(--danger)/0.35)] [--btn-primary-hover-shadow:0_var(--spacing-0-5)_calc(var(--space-3)/2)_calc(-1*var(--spacing-0-25))_hsl(var(--danger)/0.25)] [--btn-primary-active-shadow:inset_0_0_0_var(--spacing-0-25)_hsl(var(--danger)/0.6)]\",\n};\n\nconst secondarySurfaceTokens: Record<Tone, string> = {\n  primary: \"[--hover:hsl(var(--primary)/0.25)] [--active:hsl(var(--primary)/0.35)]\",\n  accent: \"[--hover:hsl(var(--accent-1)/0.25)] [--active:hsl(var(--accent-1)/0.2)]\",\n  info: \"[--hover:hsl(var(--accent-2)/0.2)] [--active:hsl(var(--accent-2)/0.15)]\",\n  danger: \"[--hover:hsl(var(--danger)/0.14)] [--active:hsl(var(--danger)/0.2)]\",\n};\n\nconst primaryVariantBase = (tone: Tone): string =>\n  cn(\n    \"border transition-[box-shadow,background-color,color] shadow-glow-sm hover:shadow-btn-primary-hover active:shadow-btn-primary-active\",\n    toneInteractionTokens[tone],\n    primaryShadowVars[tone],\n  );\n\nconst baseVariantBase: Record<Exclude<IconButtonVariant, \"glitch\">, (tone: Tone) => string> = {\n  quiet: (tone) =>\n    cn(\n      \"border transition-[box-shadow,background-color,color]\",\n      toneTintTokens[tone],\n    ),\n  default: primaryVariantBase,\n  neo: () =>\n    \"border transition-[box-shadow,background-color,color] shadow-control hover:shadow-control-hover active:shadow-inner-md\",\n};\n\nconst variantBase: Record<IconButtonVariant, (tone: Tone) => string> = {\n  ...baseVariantBase,\n  glitch: (tone) => baseVariantBase.default(tone),\n};\n\nconst baseToneClasses: Record<\n  Exclude<IconButtonVariant, \"glitch\">,\n  Record<Tone, string>\n> = {\n  quiet: {\n    primary: cn(\n      \"border-[hsl(var(--line)/0.35)] text-foreground\",\n      \"[--neu-surface:hsl(var(--card)/0.35)]\",\n    ),\n    accent: cn(\n      \"border-accent/35 text-on-accent\",\n      \"[--neu-surface:hsl(var(--accent-1)/0.2)]\",\n    ),\n    info: cn(\n      \"border-accent-2/35 text-on-accent\",\n      \"[--neu-surface:hsl(var(--accent-2)/0.2)]\",\n    ),\n    danger: cn(\n      \"border-danger/35 text-danger\",\n      \"[--neu-surface:hsl(var(--danger)/0.12)]\",\n    ),\n  },\n  default: {\n    primary: cn(\n      \"border-[hsl(var(--primary)/0.35)] [--neu-surface:hsl(var(--primary-soft))]\",\n      `text-[hsl(var(${toneForegroundVar.primary}))]`,\n    ),\n    accent: cn(\n      \"border-[hsl(var(--accent-1)/0.35)] [--neu-surface:hsl(var(--accent-1)/0.12)]\",\n      \"text-on-accent\",\n    ),\n    info: cn(\n      \"border-[hsl(var(--accent-2)/0.35)] [--neu-surface:hsl(var(--accent-2)/0.12)]\",\n      \"text-on-accent\",\n    ),\n    danger: cn(\n      \"border-[hsl(var(--danger)/0.35)] [--neu-surface:hsl(var(--danger)/0.12)]\",\n      \"text-[hsl(var(--danger-surface-foreground))]\",\n    ),\n  },\n  neo: {\n    primary: cn(\n      secondarySurfaceTokens.primary,\n      \"text-muted-foreground hover:text-foreground active:text-foreground focus-visible:text-foreground\",\n      \"[--neu-surface:hsl(var(--panel)/0.6)]\",\n    ),\n    accent: cn(\n      secondarySurfaceTokens.accent,\n      \"text-on-accent\",\n      \"[--neu-surface:hsl(var(--accent-1)/0.3)]\",\n    ),\n    info: cn(\n      secondarySurfaceTokens.info,\n      \"text-on-accent\",\n      \"[--neu-surface:hsl(var(--accent-2)/0.25)]\",\n    ),\n    danger: cn(\n      secondarySurfaceTokens.danger,\n      \"text-[hsl(var(--danger-tint-foreground))]\",\n      \"[--neu-surface:hsl(var(--danger)/0.25)]\",\n    ),\n  },\n};\n\nconst toneClasses: Record<IconButtonVariant, Record<Tone, string>> = {\n  ...baseToneClasses,\n  glitch: baseToneClasses.default,\n};\n\nconst IconButton = React.forwardRef<HTMLButtonElement, IconButtonProps>(\n  (\n    {\n      size = \"md\",\n      iconSize,\n      className,\n      tone = \"primary\",\n      variant = \"quiet\",\n      loading,\n      disabled,\n      children,\n      title,\n      \"aria-label\": ariaLabel,\n      \"aria-labelledby\": ariaLabelledBy,\n      glitch = true,\n      glitchIntensity = \"glitch-overlay-button-opacity\",\n      ...rest\n    },\n    ref,\n  ) => {\n    const animationsDisabled = useAnimationsDisabled();\n    const reduceMotionPreference = useReducedMotion();\n    const reduceMotion = reduceMotionPreference || animationsDisabled;\n    const sizeClass = getSizeClass(size);\n    const appliedIconSize = iconSize ?? defaultIcon[size];\n    const trimmedAriaLabel =\n      typeof ariaLabel === \"string\" ? ariaLabel.trim() : undefined;\n    const trimmedTitle = typeof title === \"string\" ? title.trim() : undefined;\n    const normalizedAriaLabel =\n      trimmedAriaLabel && trimmedAriaLabel.length > 0\n        ? trimmedAriaLabel\n        : undefined;\n    const normalizedTitle =\n      trimmedTitle && trimmedTitle.length > 0 ? trimmedTitle : undefined;\n    const trimmedAriaLabelledBy =\n      typeof ariaLabelledBy === \"string\" ? ariaLabelledBy.trim() : undefined;\n    const normalizedAriaLabelledBy =\n      trimmedAriaLabelledBy && trimmedAriaLabelledBy.length > 0\n        ? trimmedAriaLabelledBy\n        : undefined;\n    const iconOnly = !hasTextContent(children);\n    const shouldWarn =\n      iconOnly &&\n      !normalizedAriaLabel &&\n      !normalizedAriaLabelledBy &&\n      !normalizedTitle;\n\n    const resolvedAriaLabel =\n      normalizedAriaLabel ??\n      (iconOnly && !normalizedAriaLabelledBy ? normalizedTitle : undefined);\n\n    React.useEffect(() => {\n      if (process.env.NODE_ENV === \"production\") return;\n      if (!shouldWarn) return;\n      console.error(\n        \"IconButton requires an accessible name (`aria-label`, `aria-labelledby`, or `title`) when rendering icon-only content.\",\n      );\n    }, [shouldWarn]);\n\n    const resolvedVariant = resolveUIVariant<IconButtonVariant>(variant, {\n      allowed: ICON_BUTTON_VARIANTS,\n      fallback: \"quiet\",\n    });\n    const shouldGlitch = glitch || resolvedVariant === \"glitch\";\n    const toneKey = resolvedVariant === \"glitch\" ? \"default\" : resolvedVariant;\n\n    const variantClass = variantBase[resolvedVariant](tone);\n\n    const glitchText = shouldGlitch\n      ? resolvedAriaLabel ?? normalizedTitle ?? undefined\n      : resolvedAriaLabel ?? normalizedTitle ?? undefined;\n\n    const domProps = { ...rest } as Record<string, unknown>;\n    if (\"data-text\" in domProps) {\n      delete domProps[\"data-text\"];\n    }\n\n    return (\n      <motion.button\n        ref={ref}\n        type=\"button\"\n        className={cn(\n          neumorphicStyles.neu,\n          styles.root,\n          shouldGlitch && \"glitch-wrapper\",\n          shouldGlitch && styles.glitch,\n          shouldGlitch && \"group/glitch isolate overflow-hidden\",\n          \"inline-flex items-center justify-center select-none rounded-full transition-colors duration-motion-sm ease-out motion-reduce:transition-none hover:bg-[--hover] active:bg-[--active] focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background focus-visible:shadow-[var(--shadow-glow-md)] disabled:opacity-disabled disabled:pointer-events-none data-[loading=true]:opacity-loading\",\n          \"data-[reduce-motion=true]:focus-visible:shadow-none data-[reduce-motion=true]:focus-visible:[box-shadow:none]\",\n          \"[--neu-radius:var(--radius-full)]\",\n          variantClass,\n          toneClasses[resolvedVariant][tone],\n          sizeClass,\n          iconMap[appliedIconSize],\n          className,\n        )}\n        data-loading={loading}\n        data-variant={resolvedVariant}\n        data-tone={tone}\n        data-glitch={shouldGlitch ? \"true\" : undefined}\n        data-text={shouldGlitch ? glitchText : undefined}\n        disabled={disabled || loading}\n        whileHover={reduceMotion ? undefined : { scale: 1.05 }}\n        whileTap={reduceMotion ? undefined : { scale: 0.95 }}\n        aria-label={resolvedAriaLabel}\n        aria-labelledby={normalizedAriaLabelledBy}\n        title={normalizedTitle}\n        data-reduce-motion={reduceMotion ? \"true\" : undefined}\n        {...(domProps as typeof rest)}\n      >\n        {shouldGlitch ? <BlobContainer overlayToken={glitchIntensity} /> : null}\n        {toneKey === \"default\" ? (\n          <DripEdge\n            className=\"absolute inset-0 z-0\"\n            overlayToken={glitchIntensity}\n            tone={tone}\n          />\n        ) : null}\n        <span className=\"relative z-10 inline-flex items-center justify-center\">\n          {children}\n        </span>\n      </motion.button>\n    );\n  },\n);\n\nIconButton.displayName = \"IconButton\";\nexport { IconButton };\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"ThemeSelector_root__5Rk1C\",\"option\":\"ThemeSelector_option__MIUlM\",\"preview\":\"ThemeSelector_preview__siEaC\",\"previewAccent\":\"ThemeSelector_previewAccent__DBQOf\",\"previewSheen\":\"ThemeSelector_previewSheen__IeZ_7\",\"previewNoise\":\"ThemeSelector_previewNoise__tW6Q3\",\"theme-selector-noise\":\"ThemeSelector_theme-selector-noise__VtyNP\",\"label\":\"ThemeSelector_label__gTPtO\"};","\"use client\";\n\nimport * as React from \"react\";\n\ninterface UseScopedCssVarsOptions {\n  readonly attribute: `data-${string}`;\n  readonly vars: Record<string, string | number>;\n  readonly enabled?: boolean;\n}\n\ntype CssVarStyle = React.CSSProperties & Record<string, string>;\n\ninterface UseScopedCssVarsResult {\n  readonly scopeProps: Record<string, string> | undefined;\n  readonly style: CssVarStyle | undefined;\n}\n\nexport function useScopedCssVars({\n  attribute,\n  vars,\n  enabled = true,\n}: UseScopedCssVarsOptions): UseScopedCssVarsResult {\n  const scopeProps = React.useMemo(() => {\n    if (!enabled) return undefined;\n    return { [attribute]: \"\" } as Record<string, string>;\n  }, [attribute, enabled]);\n\n  const style = React.useMemo(() => {\n    if (!enabled) return undefined;\n    const entries = Object.entries(vars);\n    if (entries.length === 0) return undefined;\n\n    const cssVars: CssVarStyle = {} as CssVarStyle;\n    for (const [name, value] of entries) {\n      cssVars[name] = String(value);\n    }\n    return cssVars;\n  }, [enabled, vars]);\n\n  return React.useMemo(\n    () => ({\n      scopeProps,\n      style,\n    }),\n    [scopeProps, style],\n  );\n}\n","import * as React from \"react\";\n\nexport type CatCompanionIconProps = React.SVGProps<SVGSVGElement>;\n\nconst CAT_COMPANION_PATH =\n  \"M12 5c.67 0 1.35.09 2 .26 1.78-2 5.03-2.84 6.42-2.26 1.4.58-.42 7-.42 7 .57 1.07 1 2.24 1 3.44C21 17.9 16.97 21 \" +\n  \"12 21s-9-3-9-7.56c0-1.25.5-2.4 1-3.44 0 0-1.89-6.42-.5-7 1.39-.58 4.72.23 6.5 2.23A9.04 9.04 0 0 1 12 5Z\";\n\nconst CatCompanionIcon = React.forwardRef<SVGSVGElement, CatCompanionIconProps>(\n  (\n    {\n      className,\n      \"aria-label\": ariaLabel,\n      \"aria-hidden\": ariaHidden,\n      role,\n      focusable,\n      ...rest\n    },\n    ref\n  ) => {\n    const computedRole = role ?? (ariaLabel ? \"img\" : \"presentation\");\n    const computedAriaHidden = ariaHidden ?? (ariaLabel ? undefined : true);\n    const computedFocusable = focusable ?? false;\n\n    return (\n      <svg\n        ref={ref}\n        className={className}\n        viewBox=\"0 0 24 24\"\n        fill=\"currentColor\"\n        role={computedRole}\n        aria-label={ariaLabel}\n        aria-hidden={computedAriaHidden}\n        focusable={computedFocusable}\n        {...rest}\n      >\n        <path d={CAT_COMPANION_PATH} />\n      </svg>\n    );\n  }\n);\n\nCatCompanionIcon.displayName = \"CatCompanionIcon\";\n\nexport default CatCompanionIcon;\n","// extracted by mini-css-extract-plugin","// src/lib/logging.ts\n// Structured logger with default PII redaction helpers.\n\nexport type LogLevel = \"debug\" | \"info\" | \"warn\" | \"error\";\n\nexport type LogDetails = Record<string, unknown>;\n\nexport type LogMethod = (message: string, ...details: unknown[]) => void;\n\nexport type LoggerContext = Readonly<Record<string, unknown>>;\n\nexport type Logger = {\n  debug: LogMethod;\n  info: LogMethod;\n  warn: LogMethod;\n  error: LogMethod;\n  child: (suffix: string, context?: LoggerContext) => Logger;\n};\n\nconst EMAIL_PATTERN = /[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}/gi;\nconst PHONE_PATTERN = /\\b(?:\\+?\\d[\\d\\s.-]{7,}\\d)\\b/g;\nconst MAX_DEPTH = 5;\nconst MAX_ARRAY_LENGTH = 50;\nconst MAX_OBJECT_KEYS = 50;\n\nconst LOG_LEVEL_ORDER: Record<LogLevel, number> = {\n  error: 0,\n  warn: 1,\n  info: 2,\n  debug: 3,\n};\n\nconst CONSOLE_METHOD: Record<LogLevel, (label: string, payload: LogDetails) => void> = {\n  debug(label, payload) {\n    console.debug(label, payload);\n  },\n  info(label, payload) {\n    console.info(label, payload);\n  },\n  warn(label, payload) {\n    console.warn(label, payload);\n  },\n  error(label, payload) {\n    console.error(label, payload);\n  },\n};\n\nconst rawMinimumLevel =\n  process.env.NEXT_PUBLIC_LOG_LEVEL ??\n  process.env.LOG_LEVEL ??\n  (process.env.NODE_ENV === \"production\" ? \"warn\" : \"debug\");\n\nconst MIN_LEVEL: LogLevel = (Object.keys(LOG_LEVEL_ORDER) as LogLevel[]).includes(\n  rawMinimumLevel as LogLevel,\n)\n  ? (rawMinimumLevel as LogLevel)\n  : process.env.NODE_ENV === \"production\"\n    ? \"warn\"\n    : \"debug\";\n\nfunction shouldLog(level: LogLevel): boolean {\n  return LOG_LEVEL_ORDER[level] <= LOG_LEVEL_ORDER[MIN_LEVEL];\n}\n\nfunction redactString(value: string): string {\n  return value.replace(EMAIL_PATTERN, \"[redacted-email]\").replace(\n    PHONE_PATTERN,\n    \"[redacted-number]\",\n  );\n}\n\ntype RedactOptions = {\n  deep?: boolean;\n  depth?: number;\n  maxDepth?: number;\n  seen?: WeakSet<object>;\n};\n\nfunction redactUnknown(value: unknown, options: RedactOptions = {}): unknown {\n  const { deep = false } = options;\n  const seen = options.seen ?? new WeakSet<object>();\n  const depth = options.depth ?? 0;\n  const maxDepth = options.maxDepth ?? (deep ? MAX_DEPTH : 1);\n\n  if (typeof value === \"string\") {\n    return redactString(value);\n  }\n\n  if (typeof value === \"number\" || typeof value === \"boolean\" || value == null) {\n    return value;\n  }\n\n  if (typeof value === \"bigint\") {\n    return redactString(value.toString());\n  }\n\n  if (value instanceof Date) {\n    return value.toISOString();\n  }\n\n  if (value instanceof Error) {\n    return {\n      name: value.name,\n      message: redactString(value.message),\n      stack: typeof value.stack === \"string\" ? redactString(value.stack) : undefined,\n    };\n  }\n\n  if (Array.isArray(value)) {\n    if (depth >= maxDepth) {\n      return value;\n    }\n    const limited = value\n      .slice(0, MAX_ARRAY_LENGTH)\n      .map((item) => redactUnknown(item, { ...options, depth: depth + 1, seen, deep }));\n    if (value.length > MAX_ARRAY_LENGTH) {\n      limited.push(`[+${value.length - MAX_ARRAY_LENGTH} more items]`);\n    }\n    return limited;\n  }\n\n  if (typeof value === \"object\") {\n    const objectValue = value as Record<string, unknown>;\n    if (seen.has(objectValue)) {\n      return \"[Circular]\";\n    }\n    seen.add(objectValue);\n\n    if (depth >= maxDepth) {\n      return objectValue;\n    }\n\n    const objectEntries = Object.entries(objectValue);\n    const limitedEntries = objectEntries\n      .slice(0, MAX_OBJECT_KEYS)\n      .map(([key, entryValue]) => [\n        key,\n        redactUnknown(entryValue, { ...options, depth: depth + 1, seen, deep }),\n      ]);\n    if (objectEntries.length > MAX_OBJECT_KEYS) {\n      limitedEntries.push([\"[Truncated]\", `+${objectEntries.length - MAX_OBJECT_KEYS} keys`]);\n    }\n\n    return Object.fromEntries(limitedEntries);\n  }\n\n  return value;\n}\n\nfunction normalizeScope(scope: string): string {\n  const trimmed = scope.trim();\n  return trimmed ? trimmed : \"root\";\n}\n\nfunction buildPrefix(scope: string): string {\n  const normalized = normalizeScope(scope);\n  return normalized ? `planner:${normalized}` : \"planner\";\n}\n\nfunction sanitizeContext(context?: LoggerContext): LogDetails | undefined {\n  if (!context) {\n    return undefined;\n  }\n  const entries = Object.entries(context);\n  if (entries.length === 0) {\n    return undefined;\n  }\n  return redactUnknown(Object.fromEntries(entries)) as LogDetails;\n}\n\nfunction createLogMethod(\n  scope: string,\n  context: LoggerContext,\n  level: LogLevel,\n): LogMethod {\n  const sanitizedContext = sanitizeContext(context);\n  const prefixLabel = buildPrefix(scope);\n  return (message: string, ...details: unknown[]) => {\n    if (!shouldLog(level)) {\n      return;\n    }\n\n    const sanitizedMessage = typeof message === \"string\" ? redactString(message) : message;\n    const sanitizedDetails = details.map((detail) => redactUnknown(detail));\n    const payload: LogDetails = {\n      level,\n      scope: prefixLabel,\n      message: sanitizedMessage,\n      timestamp: new Date().toISOString(),\n    };\n\n    if (sanitizedContext) {\n      payload.context = sanitizedContext;\n    }\n\n    if (sanitizedDetails.length > 0) {\n      payload.details = sanitizedDetails;\n    }\n\n    CONSOLE_METHOD[level](`[${prefixLabel}]`, payload);\n  };\n}\n\nexport function createLogger(scope: string, context: LoggerContext = {}): Logger {\n  const logMethods: Record<LogLevel, LogMethod> = {\n    debug: createLogMethod(scope, context, \"debug\"),\n    info: createLogMethod(scope, context, \"info\"),\n    warn: createLogMethod(scope, context, \"warn\"),\n    error: createLogMethod(scope, context, \"error\"),\n  };\n\n  return {\n    ...logMethods,\n    child(suffix: string, childContext: LoggerContext = {}): Logger {\n      const nextScope = suffix ? `${normalizeScope(scope)}:${normalizeScope(suffix)}` : scope;\n      return createLogger(nextScope, { ...context, ...childContext });\n    },\n  };\n}\n\nexport const persistenceLogger = createLogger(\"persistence\");\nexport const observabilityLogger = createLogger(\"observability\");\n\nexport function redactForLogging<T>(value: T, options?: { deep?: boolean }): T | unknown {\n  return redactUnknown(value, options);\n}\n","\"use client\";\n\nimport * as React from \"react\";\n\nimport { useRovingTabState } from \"@/components/tabs/useRovingTabState\";\nimport { GlitchSegmentedButton } from \"@/components/ui/primitives/GlitchSegmentedButton\";\nimport {\n  GlitchSegmentedGroup,\n  type GlitchSegmentedGroupProps,\n} from \"@/components/ui/primitives/GlitchSegmentedGroup\";\nimport { defaultTheme, VARIANTS, type Variant } from \"@/lib/theme\";\nimport { useOptionalTheme } from \"@/lib/theme-context\";\nimport { usePrefersReducedMotion } from \"@/lib/useReducedMotion\";\nimport { cn } from \"@/lib/utils\";\n\nimport styles from \"./ThemeSelector.module.css\";\n\ntype Align = NonNullable<GlitchSegmentedGroupProps[\"align\"]>;\ntype Size = NonNullable<GlitchSegmentedGroupProps[\"size\"]>;\n\nexport interface ThemeSelectorProps {\n  id?: string;\n  className?: string;\n  size?: Size;\n  align?: Align;\n  disabled?: boolean;\n  value?: Variant;\n  defaultValue?: Variant;\n  onValueChange?: (variant: Variant) => void;\n  \"aria-label\"?: string;\n  \"aria-labelledby\"?: string;\n  \"aria-describedby\"?: string;\n  syncTheme?: boolean;\n}\n\nconst rovingItems = VARIANTS.map(({ id }) => ({ key: id }));\n\nexport function ThemeSelector({\n  id,\n  className,\n  size = \"md\",\n  align = \"start\",\n  disabled = false,\n  value,\n  defaultValue,\n  onValueChange,\n  \"aria-label\": ariaLabel,\n  \"aria-labelledby\": ariaLabelledby,\n  \"aria-describedby\": ariaDescribedby,\n  syncTheme = true,\n}: ThemeSelectorProps) {\n  const themeContext = useOptionalTheme();\n  const themeState = themeContext?.[0];\n  const setThemeState = themeContext?.[1];\n  const reduceMotion = usePrefersReducedMotion();\n  const shouldGlitch = !reduceMotion;\n\n  const fallbackVariant = React.useMemo(() => defaultTheme().variant, []);\n  const initialVariantRef = React.useRef<Variant>(\n    value ?? themeState?.variant ?? defaultValue ?? fallbackVariant,\n  );\n  const [internalVariant, setInternalVariant] = React.useState<Variant>(\n    initialVariantRef.current,\n  );\n\n  React.useEffect(() => {\n    if (!themeState && value === undefined && defaultValue !== undefined) {\n      setInternalVariant(defaultValue);\n    }\n  }, [themeState, value, defaultValue]);\n\n  const activeVariant = value ?? themeState?.variant ?? internalVariant;\n  const resolvedVariant = activeVariant ?? fallbackVariant;\n\n  const handleVariantChange = React.useCallback(\n    (next: Variant) => {\n      if (disabled || next === resolvedVariant) {\n        return;\n      }\n\n      onValueChange?.(next);\n\n      if (!themeState && value === undefined) {\n        setInternalVariant(next);\n      }\n\n      if (syncTheme && setThemeState) {\n        setThemeState((previous) =>\n          previous.variant === next ? previous : { ...previous, variant: next },\n        );\n      }\n    },\n    [disabled, resolvedVariant, onValueChange, themeState, value, syncTheme, setThemeState],\n  );\n\n  const items = React.useMemo(\n    () =>\n      rovingItems.map((item) => ({\n        ...item,\n        disabled,\n      })),\n    [disabled],\n  );\n\n  const { activeKey, registerTab, setActiveValue, onKeyDown } =\n    useRovingTabState<Variant, { key: Variant; disabled?: boolean }>({\n      items,\n      value: resolvedVariant,\n      onValueChange: handleVariantChange,\n    });\n\n  const labelProps: {\n    \"aria-label\"?: string;\n    \"aria-labelledby\"?: string;\n  } = {};\n\n  if (ariaLabelledby) {\n    labelProps[\"aria-labelledby\"] = ariaLabelledby;\n    if (ariaLabel) {\n      labelProps[\"aria-label\"] = ariaLabel;\n    }\n  } else if (ariaLabel) {\n    labelProps[\"aria-label\"] = ariaLabel;\n  }\n\n  return (\n    <GlitchSegmentedGroup\n      id={id}\n      role=\"radiogroup\"\n      aria-disabled={disabled || undefined}\n      aria-describedby={ariaDescribedby}\n      size={size}\n      align={align}\n      className={cn(styles.root, className)}\n      onKeyDown={onKeyDown}\n      {...labelProps}\n    >\n      {VARIANTS.map(({ id: variantId, label }) => {\n        const selected = variantId === activeKey;\n        const isDisabled = disabled;\n        return (\n          <GlitchSegmentedButton\n            key={variantId}\n            ref={(node) => registerTab(variantId, node)}\n            role=\"radio\"\n            aria-checked={selected}\n            aria-disabled={isDisabled || undefined}\n            tabIndex={isDisabled ? -1 : selected ? 0 : -1}\n            selected={selected}\n            disabled={isDisabled}\n            glitch={shouldGlitch && !isDisabled}\n            className={styles.option}\n            onClick={(event) => {\n              if (isDisabled) {\n                event.preventDefault();\n                event.stopPropagation();\n                return;\n              }\n              setActiveValue(variantId);\n            }}\n          >\n            <span className={styles.preview} aria-hidden>\n              <span className={styles.previewAccent} />\n              <span className={styles.previewSheen} />\n              {shouldGlitch ? <span className={styles.previewNoise} /> : null}\n            </span>\n            <span className={styles.label}>{label}</span>\n          </GlitchSegmentedButton>\n        );\n      })}\n    </GlitchSegmentedGroup>\n  );\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"scene\":\"HeroScene_scene__FLhxc\",\"blob\":\"HeroScene_blob__bvfTY\",\"bloom\":\"HeroScene_bloom__zHhYW\",\"figure\":\"HeroScene_figure__2bjhs\",\"hero-bob\":\"HeroScene_hero-bob___GM2j\"};","\"use client\";\n\nimport * as React from \"react\";\nimport { useReducedMotion } from \"framer-motion\";\n\nimport { cn } from \"@/lib/utils\";\n\nexport type GlitchOverlayToken =\n  | \"glitch-overlay-button-opacity\"\n  | \"glitch-overlay-button-opacity-reduced\"\n  | \"glitch-overlay-opacity-card\";\n\nexport type GlitchNoiseToken = \"glitch-noise-level\" | \"glitch-static-opacity\";\n\ntype StyleWithCustomVars = React.CSSProperties & {\n  \"--blob-overlay-target\"?: string;\n  \"--blob-overlay-hover\"?: string;\n  \"--blob-overlay-active\"?: string;\n  \"--blob-noise-target\"?: string;\n  \"--blob-noise-hover\"?: string;\n  \"--blob-noise-active-target\"?: string;\n};\n\nexport type BlobContainerProps = Omit<\n  React.HTMLAttributes<HTMLSpanElement>,\n  \"style\"\n> & {\n  overlayToken?: GlitchOverlayToken;\n  noiseToken?: GlitchNoiseToken;\n  noiseActiveToken?: GlitchNoiseToken;\n  animate?: boolean;\n  withNoise?: boolean;\n  style?: React.CSSProperties;\n};\n\nconst resolveTokenVar = (token: string) => `var(--${token})`;\n\nconst BlobContainer = React.forwardRef<HTMLSpanElement, BlobContainerProps>(\n  (\n    {\n      className,\n      overlayToken = \"glitch-overlay-button-opacity\",\n      noiseToken = \"glitch-noise-level\",\n      noiseActiveToken,\n      animate = true,\n      withNoise = true,\n      style,\n      ...rest\n    },\n    ref,\n  ) => {\n    const reduceMotion = useReducedMotion();\n    const overlayVar = resolveTokenVar(overlayToken);\n    const noiseVar = resolveTokenVar(noiseToken);\n    const activeNoiseVar = noiseActiveToken\n      ? resolveTokenVar(noiseActiveToken)\n      : undefined;\n\n    const overlayHoverVar = `calc(${overlayVar} * var(--glitch-intensity-subtle, 1))`;\n    const overlayTargetVar = `calc(${overlayVar} * var(--glitch-intensity-default, 1))`;\n    const overlayActiveVar = `calc(${overlayVar} * var(--glitch-intensity, var(--glitch-intensity-default, 1)))`;\n\n    const noiseHoverVar = `calc(${noiseVar} * var(--glitch-intensity-subtle, 1))`;\n    const noiseTargetVar = `calc(${noiseVar} * var(--glitch-intensity-default, 1))`;\n    const noiseActiveBaseVar = activeNoiseVar ?? noiseVar;\n    const noiseActiveScaledVar = `calc(${noiseActiveBaseVar} * var(--glitch-intensity, var(--glitch-intensity-default, 1)))`;\n\n    const mergedStyle: StyleWithCustomVars = {\n      ...(style as StyleWithCustomVars | undefined),\n      \"--blob-overlay-hover\": overlayHoverVar,\n      \"--blob-overlay-target\": overlayTargetVar,\n      \"--blob-overlay-active\": overlayActiveVar,\n      \"--blob-noise-hover\": noiseHoverVar,\n      \"--blob-noise-target\": noiseTargetVar,\n      \"--blob-noise-active-target\": noiseActiveScaledVar,\n    };\n\n    const blobAnimationClass = cn(\n      \"motion-reduce:animate-none\",\n      animate && !reduceMotion && \"motion-safe:animate-blob-drift\",\n    );\n\n    const noiseAnimationClass = cn(\n      \"motion-reduce:animate-none\",\n      animate && !reduceMotion && \"motion-safe:animate-glitch-noise\",\n    );\n\n    return (\n      <span\n        aria-hidden\n        ref={ref}\n        className={cn(\n          \"pointer-events-none absolute inset-0 -z-10 overflow-hidden rounded-[inherit]\",\n          className,\n        )}\n        style={mergedStyle}\n        {...rest}\n      >\n        <span\n          className={cn(\n            \"absolute inset-0 rounded-[inherit] bg-gradient-blob-primary opacity-0 blur-[var(--space-4)] transition-opacity duration-motion-sm ease-out\",\n            blobAnimationClass,\n              \"group-hover/glitch:opacity-[var(--blob-overlay-hover,var(--blob-overlay-target))] group-focus-visible/glitch:opacity-[var(--blob-overlay-target)] group-focus-within/glitch:opacity-[var(--blob-overlay-target)] group-active/glitch:opacity-[var(--blob-overlay-active,var(--blob-overlay-target))]\",\n          )}\n        />\n        {withNoise ? (\n          <span\n            className={cn(\n              \"absolute inset-0 rounded-[inherit] bg-glitch-noise bg-cover opacity-0 mix-blend-screen transition-opacity duration-motion-sm ease-out\",\n              noiseAnimationClass,\n              \"group-hover/glitch:opacity-[var(--blob-noise-hover,var(--blob-noise-target))] group-focus-visible/glitch:opacity-[var(--blob-noise-target)] group-focus-within/glitch:opacity-[var(--blob-noise-target)] group-active/glitch:opacity-[var(--blob-noise-active-target,var(--blob-noise-target))]\",\n            )}\n          />\n        ) : null}\n      </span>\n    );\n  },\n);\n\nBlobContainer.displayName = \"BlobContainer\";\nexport { BlobContainer };\n","\"use client\";\n\nimport * as React from \"react\";\nimport type { CSSProperties } from \"react\";\nimport { Slot } from \"@radix-ui/react-slot\";\nimport { motion, useReducedMotion } from \"framer-motion\";\nimport type { HTMLMotionProps } from \"framer-motion\";\nimport { cn, withBasePath } from \"@/lib/utils\";\nimport { useAnimationsDisabled } from \"@/lib/useAnimationsDisabled\";\nimport { useOrganicDepthEnabled } from \"@/lib/depth-theme-context\";\nimport { type SpinnerTone, type SpinnerSize, Spinner } from \"../feedback/Spinner\";\nimport neumorphicStyles from \"../neumorphic.module.css\";\nimport { type GlitchOverlayToken, BlobContainer } from \"./BlobContainer\";\nimport { DripEdge } from \"./DripEdge\";\nimport { neuRaised, neuInset } from \"./Neu\";\nimport styles from \"./Button.module.css\";\nimport {\n  resolveUIVariant,\n  type DeprecatedUIVariant,\n  type UIVariant,\n} from \"@/components/ui/variants\";\n\nexport const buttonSizes = {\n  sm: {\n    height: \"h-[var(--control-h-sm)]\",\n    padding: \"px-[var(--space-4)]\",\n    text: \"text-label\",\n    gap: \"gap-[var(--space-1)]\",\n    icon: \"[&_svg]:size-[var(--space-4)]\",\n  },\n  md: {\n    height: \"h-[var(--control-h-md)]\",\n    padding: \"px-[var(--space-4)]\",\n    text: \"text-ui\",\n    gap: \"gap-[var(--space-2)]\",\n    icon: \"[&_svg]:size-[var(--space-5)]\",\n  },\n  lg: {\n    height: \"h-[var(--control-h-lg)]\",\n    padding: \"px-[var(--space-8)]\",\n    text: \"text-title\",\n    gap: \"gap-[var(--space-4)]\",\n    icon: \"[&_svg]:size-[var(--space-8)]\",\n  },\n  xl: {\n    height: \"h-[var(--control-h-xl)]\",\n    padding: \"px-[calc(var(--control-h-xl)*4/3)]\",\n    text: \"text-title-lg\",\n    gap: \"gap-[calc(var(--control-h-xl)/3)]\",\n    icon: \"[&_svg]:size-[calc(var(--control-h-xl)*4/3)]\",\n  },\n} as const;\n\nexport type ButtonSize = keyof typeof buttonSizes;\n\nexport const BUTTON_VARIANTS = [\n  \"default\",\n  \"neo\",\n  \"quiet\",\n  \"glitch\",\n] as const satisfies readonly UIVariant[];\nexport type ButtonVariant = (typeof BUTTON_VARIANTS)[number];\ntype LegacyButtonVariant = Extract<\n  DeprecatedUIVariant,\n  \"primary\" | \"secondary\" | \"soft\" | \"ghost\" | \"destructive\"\n>;\ntype ButtonVariantProp = ButtonVariant | LegacyButtonVariant;\n\ntype Tone = SpinnerTone;\n\nconst buttonSpinnerSizes: Record<ButtonSize, SpinnerSize> = {\n  sm: \"control-sm\",\n  md: \"control-md\",\n  lg: \"control-lg\",\n  xl: \"control-xl\",\n};\n\nconst MotionSlot = motion.create(Slot);\nconst MotionAnchor = motion.a;\n\ntype AnchorMotionProps = HTMLMotionProps<\"a\">;\n\ntype ButtonBaseProps = {\n  size?: ButtonSize;\n  variant?: ButtonVariantProp;\n  tone?: Tone;\n  loading?: boolean;\n  tactile?: boolean;\n  glitch?: boolean;\n  glitchIntensity?: GlitchOverlayToken;\n};\n\ntype ButtonAsButtonProps = ButtonBaseProps &\n  Omit<HTMLMotionProps<\"button\">, \"ref\" | \"style\"> & {\n    asChild?: false;\n    href?: undefined;\n  };\n\ntype ButtonAsAnchorProps = ButtonBaseProps &\n  Omit<AnchorMotionProps, \"ref\" | \"style\"> & {\n    asChild?: false;\n    href: AnchorMotionProps[\"href\"];\n  };\n\ntype ButtonAsChildProps = ButtonBaseProps &\n  Omit<HTMLMotionProps<\"button\">, \"ref\" | \"style\"> & {\n    asChild: true;\n    href?: undefined;\n  };\n\n/**\n * Props for the {@link Button} component.\n * @property loading - When `true`, the button is disabled and `data-loading` is set.\n */\nexport type ButtonProps =\n  | ButtonAsButtonProps\n  | ButtonAsAnchorProps\n  | ButtonAsChildProps;\n\nexport const colorVar: Record<Tone, string> = {\n  primary: \"--primary\",\n  accent: \"--accent-1\",\n  info: \"--accent-2\",\n  danger: \"--danger\",\n};\n\nconst toneForegroundVar: Record<Tone, string> = {\n  primary: \"--primary-foreground\",\n  accent: \"--accent-1-foreground\",\n  info: \"--accent-2-foreground\",\n  danger: \"--danger-foreground\",\n};\n\nconst primaryShadowVars: Record<Tone, string> = {\n  primary:\n    \"[--glow-active:hsl(var(--primary)/0.35)] [--btn-primary-hover-shadow:0_var(--spacing-0-5)_calc(var(--space-3)/2)_calc(-1*var(--spacing-0-25))_hsl(var(--primary)/0.25)] [--btn-primary-active-shadow:inset_0_0_0_var(--spacing-0-25)_hsl(var(--primary)/0.6)]\",\n  accent:\n    \"[--glow-active:hsl(var(--accent-1)/0.35)] [--btn-primary-hover-shadow:0_var(--spacing-0-5)_calc(var(--space-3)/2)_calc(-1*var(--spacing-0-25))_hsl(var(--accent-1)/0.25)] [--btn-primary-active-shadow:inset_0_0_0_var(--spacing-0-25)_hsl(var(--accent-1)/0.6)]\",\n  info:\n    \"[--glow-active:hsl(var(--accent-2)/0.35)] [--btn-primary-hover-shadow:0_var(--spacing-0-5)_calc(var(--space-3)/2)_calc(-1*var(--spacing-0-25))_hsl(var(--accent-2)/0.25)] [--btn-primary-active-shadow:inset_0_0_0_var(--spacing-0-25)_hsl(var(--accent-2)/0.6)]\",\n  danger:\n    \"[--glow-active:hsl(var(--danger)/0.35)] [--btn-primary-hover-shadow:0_var(--spacing-0-5)_calc(var(--space-3)/2)_calc(-1*var(--spacing-0-25))_hsl(var(--danger)/0.25)] [--btn-primary-active-shadow:inset_0_0_0_var(--spacing-0-25)_hsl(var(--danger)/0.6)]\",\n};\n\nconst toneInteractionTokens: Record<Tone, string> = {\n  primary: \"[--hover:hsl(var(--primary)/0.14)] [--active:hsl(var(--primary)/0.2)]\",\n  accent: \"[--hover:hsl(var(--accent-1)/0.14)] [--active:hsl(var(--accent-1)/0.2)]\",\n  info: \"[--hover:hsl(var(--accent-2)/0.14)] [--active:hsl(var(--accent-2)/0.2)]\",\n  danger: \"[--hover:hsl(var(--danger)/0.14)] [--active:hsl(var(--danger)/0.2)]\",\n};\n\nconst secondarySurfaceTokens: Record<Tone, string> = {\n  primary: \"[--hover:hsl(var(--primary)/0.25)] [--active:hsl(var(--primary)/0.35)]\",\n  accent: \"[--hover:hsl(var(--accent-1)/0.25)] [--active:hsl(var(--accent-1)/0.2)]\",\n  info: \"[--hover:hsl(var(--accent-2)/0.2)] [--active:hsl(var(--accent-2)/0.15)]\",\n  danger: \"[--hover:hsl(var(--danger)/0.14)] [--active:hsl(var(--danger)/0.2)]\",\n};\n\nconst ghostSurfaceTokens: Record<Tone, string> = {\n  primary: \"[--hover:hsl(var(--bg)/0.8)] [--active:hsl(var(--bg))]\",\n  accent: \"[--hover:hsl(var(--accent-1)/0.25)] [--active:hsl(var(--accent-1)/0.35)]\",\n  info: \"[--hover:hsl(var(--accent-2)/0.25)] [--active:hsl(var(--accent-2)/0.35)]\",\n  danger: \"[--hover:hsl(var(--danger)/0.1)] [--active:hsl(var(--danger)/0.2)]\",\n};\n\nconst baseToneClasses: Record<\n  Exclude<ButtonVariant, \"glitch\">,\n  Record<Tone, string>\n> = {\n  default: {\n    primary: cn(toneInteractionTokens.primary, primaryShadowVars.primary),\n    accent: cn(toneInteractionTokens.accent, primaryShadowVars.accent),\n    info: cn(toneInteractionTokens.info, primaryShadowVars.info),\n    danger: cn(toneInteractionTokens.danger, primaryShadowVars.danger),\n  },\n  neo: {\n    primary: cn(\n      secondarySurfaceTokens.primary,\n      \"text-muted-foreground hover:text-foreground active:text-foreground focus-visible:text-foreground\",\n      \"[--neu-surface:hsl(var(--panel)/0.6)]\",\n    ),\n    accent: cn(\n      secondarySurfaceTokens.accent,\n      \"text-on-accent\",\n      \"[--neu-surface:hsl(var(--accent-1)/0.3)]\",\n    ),\n    info: cn(\n      secondarySurfaceTokens.info,\n      \"text-on-accent\",\n      \"[--neu-surface:hsl(var(--accent-2)/0.25)]\",\n    ),\n    danger: cn(\n      secondarySurfaceTokens.danger,\n      \"text-[hsl(var(--danger-tint-foreground))]\",\n      \"[--neu-surface:hsl(var(--danger)/0.25)]\",\n    ),\n  },\n  quiet: {\n    primary: cn(\n      ghostSurfaceTokens.primary,\n      \"text-foreground\",\n      \"[--neu-surface:hsl(var(--card)/0.6)]\",\n      \"border-[hsl(var(--line)/0.35)]\",\n    ),\n    accent: cn(\n      ghostSurfaceTokens.accent,\n      \"text-on-accent\",\n      \"[--neu-surface:hsl(var(--accent-1)/0.2)]\",\n      \"border-accent/35\",\n    ),\n    info: cn(\n      ghostSurfaceTokens.info,\n      \"text-on-accent\",\n      \"[--neu-surface:hsl(var(--accent-2)/0.2)]\",\n      \"border-accent-2/35\",\n    ),\n    danger: cn(\n      ghostSurfaceTokens.danger,\n      \"text-danger\",\n      \"[--neu-surface:hsl(var(--danger)/0.12)]\",\n      \"border-danger/35\",\n    ),\n  },\n};\n\nexport const toneClasses: Record<ButtonVariant, Record<Tone, string>> = {\n  ...baseToneClasses,\n  glitch: baseToneClasses.default,\n};\n\ntype VariantConfigResult = {\n  className: string;\n  whileHover?: HTMLMotionProps<\"button\">[\"whileHover\"];\n  whileTap?: HTMLMotionProps<\"button\">[\"whileTap\"];\n  overlay?: React.ReactNode;\n  contentClass?: string;\n};\n\ntype VariantConfig = (options: {\n  tone: Tone;\n  tactile: boolean;\n}) => VariantConfigResult;\n\nconst baseVariants: Record<Exclude<ButtonVariant, \"glitch\">, VariantConfig> = {\n  default: ({ tone, tactile }) => ({\n    className: cn(\n      tactile\n        ? \"shadow-neo-inset hover:shadow-neo-inset active:shadow-neo-inset\"\n        : \"shadow-neo-soft hover:shadow-neo active:shadow-neo-inset\",\n      tactile\n        ? \"active:translate-y-0\"\n        : \"active:translate-y-[var(--spacing-0-25)]\",\n      tone === \"primary\"\n        ? \"[--neu-surface:hsl(var(--primary-soft))]\"\n        : `[--neu-surface:hsl(var(${colorVar[tone]})/0.12)]`,\n      `border-[hsl(var(${colorVar[tone]})/0.35)]`,\n      tone === \"accent\" || tone === \"info\"\n        ? \"text-on-accent\"\n        : `text-[hsl(var(${toneForegroundVar[tone]}))]`,\n    ),\n    whileTap: {\n      scale: tactile ? 0.98 : 0.97,\n    },\n    contentClass:\n      \"relative z-10 inline-flex items-center gap-[var(--space-2)]\",\n  }),\n  neo: ({ tactile }) => ({\n    className: cn(\n      \"[--neu-surface:hsl(var(--panel)/0.8)]\",\n      tactile\n        ? \"shadow-neo-inset hover:shadow-neo-inset active:shadow-neo-inset\"\n        : \"shadow-neo-soft hover:shadow-neo active:shadow-neo-inset\",\n      tactile && \"active:translate-y-0\",\n    ),\n    whileHover: tactile\n      ? { scale: 1.01 }\n      : { scale: 1.02, boxShadow: neuRaised(15) },\n    whileTap: tactile\n      ? { scale: 0.98 }\n      : {\n          scale: 0.97,\n          boxShadow: neuInset(9) as CSSProperties[\"boxShadow\"],\n        },\n  }),\n  quiet: () => ({\n    className: \"\",\n    whileTap: { scale: 0.97 },\n  }),\n};\n\nexport const variants: Record<ButtonVariant, VariantConfig> = {\n  ...baseVariants,\n  glitch: (options) => baseVariants.default(options),\n};\n\nexport const Button = React.forwardRef<\n  HTMLButtonElement | HTMLAnchorElement,\n  ButtonProps\n>((props, ref) => {\n  const {\n    className,\n    size = \"md\",\n    variant = \"neo\",\n    tone = \"primary\",\n    children,\n    loading,\n    tactile = false,\n    glitch = true,\n    glitchIntensity = \"glitch-overlay-button-opacity\",\n  } = props;\n  const asChild = props.asChild ?? false;\n  const animationsDisabled = useAnimationsDisabled();\n  const reduceMotionPreference = useReducedMotion();\n  const reduceMotion = reduceMotionPreference || animationsDisabled;\n  const disabledProp =\n    \"disabled\" in props && typeof props.disabled !== \"undefined\"\n      ? props.disabled\n      : undefined;\n  const isDisabled = Boolean(disabledProp) || Boolean(loading);\n  const isLink =\n    !asChild && \"href\" in props && typeof props.href !== \"undefined\";\n  const s = buttonSizes[size];\n  const spinnerSize = buttonSpinnerSizes[size];\n  const organicDepth = useOrganicDepthEnabled();\n  const resolvedVariant = resolveUIVariant<ButtonVariant>(variant, {\n    allowed: BUTTON_VARIANTS,\n    fallback: \"neo\",\n  });\n  const shouldGlitch = glitch || resolvedVariant === \"glitch\";\n  const toneKey = resolvedVariant === \"glitch\" ? \"default\" : resolvedVariant;\n\n  const base = cn(\n    neumorphicStyles.neu,\n    styles.root,\n    organicDepth && styles.organicControl,\n    styles.neonInteractive,\n    shouldGlitch && \"group/glitch isolate overflow-hidden\",\n    \"relative inline-flex items-center justify-center rounded-card r-card-md border font-medium tracking-[0.02em] transition-all duration-motion-sm ease-out motion-reduce:transition-none hover:bg-[--hover] active:bg-[--active] focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background focus-visible:shadow-[var(--shadow-glow-md)] disabled:opacity-disabled disabled:pointer-events-none data-[loading=true]:opacity-loading\",\n    \"data-[reduce-motion=true]:focus-visible:shadow-none data-[reduce-motion=true]:focus-visible:[box-shadow:none]\",\n    \"data-[disabled=true]:opacity-disabled data-[disabled=true]:pointer-events-none\",\n    \"[--neu-radius:var(--radius-card)]\",\n    s.height,\n    s.padding,\n    s.text,\n    s.gap,\n    s.icon,\n    className,\n  );\n\n  const {\n    className: resolvedVariantClass,\n    whileHover: variantHover,\n    whileTap,\n    overlay,\n    contentClass,\n  } = variants[resolvedVariant]({ tone, tactile });\n\n  const hoverAnimation = reduceMotion\n    ? undefined\n    : toneKey === \"default\"\n      ? { scale: tactile ? 1.02 : 1.03 }\n      : variantHover;\n\n  const contentClasses = cn(\n    contentClass ?? cn(\"relative z-10 inline-flex items-center\", s.gap),\n    loading && \"opacity-0\",\n  );\n\n  const providedGlitchTextRaw = (props as Record<string, unknown>)[\"data-text\"];\n  const providedGlitchText =\n    typeof providedGlitchTextRaw === \"string\" ? providedGlitchTextRaw : undefined;\n\n  const glitchText = shouldGlitch\n    ? providedGlitchText ??\n        (typeof children === \"string\" ? children : undefined)\n    : providedGlitchText;\n\n  const mergedClassName = cn(\n    base,\n    resolvedVariantClass,\n    toneClasses[resolvedVariant][tone],\n  );\n\n  const renderInnerContent = (contentChildren: React.ReactNode) => (\n    <>\n      {shouldGlitch ? (\n        <BlobContainer overlayToken={glitchIntensity} />\n      ) : null}\n      {toneKey === \"default\" ? (\n        <DripEdge\n          className=\"absolute inset-0 z-0\"\n          overlayToken={glitchIntensity}\n          tone={tone}\n        />\n      ) : (\n        overlay\n      )}\n      {loading ? (\n        <span className=\"pointer-events-none absolute inset-0 z-20 flex items-center justify-center\">\n          <Spinner size={spinnerSize} tone={tone} />\n        </span>\n      ) : null}\n      <span className={contentClasses}>{contentChildren}</span>\n    </>\n  );\n\n  if (asChild) {\n    const slotProps = {\n      ...(props as ButtonAsChildProps),\n    } as Record<string, unknown> & {\n      tabIndex?: number;\n      type?: HTMLMotionProps<\"button\">[\"type\"];\n    };\n    const tabIndex = slotProps.tabIndex;\n    delete slotProps.tabIndex;\n    delete slotProps.asChild;\n    delete slotProps.size;\n    delete slotProps.variant;\n    delete slotProps.tone;\n    delete slotProps.loading;\n    delete slotProps.tactile;\n    delete slotProps.glitch;\n    delete slotProps.glitchIntensity;\n    delete slotProps.className;\n    delete slotProps.children;\n    delete slotProps.disabled;\n    delete slotProps[\"data-text\"];\n    const baseProps = {\n      className: mergedClassName,\n      \"data-loading\": loading ? \"true\" : undefined,\n      \"data-disabled\": isDisabled ? \"true\" : undefined,\n      \"data-tactile\": tactile ? \"true\" : undefined,\n      \"data-glitch\": shouldGlitch ? \"true\" : undefined,\n      \"data-text\": glitchText,\n      \"aria-busy\": loading ? true : undefined,\n      whileHover: hoverAnimation,\n      whileTap: reduceMotion ? undefined : whileTap,\n      tabIndex: tabIndex ?? (isDisabled ? -1 : undefined),\n      \"data-variant\": resolvedVariant,\n      \"data-tone\": tone,\n      \"data-reduce-motion\": reduceMotion ? \"true\" : undefined,\n      ...slotProps,\n    };\n    const childCount = React.Children.count(children);\n\n    if (childCount !== 1 || !React.isValidElement(children)) {\n      if (process.env.NODE_ENV !== \"production\") {\n        console.warn(\n          \"[Button] `asChild` requires a single valid React element child.\",\n        );\n      }\n\n      return null;\n    }\n    const child = React.Children.only(\n      children,\n    ) as React.ReactElement<{ children?: React.ReactNode }>;\n\n    return (\n      <MotionSlot\n        {...baseProps}\n        ref={ref as React.ForwardedRef<HTMLElement>}\n        aria-disabled={isDisabled ? true : undefined}\n      >\n        {React.cloneElement(\n          child,\n          undefined,\n          renderInnerContent(child.props.children),\n        )}\n      </MotionSlot>\n    );\n  }\n\n  if (isLink) {\n    const anchorProps = {\n      ...(props as ButtonAsAnchorProps),\n    } as Record<string, unknown> & {\n      href: ButtonAsAnchorProps[\"href\"];\n      target?: ButtonAsAnchorProps[\"target\"];\n      rel?: ButtonAsAnchorProps[\"rel\"];\n      download?: ButtonAsAnchorProps[\"download\"];\n      tabIndex?: number;\n    };\n    const href = anchorProps.href as ButtonAsAnchorProps[\"href\"];\n    const target = anchorProps.target as ButtonAsAnchorProps[\"target\"];\n    const rel = anchorProps.rel as ButtonAsAnchorProps[\"rel\"];\n    const download = anchorProps.download as ButtonAsAnchorProps[\"download\"];\n    const tabIndex = anchorProps.tabIndex;\n    delete anchorProps.href;\n    delete anchorProps.target;\n    delete anchorProps.rel;\n    delete anchorProps.download;\n    delete anchorProps.tabIndex;\n    delete anchorProps.asChild;\n    delete anchorProps.size;\n    delete anchorProps.variant;\n    delete anchorProps.tone;\n    delete anchorProps.loading;\n    delete anchorProps.tactile;\n    delete anchorProps.glitch;\n    delete anchorProps.glitchIntensity;\n    delete anchorProps.className;\n    delete anchorProps.children;\n    delete anchorProps[\"data-text\"];\n    const baseProps = {\n      className: mergedClassName,\n      \"data-loading\": loading ? \"true\" : undefined,\n      \"data-disabled\": isDisabled ? \"true\" : undefined,\n      \"data-tactile\": tactile ? \"true\" : undefined,\n      \"data-glitch\": shouldGlitch ? \"true\" : undefined,\n      \"data-text\": glitchText,\n      \"aria-busy\": loading ? true : undefined,\n      whileHover: hoverAnimation,\n      whileTap: reduceMotion ? undefined : whileTap,\n      tabIndex: tabIndex ?? (isDisabled ? -1 : undefined),\n      \"data-variant\": resolvedVariant,\n      \"data-tone\": tone,\n      \"data-reduce-motion\": reduceMotion ? \"true\" : undefined,\n      ...anchorProps,\n    };\n    let resolvedHref = href;\n\n    const resolvedRel =\n      target === \"_blank\" && typeof rel === \"undefined\"\n        ? \"noopener noreferrer\"\n        : rel;\n\n    if (typeof href === \"string\") {\n      const trimmedHref = href.trim();\n      const hasScheme = /^[a-zA-Z][a-zA-Z\\d+.-]*:/.test(trimmedHref);\n      const isProtocolRelative = trimmedHref.startsWith(\"//\");\n      const isHash = trimmedHref.startsWith(\"#\");\n      const shouldPrefixBasePath =\n        !isHash &&\n        (trimmedHref.startsWith(\"/\") || (!hasScheme && !isProtocolRelative));\n\n      resolvedHref = shouldPrefixBasePath\n        ? withBasePath(trimmedHref)\n        : trimmedHref;\n    }\n\n    return (\n      <MotionAnchor\n        {...baseProps}\n        ref={ref as React.ForwardedRef<HTMLAnchorElement>}\n        href={resolvedHref}\n        target={target}\n        rel={resolvedRel}\n        download={download}\n        aria-disabled={isDisabled ? true : undefined}\n      >\n        {renderInnerContent(children as React.ReactNode)}\n      </MotionAnchor>\n    );\n  }\n\n  const buttonProps = {\n    ...(props as ButtonAsButtonProps),\n  } as Record<string, unknown> & {\n    type?: HTMLMotionProps<\"button\">[\"type\"];\n    tabIndex?: number;\n  };\n  const typeProp =\n    (buttonProps.type as HTMLMotionProps<\"button\">[\"type\"]) ?? \"button\";\n  const tabIndex = buttonProps.tabIndex;\n  delete buttonProps.type;\n  delete buttonProps.tabIndex;\n  delete buttonProps.asChild;\n  delete buttonProps.size;\n    delete buttonProps.variant;\n  delete buttonProps.tone;\n  delete buttonProps.loading;\n  delete buttonProps.tactile;\n  delete buttonProps.glitch;\n  delete buttonProps.glitchIntensity;\n  delete buttonProps.className;\n  delete buttonProps.children;\n  delete buttonProps[\"data-text\"];\n  delete buttonProps.disabled;\n  const baseProps = {\n    className: mergedClassName,\n    \"data-loading\": loading ? \"true\" : undefined,\n    \"data-disabled\": isDisabled ? \"true\" : undefined,\n    \"data-tactile\": tactile ? \"true\" : undefined,\n    \"data-glitch\": shouldGlitch ? \"true\" : undefined,\n    \"data-text\": glitchText,\n    \"aria-busy\": loading ? true : undefined,\n    whileHover: hoverAnimation,\n    whileTap: reduceMotion ? undefined : whileTap,\n    tabIndex,\n    \"data-variant\": resolvedVariant,\n    \"data-tone\": tone,\n    \"data-reduce-motion\": reduceMotion ? \"true\" : undefined,\n    ...buttonProps,\n  };\n\n  return (\n    <motion.button\n      {...baseProps}\n      ref={ref as React.ForwardedRef<HTMLButtonElement>}\n      type={typeProp}\n      disabled={isDisabled}\n    >\n      {renderInnerContent(children as React.ReactNode)}\n    </motion.button>\n  );\n});\n\nButton.displayName = \"Button\";\n","\"use client\";\n\nimport * as React from \"react\";\nimport { Flame, MoonStar, ShieldHalf, Sun } from \"lucide-react\";\n\nimport { ThemeSelector } from \"@/components/ui/theme/ThemeSelector\";\nimport { createGalleryPreview, defineGallerySection } from \"@/components/gallery/registry\";\nimport { cn } from \"@/lib/utils\";\n\nimport {\n  type RadioIconGroupOption,\n  type RadioIconGroupProps,\n  type RadioIconGroupSize,\n  type RadioIconGroupTone, RadioIconGroup } from \"./RadioIconGroup\";\n\nexport const RADIO_ICON_GROUP_DEMO_OPTIONS: readonly RadioIconGroupOption[] = [\n  { id: \"radio-icon-sun\", value: \"sun\", label: \"Sun\", icon: <Sun /> },\n  { id: \"radio-icon-moon\", value: \"moon\", label: \"Moon\", icon: <MoonStar /> },\n  { id: \"radio-icon-flame\", value: \"flame\", label: \"Flame\", icon: <Flame /> },\n  { id: \"radio-icon-shield\", value: \"shield\", label: \"Shield\", icon: <ShieldHalf /> },\n] as const;\n\nexport const RADIO_ICON_GROUP_TONES: readonly RadioIconGroupTone[] = [\n  \"accent\",\n  \"primary\",\n  \"success\",\n  \"warning\",\n  \"danger\",\n] as const;\n\nexport const RADIO_ICON_GROUP_SIZES: readonly RadioIconGroupSize[] = [\n  \"sm\",\n  \"md\",\n  \"lg\",\n] as const;\n\nexport type RadioIconGroupStateSpec = {\n  readonly id: string;\n  readonly name: string;\n  readonly className?: string;\n  readonly props?: Partial<RadioIconGroupProps>;\n  readonly code: string;\n};\n\nconst RADIO_GROUP_BASE_PROPS: Pick<RadioIconGroupProps, \"options\" | \"tone\" | \"size\"> = {\n  options: RADIO_ICON_GROUP_DEMO_OPTIONS,\n  tone: \"accent\",\n  size: \"md\",\n};\n\nconst firstControlSelector = \"[&>div:first-child_[data-part=control]]\";\n\nconst hoverPreviewClassName = cn(\n  `${firstControlSelector}:bg-interaction-accent-surfaceHover`,\n  `${firstControlSelector}:text-foreground`,\n);\n\nconst focusPreviewClassName = cn(\n  `${firstControlSelector}:ring-2`,\n  `${firstControlSelector}:ring-[color:var(--theme-ring,var(--focus))]`,\n  `${firstControlSelector}:ring-offset-2`,\n  `${firstControlSelector}:ring-offset-[color:var(--surface-2)]`,\n);\n\nconst activePreviewClassName = cn(\n  `${firstControlSelector}:bg-interaction-accent-surfaceActive`,\n  `${firstControlSelector}:text-foreground`,\n);\n\nexport const RADIO_ICON_GROUP_STATE_SPECS: readonly RadioIconGroupStateSpec[] = [\n  {\n    id: \"default\",\n    name: \"Checked\",\n    props: { value: \"sun\" },\n    code: `<RadioIconGroup name=\"tone\" options={options} value=\"sun\" onChange={() => {}} />`,\n  },\n  {\n    id: \"unselected\",\n    name: \"Unselected\",\n    props: { value: null },\n    code: `<RadioIconGroup name=\"tone\" options={options} value={null} onChange={() => {}} />`,\n  },\n  {\n    id: \"hover\",\n    name: \"Hover\",\n    className: hoverPreviewClassName,\n    props: { value: \"sun\" },\n    code: `<RadioIconGroup\n  name=\"tone\"\n  options={options}\n  value=\"sun\"\n  className=\"${hoverPreviewClassName}\"\n  onChange={() => {}}\n/>`,\n  },\n  {\n    id: \"focus-visible\",\n    name: \"Focus-visible\",\n    className: focusPreviewClassName,\n    props: { value: \"sun\" },\n    code: `<RadioIconGroup\n  name=\"tone\"\n  options={options}\n  value=\"sun\"\n  className=\"${focusPreviewClassName}\"\n  onChange={() => {}}\n/>`,\n  },\n  {\n    id: \"active\",\n    name: \"Active\",\n    className: activePreviewClassName,\n    props: { value: \"moon\" },\n    code: `<RadioIconGroup\n  name=\"tone\"\n  options={options}\n  value=\"moon\"\n  className=\"${activePreviewClassName}\"\n  onChange={() => {}}\n/>`,\n  },\n  {\n    id: \"disabled\",\n    name: \"Disabled\",\n    props: { value: \"sun\", disabled: true },\n    code: `<RadioIconGroup name=\"tone\" options={options} value=\"sun\" disabled onChange={() => {}} />`,\n  },\n  {\n    id: \"loading\",\n    name: \"Loading\",\n    props: { value: \"sun\", loading: true },\n    code: `<RadioIconGroup name=\"tone\" options={options} value=\"sun\" loading onChange={() => {}} />`,\n  },\n] as const;\n\nfunction RadioIconGroupStatePreview({ state }: { readonly state: RadioIconGroupStateSpec }) {\n  const { className, props } = state;\n\n  return (\n    <RadioIconGroup\n      {...RADIO_GROUP_BASE_PROPS}\n      name={`radio-icon-group-${state.id}`}\n      value=\"sun\"\n      onChange={() => {}}\n      {...props}\n      className={cn(className, props?.className)}\n    />\n  );\n}\n\nfunction RadioIconGroupMatrix({\n  value,\n  onChange,\n  instanceId,\n}: {\n  readonly value: string | null;\n  readonly onChange: (next: string) => void;\n  readonly instanceId: string;\n}) {\n  return (\n    <div className=\"overflow-x-auto\">\n      <div className=\"min-w-max rounded-card border border-card-hairline-60 bg-surface-2/60 p-[var(--space-3)] shadow-[var(--shadow-inset-hairline)]\">\n        <div className=\"grid auto-cols-fr grid-cols-[max-content_repeat(3,minmax(0,1fr))] gap-[var(--space-3)]\">\n          <div className=\"text-caption font-medium uppercase tracking-[0.18em] text-muted-foreground\">Tone  Size</div>\n          {RADIO_ICON_GROUP_SIZES.map((size) => (\n            <div\n              key={size}\n              className=\"text-center text-label font-semibold uppercase tracking-[0.16em] text-muted-foreground\"\n            >\n              {size}\n            </div>\n          ))}\n          {RADIO_ICON_GROUP_TONES.map((tone) => (\n            <React.Fragment key={tone}>\n              <div className=\"flex items-center text-label font-medium capitalize text-muted-foreground\">\n                {tone}\n              </div>\n              {RADIO_ICON_GROUP_SIZES.map((size) => (\n                <RadioIconGroup\n                  key={`${tone}-${size}`}\n                  name={`${instanceId}-${tone}-${size}`}\n                  options={RADIO_ICON_GROUP_DEMO_OPTIONS}\n                  value={value}\n                  tone={tone}\n                  size={size}\n                  onChange={onChange}\n                />\n              ))}\n            </React.Fragment>\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n}\n\nfunction RadioIconGroupGalleryPreview() {\n  const [value, setValue] = React.useState<string | null>(null);\n  const [tone, setTone] = React.useState<RadioIconGroupTone>(\"accent\");\n  const [size, setSize] = React.useState<RadioIconGroupSize>(\"md\");\n  const instanceId = React.useId();\n  const handleValueChange = React.useCallback((next: string) => {\n    setValue(next);\n  }, []);\n\n  return (\n    <div className=\"space-y-[var(--space-5)]\">\n      <div className=\"flex flex-wrap items-center justify-between gap-[var(--space-3)]\">\n        <p className=\"max-w-xl text-caption text-muted-foreground\">\n          Press Tab to enter the group, use arrow keys to move focus, and press Space to select the highlighted icon.\n        </p>\n        <ThemeSelector aria-label=\"Preview theme\" size=\"sm\" className=\"shrink-0\" />\n      </div>\n      <RadioIconGroupMatrix value={value} onChange={handleValueChange} instanceId={instanceId} />\n      <div className=\"grid gap-[var(--space-3)] md:grid-cols-2\">\n        <div className=\"space-y-[var(--space-2)] rounded-card border border-card-hairline-60 bg-surface-2/60 p-[var(--space-3)] shadow-[var(--shadow-inset-hairline)]\">\n          <p className=\"text-label font-medium text-muted-foreground\">Interactive controls</p>\n          <RadioIconGroup\n            name={`${instanceId}-interactive`}\n            options={RADIO_ICON_GROUP_DEMO_OPTIONS}\n            value={value}\n            tone={tone}\n            size={size}\n            onChange={handleValueChange}\n          />\n          <div className=\"flex flex-wrap items-center gap-[var(--space-2)] text-caption text-muted-foreground\">\n            <label className=\"flex items-center gap-[var(--space-1)]\">\n              <span className=\"text-label text-foreground\">Tone</span>\n              <select\n                className=\"rounded-[var(--radius-md)] border border-card-hairline-60 bg-surface px-[var(--space-2)] py-[var(--space-1)] text-label\"\n                value={tone}\n                onChange={(event) => setTone(event.target.value as RadioIconGroupTone)}\n              >\n                {RADIO_ICON_GROUP_TONES.map((toneOption) => (\n                  <option key={toneOption} value={toneOption} className=\"capitalize\">\n                    {toneOption}\n                  </option>\n                ))}\n              </select>\n            </label>\n            <label className=\"flex items-center gap-[var(--space-1)]\">\n              <span className=\"text-label text-foreground\">Size</span>\n              <select\n                className=\"rounded-[var(--radius-md)] border border-card-hairline-60 bg-surface px-[var(--space-2)] py-[var(--space-1)] text-label\"\n                value={size}\n                onChange={(event) => setSize(event.target.value as RadioIconGroupSize)}\n              >\n                {RADIO_ICON_GROUP_SIZES.map((sizeOption) => (\n                  <option key={sizeOption} value={sizeOption} className=\"capitalize\">\n                    {sizeOption}\n                  </option>\n                ))}\n              </select>\n            </label>\n            <button\n              type=\"button\"\n              onClick={() => setValue(null)}\n              className=\"inline-flex items-center gap-[var(--space-1)] rounded-[var(--radius-md)] border border-card-hairline-60 bg-surface px-[var(--space-2)] py-[var(--space-1)] text-label text-muted-foreground transition-colors hover:bg-surface-hover focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[color:var(--theme-ring,var(--focus))] focus-visible:ring-offset-2 focus-visible:ring-offset-[color:var(--surface-2)]\"\n            >\n              Clear selection\n            </button>\n          </div>\n        </div>\n        <div className=\"space-y-[var(--space-2)]\">\n          <div className=\"space-y-[var(--space-1)] rounded-card border border-card-hairline-60 bg-surface-2/60 p-[var(--space-3)] shadow-[var(--shadow-inset-hairline)]\">\n            <p className=\"text-label font-medium text-muted-foreground\">Disabled</p>\n            <RadioIconGroup\n              name={`${instanceId}-disabled`}\n              options={RADIO_ICON_GROUP_DEMO_OPTIONS}\n              value={value}\n              tone={tone}\n              size={size}\n              disabled\n              onChange={handleValueChange}\n            />\n          </div>\n          <div className=\"space-y-[var(--space-1)] rounded-card border border-card-hairline-60 bg-surface-2/60 p-[var(--space-3)] shadow-[var(--shadow-inset-hairline)]\">\n            <p className=\"text-label font-medium text-muted-foreground\">Loading</p>\n            <RadioIconGroup\n              name={`${instanceId}-loading`}\n              options={RADIO_ICON_GROUP_DEMO_OPTIONS}\n              value={value}\n              tone={tone}\n              size={size}\n              loading\n              onChange={handleValueChange}\n            />\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport const RadioIconGroupGallery = defineGallerySection({\n  id: \"toggles\",\n  entries: [\n    {\n      id: \"radio-icon-group\",\n      name: \"RadioIconGroup\",\n      description:\n        \"Icon-based radio selector with tone-aware focus, hover, loading, and disabled states across Planner themes.\",\n      kind: \"primitive\",\n      tags: [\"radio\", \"toggle\", \"icon\"],\n      props: [\n        { name: \"name\", type: \"string\", required: true },\n        { name: \"options\", type: \"readonly RadioIconGroupOption[]\", required: true },\n        { name: \"value\", type: \"string | null\", required: true },\n        { name: \"onChange\", type: \"(value: string) => void\", required: true },\n        {\n          name: \"tone\",\n          type: '\"accent\" | \"primary\" | \"success\" | \"warning\" | \"danger\"',\n          defaultValue: '\"accent\"',\n        },\n        { name: \"size\", type: '\"sm\" | \"md\" | \"lg\"', defaultValue: '\"md\"' },\n        { name: \"disabled\", type: \"boolean\", defaultValue: \"false\" },\n        { name: \"loading\", type: \"boolean\", defaultValue: \"false\" },\n        { name: \"className\", type: \"string\" },\n      ],\n      axes: [\n        {\n          id: \"tone\",\n          label: \"Tone\",\n          type: \"variant\",\n          values: RADIO_ICON_GROUP_TONES.map((tone) => ({ value: tone })),\n        },\n        {\n          id: \"size\",\n          label: \"Size\",\n          type: \"variant\",\n          values: RADIO_ICON_GROUP_SIZES.map((size) => ({ value: size })),\n        },\n        {\n          id: \"state\",\n          label: \"State\",\n          type: \"state\",\n          values: RADIO_ICON_GROUP_STATE_SPECS.map(({ name }) => ({ value: name })),\n        },\n      ],\n      usage: [\n        {\n          title: \"Keyboard navigation\",\n          description:\n            \"Tab into the group, use arrow keys to move focus, and press Space or Enter to commit the highlighted icon.\",\n          kind: \"do\",\n        },\n        {\n          title: \"Theme parity\",\n          description:\n            \"Pair with ThemeSelector when QA-ing to confirm glow spacing, contrast, and motion across Glitch, Aurora, Kitten, Oceanic, Citrus, Noir, and Hardstuck themes.\",\n          kind: \"do\",\n        },\n      ],\n      preview: createGalleryPreview({\n        id: \"ui:radio-icon-group:matrix\",\n        render: () => <RadioIconGroupGalleryPreview />,\n      }),\n      states: RADIO_ICON_GROUP_STATE_SPECS.map((state) => ({\n        id: state.id,\n        name: state.name,\n        code: state.code,\n        preview: createGalleryPreview({\n          id: `ui:radio-icon-group:state:${state.id}`,\n          render: () => <RadioIconGroupStatePreview state={state} />,\n        }),\n      })),\n      code: `<RadioIconGroup\n  name=\"appearance\"\n  options={options}\n  value={value}\n  tone={tone}\n  size={size}\n  onChange={setValue}\n/>`,\n    },\n  ],\n})\n\nexport default RadioIconGroupGallery\n","// src/components/layout/Split.tsx\r\n\"use client\";\r\n\r\nimport * as React from \"react\";\r\n\r\n/**\r\n * Split  minimal responsive two-column layout\r\n * - Stacks on small screens, 2 cols on md+\r\n * - Keeps consistent gaps; no opinion about card chrome\r\n */\r\nexport function Split({\r\n  left,\r\n  right,\r\n  className = \"\",\r\n}: {\r\n  left: React.ReactNode;\r\n  right: React.ReactNode;\r\n  className?: string;\r\n}) {\r\n  return (\n    <div className={[\"grid gap-[var(--space-6)] md:grid-cols-2\", className].join(\" \")}>\n      <div className=\"min-w-0\">{left}</div>\n      <div className=\"min-w-0\">{right}</div>\n    </div>\n  );\n}\n","\"use client\";\n\nimport * as React from \"react\";\nimport { Circle, CircleCheck, CircleDot } from \"lucide-react\";\n\nimport { createGalleryPreview, defineGallerySection } from \"@/components/gallery/registry\";\n\nimport { type HeaderTabsProps, Header } from \"./Header\";\n\nconst headerTabs: HeaderTabsProps<string>[\"items\"] = [\n  {\n    key: \"summary\",\n    label: \"Summary\",\n    icon: (\n      <Circle\n        aria-hidden=\"true\"\n        className=\"h-[var(--space-4)] w-[var(--space-4)]\"\n      />\n    ),\n  },\n  {\n    key: \"timeline\",\n    label: \"Timeline\",\n    icon: (\n      <CircleDot\n        aria-hidden=\"true\"\n        className=\"h-[var(--space-4)] w-[var(--space-4)]\"\n      />\n    ),\n  },\n  {\n    key: \"insights\",\n    label: \"Insights\",\n    icon: (\n      <CircleCheck\n        aria-hidden=\"true\"\n        className=\"h-[var(--space-4)] w-[var(--space-4)]\"\n      />\n    ),\n    disabled: true,\n  },\n];\n\nconst headerUnderlineToneExamples: ReadonlyArray<{\n  underlineTone: \"brand\" | \"neutral\";\n  label: string;\n  ariaLabel: string;\n}> = [\n  {\n    underlineTone: \"neutral\",\n    label: \"Neutral underline (default)\",\n    ariaLabel: \"Header demo tabs (neutral underline)\",\n  },\n  {\n    underlineTone: \"brand\",\n    label: \"Brand underline\",\n    ariaLabel: \"Header demo tabs (brand underline)\",\n  },\n];\n\nfunction HeaderGalleryPreview() {\n  const [value, setValue] = React.useState<string>(\n    () => headerTabs.find((tab) => !tab.disabled)?.key ?? headerTabs[0]?.key ?? \"\",\n  );\n  const activeLabel = React.useMemo(\n    () => headerTabs.find((tab) => tab.key === value)?.label ?? null,\n    [value],\n  );\n\n  return (\n    <div className=\"grid gap-[var(--space-4)] lg:grid-cols-2\">\n      {headerUnderlineToneExamples.map((example) => (\n        <div\n          key={example.underlineTone}\n          className=\"rounded-card border border-card-hairline-60 bg-panel/80 p-[var(--space-5)] shadow-[var(--shadow-outline-subtle)]\"\n        >\n          <p className=\"mb-[var(--space-3)] text-label font-medium text-muted-foreground\">\n            {example.label}\n          </p>\n          <Header\n            eyebrow=\"Workspace\"\n            heading=\"Header\"\n            subtitle=\"Segmented navigation anchored to the header\"\n            icon={\n              <Circle\n                aria-hidden=\"true\"\n                className=\"h-[var(--space-5)] w-[var(--space-5)] text-primary\"\n              />\n            }\n            underlineTone={example.underlineTone}\n            tabs={{\n              items: headerTabs,\n              value,\n              onChange: setValue,\n              ariaLabel: example.ariaLabel,\n              size: \"md\",\n            }}\n            sticky={false}\n            topClassName=\"top-0\"\n          >\n            <p className=\"text-ui text-muted-foreground\">\n              Viewing\n              <span className=\"ml-[var(--space-1)] font-medium text-foreground\">\n                {activeLabel}\n              </span>\n            </p>\n          </Header>\n          <div className=\"mt-[var(--space-4)] grid gap-[var(--space-3)] sm:grid-cols-2\">\n            <div className=\"rounded-card border border-card-hairline-60 bg-surface px-[var(--space-4)] py-[var(--space-3)]\">\n              <p className=\"text-label text-muted-foreground\">Next milestone</p>\n              <p className=\"mt-[var(--space-1)] text-ui font-medium text-foreground\">\n                Launch sprint\n              </p>\n            </div>\n            <div className=\"rounded-card border border-card-hairline-60 bg-surface px-[var(--space-4)] py-[var(--space-3)]\">\n              <p className=\"text-label text-muted-foreground\">Team focus</p>\n              <p className=\"mt-[var(--space-1)] text-ui font-medium text-foreground\">\n                Deep work block\n              </p>\n            </div>\n          </div>\n        </div>\n      ))}\n    </div>\n  );\n}\n\nexport const HeaderGallery = defineGallerySection({\n  id: \"layout\",\n  entries: [\n    {\n      id: \"header\",\n      name: \"Header\",\n      description: \"Workspace header with sticky support and segmented tabs\",\n      kind: \"component\",\n      tags: [\"header\", \"navigation\"],\n      axes: [\n        {\n          id: \"tab-state\",\n          label: \"Tab state\",\n          type: \"state\",\n          values: [\n            { value: \"Active\" },\n            { value: \"Inactive\" },\n            { value: \"Disabled\" },\n          ],\n        },\n        {\n          id: \"underline-tone\",\n          label: \"Underline tone\",\n          type: \"variant\",\n          values: [\n            { value: \"Neutral\" },\n            { value: \"Brand\" },\n          ],\n        },\n      ],\n      preview: createGalleryPreview({\n        id: \"ui:header:tabs\",\n        render: () => <HeaderGalleryPreview />,\n      }),\n      code: `<div className=\"grid gap-[var(--space-4)] lg:grid-cols-2\">\n  <div className=\"rounded-card border border-card-hairline-60 bg-panel/80 p-[var(--space-5)] shadow-[var(--shadow-outline-subtle)]\">\n    <p className=\"mb-[var(--space-3)] text-label font-medium text-muted-foreground\">\n      Neutral underline (default)\n    </p>\n    <Header\n      eyebrow=\"Workspace\"\n      heading=\"Header\"\n      subtitle=\"Segmented navigation anchored to the header\"\n      underlineTone=\"neutral\"\n      icon={\n        <Circle\n          aria-hidden=\"true\"\n          className=\"h-[var(--space-5)] w-[var(--space-5)] text-primary\"\n        />\n      }\n      tabs={{\n        items: [\n          {\n            key: \"summary\",\n            label: \"Summary\",\n            icon: (\n              <Circle\n                aria-hidden=\"true\"\n                className=\"h-[var(--space-4)] w-[var(--space-4)]\"\n              />\n            ),\n          },\n          {\n            key: \"timeline\",\n            label: \"Timeline\",\n            icon: (\n              <CircleDot\n                aria-hidden=\"true\"\n                className=\"h-[var(--space-4)] w-[var(--space-4)]\"\n              />\n            ),\n          },\n          {\n            key: \"insights\",\n            label: \"Insights\",\n            icon: (\n              <CircleCheck\n                aria-hidden=\"true\"\n                className=\"h-[var(--space-4)] w-[var(--space-4)]\"\n              />\n            ),\n            disabled: true,\n          },\n        ],\n        value: \"summary\",\n        onChange: () => {},\n        ariaLabel: \"Header demo tabs (neutral underline)\",\n        size: \"md\",\n      }}\n      sticky={false}\n      topClassName=\"top-0\"\n    >\n      <p className=\"text-ui text-muted-foreground\">\n        Viewing\n        <span className=\"ml-[var(--space-1)] font-medium text-foreground\">\n          Summary\n        </span>\n      </p>\n    </Header>\n    <div className=\"mt-[var(--space-4)] grid gap-[var(--space-3)] sm:grid-cols-2\">\n      <div className=\"rounded-card border border-card-hairline-60 bg-surface px-[var(--space-4)] py-[var(--space-3)]\">\n        <p className=\"text-label text-muted-foreground\">Next milestone</p>\n        <p className=\"mt-[var(--space-1)] text-ui font-medium text-foreground\">\n          Launch sprint\n        </p>\n      </div>\n      <div className=\"rounded-card border border-card-hairline-60 bg-surface px-[var(--space-4)] py-[var(--space-3)]\">\n        <p className=\"text-label text-muted-foreground\">Team focus</p>\n        <p className=\"mt-[var(--space-1)] text-ui font-medium text-foreground\">\n          Deep work block\n        </p>\n      </div>\n    </div>\n  </div>\n  <div className=\"rounded-card border border-card-hairline-60 bg-panel/80 p-[var(--space-5)] shadow-[var(--shadow-outline-subtle)]\">\n    <p className=\"mb-[var(--space-3)] text-label font-medium text-muted-foreground\">\n      Brand underline\n    </p>\n    <Header\n      eyebrow=\"Workspace\"\n      heading=\"Header\"\n      subtitle=\"Segmented navigation anchored to the header\"\n      underlineTone=\"brand\"\n      icon={\n        <Circle\n          aria-hidden=\"true\"\n          className=\"h-[var(--space-5)] w-[var(--space-5)] text-primary\"\n        />\n      }\n      tabs={{\n        items: [\n          {\n            key: \"summary\",\n            label: \"Summary\",\n            icon: (\n              <Circle\n                aria-hidden=\"true\"\n                className=\"h-[var(--space-4)] w-[var(--space-4)]\"\n              />\n            ),\n          },\n          {\n            key: \"timeline\",\n            label: \"Timeline\",\n            icon: (\n              <CircleDot\n                aria-hidden=\"true\"\n                className=\"h-[var(--space-4)] w-[var(--space-4)]\"\n              />\n            ),\n          },\n          {\n            key: \"insights\",\n            label: \"Insights\",\n            icon: (\n              <CircleCheck\n                aria-hidden=\"true\"\n                className=\"h-[var(--space-4)] w-[var(--space-4)]\"\n              />\n            ),\n            disabled: true,\n          },\n        ],\n        value: \"summary\",\n        onChange: () => {},\n        ariaLabel: \"Header demo tabs (brand underline)\",\n        size: \"md\",\n      }}\n      sticky={false}\n      topClassName=\"top-0\"\n    >\n      <p className=\"text-ui text-muted-foreground\">\n        Viewing\n        <span className=\"ml-[var(--space-1)] font-medium text-foreground\">\n          Summary\n        </span>\n      </p>\n    </Header>\n    <div className=\"mt-[var(--space-4)] grid gap-[var(--space-3)] sm:grid-cols-2\">\n      <div className=\"rounded-card border border-card-hairline-60 bg-surface px-[var(--space-4)] py-[var(--space-3)]\">\n        <p className=\"text-label text-muted-foreground\">Next milestone</p>\n        <p className=\"mt-[var(--space-1)] text-ui font-medium text-foreground\">\n          Launch sprint\n        </p>\n      </div>\n      <div className=\"rounded-card border border-card-hairline-60 bg-surface px-[var(--space-4)] py-[var(--space-3)]\">\n        <p className=\"text-label text-muted-foreground\">Team focus</p>\n        <p className=\"mt-[var(--space-1)] text-ui font-medium text-foreground\">\n          Deep work block\n        </p>\n      </div>\n    </div>\n  </div>\n</div>`,\n    },\n  ],\n})\n\nexport default HeaderGallery\n","\"use client\";\n\nimport * as React from \"react\";\nimport { createPortal } from \"react-dom\";\nimport { Card } from \"./primitives/Card\";\nimport { IconButton } from \"./primitives/IconButton\";\nimport styles from \"./Toast.module.css\";\nimport { X } from \"lucide-react\";\nimport useMounted from \"@/lib/useMounted\";\nimport { cn } from \"@/lib/utils\";\nimport { useScopedCssVars } from \"./hooks/useScopedCssVars\";\n\nexport interface ToastProps extends React.ComponentProps<typeof Card> {\n  open: boolean;\n  onOpenChange: (open: boolean) => void;\n  duration?: number;\n  closable?: boolean;\n  showProgress?: boolean;\n}\n\nexport function Toast({\n  open,\n  onOpenChange,\n  duration = 3000,\n  closable = false,\n  className,\n  children,\n  showProgress = false,\n  onPointerEnter: onPointerEnterProp,\n  onPointerLeave: onPointerLeaveProp,\n  onFocus: onFocusProp,\n  onBlur: onBlurProp,\n  ...cardProps\n}: ToastProps) {\n  const mounted = useMounted();\n  const timerRef = React.useRef<number | null>(null);\n  const animationFrameRef = React.useRef<number | null>(null);\n  const startTimeRef = React.useRef<number | null>(null);\n  const startRemainingRef = React.useRef(duration);\n  const remainingTimeRef = React.useRef(duration);\n  const interactionCountRef = React.useRef(0);\n  const [timeLeft, setTimeLeft] = React.useState(duration);\n\n  const cancelDismissal = React.useCallback(() => {\n    if (timerRef.current !== null) {\n      window.clearTimeout(timerRef.current);\n      timerRef.current = null;\n    }\n    if (animationFrameRef.current !== null) {\n      cancelAnimationFrame(animationFrameRef.current);\n      animationFrameRef.current = null;\n    }\n    startTimeRef.current = null;\n  }, []);\n\n  const tick = React.useCallback(() => {\n    if (startTimeRef.current === null) return;\n    const elapsed = performance.now() - startTimeRef.current;\n    const next = Math.max(startRemainingRef.current - elapsed, 0);\n    setTimeLeft(next);\n    if (next > 0) {\n      animationFrameRef.current = requestAnimationFrame(tick);\n    } else {\n      animationFrameRef.current = null;\n    }\n  }, []);\n\n  const scheduleDismissal = React.useCallback(() => {\n    if (!open) return;\n    if (remainingTimeRef.current <= 0) {\n      onOpenChange(false);\n      return;\n    }\n    cancelDismissal();\n    startTimeRef.current = performance.now();\n    startRemainingRef.current = remainingTimeRef.current;\n    timerRef.current = window.setTimeout(() => {\n      onOpenChange(false);\n    }, remainingTimeRef.current);\n    if (showProgress) {\n      setTimeLeft(remainingTimeRef.current);\n      animationFrameRef.current = requestAnimationFrame(tick);\n    }\n  }, [cancelDismissal, onOpenChange, open, showProgress, tick]);\n\n  const pauseDismissal = React.useCallback(() => {\n    if (startTimeRef.current === null) return;\n    const elapsed = performance.now() - startTimeRef.current;\n    remainingTimeRef.current = Math.max(startRemainingRef.current - elapsed, 0);\n    setTimeLeft(remainingTimeRef.current);\n    startTimeRef.current = null;\n    cancelDismissal();\n  }, [cancelDismissal]);\n\n  const handleInteractionStart = React.useCallback(() => {\n    if (!open) return;\n    interactionCountRef.current += 1;\n    if (interactionCountRef.current === 1) {\n      pauseDismissal();\n    }\n  }, [open, pauseDismissal]);\n\n  const handleInteractionEnd = React.useCallback(() => {\n    if (!open) return;\n    interactionCountRef.current = Math.max(interactionCountRef.current - 1, 0);\n    if (interactionCountRef.current === 0) {\n      scheduleDismissal();\n    }\n  }, [open, scheduleDismissal]);\n\n  React.useEffect(() => {\n    if (!open) {\n      cancelDismissal();\n      remainingTimeRef.current = duration;\n      startRemainingRef.current = duration;\n      interactionCountRef.current = 0;\n      setTimeLeft(duration);\n      return;\n    }\n\n    cancelDismissal();\n    remainingTimeRef.current = duration;\n    startRemainingRef.current = duration;\n    setTimeLeft(duration);\n\n    if (interactionCountRef.current === 0) {\n      scheduleDismissal();\n    }\n\n    return cancelDismissal;\n  }, [open, duration, scheduleDismissal, cancelDismissal]);\n\n  React.useEffect(() => {\n    if (!showProgress && animationFrameRef.current !== null) {\n      cancelAnimationFrame(animationFrameRef.current);\n      animationFrameRef.current = null;\n    }\n    if (showProgress && open && startTimeRef.current !== null && animationFrameRef.current === null) {\n      animationFrameRef.current = requestAnimationFrame(tick);\n    }\n  }, [showProgress, open, tick]);\n\n  const progress = duration > 0 ? Math.max(0, Math.min(1, timeLeft / duration)) : 0;\n  const { scopeProps: progressScopeProps, style: progressStyle } =\n    useScopedCssVars({\n      attribute: \"data-toast-progress-id\",\n      vars: {\n        \"--toast-progress\": progress.toString(),\n      },\n      enabled: showProgress,\n    });\n\n  if (!open || !mounted) return null;\n  return createPortal(\n    <div\n      className=\"fixed bottom-[calc(theme(spacing.4)+env(safe-area-inset-bottom))] right-[calc(theme(spacing.4)+env(safe-area-inset-right))] z-50\"\n    >\n      <Card\n        role=\"status\"\n        aria-live=\"polite\"\n        className={cn(className)}\n        onPointerEnter={(event) => {\n          onPointerEnterProp?.(event);\n          handleInteractionStart();\n        }}\n        onPointerLeave={(event) => {\n          onPointerLeaveProp?.(event);\n          handleInteractionEnd();\n        }}\n        onFocus={(event) => {\n          onFocusProp?.(event);\n          const previousTarget = event.relatedTarget;\n          if (!previousTarget || !(previousTarget instanceof Node) || !event.currentTarget.contains(previousTarget)) {\n            handleInteractionStart();\n          }\n        }}\n        onBlur={(event) => {\n          onBlurProp?.(event);\n          const nextTarget = event.relatedTarget;\n          if (!nextTarget || !(nextTarget instanceof Node) || !event.currentTarget.contains(nextTarget)) {\n            handleInteractionEnd();\n          }\n        }}\n        {...cardProps}\n      >\n        <div className=\"flex flex-col gap-[var(--space-3)]\">\n          <div className=\"flex items-start gap-[var(--space-2)]\">\n            <div className=\"flex-1\">{children}</div>\n            {closable && (\n              <IconButton\n                aria-label=\"Close\"\n                size=\"sm\"\n                onClick={() => onOpenChange(false)}\n              >\n                <X />\n              </IconButton>\n            )}\n          </div>\n          {showProgress && (\n            <div\n              aria-hidden=\"true\"\n              data-progress={progress}\n              className={cn(\n                \"h-[var(--space-1)] overflow-hidden rounded-full bg-border/40\",\n                styles.progressTrack,\n              )}\n              {...(progressScopeProps ?? {})}\n              style={progressStyle}\n            >\n              <div\n                className={cn(\"h-full rounded-full bg-primary\", styles.progressFill)}\n              />\n            </div>\n          )}\n        </div>\n      </Card>\n    </div>,\n    document.body,\n  );\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"SegmentedButton_root__B6cvi\",\"neonInteractive\":\"SegmentedButton_neonInteractive__CdEw2\",\"pulse-neon\":\"SegmentedButton_pulse-neon__SH11_\",\"glitch\":\"SegmentedButton_glitch__Rb9WL\",\"content\":\"SegmentedButton_content__BfabT\",\"glitchOverlay\":\"SegmentedButton_glitchOverlay__Roa_N\"};","\"use client\";\n\nimport * as React from \"react\";\nimport { Search, X } from \"lucide-react\";\n\nimport { cn } from \"@/lib/utils\";\n\nimport { Spinner } from \"../feedback/Spinner\";\nimport neumorphicStyles from \"../neumorphic.module.css\";\nimport { type GlitchOverlayToken, BlobContainer } from \"./BlobContainer\";\nimport { IconButton } from \"./IconButton\";\nimport styles from \"./Field.module.css\";\n\nexport type FieldHeight = \"sm\" | \"md\" | \"lg\" | \"xl\";\n\nconst HEIGHT_MAP: Record<FieldHeight, true> = {\n  sm: true,\n  md: true,\n  lg: true,\n  xl: true,\n};\n\nconst FIELD_ROOT_BASE = cn(\n  \"group/field relative inline-flex min-h-[var(--field-h,var(--control-h-md))] w-full items-center\",\n  \"rounded-[var(--control-radius)] border border-card-hairline-65 text-foreground\",\n  \"[--neu-radius:var(--control-radius)] [--neu-surface:theme('colors.background')]\",\n  \"[--neo-shadow:var(--shadow-inner-md)] [--neo-shadow-hover:var(--shadow-inner-md)]\",\n  \"transition-[background,box-shadow,filter] duration-motion-sm ease-out motion-reduce:transition-none\",\n  \"focus-within:outline-none focus-within:ring-2 focus-within:ring-focus focus-within:ring-offset-0 focus-within:ring-offset-background\",\n  \"hover:bg-interaction-foreground-tintHover active:bg-interaction-foreground-tintActive\",\n  \"data-[disabled=true]:pointer-events-none data-[disabled=true]:border-card-hairline-40\",\n  \"data-[disabled=true]:[--neu-surface:theme('colors.card.DEFAULT')] data-[disabled=true]:[--neo-shadow:var(--depth-shadow-inner)]\",\n  \"data-[disabled=true]:text-muted-foreground/70 data-[loading=true]:pointer-events-none data-[loading=true]:opacity-loading\",\n  \"data-[invalid=true]:border-danger/60 data-[invalid=true]:focus-within:ring-danger\",\n  \"overflow-hidden\",\n);\n\nfunction resolveHeight(height: number) {\n  if (Number.isFinite(height)) {\n    return `${height}px`;\n  }\n\n  return undefined;\n}\n\ntype HelperTone = \"muted\" | \"danger\" | \"success\";\n\nexport type FieldVariant = \"surface\" | \"sunken\";\n\nexport type FieldRootProps = React.HTMLAttributes<HTMLDivElement> & {\n  /**\n   * Visual height of the field. Token keys (\"sm\"\"xl\") map to control heights.\n   * Numeric values register a scoped `--field-h` custom property via styled-jsx within the CSP inline-style budget.\n   */\n  height?: FieldHeight | number;\n  disabled?: boolean;\n  invalid?: boolean;\n  readOnly?: boolean;\n  loading?: boolean;\n  helper?: React.ReactNode;\n  helperId?: string;\n  helperTone?: HelperTone;\n  counter?: React.ReactNode;\n  counterId?: string;\n  spinner?: React.ReactNode;\n  wrapperClassName?: string;\n  glitch?: boolean;\n  glitchText?: string;\n  glitchIntensity?: GlitchOverlayToken;\n  variant?: FieldVariant;\n};\n\nexport const FieldRoot = React.forwardRef<HTMLDivElement, FieldRootProps>(\n  (\n    {\n      height = \"md\",\n      disabled,\n      invalid,\n      readOnly,\n      loading,\n      helper,\n      helperId,\n      helperTone,\n      counter,\n      counterId,\n      spinner,\n      wrapperClassName,\n      glitch = false,\n      glitchText,\n      glitchIntensity = \"glitch-overlay-button-opacity-reduced\",\n      variant = \"surface\",\n      className,\n      children,\n      style: inlineStyle,\n      ...restProps\n    },\n    ref,\n  ) => {\n    const heightKey =\n      typeof height === \"string\" && Object.hasOwn(HEIGHT_MAP, height)\n        ? (height as FieldHeight)\n        : undefined;\n    const numericHeight = typeof height === \"number\" ? height : null;\n    const isCustomHeight =\n      numericHeight !== null && Number.isFinite(numericHeight);\n    const resolvedCustomHeight = isCustomHeight\n      ? resolveHeight(numericHeight)\n      : undefined;\n    const helperVariant: HelperTone = helperTone ?? (invalid ? \"danger\" : \"muted\");\n    const showHelper = helper !== undefined && helper !== null && helper !== \"\";\n    const showCounter = counter !== undefined && counter !== null && counter !== \"\";\n    let fieldState: \"default\" | \"disabled\" | \"invalid\" | \"readonly\" | \"loading\" = \"default\";\n    if (disabled) {\n      fieldState = \"disabled\";\n    } else if (invalid) {\n      fieldState = \"invalid\";\n    } else if (readOnly) {\n      fieldState = \"readonly\";\n    } else if (loading) {\n      fieldState = \"loading\";\n    }\n\n    const customHeightStyle = React.useMemo<\n      (React.CSSProperties & Record<string, string>) | undefined\n    >(() => {\n      if (!isCustomHeight || !resolvedCustomHeight) {\n        return undefined;\n      }\n\n      return {\n        \"--field-custom-height\": resolvedCustomHeight,\n      };\n    }, [isCustomHeight, resolvedCustomHeight]);\n\n    const mergedStyle = React.useMemo<React.CSSProperties | undefined>(() => {\n      if (!customHeightStyle) {\n        return inlineStyle as React.CSSProperties | undefined;\n      }\n      return {\n        ...(inlineStyle as React.CSSProperties | undefined),\n        ...customHeightStyle,\n      };\n    }, [customHeightStyle, inlineStyle]);\n\n    const { [\"data-text\"]: providedGlitchTextRaw, ...domProps } = restProps as\n      typeof restProps & { [\"data-text\"]?: unknown };\n    const providedGlitchText =\n      typeof providedGlitchTextRaw === \"string\" ? providedGlitchTextRaw : undefined;\n    const resolvedGlitchText = glitch\n      ? glitchText ?? providedGlitchText\n      : providedGlitchText ?? glitchText;\n    const isSunken = variant === \"sunken\";\n    return (\n      <div\n        className={cn(\n          \"flex w-full flex-col gap-[var(--space-1)]\",\n          wrapperClassName,\n        )}\n      >\n        <div\n          ref={ref}\n          className={cn(\n            isSunken ? neumorphicStyles[\"neu-inset\"] : neumorphicStyles.neu,\n            neumorphicStyles[\"neu-hover\"],\n            FIELD_ROOT_BASE,\n            glitch && \"group/glitch isolate\",\n            styles.root,\n            isSunken ? styles.sunken : styles.surface,\n            className,\n          )}\n          data-field-height={heightKey}\n          data-custom-height={isCustomHeight ? \"true\" : undefined}\n          data-field-state={fieldState}\n          data-disabled={disabled ? \"true\" : undefined}\n          data-invalid={invalid ? \"true\" : undefined}\n          data-loading={loading ? \"true\" : undefined}\n          data-readonly={readOnly ? \"true\" : undefined}\n          data-glitch={glitch ? \"true\" : undefined}\n          data-variant={variant}\n          data-text={resolvedGlitchText}\n          aria-disabled={disabled || undefined}\n          aria-busy={loading || undefined}\n          style={mergedStyle}\n          {...domProps}\n        >\n          {glitch ? (\n            <BlobContainer\n              overlayToken={glitchIntensity}\n              noiseToken=\"glitch-noise-level\"\n            />\n          ) : null}\n          {children}\n          {loading ? (\n            <span\n              data-slot=\"spinner\"\n              className=\"pointer-events-none absolute right-[var(--space-4)] top-1/2 -translate-y-1/2 text-muted-foreground z-10\"\n            >\n              {spinner ?? <Spinner size=\"sm\" />}\n            </span>\n          ) : null}\n        </div>\n\n        {(showHelper || showCounter) && (\n          <div\n            className={cn(\n              \"flex items-start gap-[var(--space-2)] text-label leading-tight\",\n              showHelper && showCounter\n                ? \"justify-between\"\n                : showCounter\n                  ? \"justify-end\"\n                  : \"justify-start\",\n            )}\n          >\n            {showHelper ? (\n              <span\n                id={helperId}\n                className={cn(\n                  \"text-muted-foreground\",\n                  helperVariant === \"danger\" && \"text-danger\",\n                  helperVariant === \"success\" && \"text-success\",\n                )}\n              >\n                {helper}\n              </span>\n            ) : null}\n\n            {showCounter ? (\n              <span id={counterId} className=\"text-muted-foreground\">\n                {counter}\n              </span>\n            ) : null}\n          </div>\n        )}\n      </div>\n    );\n  },\n);\n\nFieldRoot.displayName = \"FieldRoot\";\n\nexport type FieldInputProps = React.InputHTMLAttributes<HTMLInputElement> & {\n  indent?: boolean;\n  hasEndSlot?: boolean;\n};\n\nexport const FieldInput = React.forwardRef<HTMLInputElement, FieldInputProps>(\n  ({ className, indent, hasEndSlot, type = \"text\", ...props }, ref) => (\n    <input\n      ref={ref}\n      type={type}\n      className={cn(\n        \"peer block h-[var(--field-h,var(--control-h-md))] w-full rounded-[inherit] border-none bg-transparent\",\n        \"px-[var(--space-3)] text-ui text-foreground placeholder:text-muted-foreground/70 caret-accent\",\n        \"focus:outline-none focus-visible:outline-none disabled:cursor-not-allowed read-only:cursor-default\",\n        \"transition-[color,opacity] group-data-[disabled=true]/field:text-muted-foreground/70\",\n        \"group-data-[disabled=true]/field:placeholder:text-muted-foreground/50\",\n        \"group-data-[loading=true]/field:opacity-loading\",\n        indent && \"pl-[var(--space-7)]\",\n        (hasEndSlot ?? false) && \"pr-[calc(var(--space-6)+var(--space-2))]\",\n        className,\n      )}\n      {...props}\n    />\n  ),\n);\n\nFieldInput.displayName = \"FieldInput\";\n\nexport type FieldTextareaProps = React.TextareaHTMLAttributes<HTMLTextAreaElement>;\n\nexport const FieldTextarea = React.forwardRef<\n  HTMLTextAreaElement,\n  FieldTextareaProps\n>(({ className, ...props }, ref) => (\n  <textarea\n    ref={ref}\n    className={cn(\n      \"block w-full max-w-full min-h-[var(--space-7)] rounded-[inherit] border-none bg-transparent\",\n      \"px-[var(--space-3)] py-[var(--space-3)] text-body text-foreground placeholder:text-muted-foreground/70\",\n      \"focus:outline-none focus-visible:outline-none disabled:cursor-not-allowed read-only:cursor-default\",\n      \"transition-[color,opacity] group-data-[disabled=true]/field:text-muted-foreground/70\",\n      \"group-data-[disabled=true]/field:placeholder:text-muted-foreground/50\",\n      \"group-data-[loading=true]/field:opacity-loading\",\n      className,\n    )}\n    {...props}\n  />\n));\n\nFieldTextarea.displayName = \"FieldTextarea\";\n\nexport type FieldSelectProps = React.SelectHTMLAttributes<HTMLSelectElement> & {\n  hasEndSlot?: boolean;\n};\n\nexport const FieldSelect = React.forwardRef<HTMLSelectElement, FieldSelectProps>(\n  ({ className, hasEndSlot, ...props }, ref) => (\n    <select\n      ref={ref}\n      className={cn(\n        \"block h-[var(--field-h,var(--control-h-md))] w-full appearance-none rounded-[inherit] border-none bg-transparent\",\n        \"px-[var(--space-3)] text-ui text-foreground placeholder:text-muted-foreground/70 caret-accent\",\n        \"focus:outline-none focus-visible:outline-none disabled:cursor-not-allowed read-only:cursor-default\",\n        \"transition-[color,opacity] group-data-[disabled=true]/field:text-muted-foreground/70\",\n        \"group-data-[disabled=true]/field:placeholder:text-muted-foreground/50\",\n        \"group-data-[loading=true]/field:opacity-loading\",\n        (hasEndSlot ?? false) && \"pr-[calc(var(--space-6)+var(--space-2))]\",\n        className,\n      )}\n      {...props}\n    />\n  ),\n);\n\nFieldSelect.displayName = \"FieldSelect\";\n\nexport type FieldSearchProps = Omit<FieldInputProps, \"type\"> & {\n  clearable?: boolean;\n  clearLabel?: string;\n  onClear?: () => void;\n  loading?: boolean;\n};\n\nexport const FieldSearch = React.forwardRef<HTMLInputElement, FieldSearchProps>(\n  (\n    {\n      className,\n      clearable = true,\n      clearLabel = \"Clear\",\n      onClear,\n      loading,\n      indent,\n      hasEndSlot,\n      disabled,\n      value,\n      defaultValue,\n      onChange,\n      ...props\n    },\n    forwardedRef,\n  ) => {\n    const inputRef = React.useRef<HTMLInputElement | null>(null);\n    const isControlled = value !== undefined;\n    const [uncontrolledValue, setUncontrolledValue] = React.useState(() => {\n      if (defaultValue === undefined || defaultValue === null) {\n        return \"\";\n      }\n\n      return defaultValue.toString();\n    });\n\n    const currentValue = isControlled\n      ? value?.toString() ?? \"\"\n      : uncontrolledValue;\n\n    const setRefs = React.useCallback(\n      (node: HTMLInputElement | null) => {\n        inputRef.current = node;\n        if (typeof forwardedRef === \"function\") {\n          forwardedRef(node);\n          return;\n        }\n        if (forwardedRef) {\n          (forwardedRef as React.MutableRefObject<HTMLInputElement | null>).current =\n            node;\n        }\n      },\n      [forwardedRef],\n    );\n\n    const handleChange = React.useCallback<\n      React.ChangeEventHandler<HTMLInputElement>\n    >(\n      (event) => {\n        if (!isControlled) {\n          setUncontrolledValue(event.target.value);\n        }\n\n        onChange?.(event);\n      },\n      [isControlled, onChange],\n    );\n\n    const showSpinner = Boolean(loading);\n    const showClear =\n      clearable && !showSpinner && currentValue !== undefined && currentValue.length > 0;\n\n    const finalDisabled = disabled || loading;\n\n    return (\n      <>\n        <Search\n          aria-hidden\n          className={cn(\n            \"pointer-events-none absolute left-[var(--space-4)] top-1/2 size-[var(--space-4)] -translate-y-1/2\",\n            \"text-muted-foreground transition-colors duration-motion-sm ease-out\",\n            \"opacity-60 group-focus-within:opacity-100\",\n            \"group-focus-within:text-accent-3\",\n            \"group-data-[disabled=true]/field:opacity-disabled\",\n            \"group-data-[loading=true]/field:opacity-loading\",\n            \"group-data-[invalid=true]/field:text-danger\",\n          )}\n        />\n\n        <FieldInput\n          ref={setRefs}\n          type=\"search\"\n          className={cn(\n            \"appearance-none [&::-webkit-search-cancel-button]:hidden [&::-webkit-search-cancel-button]:appearance-none\",\n            \"pl-[var(--space-7)]\",\n            className,\n          )}\n          indent={indent ?? true}\n          hasEndSlot={hasEndSlot ?? (showClear || showSpinner)}\n          disabled={finalDisabled}\n          value={value}\n          defaultValue={defaultValue}\n          onChange={handleChange}\n          data-loading={loading ? \"true\" : undefined}\n          {...props}\n        />\n\n        {clearable ? (\n          <IconButton\n            type=\"button\"\n            size=\"sm\"\n            variant=\"quiet\"\n            tone=\"primary\"\n            aria-label={clearLabel}\n            title={clearLabel}\n            iconSize=\"sm\"\n            className={cn(\n              \"absolute right-[var(--space-3)] top-1/2 -translate-y-1/2 transition-opacity\",\n              showClear\n                ? \"opacity-100\"\n                : \"pointer-events-none opacity-0\",\n            )}\n            disabled={finalDisabled}\n            onClick={() => {\n              if (!isControlled) {\n                setUncontrolledValue(\"\");\n                if (inputRef.current) {\n                  inputRef.current.value = \"\";\n                }\n              }\n              onClear?.();\n              inputRef.current?.focus();\n            }}\n          >\n            <X />\n          </IconButton>\n        ) : null}\n      </>\n    );\n  },\n);\n\nFieldSearch.displayName = \"FieldSearch\";\n\nconst Field = {\n  Root: FieldRoot,\n  Input: FieldInput,\n  Textarea: FieldTextarea,\n  Select: FieldSelect,\n  Search: FieldSearch,\n};\nexport { Field };\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"InsetRow_root__26L65\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"Badge_root__Y_2tw\",\"organicBadge\":\"Badge_organicBadge__o3_D0\",\"interactive\":\"Badge_interactive__2KLw2\",\"glitch\":\"Badge_glitch__y9ebZ\"};","\"use client\";\n\nimport * as React from \"react\";\n\nexport type VirtualizedSpacerRenderProps = {\n  position: \"start\" | \"end\";\n  spacerId: string;\n  ariaHiddenProps: {\n    \"aria-hidden\": true;\n  };\n  style: React.CSSProperties;\n};\n\ntype VirtualizedSpacerProps = {\n  height: number;\n  position: \"start\" | \"end\";\n  render?: (props: VirtualizedSpacerRenderProps) => React.ReactNode;\n};\n\nexport type RenderSpacer = (\n  height: number,\n  position: \"start\" | \"end\",\n) => React.ReactNode;\n\ntype VirtualizedListProps<Item> = {\n  items: readonly Item[];\n  rowHeight: number;\n  overscan?: number;\n  renderItem: (item: Item, index: number) => React.ReactElement;\n  getKey?: (item: Item, index: number) => React.Key;\n  scrollParentRef: React.RefObject<HTMLElement | null>;\n  renderSpacer?: RenderSpacer;\n};\n\nfunction useSpacerId(position: \"start\" | \"end\") {\n  const reactId = React.useId();\n  return React.useMemo(\n    () =>\n      `virtualized-spacer-${reactId\n        .replace(/[^a-zA-Z0-9_-]/g, \"\")\n        .concat(\"-\", position)}`,\n    [reactId, position],\n  );\n}\n\nexport function VirtualizedSpacer({\n  height,\n  position,\n  render,\n}: VirtualizedSpacerProps) {\n  const spacerId = useSpacerId(position);\n  const ariaHiddenProps = React.useMemo(\n    () => ({ \"aria-hidden\": true as const }),\n    [],\n  );\n  const blockSize = React.useMemo(() => Math.max(0, height), [height]);\n  const style = React.useMemo<React.CSSProperties>(\n    () => ({ blockSize: `${blockSize}px`, height: `${blockSize}px` }),\n    [blockSize],\n  );\n\n  return (\n    <>\n      {render ? (\n        render({ position, spacerId, ariaHiddenProps, style })\n      ) : (\n        <div\n          {...ariaHiddenProps}\n          data-spacer-id={spacerId}\n          style={style}\n        />\n      )}\n    </>\n  );\n}\n\nconst defaultRenderSpacer: RenderSpacer = (height, position) => (\n  <VirtualizedSpacer height={height} position={position} />\n);\n\nfunction useViewportMeasurements(\n  ref: React.RefObject<HTMLElement | null>,\n): { scrollTop: number; viewportHeight: number } {\n  const [scrollTop, setScrollTop] = React.useState(0);\n  const [viewportHeight, setViewportHeight] = React.useState(0);\n\n  React.useLayoutEffect(() => {\n    const target = ref.current;\n    if (!target) return;\n\n    let frame = 0;\n    const updateScroll = () => {\n      const nextTop = target.scrollTop;\n      if (frame) {\n        cancelAnimationFrame(frame);\n      }\n      frame = requestAnimationFrame(() => {\n        frame = 0;\n        setScrollTop(nextTop);\n      });\n    };\n\n    const resizeObserver =\n      typeof ResizeObserver === \"undefined\"\n        ? null\n        : new ResizeObserver(() => {\n            setViewportHeight(target.clientHeight);\n          });\n\n    setViewportHeight(target.clientHeight);\n    updateScroll();\n\n    target.addEventListener(\"scroll\", updateScroll, { passive: true });\n    resizeObserver?.observe(target);\n\n    return () => {\n      target.removeEventListener(\"scroll\", updateScroll);\n      resizeObserver?.disconnect();\n      if (frame) {\n        cancelAnimationFrame(frame);\n      }\n    };\n  }, [ref]);\n\n  return React.useMemo(\n    () => ({ scrollTop, viewportHeight }),\n    [scrollTop, viewportHeight],\n  );\n}\n\nfunction clampScrollTop(\n  itemsLength: number,\n  rowHeight: number,\n  viewportHeight: number,\n  scrollTop: number,\n) {\n  if (itemsLength === 0) return 0;\n  const maxScroll = Math.max(0, itemsLength * rowHeight - viewportHeight);\n  if (scrollTop > maxScroll) {\n    return maxScroll;\n  }\n  if (scrollTop < 0) {\n    return 0;\n  }\n  return scrollTop;\n}\n\nfunction VirtualizedList<Item>({\n  items,\n  rowHeight,\n  overscan = 6,\n  renderItem,\n  getKey,\n  scrollParentRef,\n  renderSpacer = defaultRenderSpacer,\n}: VirtualizedListProps<Item>) {\n  const containerRef = scrollParentRef;\n  if (!containerRef) {\n    throw new Error(\n      \"VirtualizedList requires a scrollParentRef pointing to a scrollable element.\",\n    );\n  }\n\n  const { scrollTop, viewportHeight } = useViewportMeasurements(containerRef);\n\n  const clampedScrollTop = React.useMemo(\n    () => clampScrollTop(items.length, rowHeight, viewportHeight, scrollTop),\n    [items.length, rowHeight, viewportHeight, scrollTop],\n  );\n\n  const { startIndex, endIndex, offsetStart, offsetEnd } = React.useMemo(() => {\n    if (items.length === 0 || rowHeight <= 0) {\n      return { startIndex: 0, endIndex: -1, offsetStart: 0, offsetEnd: 0 };\n    }\n\n    const safeViewport = viewportHeight || rowHeight;\n    const rawStart = Math.floor(clampedScrollTop / rowHeight);\n    const startIndex = Math.max(0, rawStart - overscan);\n    const itemsInView = Math.ceil(safeViewport / rowHeight) + overscan * 2;\n    const endIndex = Math.min(items.length - 1, startIndex + itemsInView - 1);\n\n    const offsetStart = startIndex * rowHeight;\n    const offsetEnd = Math.max(\n      0,\n      items.length * rowHeight - (endIndex + 1) * rowHeight,\n    );\n\n    return { startIndex, endIndex, offsetStart, offsetEnd };\n  }, [\n    items.length,\n    rowHeight,\n    viewportHeight,\n    clampedScrollTop,\n    overscan,\n  ]);\n\n  if (endIndex < startIndex) {\n    return null;\n  }\n\n  const children: React.ReactNode[] = [];\n\n  if (offsetStart > 0) {\n    children.push(\n      <React.Fragment key=\"spacer-start\">\n        {renderSpacer(offsetStart, \"start\")}\n      </React.Fragment>,\n    );\n  }\n\n  for (let index = startIndex; index <= endIndex; index += 1) {\n    const item = items[index];\n    const element = renderItem(item, index);\n    const key = element.key ?? getKey?.(item, index) ?? index;\n    children.push(React.cloneElement(element, { key }));\n  }\n\n  if (offsetEnd > 0) {\n    children.push(\n      <React.Fragment key=\"spacer-end\">\n        {renderSpacer(offsetEnd, \"end\")}\n      </React.Fragment>,\n    );\n  }\n\n  return <>{children}</>;\n}\n\nconst VirtualizedListComponent = React.memo(VirtualizedList) as typeof VirtualizedList\n\nexport { VirtualizedListComponent as VirtualizedList }\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"Toggle_root__NE8lC\",\"indicator\":\"Toggle_indicator__bznZN\",\"leftLabel\":\"Toggle_leftLabel__AnkGy\",\"rightLabel\":\"Toggle_rightLabel__e5TDk\"};","\"use client\";\n\nimport * as React from \"react\";\nimport { cn } from \"@/lib/utils\";\n\ntype SnackbarTone = \"default\" | \"danger\";\n\ninterface SnackbarProps extends React.HTMLAttributes<HTMLDivElement> {\n  message: React.ReactNode;\n  actionLabel?: string;\n  actionAriaLabel?: string;\n  onAction?: () => void;\n  tone?: SnackbarTone;\n  width?: \"auto\" | \"full\";\n}\n\nconst BASE_CLASSNAME =\n  \"inline-flex items-center justify-between gap-[var(--space-3)] rounded-card r-card-lg [--snackbar-border:hsl(var(--border))] [--snackbar-background:hsl(var(--surface-2))] [--snackbar-foreground:hsl(var(--foreground))] border border-[var(--snackbar-border)] bg-[var(--snackbar-background)] px-[var(--space-4)] py-[var(--space-2)] text-ui text-[var(--snackbar-foreground)] shadow-outline-subtle transition-colors duration-motion-sm ease-out motion-reduce:transition-none\";\n\nconst widthClassNames: Record<NonNullable<SnackbarProps[\"width\"]>, string> = {\n  auto: \"mx-auto w-fit\",\n  full: \"w-full\",\n};\n\nconst toneClassNames: Record<SnackbarTone, string> = {\n  default: \"\",\n  danger:\n    \"[--snackbar-border:hsl(var(--danger)/0.45)] [--snackbar-background:theme('colors.interaction.danger.surfaceHover')] [--snackbar-foreground:hsl(var(--danger-surface-foreground))] shadow-outline-subtle\",\n};\n\nexport function Snackbar({\n  message,\n  actionLabel,\n  actionAriaLabel,\n  onAction,\n  className,\n  tone = \"default\",\n  width = \"auto\",\n  ...props\n}: SnackbarProps) {\n  const toneClassName = toneClassNames[tone] ?? toneClassNames.default;\n  const widthClassName = widthClassNames[width] ?? widthClassNames.auto;\n  return (\n    <div\n      role=\"status\"\n      aria-live=\"polite\"\n      className={cn(BASE_CLASSNAME, widthClassName, toneClassName, className)}\n      {...props}\n    >\n      <span className=\"flex-1 text-left leading-snug\">{message}</span>\n      {actionLabel && onAction ? (\n        <button\n          type=\"button\"\n          className={cn(\n            \"inline-flex items-center font-medium text-accent-3 underline underline-offset-4 transition-colors\",\n            \"hover:text-on-accent focus-visible:rounded-[var(--radius-md)] focus-visible:outline-none\",\n            \"focus-visible:ring-2 focus-visible:ring-[var(--focus)] focus-visible:ring-offset-2 focus-visible:ring-offset-[var(--snackbar-background)]\",\n            \"active:text-accent-3 active:opacity-80 disabled:text-muted-foreground disabled:no-underline disabled:pointer-events-none\",\n            \"flex-shrink-0\",\n          )}\n          onClick={onAction}\n          aria-label={actionAriaLabel ?? actionLabel}\n        >\n          {actionLabel}\n        </button>\n      ) : null}\n    </div>\n  );\n}\n","interface AccentColorPalette {\n  readonly accent1: string;\n  readonly accent1Soft: string;\n  readonly accent1Contrast: string;\n  readonly accent1Foreground: string;\n  readonly accent2: string;\n  readonly accent2Foreground: string;\n  readonly accent3: string;\n  readonly background: string;\n  readonly panel: string;\n  readonly surface: string;\n  readonly border: string;\n  readonly glow: string;\n}\n\ntype AccentTokenKey = keyof AccentColorPalette;\n\ntype AccentTokenFormat = \"hsl-var\" | \"var\" | \"raw\";\n\ninterface AccentTokenDescriptor {\n  readonly cssVar?: string;\n  readonly fallback: string;\n  readonly format?: AccentTokenFormat;\n}\n\ntype AccentTokenMap = Record<AccentTokenKey, AccentTokenDescriptor>;\n\nexport type AccentTone =\n  | \"accent\"\n  | \"primary\"\n  | \"supportive\"\n  | \"life\"\n  | \"warning\"\n  | \"danger\";\n\nconst NEUTRAL_TOKENS: Pick<AccentTokenMap, \"background\" | \"panel\" | \"surface\" | \"border\"> = {\n  background: { cssVar: \"--background\", fallback: \"247 32% 14%\" },\n  panel: { cssVar: \"--panel\", fallback: \"249 28% 21%\" },\n  surface: { cssVar: \"--surface\", fallback: \"248 24% 18%\" },\n  border: { cssVar: \"--border\", fallback: \"253 26% 28%\" },\n};\n\nconst ACCENT_PRESETS: Record<AccentTone, AccentTokenMap> = {\n  accent: {\n    accent1: { cssVar: \"--accent-1\", fallback: \"276 88% 59%\" },\n    accent1Soft: { cssVar: \"--accent-1-soft\", fallback: \"276 88% 22%\" },\n    accent1Contrast: { cssVar: \"--accent-1-contrast\", fallback: \"276 92% 88%\" },\n    accent1Foreground: { cssVar: \"--accent-1-foreground\", fallback: \"0 0% 100%\" },\n    accent2: { cssVar: \"--accent-2\", fallback: \"168 88% 28%\" },\n    accent2Foreground: { cssVar: \"--accent-2-foreground\", fallback: \"0 0% 100%\" },\n    accent3: { cssVar: \"--accent-3\", fallback: \"318 82% 60%\" },\n    glow: { cssVar: \"--glow\", fallback: \"296 96% 56%\" },\n    ...NEUTRAL_TOKENS,\n  },\n  primary: {\n    accent1: { cssVar: \"--primary\", fallback: \"262 88% 60%\" },\n    accent1Soft: { cssVar: \"--primary-soft\", fallback: \"262 88% 20%\" },\n    accent1Contrast: { cssVar: \"--primary-foreground\", fallback: \"0 0% 100%\" },\n    accent1Foreground: { cssVar: \"--primary-foreground\", fallback: \"0 0% 100%\" },\n    accent2: { cssVar: \"--primary\", fallback: \"262 88% 60%\" },\n    accent2Foreground: { cssVar: \"--primary-foreground\", fallback: \"0 0% 100%\" },\n    accent3: { cssVar: \"--primary-soft\", fallback: \"262 88% 20%\" },\n    glow: {\n      cssVar: \"--glow-primary\",\n      fallback: \"hsl(var(--primary, 262 88% 60%) / 0.55)\",\n      format: \"var\",\n    },\n    ...NEUTRAL_TOKENS,\n  },\n  supportive: {\n    accent1: { cssVar: \"--accent-2\", fallback: \"168 88% 28%\" },\n    accent1Soft: {\n      format: \"raw\",\n      fallback:\n        \"color-mix(in oklab, hsl(var(--accent-2, 168 88% 28%)) 28%, transparent)\",\n    },\n    accent1Contrast: { cssVar: \"--accent-2-foreground\", fallback: \"0 0% 100%\" },\n    accent1Foreground: { cssVar: \"--accent-2-foreground\", fallback: \"0 0% 100%\" },\n    accent2: { cssVar: \"--accent-2\", fallback: \"168 88% 28%\" },\n    accent2Foreground: { cssVar: \"--accent-2-foreground\", fallback: \"0 0% 100%\" },\n    accent3: {\n      format: \"raw\",\n      fallback:\n        \"color-mix(in oklab, hsl(var(--accent-2, 168 88% 28%)) 55%, transparent)\",\n    },\n    glow: {\n      format: \"raw\",\n      fallback:\n        \"color-mix(in oklab, hsl(var(--accent-2, 168 88% 28%)) 60%, transparent)\",\n    },\n    ...NEUTRAL_TOKENS,\n  },\n  life: {\n    accent1: { cssVar: \"--success\", fallback: \"160 72% 48%\" },\n    accent1Soft: {\n      cssVar: \"--success-soft\",\n      fallback: \"var(--success, 160 72% 48%) / 0.2\",\n    },\n    accent1Contrast: { cssVar: \"--success-foreground\", fallback: \"0 0% 100%\" },\n    accent1Foreground: { cssVar: \"--success-foreground\", fallback: \"0 0% 100%\" },\n    accent2: { cssVar: \"--success\", fallback: \"160 72% 48%\" },\n    accent2Foreground: { cssVar: \"--success-foreground\", fallback: \"0 0% 100%\" },\n    accent3: {\n      format: \"raw\",\n      fallback:\n        \"color-mix(in oklab, hsl(var(--success, 160 72% 48%)) 42%, transparent)\",\n    },\n    glow: { cssVar: \"--success-glow\", fallback: \"160 72% 38% / 0.6\" },\n    ...NEUTRAL_TOKENS,\n  },\n  warning: {\n    accent1: { cssVar: \"--warning\", fallback: \"43 96% 56%\" },\n    accent1Soft: {\n      cssVar: \"--warning-soft\",\n      fallback: \"var(--warning, 43 96% 56%) / 0.1\",\n    },\n    accent1Contrast: { cssVar: \"--warning-foreground\", fallback: \"0 0% 100%\" },\n    accent1Foreground: { cssVar: \"--warning-foreground\", fallback: \"0 0% 100%\" },\n    accent2: { cssVar: \"--warning\", fallback: \"43 96% 56%\" },\n    accent2Foreground: { cssVar: \"--warning-foreground\", fallback: \"0 0% 100%\" },\n    accent3: {\n      format: \"raw\",\n      fallback:\n        \"color-mix(in oklab, hsl(var(--warning, 43 96% 56%)) 50%, transparent)\",\n    },\n    glow: {\n      format: \"raw\",\n      fallback:\n        \"color-mix(in oklab, hsl(var(--warning, 43 96% 56%)) 60%, transparent)\",\n    },\n    ...NEUTRAL_TOKENS,\n  },\n  danger: {\n    accent1: { cssVar: \"--danger\", fallback: \"0 84% 60%\" },\n    accent1Soft: {\n      format: \"raw\",\n      fallback: \"hsl(var(--danger, 0 84% 60%) / 0.22)\",\n    },\n    accent1Contrast: { cssVar: \"--danger-foreground\", fallback: \"0 0% 100%\" },\n    accent1Foreground: { cssVar: \"--danger-foreground\", fallback: \"0 0% 100%\" },\n    accent2: { cssVar: \"--danger\", fallback: \"0 84% 60%\" },\n    accent2Foreground: { cssVar: \"--danger-foreground\", fallback: \"0 0% 100%\" },\n    accent3: {\n      format: \"raw\",\n      fallback:\n        \"color-mix(in oklab, hsl(var(--danger, 0 84% 60%)) 48%, transparent)\",\n    },\n    glow: {\n      format: \"raw\",\n      fallback:\n        \"color-mix(in oklab, hsl(var(--danger, 0 84% 60%)) 58%, transparent)\",\n    },\n    ...NEUTRAL_TOKENS,\n  },\n};\n\nconst resolveToken = ({ cssVar, fallback, format }: AccentTokenDescriptor): string => {\n  if (format === \"raw\") {\n    return fallback;\n  }\n  if (!cssVar) {\n    return fallback;\n  }\n  if (format === \"var\") {\n    return `var(${cssVar}, ${fallback})`;\n  }\n  return `hsl(var(${cssVar}, ${fallback}))`;\n};\n\nexport type AccentColors = AccentColorPalette;\n\nexport function getAccentColors(tone: AccentTone = \"accent\"): AccentColorPalette {\n  const preset = ACCENT_PRESETS[tone] ?? ACCENT_PRESETS.accent;\n\n  const entries = Object.entries(preset) as Array<\n    [AccentTokenKey, AccentTokenDescriptor]\n  >;\n\n  return entries.reduce<AccentColorPalette>((acc, [key, descriptor]) => {\n    return { ...acc, [key]: resolveToken(descriptor) };\n  }, {} as AccentColorPalette);\n}\n","\"use client\";\n\nimport * as React from \"react\";\n\nimport { cn, withBasePath } from \"@/lib/utils\";\n\nimport { BlobContainer } from \"./BlobContainer\";\nimport styles from \"./SegmentedButton.module.css\";\n\nexport type SegmentedButtonDepth = \"flat\" | \"raised\" | \"sunken\";\n\nexport type SegmentedButtonProps = React.ButtonHTMLAttributes<HTMLButtonElement> & {\n  as?: React.ElementType;\n  selected?: boolean;\n  href?: string;\n  loading?: boolean;\n  glitch?: boolean;\n  depth?: SegmentedButtonDepth;\n};\n\nconst SegmentedButton = React.forwardRef<\n  HTMLElement,\n  SegmentedButtonProps\n>(\n  (\n    {\n      as: Comp = \"button\",\n      selected,\n      className,\n      type,\n      loading,\n      disabled,\n      href,\n      onClick,\n      tabIndex,\n      glitch = true,\n      depth = \"flat\",\n      children,\n      ...restProps\n    },\n    ref,\n  ) => {\n  const resolvedSelected = selected ?? false;\n  const cls = cn(\n    styles.root,\n    styles.neonInteractive,\n    glitch && styles.glitch,\n    glitch && \"glitch-wrapper group/glitch\",\n    resolvedSelected && \"is-active\",\n    className,\n  );\n  const typeProp = Comp === \"button\" ? { type: type ?? \"button\" } : {};\n  const isDisabled = disabled || loading;\n  const isButton = Comp === \"button\";\n  const isLink = !isButton && (Comp === \"a\" || href !== undefined);\n  const shouldPrefixHref = isLink && typeof href === \"string\";\n  const shouldSkipBasePath = shouldPrefixHref && typeof Comp !== \"string\";\n  const resolvedHref = shouldPrefixHref\n    ? withBasePath(href, { skipForNextLink: shouldSkipBasePath })\n    : href;\n  const handleClick = React.useCallback(\n    (event: React.MouseEvent<HTMLElement>) => {\n      if (isDisabled) {\n        event.preventDefault();\n        event.stopPropagation();\n        return;\n      }\n      if (onClick) {\n        (onClick as React.MouseEventHandler<HTMLElement>)(event);\n      }\n    },\n    [isDisabled, onClick],\n  );\n  const shouldHandleClick = isDisabled || Boolean(onClick);\n  return (\n    <Comp\n      ref={ref as React.Ref<HTMLElement>}\n      className={cls}\n      data-loading={loading}\n      data-selected={resolvedSelected ? \"true\" : undefined}\n      data-glitch={glitch ? \"true\" : undefined}\n      data-depth={depth}\n      disabled={isButton ? isDisabled : undefined}\n      aria-pressed={isButton ? resolvedSelected : undefined}\n      aria-current={isLink ? (resolvedSelected ? \"page\" : undefined) : undefined}\n      {...typeProp}\n      {...restProps}\n      href={isLink && !isDisabled ? resolvedHref : undefined}\n      aria-disabled={isLink && isDisabled ? true : undefined}\n      tabIndex={isLink && isDisabled ? -1 : tabIndex}\n      onClick={shouldHandleClick ? handleClick : undefined}\n    >\n      {glitch ? <BlobContainer className={styles.glitchOverlay} /> : null}\n      <span className={styles.content}>{children}</span>\n    </Comp>\n  );\n  },\n);\n\nSegmentedButton.displayName = \"SegmentedButton\";\nexport { SegmentedButton };\n","'use client';\n\nimport * as React from 'react';\n\nimport { cn } from '@/lib/utils';\n\nimport styles from './GlitchSegmentedGroup.module.css';\n\ntype Align = 'start' | 'center' | 'end' | 'between';\n\nexport interface GlitchSegmentedGroupProps\n  extends React.HTMLAttributes<HTMLDivElement> {\n  size?: 'sm' | 'md' | 'lg';\n  align?: Align;\n}\n\nexport const GlitchSegmentedGroup = React.forwardRef<\n  HTMLDivElement,\n  GlitchSegmentedGroupProps\n>(function GlitchSegmentedGroup(\n  { size = 'md', align = 'start', className, children, ...rest },\n  ref,\n) {\n  return (\n    <div\n      ref={ref}\n      className={cn('glitch-wrapper group/glitch', styles.root, className)}\n      data-size={size}\n      data-align={align}\n      {...rest}\n    >\n      <span aria-hidden className={styles.halo} />\n      <span aria-hidden className={styles.noise} />\n      <div className={styles.content}>{children}</div>\n    </div>\n  );\n});\n","const EXACT_SPACING_TOKENS = new Map<number, string>([\n  [1, \"--spacing-0-25\"],\n  [2, \"--spacing-0-5\"],\n  [3, \"--spacing-0-75\"],\n  [4, \"--space-1\"],\n  [8, \"--space-2\"],\n  [12, \"--space-3\"],\n  [16, \"--space-4\"],\n  [24, \"--space-5\"],\n  [32, \"--space-6\"],\n  [48, \"--space-7\"],\n  [64, \"--space-8\"],\n]);\n\nconst formatMultiplier = (value: number) => Number(value.toFixed(4)).toString();\n\nconst toSpacingValue = (value: number): string => {\n  if (value === 0) {\n    return \"0\";\n  }\n\n  const token = EXACT_SPACING_TOKENS.get(Math.abs(value));\n\n  if (token) {\n    return value < 0 ? `calc(var(${token}) * -1)` : `var(${token})`;\n  }\n\n  return `calc(var(--space-1) * ${formatMultiplier(value / 4)})`;\n};\n\nexport const neuRaised = (d = 12) => {\n  const offset = toSpacingValue(d);\n  const blur = toSpacingValue(d * 2);\n  const negativeOffset = toSpacingValue(-d);\n\n  return `${offset} ${offset} ${blur} hsl(var(--panel)/0.72), ${negativeOffset} ${negativeOffset} ${blur} hsl(var(--foreground)/0.06)`;\n};\n\nexport const neuInset = (d = 10) => {\n  const offset = Math.round(d * 0.7);\n  const blur = Math.round(d * 1.6);\n  const positiveOffset = toSpacingValue(offset);\n  const negativeOffset = toSpacingValue(-offset);\n  const blurValue = toSpacingValue(blur);\n\n  return `inset ${positiveOffset} ${positiveOffset} ${blurValue} hsl(var(--panel)/0.85), inset ${negativeOffset} ${negativeOffset} ${blurValue} hsl(var(--foreground)/0.08)`;\n};\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"glitch\":\"SectionCard_glitch__LPecn\"};","\"use client\";\n\nimport * as React from \"react\";\n\nimport { cn } from \"@/lib/utils\";\n\nexport type IssueBadgeSeverity = \"info\" | \"warning\" | \"critical\" | \"success\";\n\nconst SEVERITY_CLASSNAMES: Record<IssueBadgeSeverity, string> = {\n  info: \"border-accent/45 bg-accent/15 text-accent-foreground\",\n  warning: \"border-warning/45 bg-warning/15 text-warning-foreground\",\n  critical: \"border-danger/45 bg-danger/18 text-danger-foreground\",\n  success: \"border-success/45 bg-success/18 text-success-foreground\",\n};\n\nexport interface IssueBadgeProps\n  extends React.ButtonHTMLAttributes<HTMLButtonElement> {\n  readonly targetId: string;\n  readonly expanded?: boolean;\n  readonly severity?: IssueBadgeSeverity;\n}\n\nconst IssueBadge = React.forwardRef<HTMLButtonElement, IssueBadgeProps>(\n  (\n    {\n      targetId,\n      expanded,\n      severity = \"info\",\n      className,\n      type,\n      id,\n      ...restProps\n    },\n    ref,\n  ) => {\n    const computedId = id ?? `${targetId}-issue-badge`;\n    const buttonType = type ?? \"button\";\n\n    return (\n      <button\n        {...restProps}\n        ref={ref}\n        id={computedId}\n        type={buttonType}\n        aria-controls={targetId}\n        aria-expanded={expanded}\n        data-expanded={expanded ? \"true\" : undefined}\n        className={cn(\n          \"inline-flex h-[var(--control-h-sm)] items-center gap-[var(--space-1)]\",\n          \"rounded-full px-[var(--space-3)] py-[var(--space-1)] text-label font-medium tracking-[0.02em]\",\n          \"shadow-outline-subtle transition [--outline-color:var(--theme-ring)]\",\n          \"hover:shadow-depth-soft focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--outline-color)]\",\n          \"focus-visible:ring-offset-2 focus-visible:ring-offset-[hsl(var(--card))] motion-reduce:transition-none\",\n          \"disabled:cursor-not-allowed disabled:opacity-disabled\",\n          \"data-[expanded=true]:shadow-depth-soft\",\n          SEVERITY_CLASSNAMES[severity],\n          className,\n        )}\n      />\n    );\n  },\n);\n\nIssueBadge.displayName = \"IssueBadge\";\nexport { IssueBadge };\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"termMini\":\"TitleBar_termMini__NOaj5\",\"termMiniText\":\"TitleBar_termMiniText__mWe2E\"};","\"use client\";\n\nimport * as React from \"react\";\nimport { ShieldAlert, ShieldCheck, ShieldQuestion } from \"lucide-react\";\n\nimport { cn } from \"@/lib/utils\";\n\nexport type AIConfidenceLevel = \"low\" | \"medium\" | \"high\";\n\nexport interface AIConfidenceHintProps extends React.ComponentPropsWithoutRef<\"div\"> {\n  readonly level: AIConfidenceLevel;\n  readonly label?: string;\n  readonly score?: number;\n  readonly description?: string;\n  readonly formatScore?: (score: number) => string;\n}\n\ntype ConfidenceTone = \"danger\" | \"warning\" | \"success\";\n\nconst LEVEL_CONFIG: Record<\n  AIConfidenceLevel,\n  { label: string; tone: ConfidenceTone; icon: React.ReactNode }\n> = {\n  low: {\n    label: \"Low\",\n    tone: \"danger\",\n    icon: <ShieldAlert aria-hidden className=\"size-[var(--space-4)]\" />,\n  },\n  medium: {\n    label: \"Medium\",\n    tone: \"warning\",\n    icon: <ShieldQuestion aria-hidden className=\"size-[var(--space-4)]\" />,\n  },\n  high: {\n    label: \"High\",\n    tone: \"success\",\n    icon: <ShieldCheck aria-hidden className=\"size-[var(--space-4)]\" />,\n  },\n};\n\nconst toneBackground: Record<ConfidenceTone, string> = {\n  danger: \"bg-[hsl(var(--danger)/0.14)] border-[hsl(var(--danger)/0.35)]\",\n  warning: \"bg-[hsl(var(--warning-soft-strong))] border-[hsl(var(--warning)/0.45)]\",\n  success: \"bg-[hsl(var(--success-soft))] border-[hsl(var(--success)/0.35)]\",\n};\n\nconst toneForeground: Record<ConfidenceTone, string> = {\n  danger: \"text-[hsl(var(--danger-foreground))]\",\n  warning: \"text-[hsl(var(--warning-foreground))]\",\n  success: \"text-[hsl(var(--success-foreground))]\",\n};\n\nconst barTone: Record<ConfidenceTone, string> = {\n  danger: \"bg-[hsl(var(--danger))]\",\n  warning: \"bg-[hsl(var(--warning))]\",\n  success: \"bg-[hsl(var(--success))]\",\n};\n\nconst AIConfidenceHint = React.forwardRef<HTMLDivElement, AIConfidenceHintProps>(\n  (\n    {\n      level,\n      label = \"Confidence\",\n      score,\n      description,\n      formatScore = defaultFormat,\n      className,\n      children,\n      ...props\n    },\n    ref,\n  ) => {\n    const config = LEVEL_CONFIG[level];\n    const scoreLabel = typeof score === \"number\" ? formatScore(score) : undefined;\n    const normalizedScore =\n      typeof score === \"number\" && !Number.isNaN(score)\n        ? Math.min(1, Math.max(0, score))\n        : undefined;\n\n    return (\n      <div\n        ref={ref}\n        className={cn(\n          \"flex flex-col gap-[var(--space-2)] rounded-card border p-[var(--space-3)] shadow-[var(--shadow-outline-faint)]\",\n          toneBackground[config.tone],\n          toneForeground[config.tone],\n          className,\n        )}\n        {...props}\n      >\n        <div className=\"flex items-start gap-[var(--space-2)]\">\n          <span\n            aria-hidden\n            className={cn(\n              \"grid size-[var(--space-8)] shrink-0 place-items-center rounded-full bg-[hsl(var(--panel)/0.85)] text-[inherit] shadow-[var(--shadow-inset-hairline)]\",\n              toneForeground[config.tone],\n            )}\n          >\n            {config.icon}\n          </span>\n          <div className=\"flex flex-1 flex-col gap-[var(--space-1-5)]\">\n            <div className=\"flex flex-wrap items-baseline gap-x-[var(--space-2)] gap-y-[var(--space-1)]\">\n              <p className=\"text-label font-medium tracking-[-0.01em]\">{label}</p>\n              <span className=\"text-caption font-semibold uppercase tracking-[0.08em] opacity-85\">\n                {config.label}\n              </span>\n              {scoreLabel ? <span className=\"text-caption opacity-85\">{scoreLabel}</span> : null}\n            </div>\n            {description ? <p className=\"text-caption opacity-80\">{description}</p> : null}\n            {children}\n          </div>\n        </div>\n        <div className=\"flex h-[var(--space-2)] items-center gap-[var(--space-1)]\">\n          {Array.from({ length: 5 }).map((_, index) => {\n            const isActive = (() => {\n              if (normalizedScore === undefined) {\n                return index < (level === \"low\" ? 2 : level === \"medium\" ? 3 : 5);\n              }\n              const step = (index + 1) / 5;\n              return normalizedScore >= step - 0.0001;\n            })();\n\n            return (\n              <span\n                key={index}\n                aria-hidden\n                className={cn(\n                  \"flex-1 rounded-full bg-[hsl(var(--muted)/0.6)]\",\n                  isActive ? barTone[config.tone] : \"opacity-60\",\n                )}\n              />\n            );\n          })}\n        </div>\n      </div>\n    );\n  },\n);\n\nAIConfidenceHint.displayName = \"AIConfidenceHint\";\n\nfunction defaultFormat(score: number) {\n  return `${Math.round(score * 100)}%`;\n}\n\nexport { AIConfidenceHint };\n","export default {\"src\":\"/Planner//_next/static/media/BEST_ONE_EVAH.8a3695ba.png\",\"height\":1024,\"width\":1024,\"blurDataURL\":\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAYFBMVEVMaXFDQVpCNEAhGB0tKDNzgb4ECBSAjbkcHjRXQkATFx+ImaqXjJBQWm9pY3FWUFcnHB1NOT85N0g9Q18VFihhZ6shIkA8LCtBNkUPFz9kSEl3e4WVd28NCQt4VlZDKiYwrvm3AAAAGnRSTlMAfuHw/DU3CGL7gWfbfMPj6UyKsp1WvvfOICh3c44AAAAJcEhZcwAACxMAAAsTAQCanBgAAABCSURBVHicFcs1EsAwEMBAGc8OMzj0/19mTtU2AkHQZE0hVurNmyMnOF1Z7DtDej7rSydEl/d8NwKTH/qr1m80bYAfUOkCaVB7+IsAAAAASUVORK5CYII=\",\"blurWidth\":8,\"blurHeight\":8};","'use client';\n\n// src/components/ui/layout/PageShell.tsx\n'use client';\n\nimport * as React from \"react\";\nimport { cn } from \"@/lib/utils\";\n\ntype PageShellElement = \"div\" | \"main\" | \"section\" | \"article\" | \"aside\" | \"header\" | \"footer\" | \"nav\";\n\ntype PageShellOwnProps<T extends PageShellElement = \"div\"> = {\n  /** Semantic element for the shell container. Defaults to a <div>. */\n  as?: T;\n  className?: string;\n  /**\n   * Enables the standardized 12-column grid within the page shell.\n   * When set, children should define their own col-span wrappers.\n   */\n  grid?: boolean;\n  /** Additional classes for the inner grid container when `grid` is enabled. */\n  contentClassName?: string;\n};\n\nexport type PageShellProps<T extends PageShellElement = \"div\"> =\n  PageShellOwnProps<T> &\n    Omit<React.ComponentPropsWithoutRef<T>, keyof PageShellOwnProps<T>>;\n\n/**\n * PageShell  width-constrained wrapper that applies the global `page-shell` class.\n * Use the `grid` prop to opt into the standard 12-column layout inside the shell.\n */\nconst baseShellClassName =\n  [\n    \"page-shell\",\n    \"space-y-[var(--space-6)]\",\n    \"md:space-y-[var(--space-7)]\",\n    \"lg:space-y-[var(--space-8)]\",\n  ].join(\" \");\n\nexport const layoutGridClassName =\n  [\n    \"grid\",\n    \"grid-cols-1\",\n    \"gap-x-[var(--space-4)]\",\n    \"gap-y-[var(--space-6)]\",\n    \"md:grid-cols-12\",\n    \"md:gap-x-[var(--space-5)]\",\n    \"md:gap-y-[var(--space-7)]\",\n    \"lg:gap-x-[var(--space-6)]\",\n    \"lg:gap-y-[var(--space-8)]\",\n  ].join(\" \");\n\nexport function PageShell<T extends PageShellElement = \"div\">({\n  as,\n  className,\n  grid = false,\n  contentClassName,\n  children,\n  ...rest\n}: PageShellProps<T>) {\n  const Component = (as ?? \"div\") as PageShellElement;\n\n  return (\n    <Component\n      className={cn(baseShellClassName, className)}\n      {...rest}\n    >\n      {grid ? (\n        <div\n          className={cn(\n            layoutGridClassName,\n            \"md:grid-cols-12\",\n            contentClassName,\n          )}\n        >\n          {children}\n        </div>\n      ) : (\n        children\n      )}\n    </Component>\n  );\n}\n","'use client'\n\nimport * as React from 'react'\nimport { isLegacyUiEnabled } from '@/lib/useLegacyUi'\nimport { PageShell as LegacyPageShell } from '@/legacy/ui/layout/PageShell'\nimport { cn } from '@/lib/utils'\n\nexport type PageShellElement =\n  | 'div'\n  | 'main'\n  | 'section'\n  | 'article'\n  | 'aside'\n  | 'header'\n  | 'footer'\n  | 'nav'\n\nexport type PageShellOwnProps<T extends PageShellElement = 'div'> = {\n  as?: T\n  className?: string\n  /**\n   * Enables the standardized 12-column grid within the page shell.\n   * When set, children should define their own col-span wrappers.\n   */\n  grid?: boolean\n  contentClassName?: string\n  /**\n   * When true, applies a subtle neon edge and glitch speckle with\n   * opacity clamped to 0.06 for accessibility.\n   */\n  noisy?: boolean\n  /**\n   * Optional foreground ring accent; defaults to the theme accent.\n   */\n  ring?: boolean\n}\n\nexport type PageShellProps<T extends PageShellElement = 'div'> =\n  PageShellOwnProps<T> &\n    Omit<React.ComponentPropsWithoutRef<T>, keyof PageShellOwnProps<T>>\n\nconst baseShellClassName = cn(\n  'page-shell relative isolate overflow-hidden',\n  'rounded-[var(--radius-xl)] border border-card-hairline/70 bg-surface/70',\n  'shadow-[var(--shadow-inner-sm),var(--depth-shadow-soft)] backdrop-blur-md',\n  'space-y-[var(--space-6)] md:space-y-[var(--space-7)] lg:space-y-[var(--space-8)]',\n)\n\nexport const layoutGridClassName = cn(\n  'grid grid-cols-1 gap-x-[var(--space-4)] gap-y-[var(--space-6)]',\n  'md:grid-cols-12 md:gap-x-[var(--space-5)] md:gap-y-[var(--space-7)]',\n  'lg:gap-x-[var(--space-6)] lg:gap-y-[var(--space-8)]',\n)\n\nexport function PageShell<T extends PageShellElement = 'div'>({\n  as,\n  className,\n  grid = false,\n  contentClassName,\n  children,\n  noisy = true,\n  ring = false,\n  ...rest\n}: PageShellProps<T>) {\n  if (isLegacyUiEnabled()) {\n    const LegacyShell = LegacyPageShell as React.ComponentType<Record<string, unknown>>\n    return (\n      <LegacyShell\n        as={as}\n        className={className}\n        grid={grid}\n        contentClassName={contentClassName}\n        {...rest}\n      >\n        {children}\n      </LegacyShell>\n    )\n  }\n\n  const Component = (as ?? 'div') as PageShellElement\n\n  return (\n    <Component\n      className={cn(baseShellClassName, className)}\n      data-glitch={noisy ? 'true' : undefined}\n      {...rest}\n    >\n      <span\n        aria-hidden\n        className={cn(\n          'pointer-events-none absolute inset-0 rounded-[inherit]',\n          'bg-gradient-to-br from-[color:var(--surface-overlay-soft,transparent)] via-transparent to-[color:var(--surface-overlay-strong,transparent)] opacity-70',\n          noisy ? 'mix-blend-screen' : 'opacity-0',\n          'transition-opacity duration-motion-md ease-out',\n        )}\n        style={{\n          maskImage: noisy\n            ? 'radial-gradient(circle at 20% 20%, hsl(var(--foreground)/0.06), transparent 55%)'\n            : undefined,\n        }}\n      />\n      {ring ? (\n        <span\n          aria-hidden\n          className=\"pointer-events-none absolute inset-0 rounded-[inherit] border border-[color:var(--accent-3)]/40 shadow-[var(--depth-shadow-soft)]\"\n        />\n      ) : null}\n      {grid ? (\n        <div className={cn(layoutGridClassName, contentClassName)}>{children}</div>\n      ) : (\n        children\n      )}\n      {noisy ? (\n        <span\n          aria-hidden\n          className=\"pointer-events-none absolute inset-0 -z-10 bg-glitch-noise bg-[length:180px_180px] opacity-[0.05] mix-blend-soft-light motion-reduce:animate-none\"\n        />\n      ) : null}\n    </Component>\n  )\n}\n","export const CONTROL_VARIANTS = [\n  \"default\",\n  \"quiet\",\n  \"neo\",\n  \"glitch\",\n  \"sunken\",\n] as const;\n\nexport type ControlVariant = (typeof CONTROL_VARIANTS)[number];\n\nexport const CONTROL_VARIANT_ALIASES = {\n  soft: \"neo\",\n  ghost: \"quiet\",\n  minimal: \"quiet\",\n  plain: \"default\",\n  primary: \"default\",\n  secondary: \"neo\",\n  destructive: \"default\",\n} as const satisfies Record<string, ControlVariant>;\n\nexport type DeprecatedControlVariant = keyof typeof CONTROL_VARIANT_ALIASES;\n\nexport type AnyControlVariant = ControlVariant | DeprecatedControlVariant;\n\nconst warnedAliases = new Set<DeprecatedControlVariant>();\n\nfunction warnDeprecatedAlias(alias: DeprecatedControlVariant, canonical: ControlVariant) {\n  if (process.env.NODE_ENV === \"production\") {\n    return;\n  }\n\n  if (warnedAliases.has(alias)) {\n    return;\n  }\n\n  warnedAliases.add(alias);\n  console.warn(\n    `ui variant \"${alias}\" is deprecated. Use \"${canonical}\" instead.`,\n  );\n}\n\nexport function normalizeControlVariant(\n  variant: AnyControlVariant | null | undefined,\n): ControlVariant | undefined {\n  if (!variant) {\n    return undefined;\n  }\n\n  if ((CONTROL_VARIANTS as readonly string[]).includes(variant)) {\n    return variant as ControlVariant;\n  }\n\n  if (variant in CONTROL_VARIANT_ALIASES) {\n    const alias = variant as DeprecatedControlVariant;\n    const mapped = CONTROL_VARIANT_ALIASES[alias];\n    warnDeprecatedAlias(alias, mapped);\n    return mapped;\n  }\n\n  return undefined;\n}\n\nexport function resolveControlVariant<Allowed extends ControlVariant>(\n  variant: AnyControlVariant | null | undefined,\n  options: { allowed: readonly Allowed[]; fallback: Allowed },\n): Allowed {\n  const normalized = normalizeControlVariant(variant);\n\n  if (normalized && options.allowed.includes(normalized as Allowed)) {\n    return normalized as Allowed;\n  }\n\n  return options.fallback;\n}\n\n// Backwards-compatible exports. Prefer the `Control*` names above for new code.\nexport const UI_VARIANTS = CONTROL_VARIANTS;\nexport type UIVariant = ControlVariant;\nexport const UI_VARIANT_ALIASES = CONTROL_VARIANT_ALIASES;\nexport type DeprecatedUIVariant = DeprecatedControlVariant;\nexport type AnyUIVariant = AnyControlVariant;\n\nexport const normalizeUIVariant = normalizeControlVariant;\nexport const resolveUIVariant = resolveControlVariant;\n","'use client';\n\nimport * as React from 'react';\n\nimport {\n  SegmentedButton,\n  type SegmentedButtonProps,\n} from './SegmentedButton';\n\nexport type GlitchSegmentedButtonProps = Omit<\n  SegmentedButtonProps,\n  'glitch' | 'depth'\n> & {\n  glitch?: boolean;\n  depth?: SegmentedButtonProps['depth'];\n};\n\nexport const GlitchSegmentedButton = React.forwardRef<\n  HTMLElement,\n  GlitchSegmentedButtonProps\n>(function GlitchSegmentedButton(\n  { glitch = true, depth = 'raised', ...rest },\n  ref,\n) {\n  return <SegmentedButton ref={ref} glitch={glitch} depth={depth} {...rest} />;\n});\n","\"use client\";\n\nimport { useMatchMedia } from \"@/lib/react\";\n\nconst QUERY = \"(prefers-reduced-motion: reduce)\";\n\nfunction getReducedMotionPreference(): boolean {\n  if (typeof window === \"undefined\" || typeof window.matchMedia !== \"function\") {\n    return false;\n  }\n\n  try {\n    return window.matchMedia(QUERY).matches;\n  } catch {\n    return false;\n  }\n}\n\nexport function prefersReducedMotion(): boolean {\n  return getReducedMotionPreference();\n}\n\nexport function usePrefersReducedMotion(): boolean {\n  return useMatchMedia(QUERY, prefersReducedMotion);\n}\n","// src/lib/feature-flags.ts\nimport { emitTelemetryEvent } from '@/lib/telemetry'\n\nexport type FeatureFlagAnalyticsDetail = {\n  flag: string\n  enabled: boolean\n  state?: string\n}\n\nexport function reportFeatureFlagAnalytics(\n  detail: FeatureFlagAnalyticsDetail,\n): void {\n  if (typeof window === 'undefined') return\n\n  const state = typeof detail.state === 'string' ? detail.state : detail.enabled ? 'enabled' : 'disabled'\n\n  const eventDetail = {\n    ...detail,\n    state,\n  } as const\n\n  emitTelemetryEvent({\n    eventName: 'feature_flag',\n    domEventName: 'planner:feature-flag',\n    detail: {\n      ...eventDetail,\n      dataLayer: {\n        feature_flag: eventDetail.flag,\n        feature_flag_enabled: eventDetail.enabled,\n        feature_flag_state: eventDetail.state,\n      },\n    },\n  })\n}\n","/**\n * Collect normalized path segments from a string value.\n * @param {string | null | undefined} value\n * @returns {string[]}\n */\nexport const collectPathSegments = (value) => {\n  const trimmed = value?.trim();\n  if (!trimmed || trimmed === \"/\") {\n    return [];\n  }\n\n  return trimmed\n    .split(\"/\")\n    .map((segment) => segment.trim())\n    .filter((segment) => segment.length > 0);\n};\n\n/**\n * Normalize a base path so it can be consumed by Next.js and runtime helpers.\n * @param {string | null | undefined} value\n * @returns {string}\n */\nexport const normalizeBasePath = (value) => {\n  const segments = collectPathSegments(value);\n  return segments.length > 0 ? `/${segments.join(\"/\")}` : \"\";\n};\n","// src/lib/utils.ts\n// Tiny helpers. Keep dependencies minimal and SSR-safe.\n\nimport { type ClassValue, clsx } from \"clsx\";\nimport { extendTailwindMerge } from \"tailwind-merge\";\n\nimport { normalizeBasePath } from \"../../lib/base-path.js\";\nimport { readClientEnv } from '@env'\n\nconst twMerge = extendTailwindMerge({\n  extend: {\n    theme: {\n      text: [\"label\", \"ui\", \"body\", \"title\", \"title-lg\"],\n    },\n  },\n});\n\nconst { NEXT_PUBLIC_BASE_PATH } = readClientEnv();\n\nconst NORMALIZED_BASE = normalizeBasePath(NEXT_PUBLIC_BASE_PATH);\n\ntype NextData = {\n  assetPrefix?: string;\n  basePath?: string;\n  runtimeConfig?: {\n    basePath?: string;\n  };\n  config?: {\n    basePath?: string;\n  };\n};\n\ntype NextWindow = Window & {\n  next?: {\n    router?: {\n      basePath?: string;\n    };\n  };\n  __NEXT_DATA__?: NextData;\n};\n\nlet cachedRuntimeBasePath: string | undefined;\n\nfunction normalizeRuntimeBasePath(\n  candidate: string | null | undefined,\n): string | null {\n  if (candidate == null) {\n    return null;\n  }\n\n  const normalized = normalizeBasePath(candidate);\n\n  if (normalized.length > 0) {\n    return normalized;\n  }\n\n  const trimmed = candidate.trim();\n\n  if (trimmed.length === 0 || trimmed === \"/\") {\n    return \"\";\n  }\n\n  return null;\n}\n\nfunction readRuntimeBasePath(): string | null {\n  if (typeof window === \"undefined\") {\n    return null;\n  }\n\n  const nextWindow = window as NextWindow;\n\n  const runtimeRouterBase = normalizeRuntimeBasePath(\n    nextWindow.next?.router?.basePath,\n  );\n\n  if (runtimeRouterBase !== null) {\n    cachedRuntimeBasePath = runtimeRouterBase;\n    return runtimeRouterBase;\n  }\n\n  const attributeBase = normalizeRuntimeBasePath(\n    nextWindow.document?.documentElement?.getAttribute?.(\"data-base-path\"),\n  );\n\n  if (attributeBase !== null) {\n    cachedRuntimeBasePath = attributeBase;\n    return attributeBase;\n  }\n\n  const nextDataAssetPrefix = normalizeRuntimeBasePath(\n    nextWindow.__NEXT_DATA__?.assetPrefix,\n  );\n\n  if (nextDataAssetPrefix !== null) {\n    cachedRuntimeBasePath = nextDataAssetPrefix;\n    return nextDataAssetPrefix;\n  }\n\n  const nextDataBasePath = normalizeRuntimeBasePath(\n    nextWindow.__NEXT_DATA__?.basePath ??\n      nextWindow.__NEXT_DATA__?.runtimeConfig?.basePath ??\n      nextWindow.__NEXT_DATA__?.config?.basePath,\n  );\n\n  if (nextDataBasePath !== null) {\n    cachedRuntimeBasePath = nextDataBasePath;\n    return nextDataBasePath;\n  }\n\n  return null;\n}\n\nexport function getBasePath(): string {\n  if (typeof window !== \"undefined\") {\n    if (cachedRuntimeBasePath !== undefined) {\n      return cachedRuntimeBasePath;\n    }\n\n    const runtimeBase = readRuntimeBasePath();\n\n    if (runtimeBase !== null) {\n      cachedRuntimeBasePath = runtimeBase;\n      return runtimeBase;\n    }\n  }\n\n  return NORMALIZED_BASE;\n}\n\nconst ABSOLUTE_URL_PATTERN = /^[a-zA-Z][a-zA-Z\\d+.-]*:/;\n\nfunction isAbsoluteUrl(path: string): boolean {\n  return ABSOLUTE_URL_PATTERN.test(path) || path.startsWith(\"//\");\n}\n\n// Default locale for consistent date/time formatting.\nexport const LOCALE = \"en-US\";\n\n/** Combine class names using clsx and tailwind-merge. */\nexport function cn(...inputs: ClassValue[]): string {\n  return twMerge(clsx(inputs));\n}\n\n/**\n * Prefix a path with the configured Next.js base path, if any.\n * Ensures consistent asset URLs for environments served from sub-paths.\n */\nfunction applyTrailingSlash(path: string): string {\n  if (path.length === 0) {\n    return path\n  }\n\n  const queryIndex = path.search(/[?#]/)\n  const pathname = queryIndex === -1 ? path : path.slice(0, queryIndex)\n  const suffix = queryIndex === -1 ? '' : path.slice(queryIndex)\n\n  if (\n    pathname.length === 0 ||\n    pathname === '/' ||\n    pathname.endsWith('/')\n  ) {\n    return path\n  }\n\n  const lastSlashIndex = pathname.lastIndexOf('/')\n  const lastSegment = lastSlashIndex === -1 ? pathname : pathname.slice(lastSlashIndex + 1)\n\n  if (lastSegment.includes('.')) {\n    return path\n  }\n\n  return `${pathname}/${suffix}`\n}\n\ntype WithBasePathOptions = {\n  readonly trailingSlash?: boolean\n  readonly skipForNextLink?: boolean\n}\n\nexport function withBasePath(path: string, options?: WithBasePathOptions): string {\n  if (isAbsoluteUrl(path)) {\n    return path\n  }\n  const trimmedPath = path.trim()\n  const skipForNextLink = options?.skipForNextLink === true\n\n  if (!trimmedPath) {\n    if (skipForNextLink) {\n      return options?.trailingSlash === false ? '/' : '/'\n    }\n    const basePath = getBasePath()\n    if (options?.trailingSlash === false) {\n      return basePath || '/'\n    }\n    return basePath ? `${basePath}/` : '/'\n  }\n\n  if (trimmedPath.startsWith('#') || trimmedPath.startsWith('?')) {\n    return trimmedPath\n  }\n  const normalizedPath = trimmedPath.startsWith('/')\n    ? trimmedPath\n    : `/${trimmedPath}`\n\n  const basePath = skipForNextLink ? '' : getBasePath()\n\n  let resultPath = normalizedPath\n\n  if (basePath) {\n    const alreadyPrefixed =\n      normalizedPath === basePath ||\n      normalizedPath === `${basePath}/` ||\n      normalizedPath.startsWith(`${basePath}/`) ||\n      normalizedPath.startsWith(`${basePath}?`) ||\n      normalizedPath.startsWith(`${basePath}#`)\n\n    resultPath = alreadyPrefixed ? normalizedPath : `${basePath}${normalizedPath}`\n  }\n\n  if (options?.trailingSlash === false) {\n    return resultPath\n  }\n\n  return applyTrailingSlash(resultPath)\n}\n\n/** Remove the configured base path prefix from a pathname. */\nexport function withoutBasePath(path: string): string {\n  if (isAbsoluteUrl(path)) {\n    return path;\n  }\n  const normalizedPath = path.startsWith(\"/\") ? path : `/${path}`;\n\n  const basePath = getBasePath();\n\n  if (!basePath) {\n    return normalizedPath;\n  }\n\n  if (\n    normalizedPath === basePath ||\n    normalizedPath === `${basePath}/`\n  ) {\n    return \"/\";\n  }\n\n  if (normalizedPath.startsWith(`${basePath}/`)) {\n    const remainder = normalizedPath.slice(basePath.length);\n    return remainder.length > 0 ? remainder : \"/\";\n  }\n\n  if (\n    normalizedPath.startsWith(`${basePath}?`) ||\n    normalizedPath.startsWith(`${basePath}#`)\n  ) {\n    const remainder = normalizedPath.slice(basePath.length);\n    return remainder.length > 0 ? remainder : \"/\";\n  }\n\n  return normalizedPath;\n}\n\n/** Capitalize first letter (not Unicode-smart on purpose). */\nexport function capitalize(s: string): string {\n  return s.length ? s[0].toUpperCase() + s.slice(1) : s;\n}\n\n/** Clamp number to a range. */\nexport function clamp(n: number, min: number, max: number): number {\n  return Math.min(max, Math.max(min, n));\n}\n\n// Date helpers moved to ./date.ts\n\n/** Create a URL-friendly slug from a string. */\nexport function slugify(s?: string): string {\n  return (s ?? \"\")\n    .toLowerCase()\n    .trim()\n    .replace(/\\s+/g, \"-\")\n    .replace(/[^a-z0-9-]/g, \"\")\n    .slice(0, 64);\n}\n\n/** Escape mappings for sanitizeText */\nconst HTML_ESCAPE_MAP = {\n  \"&\": \"&amp;\",\n  \"<\": \"&lt;\",\n  \">\": \"&gt;\",\n  \"\\u0022\": \"&quot;\",\n  \"'\": \"&#39;\",\n} as const;\n\n/**\n * Clone data using structuredClone with JSON fallback.\n * Returns undefined when cloning fails.\n */\nexport function safeClone<T>(value: T): T | undefined {\n  if (typeof structuredClone === \"function\") {\n    try {\n      return structuredClone(value);\n    } catch {\n      // fall through to JSON\n    }\n  }\n  try {\n    return JSON.parse(JSON.stringify(value)) as T;\n  } catch {\n    return undefined;\n  }\n}\n\n/**\n * sanitizeText  escape HTML-unsafe characters to prevent node injection.\n * Minimal on purpose; more heavy sanitizers can be added if needed.\n */\nexport function sanitizeText(input: string): string {\n  return input.replace(\n    /[&<>\"']/g,\n    (c) => HTML_ESCAPE_MAP[c as keyof typeof HTML_ESCAPE_MAP] ?? c,\n  );\n}\n","\"use client\";\n\nimport * as React from \"react\";\nimport { cn } from \"@/lib/utils\";\n\nconst radiusClasses = {\n  sm: \"rounded-[var(--radius-sm,var(--radius-md))]\",\n  md: \"rounded-[var(--radius-lg)]\",\n  lg: \"rounded-[var(--radius-xl)]\",\n  card: \"rounded-[var(--radius-card,var(--radius-xl))]\",\n  full: \"rounded-[var(--radius-full)]\",\n} as const;\n\nexport type SkeletonRadius = keyof typeof radiusClasses;\n\nexport interface SkeletonProps extends React.HTMLAttributes<HTMLDivElement> {\n  radius?: SkeletonRadius;\n  ariaHidden?: React.AriaAttributes[\"aria-hidden\"];\n}\n\nconst Skeleton = React.forwardRef<HTMLDivElement, SkeletonProps>(\n  ({ className, radius = \"md\", ariaHidden, ...props }, ref) => {\n    const { [\"aria-hidden\"]: ariaHiddenAttr, ...rest } = props;\n    const resolvedAriaHidden =\n      ariaHidden ?? ariaHiddenAttr ?? true;\n\n    return (\n      <div\n        ref={ref}\n        aria-hidden={resolvedAriaHidden}\n        className={cn(\n          \"skeleton h-[var(--space-4)] w-full\",\n          radiusClasses[radius],\n          className,\n        )}\n        {...rest}\n      />\n    );\n  },\n);\n\nSkeleton.displayName = \"Skeleton\";\nexport { Skeleton };\n","\"use client\";\n\nimport * as React from \"react\";\nimport { usePersistentState } from \"@/lib/db\";\nimport { glitchLandingEnabled as glitchLandingDefault } from \"@/lib/features\";\nimport { reportFeatureFlagAnalytics } from \"@/lib/feature-flags\";\nimport {\n  BG_CLASSES,\n  THEME_STORAGE_KEY,\n  VARIANTS,\n  applyTheme,\n  defaultTheme,\n  decodeThemeState,\n  type Background,\n  type ThemeState,\n  type Variant,\n} from \"@/lib/theme\";\n\nconst ThemeContext = React.createContext<\n  | readonly [ThemeState, React.Dispatch<React.SetStateAction<ThemeState>>]\n  | undefined\n>(undefined);\n\ntype ThemeFeatureFlags = {\n  glitchLandingEnabled: boolean;\n};\n\nconst ThemeFeatureFlagsContext = React.createContext<ThemeFeatureFlags>({\n  glitchLandingEnabled: false,\n});\n\ntype ThemeProviderProps = {\n  children: React.ReactNode;\n  glitchLandingEnabled?: boolean;\n};\n\nexport function ThemeProvider({\n  children,\n  glitchLandingEnabled = glitchLandingDefault,\n}: ThemeProviderProps): JSX.Element {\n  const [hydrated, setHydrated] = React.useState(false);\n  const defaultThemeValue = React.useMemo<ThemeState>(() => defaultTheme(), []);\n  const initialThemeState = React.useMemo<ThemeState>(() => {\n    if (typeof document === \"undefined\") {\n      return defaultThemeValue;\n    }\n\n    const { documentElement } = document;\n    if (!documentElement) {\n      return defaultThemeValue;\n    }\n\n    const classList = documentElement.classList;\n    const themeClass = Array.from(classList).find((className) =>\n      className.startsWith(\"theme-\"),\n    );\n    const rawVariant =\n      typeof themeClass === \"string\"\n        ? themeClass.slice(\"theme-\".length)\n        : null;\n    const variantEntry = VARIANTS.find(({ id }) => id === rawVariant);\n    const resolvedVariant: Variant = variantEntry\n      ? variantEntry.id\n      : defaultThemeValue.variant;\n\n    const backgroundIndex = BG_CLASSES.findIndex(\n      (className) =>\n        className.length > 0 && classList.contains(className),\n    );\n    const resolvedBackground =\n      backgroundIndex > 0\n        ? (backgroundIndex as Background)\n        : defaultThemeValue.bg;\n\n    return { variant: resolvedVariant, bg: resolvedBackground };\n  }, [defaultThemeValue]);\n\n  const [theme, setTheme] = usePersistentState<ThemeState>(\n    THEME_STORAGE_KEY,\n    initialThemeState,\n    { decode: decodeThemeState },\n  );\n  const defaultThemeRef = React.useRef(defaultThemeValue);\n  const pendingPersistedSyncRef = React.useRef(true);\n\n  React.useEffect(() => {\n    setHydrated(true);\n  }, []);\n\n  React.useEffect(() => {\n    if (!hydrated) {\n      return;\n    }\n    if (typeof document === \"undefined\") {\n      return;\n    }\n\n    const { documentElement } = document;\n    const expectedThemeClass = `theme-${theme.variant}`;\n    const currentThemeClass = Array.from(documentElement.classList).find((className) =>\n      className.startsWith(\"theme-\"),\n    );\n    const currentBackgroundClass = BG_CLASSES.find(\n      (className) => className && documentElement.classList.contains(className),\n    );\n    const expectedBackgroundClass =\n      theme.bg > 0 && theme.bg < BG_CLASSES.length ? BG_CLASSES[theme.bg] : \"\";\n    const themeClassMismatch =\n      typeof currentThemeClass === \"string\" && currentThemeClass !== expectedThemeClass;\n    const backgroundMismatch =\n      typeof currentBackgroundClass === \"string\"\n        ? currentBackgroundClass !== expectedBackgroundClass\n        : expectedBackgroundClass !== \"\";\n\n    const defaultState = defaultThemeRef.current;\n    const isDefaultSelection =\n      theme.variant === defaultState.variant && theme.bg === defaultState.bg;\n\n    if (\n      pendingPersistedSyncRef.current &&\n      documentElement.dataset.themePref === \"persisted\" &&\n      (themeClassMismatch || backgroundMismatch) &&\n      !isDefaultSelection\n    ) {\n      return;\n    }\n\n    pendingPersistedSyncRef.current = false;\n\n    const shouldPersistPreference =\n      documentElement.dataset.themePref === \"persisted\" || !isDefaultSelection;\n\n    if (shouldPersistPreference) {\n      documentElement.dataset.themePref = \"persisted\";\n    }\n\n    applyTheme(theme);\n  }, [theme, hydrated]);\n\n  React.useEffect(() => {\n    if (typeof document === \"undefined\") {\n      return;\n    }\n\n    const state = glitchLandingEnabled ? \"enabled\" : \"legacy\";\n    document.documentElement.dataset.glitchLanding = state;\n\n    if (document.body) {\n      document.body.dataset.glitchLanding = state;\n    }\n  }, [glitchLandingEnabled]);\n\n  React.useEffect(() => {\n    reportFeatureFlagAnalytics({\n      flag: \"ui-glitch-landing\",\n      enabled: glitchLandingEnabled,\n      state: glitchLandingEnabled ? \"enabled\" : \"legacy\",\n    });\n  }, [glitchLandingEnabled]);\n\n  const value = React.useMemo(() => [theme, setTheme] as const, [theme, setTheme]);\n  const featureValue = React.useMemo<ThemeFeatureFlags>(\n    () => ({ glitchLandingEnabled }),\n    [glitchLandingEnabled],\n  );\n\n  return (\n    <ThemeFeatureFlagsContext.Provider value={featureValue}>\n      <ThemeContext.Provider value={value}>{children}</ThemeContext.Provider>\n    </ThemeFeatureFlagsContext.Provider>\n  );\n}\n\nexport function useTheme(): readonly [\n  ThemeState,\n  React.Dispatch<React.SetStateAction<ThemeState>>,\n] {\n  const ctx = React.useContext(ThemeContext);\n  if (!ctx) {\n    throw new Error(\"useTheme must be used within ThemeProvider\");\n  }\n  return ctx;\n}\n\nexport function useOptionalTheme():\n  | readonly [ThemeState, React.Dispatch<React.SetStateAction<ThemeState>>]\n  | undefined {\n  return React.useContext(ThemeContext);\n}\n\nexport function useUiFeatureFlags(): ThemeFeatureFlags {\n  return React.useContext(ThemeFeatureFlagsContext);\n}\n\nexport default ThemeProvider;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"neu\":\"neumorphic_neu__ZfcsV\",\"neu-inset\":\"neumorphic_neu-inset__QxBWx\",\"neu-hover\":\"neumorphic_neu-hover__WJQ2B\"};","\"use client\";\n\nimport * as React from \"react\";\nimport { cn } from \"@/lib/utils\";\nimport { Spinner } from \"../feedback/Spinner\";\nimport styles from \"./Toggle.module.css\";\n\ntype Side = \"Left\" | \"Right\";\n\ninterface ToggleProps {\n  readonly leftLabel?: string;\n  readonly rightLabel?: string;\n  readonly value?: Side;\n  readonly onChange?: (value: Side) => void;\n  readonly onKeyDown?: (event: React.KeyboardEvent<HTMLButtonElement>) => void;\n  readonly className?: string;\n  readonly disabled?: boolean;\n  readonly loading?: boolean;\n  readonly ariaLabel?: string;\n  readonly ariaLabelledBy?: string;\n}\n\nconst STATE_TOKEN_CLASSES =\n  \"[--toggle-hover-surface:hsl(var(--accent-1)/0.16)] [--toggle-active-surface:hsl(var(--accent-1)/0.26)] [--toggle-focus-ring:var(--ring-contrast)] [--toggle-focus-glow:var(--shadow-glow-md)]\";\n\nconst Toggle = React.forwardRef<HTMLButtonElement, ToggleProps>(\n  (\n    {\n      leftLabel = \"Left\",\n      rightLabel = \"Right\",\n      value = \"Left\",\n      onChange,\n      onKeyDown,\n      className,\n      disabled = false,\n      loading = false,\n      ariaLabel,\n      ariaLabelledBy,\n    },\n    ref,\n  ) => {\n    const isRight = value === \"Right\";\n    const id = React.useId();\n    const leftId = `${id}-left`;\n    const rightId = `${id}-right`;\n    const labelledBy = ariaLabelledBy ?? (ariaLabel ? undefined : `${leftId} ${rightId}`);\n\n    function toggle() {\n      if (disabled || loading) return;\n      onChange?.(isRight ? \"Left\" : \"Right\");\n    }\n\n    function handleKeyDown(e: React.KeyboardEvent<HTMLButtonElement>) {\n      onKeyDown?.(e);\n      if (e.defaultPrevented) return;\n\n      if (disabled || loading) return;\n      if (e.key === \" \" || e.key === \"Enter\") {\n        e.preventDefault();\n        toggle();\n      }\n      if (e.key === \"ArrowLeft\") onChange?.(\"Left\");\n      if (e.key === \"ArrowRight\") onChange?.(\"Right\");\n    }\n\n    return (\n      <button\n        ref={ref}\n        type=\"button\"\n        role=\"switch\"\n        aria-checked={isRight}\n        aria-labelledby={labelledBy}\n        aria-label={ariaLabel}\n        aria-busy={loading || undefined}\n        disabled={disabled}\n        data-loading={loading || undefined}\n        onClick={toggle}\n        onKeyDown={handleKeyDown}\n        className={cn(\n          styles.root,\n          \"group relative inline-flex h-[var(--control-h-md)] items-center rounded-full border\",\n          \"w-[calc(var(--space-8)*4)]\",\n          \"border-border bg-card overflow-hidden\",\n          \"hover:bg-[--toggle-hover-surface] active:bg-[--toggle-active-surface]\",\n          \"focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--toggle-focus-ring)] focus-visible:shadow-[var(--toggle-focus-glow)]\",\n          \"disabled:opacity-disabled disabled:pointer-events-none\",\n          \"data-[loading=true]:opacity-loading data-[loading=true]:pointer-events-none\",\n          \"before:pointer-events-none before:absolute before:inset-[calc(var(--space-1)/2)] before:rounded-full before:bg-[var(--card-overlay-scanlines)] before:opacity-0 before:transition-opacity before:duration-motion-sm before:ease-out\",\n          \"hover:before:opacity-70 focus-visible:before:opacity-80 active:before:opacity-90\",\n          STATE_TOKEN_CLASSES,\n          className,\n        )}\n        data-side={value}\n      >\n        {loading ? (\n          <span className=\"pointer-events-none absolute inset-0 z-20 flex items-center justify-center\">\n            <Spinner size=\"sm\" className=\"border-border border-t-transparent opacity-80\" />\n          </span>\n        ) : null}\n        {/* Sliding indicator */}\n        <span\n          aria-hidden\n          className={cn(\n            styles.indicator,\n            \"absolute top-[var(--space-1)] bottom-[var(--space-1)] left-[var(--space-1)] rounded-full transition-transform duration-motion-sm ease-motion-glitch motion-reduce:transition-none group-active:scale-95 group-disabled:opacity-disabled group-data-[loading=true]:opacity-loading group-focus-visible:ring-2 group-focus-visible:ring-[var(--toggle-focus-ring)] group-hover:[--toggle-indicator-shadow:var(--shadow-glow-md)] group-active:[--toggle-indicator-shadow:var(--shadow-glow-lg)] group-focus-visible:[--toggle-indicator-shadow:var(--shadow-glow-lg)]\",\n          )}\n        />\n\n        {/* Labels */}\n        <span\n          id={leftId}\n          className={cn(\n            styles.leftLabel,\n            \"relative z-10 flex-1 text-center font-mono text-ui transition-colors\",\n            !isRight ? \"text-foreground/70\" : \"text-muted-foreground\",\n          )}\n          data-active={!isRight}\n        >\n          {leftLabel}\n        </span>\n        <span\n          id={rightId}\n          className={cn(\n            styles.rightLabel,\n            \"relative z-10 flex-1 text-center font-mono text-ui transition-colors\",\n            isRight ? \"text-foreground/70\" : \"text-muted-foreground\",\n          )}\n          data-active={isRight}\n        >\n          {rightLabel}\n        </span>\n      </button>\n    );\n  },\n);\n\nToggle.displayName = \"Toggle\";\n\nexport { Toggle };\n","\"use client\";\n\nimport * as React from \"react\";\nimport { cn } from \"@/lib/utils\";\n\nconst toneToBorderClass = {\n  primary: \"border-primary\",\n  accent: \"border-accent\",\n  info: \"border-accent-2\",\n  danger: \"border-danger\",\n} as const;\n\nexport type SpinnerTone = keyof typeof toneToBorderClass;\n\nconst sizeToVariableClass = {\n  xs: \"[--spinner-size:var(--space-3)]\",\n  sm: \"[--spinner-size:var(--space-4)]\",\n  md: \"[--spinner-size:calc(var(--space-5)-var(--space-1))]\",\n  lg: \"[--spinner-size:var(--space-5)]\",\n  xl: \"[--spinner-size:var(--space-6)]\",\n  \"2xl\": \"[--spinner-size:var(--space-7)]\",\n  \"control-xs\": \"[--spinner-size:calc(var(--control-h-xs)/2)]\",\n  \"control-sm\": \"[--spinner-size:calc(var(--control-h-sm)/2)]\",\n  \"control-md\": \"[--spinner-size:calc(var(--control-h-md)/2)]\",\n  \"control-lg\": \"[--spinner-size:calc(var(--control-h-lg)/2)]\",\n  \"control-xl\": \"[--spinner-size:calc(var(--control-h-xl)/2)]\",\n} as const;\n\nexport type SpinnerSize = keyof typeof sizeToVariableClass;\n\ntype SpinnerProps = {\n  className?: string;\n  size?: SpinnerSize;\n  tone?: SpinnerTone;\n};\n\nexport function Spinner({\n  className,\n  size = \"xl\",\n  tone = \"accent\",\n}: SpinnerProps) {\n  return (\n    <div\n      role=\"status\"\n      aria-label=\"Loading\"\n      aria-live=\"polite\"\n      className={cn(\n        \"inline-block h-[var(--spinner-size)] w-[var(--spinner-size)] animate-spin motion-reduce:animate-none rounded-full border border-t-transparent\",\n        toneToBorderClass[tone],\n        sizeToVariableClass[size],\n        className,\n      )}\n    >\n      <span className=\"sr-only\">Loading...</span>\n    </div>\n  );\n}\n","\"use client\";\n\nimport * as React from \"react\";\n\nimport { Spinner } from \"@/components/ui/feedback/Spinner\";\nimport { cn } from \"@/lib/utils\";\n\nimport { radioIconGroupToneClasses, type RadioIconGroupTone } from \"./tone\";\n\nexport type RadioIconGroupSize = \"sm\" | \"md\" | \"lg\";\n\nexport type RadioIconGroupOption = {\n  readonly id: string;\n  readonly value: string;\n  readonly label: string;\n  readonly icon?: React.ReactNode;\n  readonly disabled?: boolean;\n};\n\nexport interface RadioIconGroupProps {\n  readonly name: string;\n  readonly options: readonly RadioIconGroupOption[];\n  readonly value: string | null;\n  readonly onChange: (value: string) => void;\n  readonly tone?: RadioIconGroupTone;\n  readonly size?: RadioIconGroupSize;\n  readonly disabled?: boolean;\n  readonly loading?: boolean;\n  readonly className?: string;\n  readonly \"aria-label\"?: string;\n  readonly \"aria-labelledby\"?: string;\n  readonly \"aria-describedby\"?: string;\n}\n\nconst ICON_SIZE: Record<RadioIconGroupSize, string> = {\n  sm: \"h-[var(--control-h-sm)] w-[var(--control-h-sm)] [&>svg]:size-[calc(var(--control-h-sm)/2)]\",\n  md: \"h-[var(--control-h-md)] w-[var(--control-h-md)] [&>svg]:size-[calc(var(--control-h-md)/2)]\",\n  lg: \"h-[var(--control-h-lg)] w-[var(--control-h-lg)] [&>svg]:size-[calc(var(--control-h-lg)/2)]\",\n};\n\nconst LABEL_SIZE: Record<RadioIconGroupSize, string> = {\n  sm: \"text-caption\",\n  md: \"text-label\",\n  lg: \"text-ui\",\n};\n\nexport function RadioIconGroup({\n  name,\n  options,\n  value,\n  onChange,\n  tone = \"accent\",\n  size = \"md\",\n  disabled = false,\n  loading = false,\n  className,\n  \"aria-label\": ariaLabel,\n  \"aria-labelledby\": ariaLabelledby,\n  \"aria-describedby\": ariaDescribedby,\n}: RadioIconGroupProps) {\n  const groupId = React.useId();\n  const resolvedLabel = ariaLabelledby ? undefined : ariaLabel;\n\n  const isDisabled = disabled || loading;\n\n  const toneClass = radioIconGroupToneClasses[tone];\n\n  return (\n    <div\n      role=\"radiogroup\"\n      aria-labelledby={ariaLabelledby}\n      aria-label={resolvedLabel}\n      aria-disabled={isDisabled || undefined}\n      aria-busy={loading || undefined}\n      aria-describedby={ariaDescribedby}\n      className={cn(\"flex flex-wrap gap-[var(--space-3)]\", className)}\n      data-loading={loading || undefined}\n    >\n      {options.map((option, index) => {\n        const optionId = option.id || `${groupId}-${index}`;\n        const checked = option.value === value;\n        const optionDisabled = isDisabled || option.disabled;\n        return (\n          <div\n            key={optionId}\n            className=\"flex flex-col items-center gap-[var(--space-1)]\"\n            data-state={checked ? \"on\" : \"off\"}\n            data-loading={loading || undefined}\n            data-part=\"option\"\n          >\n            <input\n              id={optionId}\n              type=\"radio\"\n              name={name}\n              value={option.value}\n              checked={checked}\n              disabled={optionDisabled}\n              onChange={(event) => {\n                if (event.target.checked) {\n                  onChange(event.target.value);\n                }\n              }}\n              className=\"peer sr-only\"\n              aria-describedby={ariaDescribedby}\n            />\n            <label\n              htmlFor={optionId}\n              className={cn(\n                \"group/radio flex cursor-pointer flex-col items-center gap-[var(--space-1)] text-center\",\n                \"text-muted-foreground transition-colors duration-motion-sm ease-out\",\n                \"peer-disabled:cursor-not-allowed peer-disabled:opacity-disabled\",\n                toneClass.text,\n              )}\n              data-state={checked ? \"on\" : \"off\"}\n              data-disabled={optionDisabled || undefined}\n              data-part=\"trigger\"\n            >\n              <span\n                aria-hidden=\"true\"\n                className={cn(\n                  \"relative inline-grid place-items-center rounded-full border border-card-hairline/60 bg-card\",\n                  \"text-muted-foreground shadow-control transition-all duration-motion-sm ease-out\",\n                  \"group-hover/radio:shadow-control-hover\",\n                  \"motion-reduce:shadow-none motion-reduce:transition-none\",\n                  \"peer-disabled:shadow-none\",\n                  ICON_SIZE[size],\n                  \"[--radio-glow:transparent]\",\n                  \"peer-checked:shadow-[0_0_var(--space-3)_var(--radio-glow)]\",\n                  \"peer-focus-visible:outline-none peer-focus-visible:ring-2\",\n                  \"peer-focus-visible:ring-offset-2 peer-focus-visible:ring-offset-[color:var(--surface-2)]\",\n                  \"motion-safe:group-active/radio:scale-95 motion-reduce:transform-none\",\n                  toneClass.surface,\n                  toneClass.ring,\n                  toneClass.glow,\n                  toneClass.lift,\n                )}\n                data-state={checked ? \"on\" : \"off\"}\n                data-disabled={optionDisabled || undefined}\n                data-part=\"control\"\n              >\n                {loading && checked ? (\n                  <span className=\"absolute inset-0 grid place-items-center rounded-full bg-card/70\">\n                    <Spinner size=\"sm\" className=\"text-muted-foreground\" />\n                  </span>\n                ) : null}\n                {option.icon ?? null}\n                <span className=\"pointer-events-none absolute inset-0 rounded-full\" data-part=\"focus-ring\" />\n              </span>\n              <span\n                className={cn(\n                  \"text-balance text-muted-foreground\",\n                  \"transition-colors duration-motion-sm ease-out\",\n                  LABEL_SIZE[size],\n                  toneClass.text,\n                )}\n                data-state={checked ? \"on\" : \"off\"}\n                data-disabled={optionDisabled || undefined}\n                data-part=\"label\"\n              >\n                {option.label}\n              </span>\n            </label>\n          </div>\n        );\n      })}\n    </div>\n  );\n}\n\nexport type { RadioIconGroupTone } from \"./tone\";\n","\"use client\";\n\nimport * as React from \"react\";\n\nimport { Skeleton } from \"@/components/ui\";\nimport { cn } from \"@/lib/utils\";\n\nexport interface AILoadingShimmerProps\n  extends React.ComponentPropsWithoutRef<\"div\"> {\n  readonly lines?: number;\n  readonly showAvatar?: boolean;\n  readonly label?: string;\n}\n\nconst DEFAULT_LABEL = \"Generating response\";\nconst MIN_LINES = 2;\n\nconst AILoadingShimmer = React.forwardRef<HTMLDivElement, AILoadingShimmerProps>(\n  (\n    { lines = 3, showAvatar = true, label = DEFAULT_LABEL, className, children, ...props },\n    ref,\n  ) => {\n    const normalizedLines = Math.max(lines, MIN_LINES);\n\n    return (\n      <div\n        ref={ref}\n        role=\"status\"\n        aria-live=\"polite\"\n        aria-busy=\"true\"\n        className={cn(\n          \"flex gap-[var(--space-3)] rounded-card bg-[hsl(var(--surface-1)/0.65)] p-[var(--space-3)] shadow-[var(--shadow-outline-faint)]\",\n          className,\n        )}\n        {...props}\n      >\n        {showAvatar ? (\n          <Skeleton\n            aria-hidden\n            radius=\"full\"\n            className=\"size-[var(--space-9)] shrink-0 shadow-[var(--shadow-inset-hairline)]\"\n          />\n        ) : null}\n        <div className=\"flex min-w-0 flex-1 flex-col gap-[var(--space-2)]\">\n          <p className=\"text-label font-medium text-muted-foreground\" aria-live=\"polite\">\n            {label}\n          </p>\n          <div className=\"flex flex-col gap-[var(--space-2)]\">\n            {Array.from({ length: normalizedLines }).map((_, index) => (\n              <Skeleton\n                key={index}\n                className={cn(\n                  \"h-[var(--space-3)] w-full shadow-[var(--shadow-inset-hairline)]\",\n                  index === normalizedLines - 1 ? \"w-[80%]\" : undefined,\n                )}\n                radius=\"full\"\n              />\n            ))}\n          </div>\n          {children ? <div className=\"pt-[var(--space-2)]\">{children}</div> : null}\n        </div>\n      </div>\n    );\n  },\n);\n\nAILoadingShimmer.displayName = \"AILoadingShimmer\";\nexport { AILoadingShimmer };\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"glitchTrigger\":\"Select_glitchTrigger__yXmFM\",\"glitchText\":\"Select_glitchText__Gopt9\",\"caret\":\"Select_caret__6dkh_\",\"caretOpen\":\"Select_caretOpen__nfWDG\",\"caret-jitter\":\"Select_caret-jitter__rSflb\",\"glitchOverlays\":\"Select_glitchOverlays__aNYdV\",\"glitchOverlayItem\":\"Select_glitchOverlayItem__elf8_\",\"gbIris\":\"Select_gbIris__V60Nj\",\"gbChroma\":\"Select_gbChroma___pn4y\",\"gbFlicker\":\"Select_gbFlicker__Oh3C3\",\"gbScan\":\"Select_gbScan__cDcdi\",\"iris-rotate\":\"Select_iris-rotate__bP0cn\",\"chroma-jitter\":\"Select_chroma-jitter__uGyPn\",\"border-flicker\":\"Select_border-flicker__TeHWj\",\"border-pulse\":\"Select_border-pulse__Y2SWd\",\"scan-move\":\"Select_scan-move__ZoOsg\"};","\"use client\";\n\nimport Image from \"next/image\";\nimport { cn } from \"@/lib/utils\";\nimport styles from \"./HeroScene.module.css\";\n\ntype HeroSceneConfig = {\n  src: string;\n  alt?: string;\n  align?: \"left\" | \"center\" | \"right\";\n  bob?: string;\n  bobDuration?: string;\n  scale?: string;\n  objectPosition?: string;\n  tilt?: string;\n};\n\nconst HERO_SCENES: Record<string, HeroSceneConfig> = {\n  \"agnes-floating\": {\n    src: \"/hero-art/agnes-floating.svg\",\n    alt: \"Agnes floating above a neon ring\",\n    align: \"right\",\n    bob: \"var(--space-4)\",\n    bobDuration: \"9s\",\n    scale: \"1.04\",\n    tilt: \"0.6deg\",\n    objectPosition: \"60% 52%\",\n  },\n  \"agnes-neutral\": {\n    src: \"/hero-art/agnes-neutral.svg\",\n    alt: \"Agnes standing with a calm stance\",\n    align: \"center\",\n    bob: \"var(--space-3)\",\n    bobDuration: \"10s\",\n    tilt: \"0.35deg\",\n  },\n  \"agnes-hacking\": {\n    src: \"/hero-art/agnes-hacking.svg\",\n    alt: \"Agnes leaning toward a holo terminal\",\n    align: \"right\",\n    bob: \"calc(var(--space-3) + var(--space-1))\",\n    bobDuration: \"8.5s\",\n    tilt: \"0.75deg\",\n    objectPosition: \"56% 50%\",\n  },\n  \"noxi-floating\": {\n    src: \"/hero-art/noxi-floating.svg\",\n    alt: \"Noxi floating with support drones\",\n    align: \"right\",\n    bob: \"calc(var(--space-4) + var(--space-1))\",\n    bobDuration: \"9.5s\",\n    scale: \"1.06\",\n    tilt: \"0.8deg\",\n    objectPosition: \"62% 54%\",\n  },\n  \"noxi-hacking\": {\n    src: \"/hero-art/noxi-hacking.svg\",\n    alt: \"Noxi focused on a hacking console\",\n    align: \"left\",\n    bob: \"var(--space-3)\",\n    bobDuration: \"8.4s\",\n    tilt: \"0.55deg\",\n    objectPosition: \"46% 52%\",\n  },\n};\n\nexport type HeroSceneKey = keyof typeof HERO_SCENES;\n\nexport interface HeroSceneProps {\n  scene: HeroSceneKey;\n  alt?: string;\n  heading?: string;\n  className?: string;\n}\n\nexport function HeroScene({ scene, alt, heading, className }: HeroSceneProps) {\n  const config = HERO_SCENES[scene];\n  const trimmedAlt = typeof alt === \"string\" ? alt.trim() : \"\";\n  const sceneAlt =\n    trimmedAlt.length > 0\n      ? trimmedAlt\n      : config?.alt ??\n          (heading && heading.trim().length > 0\n            ? `${heading.trim()} hero art`\n            : \"\");\n  const ariaHidden = sceneAlt.length === 0;\n\n  if (!config) {\n    return null;\n  }\n\n  const bobAmount = config.bob ?? \"var(--space-3)\";\n  const bobDuration = config.bobDuration ?? \"8s\";\n  const scale = config.scale ?? \"1\";\n  const tilt = config.tilt ?? \"0.5deg\";\n  const objectPosition = config.objectPosition ?? \"60% 50%\";\n\n  return (\n    <div\n      className={cn(\"absolute inset-0\", styles.scene, className)}\n      data-align={config.align ?? \"right\"}\n      style={{\n        [\"--scene-bob\" as string]: bobAmount,\n        [\"--scene-bob-duration\" as string]: bobDuration,\n        [\"--scene-scale\" as string]: scale,\n        [\"--scene-tilt\" as string]: tilt,\n      }}\n      data-scene={scene}\n    >\n      <div aria-hidden className={styles.blob} />\n      <div aria-hidden className={styles.bloom} />\n      <Image\n        src={config.src}\n        alt={sceneAlt}\n        aria-hidden={ariaHidden ? true : undefined}\n        fill\n        sizes=\"(min-width: 1280px) 50vw, (min-width: 768px) 70vw, 100vw\"\n        priority={false}\n        className={styles.figure}\n        style={{ objectPosition }}\n      />\n    </div>\n  );\n}\n","// src/components/ui/layout/Hero.tsx\n\"use client\";\n\nimport * as React from \"react\";\nimport {\n  TabBar,\n  type TabBarA11yProps,\n  type TabBarProps,\n  type TabItem,\n} from \"./TabBar\";\nimport type { HeaderTabsProps } from \"@/components/ui/layout/Header\";\nimport { cn } from \"@/lib/utils\";\nimport { NeomorphicFrameStyles } from \"./NeomorphicFrameStyles\";\nimport { HeroGlitchStyles } from \"./hero/HeroGlitchStyles\";\nimport { HeroImage, type HeroImageProps } from \"./hero/HeroImage\";\nimport { HeroScene, type HeroSceneKey } from \"./hero/HeroScene\";\nimport { HeroSearchBar, type HeroSearchBarProps } from \"./hero/HeroSearchBar\";\nimport { useHeroStyles } from \"./hero/useHeroStyles\";\nimport styles from \"./hero/Hero.module.css\";\n\ntype HeroElement = Extract<\n  keyof React.JSX.IntrinsicElements,\n  \"header\" | \"section\" | \"article\" | \"aside\" | \"div\" | \"main\" | \"nav\"\n>;\n\nexport type HeroTab<K extends string = string> = TabItem<K> & { hint?: string };\n\nexport type HeroTabsProps<K extends string = string> = TabBarA11yProps & {\n  items: Array<HeroTab<K>>;\n  value: K;\n  onChange: (key: K) => void;\n  className?: string;\n  align?: TabBarProps[\"align\"];\n  size?: TabBarProps[\"size\"];\n  right?: React.ReactNode;\n  showBaseline?: boolean;\n  variant?: TabBarProps[\"variant\"];\n  linkPanels?: boolean;\n  idBase?: string;\n};\n\ntype HeroNoiseLevel = \"none\" | \"subtle\" | \"moderate\";\ntype HeroNoiseStyle = React.CSSProperties & Record<string, string>;\n\ntype HeroSearchConfig = (HeroSearchBarProps & { round?: boolean }) | null;\n\ntype HeroTabsLike<Key extends string> =\n  | (HeroTabsProps<Key> & { legacy?: false })\n  | (HeaderTabsProps<Key> & { legacy?: true });\n\nexport interface HeroProps<Key extends string = string>\n  extends Omit<React.HTMLAttributes<HTMLElement>, \"title\"> {\n  eyebrow?: React.ReactNode;\n  title?: React.ReactNode;\n  /** @deprecated Use `title` instead. */\n  heading?: React.ReactNode;\n  subtitle?: React.ReactNode;\n  icon?: React.ReactNode;\n  children?: React.ReactNode;\n  actions?: React.ReactNode;\n  sticky?: boolean;\n  topClassName?: string;\n  barClassName?: string;\n  bodyClassName?: string;\n  /** Visual treatment for the label cluster bar. */\n  barVariant?: \"flat\" | \"raised\";\n  /** Typography profile for the heading/subtitle. */\n  tone?: \"heroic\" | \"supportive\";\n  /** Whether to include glitchy frame and background layers. */\n  frame?: boolean;\n  /** Level of glitch treatment for frame overlays (defaults to `default`). */\n  glitch?: \"default\" | \"subtle\" | \"off\";\n  /** Noise intensity for scanline + grain overlays. */\n  noiseLevel?: \"none\" | \"subtle\" | \"moderate\";\n  /** Divider tint for neon line. */\n  dividerTint?: \"primary\" | \"life\";\n  /** Semantic wrapper element (defaults to `section`). */\n  as?: HeroElement;\n  /** Horizontal padding for the outer shell. */\n  padding?: \"default\" | \"none\";\n  /** Built-in top-right segmented tabs (preferred). */\n  tabs?: HeroTabsProps<Key>;\n  /** Secondary segmented control support. */\n  subTabs?: HeaderTabsProps<Key>;\n  /** Built-in bottom search (preferred). `round` makes it pill. */\n  searchBar?: HeroSearchConfig;\n  /** @deprecated Use `searchBar` instead. */\n  search?: HeroSearchConfig;\n  /** Optional illustration rendered inside the hero frame. */\n  illustration?: React.ReactNode;\n  /** Visual state for the default hero illustration background. */\n  illustrationState?: HeroImageProps[\"state\"];\n  /** Custom alt text for the hero illustration background. */\n  illustrationAlt?: string;\n  /** Prebuilt neon character vignette. */\n  scene?: HeroSceneKey;\n}\n\nfunction mapTabs<Key extends string>(\n  config: HeroTabsLike<Key> | undefined,\n  heroVariant: TabBarProps[\"variant\"] | undefined,\n): React.ReactNode {\n  if (!config) {\n    return null;\n  }\n\n  const {\n    legacy,\n    align,\n    size,\n    right,\n    showBaseline,\n    variant,\n    className,\n    items: heroItems,\n    value,\n    onChange,\n    ariaLabel,\n    ariaLabelledBy,\n    linkPanels,\n    idBase,\n  } = config as HeroTabsProps<Key> & { legacy?: boolean };\n\n  const items = (legacy\n    ? (config as HeaderTabsProps<Key>).items\n    : heroItems\n  ).map(\n    ({ hint, ...item }) => {\n      void hint;\n      return { ...item, key: String(item.key ?? item.label) };\n    },\n  );\n\n  const resolvedValue = legacy\n    ? String((config as HeaderTabsProps<Key>).value)\n    : String(value);\n\n  const handleChange = (key: string) => {\n    if (legacy) {\n      (config as HeaderTabsProps<Key>).onChange(key as Key);\n      return;\n    }\n    onChange(key as Key);\n  };\n\n  const sanitizedLabel =\n    typeof ariaLabel === \"string\" && ariaLabel.trim().length > 0\n      ? ariaLabel.trim()\n      : undefined;\n  const sanitizedLabelledBy =\n    typeof ariaLabelledBy === \"string\" && ariaLabelledBy.trim().length > 0\n      ? ariaLabelledBy.trim()\n      : undefined;\n\n  const accessibilityProps: TabBarA11yProps = sanitizedLabelledBy\n    ? {\n        ariaLabelledBy: sanitizedLabelledBy,\n        ...(sanitizedLabel ? { ariaLabel: sanitizedLabel } : {}),\n      }\n    : {\n        ariaLabel: sanitizedLabel ?? \"Hero tabs\",\n      };\n\n  return (\n    <TabBar\n      items={items}\n      value={resolvedValue}\n      onValueChange={handleChange}\n      size={size ?? \"md\"}\n      align={align ?? \"end\"}\n      right={right}\n      showBaseline={showBaseline ?? true}\n      variant={variant ?? heroVariant}\n      className={cn(\"justify-end\", className)}\n      {...accessibilityProps}\n      linkPanels={linkPanels}\n      idBase={idBase}\n    />\n  );\n}\n\nconst HERO_NOISE_STYLES: Record<HeroNoiseLevel, HeroNoiseStyle> = {\n  none: {\n    \"--hero-glitch-overlay-opacity\": \"var(--theme-scanline-opacity-none, 0)\",\n    \"--texture-grain-opacity\": \"var(--theme-noise-level-none, 0)\",\n    \"--texture-grain-strength\": \"0\",\n    \"--texture-scanline-opacity\": \"var(--theme-scanline-opacity-none, 0)\",\n    \"--texture-scanline-strength\": \"0\",\n  },\n  subtle: {\n    \"--hero-glitch-overlay-opacity\":\n      \"var(--theme-scanline-opacity-subtle, 0.045)\",\n    \"--texture-grain-opacity\": \"var(--theme-noise-level-subtle, 0.03)\",\n    \"--texture-grain-strength\": \"1\",\n    \"--texture-scanline-opacity\": \"var(--theme-scanline-opacity-subtle, 0.045)\",\n    \"--texture-scanline-strength\": \"1\",\n  },\n  moderate: {\n    \"--hero-glitch-overlay-opacity\":\n      \"var(--theme-scanline-opacity-moderate, 0.06)\",\n    \"--texture-grain-opacity\": \"var(--theme-noise-level-moderate, 0.04)\",\n    \"--texture-grain-strength\": \"1\",\n    \"--texture-scanline-opacity\": \"var(--theme-scanline-opacity-moderate, 0.06)\",\n    \"--texture-scanline-strength\": \"1\",\n  },\n};\n\nfunction Hero<Key extends string = string>({\n  eyebrow,\n  title,\n  heading,\n  subtitle,\n  icon,\n  children,\n  actions,\n  tone = \"heroic\",\n  frame = true,\n  glitch = \"default\",\n  noiseLevel = \"moderate\",\n  sticky = true,\n  topClassName = \"top-[var(--space-8)]\",\n  barClassName,\n  bodyClassName,\n  barVariant = \"flat\",\n  dividerTint = \"primary\",\n  tabs,\n  subTabs,\n  searchBar,\n  search,\n  illustration,\n  illustrationState,\n  illustrationAlt,\n  scene,\n  className,\n  as,\n  padding = \"default\",\n    ...rest\n}: HeroProps<Key>) {\n  const heroHeading = title ?? heading;\n  const headingStr =\n    typeof heroHeading === \"string\" ? heroHeading : undefined;\n  const Component: HeroElement = as ?? \"section\";\n\n  const {\n    heroVariant,\n    shouldRenderGlitchStyles,\n    isRaisedBar,\n    showDividerGlow,\n    classes,\n  } = useHeroStyles({\n    frame,\n    sticky,\n    topClassName,\n    padding,\n    barVariant,\n    tone,\n    glitch,\n  });\n\n  const iconNode = icon ? (\n    <div className=\"shrink-0 opacity-70 transition-opacity hover:opacity-100 focus-visible:opacity-100\">\n      {icon}\n    </div>\n  ) : null;\n\n  const headingContent = heroHeading ? (\n    <div className=\"min-w-0\">\n      {eyebrow ? (\n        <div className=\"text-label font-semibold tracking-[0.02em] uppercase text-muted-foreground\">\n          {eyebrow}\n        </div>\n      ) : null}\n\n      <div className=\"flex min-w-0 flex-wrap items-baseline gap-x-[var(--space-2)] gap-y-[var(--space-1)]\">\n        <h2 className={classes.heading} data-text={headingStr}>\n          {heroHeading}\n        </h2>\n        {subtitle ? <span className={classes.subtitle}>{subtitle}</span> : null}\n      </div>\n    </div>\n  ) : null;\n\n  const tabsNode = React.useMemo(\n    () =>\n      mapTabs<Key>(\n        subTabs\n          ? ({ ...subTabs, legacy: true } as HeroTabsLike<Key>)\n          : tabs\n            ? ({ ...tabs, legacy: false } as HeroTabsLike<Key>)\n            : undefined,\n        heroVariant,\n      ),\n    [heroVariant, subTabs, tabs],\n  );\n\n  const searchConfig = searchBar ?? search ?? null;\n\n  const searchProps =\n    searchConfig != null\n      ? {\n          ...searchConfig,\n          round: searchConfig.round ?? true,\n          variant: searchConfig.variant ?? heroVariant,\n        }\n      : searchConfig;\n\n  const heroIllustrationAlt = React.useMemo(() => {\n    if (typeof illustrationAlt === \"string\") {\n      const trimmed = illustrationAlt.trim();\n      if (trimmed.length > 0) {\n        return trimmed;\n      }\n    }\n    if (typeof headingStr === \"string\" && headingStr.trim().length > 0) {\n      return `${headingStr.trim()} hero illustration`;\n    }\n    return undefined;\n  }, [illustrationAlt, headingStr]);\n\n  const noiseStyle = React.useMemo<HeroNoiseStyle>(() => {\n    return HERO_NOISE_STYLES[noiseLevel] ?? HERO_NOISE_STYLES.moderate;\n  }, [noiseLevel]);\n\n  const illustrationNode = frame\n    ? illustration ? (\n        <div\n          className={cn(\n            \"pointer-events-none absolute inset-0 overflow-hidden rounded-[inherit]\",\n            \"after:pointer-events-none after:absolute after:inset-0 after:z-[1] after:content-[''] after:bg-glitch-overlay after:opacity-[var(--hero-glitch-overlay-opacity,0.08)] after:mix-blend-soft-light\",\n          )}\n        >\n          <div className=\"absolute inset-0\">\n            <div className=\"relative h-full w-full\">{illustration}</div>\n          </div>\n        </div>\n      ) : scene ? (\n        <HeroScene scene={scene} alt={heroIllustrationAlt} heading={headingStr} />\n      ) : (\n        <HeroImage\n          state={illustrationState}\n          alt={heroIllustrationAlt}\n          className={cn(\n            \"z-0 rounded-[inherit]\",\n            \"after:pointer-events-none after:absolute after:inset-0 after:z-[1] after:content-[''] after:bg-glitch-overlay after:opacity-[var(--hero-glitch-overlay-opacity,0.08)] after:mix-blend-soft-light\",\n          )}\n        />\n      )\n    : null;\n\n  return (\n    <Component className={className} {...(rest as React.HTMLAttributes<HTMLElement>)}>\n      {shouldRenderGlitchStyles ? <HeroGlitchStyles /> : null}\n      {frame || isRaisedBar ? <NeomorphicFrameStyles /> : null}\n\n      <div className={classes.shell} style={noiseStyle}>\n        <span\n          aria-hidden\n          className={cn(\n            \"pointer-events-none absolute inset-0 rounded-[inherit]\",\n            styles.scanlineOverlay,\n          )}\n        />\n        <span\n          aria-hidden\n          className={cn(\"pointer-events-none absolute inset-0\", styles.heroBloom)}\n        />\n        <div aria-hidden className=\"glitch-sprite\" />\n        {illustrationNode}\n        <div className={cn(classes.bar, barClassName)}>\n          <div className={classes.labelCluster}>\n            {isRaisedBar ? (\n              <div className={classes.raisedLabelBar}>\n                {iconNode}\n                {headingContent}\n              </div>\n            ) : (\n              <>\n                {iconNode}\n                {headingContent}\n              </>\n            )}\n          </div>\n\n          {tabsNode ? <div className={classes.utilities}>{tabsNode}</div> : null}\n        </div>\n\n        {children || searchProps || actions ? (\n          <div className={classes.body}>\n            {children ? <div className={cn(bodyClassName)}>{children}</div> : null}\n            {searchProps || actions ? (\n              <div\n                className={cn(\n                  \"relative\",\n                  classes.divider,\n                  frame &&\n                    \"before:pointer-events-none before:absolute before:inset-0 before:z-[1] before:rounded-[inherit] before:content-[''] before:bg-glitch-overlay before:opacity-[var(--hero-glitch-overlay-opacity,0.08)] before:mix-blend-soft-light\",\n                )}\n                data-divider-tint={dividerTint}\n              >\n                <span aria-hidden className={cn(classes.dividerLine, styles.dividerLine)} />\n                {showDividerGlow ? (\n                  <span aria-hidden className={cn(classes.dividerGlow, styles.dividerGlow)} />\n                ) : null}\n                <div className={classes.actionRow}>\n                  {searchProps ? (\n                    <div className={classes.searchWell}>\n                      <HeroSearchBar {...searchProps} />\n                    </div>\n                  ) : null}\n                  {actions ? (\n                    <div className={classes.actionsWell}>\n                      <div className={classes.actionCluster}>{actions}</div>\n                    </div>\n                  ) : null}\n                </div>\n              </div>\n            ) : null}\n          </div>\n        ) : null}\n\n        {frame ? (\n          <div\n            aria-hidden\n            className=\"absolute inset-0 rounded-card r-card-lg ring-1 ring-inset ring-border/55\"\n          />\n        ) : null}\n      </div>\n    </Component>\n  );\n}\n\nexport { Hero };\n","\"use client\";\n\nimport * as React from \"react\";\n\ntype DialogRef =\n  | React.MutableRefObject<HTMLElement | null>\n  | React.RefObject<HTMLElement | null>;\n\nexport interface UseDialogTrapOptions {\n  open: boolean;\n  onClose: () => void;\n  ref: DialogRef;\n}\n\nconst FOCUSABLE_SELECTORS =\n  \"a[href], button, textarea, input, select, [tabindex]:not([tabindex='-1'])\";\n\nconst BODY_DIALOG_LOCK_ATTRIBUTE = \"data-dialog-lock\";\nconst BODY_DIALOG_LOCK_VALUE = \"true\";\n\nconst dialogLockCounts = new WeakMap<Document, number>();\n\nconst lockBody = (doc: Document) => {\n  const body = doc.body;\n  if (!body) {\n    return;\n  }\n\n  const current = dialogLockCounts.get(doc) ?? 0;\n  if (current === 0) {\n    body.setAttribute(BODY_DIALOG_LOCK_ATTRIBUTE, BODY_DIALOG_LOCK_VALUE);\n  }\n\n  dialogLockCounts.set(doc, current + 1);\n};\n\nconst unlockBody = (doc: Document) => {\n  const body = doc.body;\n  if (!body) {\n    return;\n  }\n\n  const current = dialogLockCounts.get(doc);\n  if (!current) {\n    return;\n  }\n\n  const next = current - 1;\n  if (next <= 0) {\n    dialogLockCounts.delete(doc);\n    if (body.getAttribute(BODY_DIALOG_LOCK_ATTRIBUTE) === BODY_DIALOG_LOCK_VALUE) {\n      body.removeAttribute(BODY_DIALOG_LOCK_ATTRIBUTE);\n    }\n    return;\n  }\n\n  dialogLockCounts.set(doc, next);\n};\n\nexport function useDialogTrap({ open, onClose, ref }: UseDialogTrapOptions) {\n  const focusableRef = React.useRef<HTMLElement[]>([]);\n\n  React.useEffect(() => {\n    if (!open) {\n      return;\n    }\n\n    const element = ref.current;\n    if (!element) {\n      return;\n    }\n\n    const doc = element.ownerDocument ?? document;\n    const previouslyActive = doc.activeElement as HTMLElement | null;\n    const restoreTabIndex = new Set<HTMLElement>();\n\n    lockBody(doc);\n\n    const updateFocusable = () => {\n      const nodes = Array.from(\n        element.querySelectorAll<HTMLElement>(FOCUSABLE_SELECTORS),\n      ).filter((node) => !node.hasAttribute(\"disabled\"));\n\n      focusableRef.current = nodes;\n    };\n    updateFocusable();\n\n    const focusElement = (node: HTMLElement | undefined | null) => {\n      if (!node) {\n        return;\n      }\n\n      if (!node.hasAttribute(\"tabindex\") && node.tabIndex < 0) {\n        node.setAttribute(\"tabindex\", \"-1\");\n        restoreTabIndex.add(node);\n      }\n\n      node.focus({ preventScroll: true });\n    };\n\n    const focusFirst = () => {\n      const [first] = focusableRef.current;\n      focusElement(first ?? element);\n    };\n\n    const focusLast = () => {\n      const focusable = focusableRef.current;\n      focusElement(focusable[focusable.length - 1] ?? element);\n    };\n\n    const handleKeyDown = (event: KeyboardEvent) => {\n      if (event.key === \"Escape\") {\n        event.preventDefault();\n        event.stopPropagation();\n        onClose();\n        return;\n      }\n\n      if (event.key !== \"Tab\") {\n        return;\n      }\n\n      const focusable = focusableRef.current;\n      const hasFocusable = focusable.length > 0;\n      const active = doc.activeElement as HTMLElement | null;\n      const target = event.target as Node | null;\n      const isInDialog = target ? element.contains(target) : false;\n\n      if (!hasFocusable) {\n        event.preventDefault();\n        focusElement(element);\n        return;\n      }\n\n      const first = focusable[0];\n      const last = focusable[focusable.length - 1];\n\n      if (!isInDialog) {\n        event.preventDefault();\n        focusElement(first);\n        return;\n      }\n\n      if (event.shiftKey) {\n        if (active === first || active === element) {\n          event.preventDefault();\n          focusLast();\n        }\n        return;\n      }\n\n      if (active === last || active === element) {\n        event.preventDefault();\n        focusFirst();\n      }\n    };\n\n    doc.addEventListener(\"keydown\", handleKeyDown);\n\n    const observer =\n      typeof MutationObserver !== \"undefined\"\n        ? new MutationObserver(() => {\n            updateFocusable();\n          })\n        : null;\n\n    observer?.observe(element, {\n      subtree: true,\n      childList: true,\n      attributes: true,\n      attributeFilter: [\"tabindex\", \"disabled\", \"aria-hidden\", \"hidden\"],\n    });\n\n    focusFirst();\n\n    return () => {\n      observer?.disconnect();\n      doc.removeEventListener(\"keydown\", handleKeyDown);\n      unlockBody(doc);\n      restoreTabIndex.forEach((node) => {\n        node.removeAttribute(\"tabindex\");\n      });\n      previouslyActive?.focus?.();\n      focusableRef.current = [];\n    };\n  }, [open, onClose, ref]);\n}\n","export function isLegacyUiEnabled(): boolean {\n  return process.env.NEXT_PUBLIC_USE_LEGACY_UI === 'true'\n}\n\nexport function useLegacyUi(): boolean {\n  return isLegacyUiEnabled()\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"cluster\":\"Cluster_cluster__Eav_J\"};","// src/components/ui/Hero.tsx\n\"use client\";\n\nimport * as React from \"react\";\n\nimport { cn } from \"@/lib/utils\";\n\nimport {\n  Hero as LayoutHero,\n  type HeroProps as LayoutHeroProps,\n  type HeroTab,\n  type HeroTabsProps,\n} from \"@/components/ui/layout/Hero\";\nimport { Button, type ButtonProps } from \"@/components/ui/primitives/Button\";\nimport { getAccentColors, type AccentTone } from \"@/components/ui/theme/getAccentColors\";\n\nconst PANEL_WRAPPER_BASE_CLASSES = cn(\n  \"relative isolate overflow-hidden\",\n  \"rounded-[var(--radius-xl)]\",\n  \"bg-panel/65\",\n  \"shadow-[var(--shadow-inner-md)]\",\n  \"px-[var(--space-6)] py-[var(--space-6)]\",\n  \"sm:px-[var(--space-7)] sm:py-[var(--space-7)]\",\n  \"lg:px-[var(--space-8)]\",\n);\n\nconst PANEL_TITLE_STACK_CLASSES = cn(\"min-w-0 space-y-[var(--space-2)]\");\n\nconst PANEL_ACTION_LIST_CLASSES = cn(\n  \"flex flex-wrap items-center gap-[var(--space-2)]\",\n  \"md:justify-end\",\n);\n\nconst PANEL_HERO_CONTAINER_CLASSES = cn(\n  \"relative flex shrink-0 items-center justify-center\",\n  \"md:max-w-[18rem] lg:max-w-[20rem]\",\n);\n\ntype PanelElement = Extract<\n  keyof React.JSX.IntrinsicElements,\n  \"header\" | \"section\" | \"article\" | \"aside\"\n>;\n\ntype PanelElementProps = Omit<\n  React.HTMLAttributes<HTMLElement>,\n  \"title\" | \"children\"\n>;\n\ntype PanelElementRef = HTMLElementTagNameMap[PanelElement];\n\nexport type HeroAction = {\n  id?: string;\n  label: React.ReactNode;\n} & Omit<ButtonProps, \"children\">;\n\ntype HeroActionsInput =\n  | ReadonlyArray<HeroAction>\n  | React.ReactNode\n  | null\n  | undefined;\n\nexport type HeroPageAccent = \"primary\" | \"life\" | \"supportive\";\n\nconst PAGE_ACCENT_DEFAULTS: Record<\n  HeroPageAccent,\n  Pick<LayoutHeroProps, \"tone\" | \"dividerTint\">\n> = {\n  primary: { tone: \"heroic\", dividerTint: \"primary\" },\n  life: { tone: \"heroic\", dividerTint: \"life\" },\n  supportive: { tone: \"supportive\", dividerTint: \"primary\" },\n};\n\nexport interface HeroPanelProps extends PanelElementProps {\n  variant: \"panel\";\n  title: React.ReactNode;\n  subtitle?: React.ReactNode;\n  children?: React.ReactNode;\n  actions?: HeroActionsInput;\n  hero?: React.ReactNode;\n  heroPlacement?: \"left\" | \"right\";\n  as?: PanelElement;\n  headingLevel?: 1 | 2 | 3 | 4 | 5 | 6;\n  heroClassName?: string;\n  contentClassName?: string;\n  actionsLabel?: string;\n  headingId?: string;\n  accent?: AccentTone;\n}\n\ntype LayoutHeroVariantProps<Key extends string = string> = LayoutHeroProps<Key> & {\n  variant?: \"layout\";\n  actionButtons?: ReadonlyArray<HeroAction>;\n  actions?: LayoutHeroProps<Key>[\"actions\"] | HeroActionsInput;\n  pageAccent?: HeroPageAccent;\n};\n\nexport type HeroProps<Key extends string = string> =\n  | LayoutHeroVariantProps<Key>\n  | HeroPanelProps;\n\ntype LayoutHeroComponent = <Key extends string = string>(\n  props: LayoutHeroVariantProps<Key> & React.RefAttributes<HTMLElement>,\n) => React.ReactElement | null;\n\ntype PanelHeroComponent = (\n  props: HeroPanelProps & React.RefAttributes<HTMLElement>,\n) => React.ReactElement | null;\n\ntype HeroComponent = LayoutHeroComponent & PanelHeroComponent;\n\nfunction isPanelProps<Key extends string = string>(\n  props: HeroProps<Key>,\n): props is HeroPanelProps {\n  return (props as HeroPanelProps).variant === \"panel\";\n}\n\nfunction resolveActions(actions: HeroActionsInput): React.ReactNode {\n  if (!actions) {\n    return null;\n  }\n\n  if (Array.isArray(actions)) {\n    if (actions.length === 0) {\n      return null;\n    }\n\n    return actions.map((action, index) => {\n      const { id, label, className, size, variant, ...buttonProps } = action;\n      const key = id ?? String(index);\n      const resolvedSize = size ?? \"md\";\n      const resolvedVariant = variant ?? \"default\";\n\n      return (\n        <Button\n          key={key}\n          size={resolvedSize}\n          variant={resolvedVariant}\n          className={className}\n          {...(buttonProps as ButtonProps)}\n        >\n          {label}\n        </Button>\n      );\n    });\n  }\n\n  return actions as React.ReactNode;\n}\n\nconst PanelHero = React.forwardRef<PanelElementRef, HeroPanelProps>(\n  (\n    {\n      title,\n      subtitle,\n      children,\n      actions,\n      hero,\n      heroPlacement = \"right\",\n      as,\n      className,\n      headingLevel = 1,\n      heroClassName,\n      contentClassName,\n      actionsLabel = \"Page actions\",\n      headingId: headingIdProp,\n      style: styleProp,\n      accent = \"accent\",\n      ...rest\n    },\n    ref,\n  ) => {\n    const Component: PanelElement = as ?? \"section\";\n\n    const accentColors = React.useMemo(() => getAccentColors(accent), [accent]);\n\n    const accentVariables = React.useMemo(\n      () =>\n        ({\n          \"--hero-panel-accent-surface\": `color-mix(in oklab, ${accentColors.accent1Soft} 70%, ${accentColors.panel})`,\n          \"--hero-panel-accent-border\": `color-mix(in oklab, ${accentColors.accent1} 38%, ${accentColors.border})`,\n          \"--hero-panel-accent-glow\": `color-mix(in oklab, ${accentColors.accent2} 45%, transparent)`,\n          \"--hero-panel-accent-glow-soft\": `color-mix(in oklab, ${accentColors.accent3} 30%, transparent)`,\n          \"--hero-panel-accent-ring\": accentColors.glow,\n          \"--hero-panel-accent-on-color\": accentColors.accent1Foreground,\n          \"--hero-panel-accent-contrast\": accentColors.accent1Contrast,\n        }) as Record<string, string>,\n      [accentColors],\n    );\n\n    const mergedStyle = React.useMemo<React.CSSProperties | undefined>(() => {\n      if (styleProp) {\n        return { ...accentVariables, ...styleProp } as React.CSSProperties;\n      }\n\n      return accentVariables as React.CSSProperties;\n    }, [accentVariables, styleProp]);\n\n    const generatedId = React.useId();\n\n    const headingId = React.useMemo(\n      () => headingIdProp ?? `${generatedId}-title`,\n      [generatedId, headingIdProp],\n    );\n\n    const subtitleId = React.useMemo(() => {\n      if (!subtitle) return undefined;\n      return `${generatedId}-subtitle`;\n    }, [generatedId, subtitle]);\n\n    const actionsId = React.useMemo(() => {\n      if (!actions) return undefined;\n      if (Array.isArray(actions) && actions.length === 0) return undefined;\n      return `${generatedId}-actions`;\n    }, [generatedId, actions]);\n\n    const headingTag = React.useMemo(() => {\n      const normalized = Math.min(6, Math.max(1, headingLevel));\n      return `h${normalized}` as keyof JSX.IntrinsicElements;\n    }, [headingLevel]);\n    const HeadingComponent = headingTag as React.ElementType;\n\n    const heroNode = hero ? (\n      <div\n        className={cn(\n          PANEL_HERO_CONTAINER_CLASSES,\n          heroPlacement === \"left\"\n            ? \"order-first md:order-none\"\n            : \"order-last md:order-none\",\n          heroClassName,\n        )}\n        aria-hidden={typeof hero === \"string\" ? undefined : true}\n      >\n        {hero}\n      </div>\n    ) : null;\n\n    const actionButtons = React.useMemo(() => resolveActions(actions), [actions]);\n\n    return (\n      <Component\n        ref={ref}\n        className={cn(PANEL_WRAPPER_BASE_CLASSES, className)}\n        style={mergedStyle}\n        {...rest}\n      >\n        <div\n          className={cn(\n            \"flex flex-col gap-[var(--space-6)] md:flex-row md:items-center\",\n            hero || actionButtons\n              ? \"md:justify-between\"\n              : undefined,\n            contentClassName,\n          )}\n        >\n          {heroPlacement === \"left\" ? heroNode : null}\n\n          <div className={PANEL_TITLE_STACK_CLASSES}>\n            <HeadingComponent\n              id={headingId}\n              className={cn(\n                \"text-xl font-semibold text-foreground\",\n                \"md:text-2xl\",\n                \"tracking-tight\",\n                \"text-balance\",\n              )}\n            >\n              {title}\n            </HeadingComponent>\n            {subtitle ? (\n              <p id={subtitleId} className=\"text-lg text-muted-foreground\">\n                {subtitle}\n              </p>\n            ) : null}\n            {children}\n          </div>\n\n          {actionButtons ? (\n            <div\n              id={actionsId}\n              className={PANEL_ACTION_LIST_CLASSES}\n              role=\"group\"\n              aria-label={actionsLabel}\n            >\n              {actionButtons}\n            </div>\n          ) : null}\n\n          {heroPlacement === \"right\" ? heroNode : null}\n        </div>\n      </Component>\n    );\n  },\n);\nPanelHero.displayName = \"HeroPanel\";\n\nconst LayoutHeroWrapper = React.forwardRef<\n  HTMLElement,\n  LayoutHeroVariantProps<string>\n>(\n  (\n    {\n      variant: _variant,\n      actionButtons,\n      actions,\n      pageAccent,\n      tone,\n      dividerTint,\n      ...rest\n    },\n    ref,\n    ) => {\n    const accentDefaults = React.useMemo(() => {\n      if (!pageAccent) return null\n      if (pageAccent in PAGE_ACCENT_DEFAULTS) {\n        return PAGE_ACCENT_DEFAULTS[pageAccent as HeroPageAccent]\n      }\n      return null\n    }, [pageAccent])\n\n    const resolvedTone = tone ?? accentDefaults?.tone;\n    const resolvedDividerTint = dividerTint ?? accentDefaults?.dividerTint;\n\n    const actionContent = React.useMemo(() => {\n      if (actionButtons && actionButtons.length > 0) {\n        return (\n          <div className=\"flex flex-wrap items-center gap-[var(--space-2)]\">\n            {resolveActions(actionButtons)}\n          </div>\n        );\n      }\n\n      if (actions && !React.isValidElement(actions)) {\n        return resolveActions(actions);\n      }\n\n      return actions ?? null;\n    }, [actionButtons, actions]);\n\n    return (\n      <LayoutHero\n        {...(rest as LayoutHeroProps<string>)}\n        tone={resolvedTone}\n        dividerTint={resolvedDividerTint}\n        actions={actionContent ?? undefined}\n      />\n    );\n  },\n);\nLayoutHeroWrapper.displayName = \"HeroLayoutWrapper\";\n\nconst HeroBase = React.forwardRef<HTMLElement, HeroProps<string>>((props, ref) => {\n  if (isPanelProps(props)) {\n    return <PanelHero {...props} ref={ref as React.ForwardedRef<PanelElementRef>} />;\n  }\n\n  return <LayoutHeroWrapper {...props} ref={ref} />;\n});\nHeroBase.displayName = \"Hero\";\n\nexport const Hero = HeroBase as HeroComponent;\nexport type { HeroTab, HeroTabsProps };\nexport type { LayoutHeroProps };\n","// src/components/ui/Hero.tsx\n\"use client\";\n\nimport * as React from \"react\";\n\nimport { cn } from \"@/lib/utils\";\nimport { Hero as LegacyHero } from \"@/legacy/ui/Hero\";\nimport { isLegacyUiEnabled } from \"@/lib/useLegacyUi\";\n\nimport {\n  Hero as LayoutHero,\n  type HeroProps as LayoutHeroProps,\n  type HeroTab,\n  type HeroTabsProps,\n} from \"./layout/Hero\";\nimport { Button, type ButtonProps } from \"./primitives/Button\";\nimport { getAccentColors, type AccentTone } from \"./theme/getAccentColors\";\n\nconst PANEL_WRAPPER_BASE_CLASSES = cn(\n  \"relative isolate overflow-hidden\",\n  \"rounded-[var(--radius-xl)]\",\n  \"bg-panel/65\",\n  \"shadow-[var(--shadow-inner-md)]\",\n  \"px-[var(--space-6)] py-[var(--space-6)]\",\n  \"sm:px-[var(--space-7)] sm:py-[var(--space-7)]\",\n  \"lg:px-[var(--space-8)]\",\n);\n\nconst PANEL_TITLE_STACK_CLASSES = cn(\"min-w-0 space-y-[var(--space-2)]\");\n\nconst PANEL_ACTION_LIST_CLASSES = cn(\n  \"flex flex-wrap items-center gap-[var(--space-2)]\",\n  \"md:justify-end\",\n);\n\nconst PANEL_HERO_CONTAINER_CLASSES = cn(\n  \"relative flex shrink-0 items-center justify-center\",\n  \"md:max-w-[18rem] lg:max-w-[20rem]\",\n);\n\ntype PanelElement = Extract<\n  keyof React.JSX.IntrinsicElements,\n  \"header\" | \"section\" | \"article\" | \"aside\"\n>;\n\ntype PanelElementProps = Omit<\n  React.HTMLAttributes<HTMLElement>,\n  \"title\" | \"children\"\n>;\n\ntype PanelElementRef = HTMLElementTagNameMap[PanelElement];\n\nexport type HeroAction = {\n  id?: string;\n  label: React.ReactNode;\n} & Omit<ButtonProps, \"children\">;\n\ntype HeroActionsInput =\n  | ReadonlyArray<HeroAction>\n  | React.ReactNode\n  | null\n  | undefined;\n\nexport type HeroPageAccent = \"primary\" | \"life\" | \"supportive\";\n\nconst PAGE_ACCENT_DEFAULTS: Record<\n  HeroPageAccent,\n  Pick<LayoutHeroProps, \"tone\" | \"dividerTint\">\n> = {\n  primary: { tone: \"heroic\", dividerTint: \"primary\" },\n  life: { tone: \"heroic\", dividerTint: \"life\" },\n  supportive: { tone: \"supportive\", dividerTint: \"primary\" },\n};\n\nexport interface HeroPanelProps extends PanelElementProps {\n  variant: \"panel\";\n  title: React.ReactNode;\n  subtitle?: React.ReactNode;\n  children?: React.ReactNode;\n  actions?: HeroActionsInput;\n  tabs?: React.ReactNode;\n  hero?: React.ReactNode;\n  image?: React.ReactNode;\n  heroPlacement?: \"left\" | \"right\";\n  as?: PanelElement;\n  headingLevel?: 1 | 2 | 3 | 4 | 5 | 6;\n  heroClassName?: string;\n  contentClassName?: string;\n  actionsLabel?: string;\n  headingId?: string;\n  accent?: AccentTone;\n}\n\ntype LayoutHeroVariantProps<Key extends string = string> = LayoutHeroProps<Key> & {\n  variant?: \"layout\";\n  actionButtons?: ReadonlyArray<HeroAction>;\n  actions?: LayoutHeroProps<Key>[\"actions\"] | HeroActionsInput;\n  pageAccent?: HeroPageAccent;\n};\n\nexport type HeroProps<Key extends string = string> =\n  | LayoutHeroVariantProps<Key>\n  | HeroPanelProps;\n\ntype LayoutHeroComponent = <Key extends string = string>(\n  props: LayoutHeroVariantProps<Key> & React.RefAttributes<HTMLElement>,\n) => React.ReactElement | null;\n\ntype PanelHeroComponent = (\n  props: HeroPanelProps & React.RefAttributes<HTMLElement>,\n) => React.ReactElement | null;\n\ntype HeroComponent = LayoutHeroComponent & PanelHeroComponent;\n\nfunction isPanelProps<Key extends string = string>(\n  props: HeroProps<Key>,\n): props is HeroPanelProps {\n  return (props as HeroPanelProps).variant === \"panel\";\n}\n\nfunction resolveActions(actions: HeroActionsInput): React.ReactNode {\n  if (!actions) {\n    return null;\n  }\n\n  if (Array.isArray(actions)) {\n    if (actions.length === 0) {\n      return null;\n    }\n\n    return actions.map((action, index) => {\n      const { id, label, className, size, variant, ...buttonProps } = action;\n      const key = id ?? String(index);\n      const resolvedSize = size ?? \"md\";\n      const resolvedVariant = variant ?? \"default\";\n\n      return (\n        <Button\n          key={key}\n          size={resolvedSize}\n          variant={resolvedVariant}\n          className={className}\n          {...(buttonProps as ButtonProps)}\n        >\n          {label}\n        </Button>\n      );\n    });\n  }\n\n  return actions as React.ReactNode;\n}\n\nconst PanelHero = React.forwardRef<PanelElementRef, HeroPanelProps>(\n  (\n    {\n      title,\n      subtitle,\n      children,\n      actions,\n      hero,\n      image,\n      heroPlacement = \"right\",\n      as,\n      className,\n      headingLevel = 1,\n      heroClassName,\n      contentClassName,\n      actionsLabel = \"Page actions\",\n      headingId: headingIdProp,\n      style: styleProp,\n      accent = \"accent\",\n      tabs,\n      ...rest\n    },\n    ref,\n  ) => {\n    const Component: PanelElement = as ?? \"section\";\n\n    const accentColors = React.useMemo(() => getAccentColors(accent), [accent]);\n\n    const accentVariables = React.useMemo(\n      () =>\n        ({\n          \"--hero-panel-accent-surface\": `color-mix(in oklab, ${accentColors.accent1Soft} 70%, ${accentColors.panel})`,\n          \"--hero-panel-accent-border\": `color-mix(in oklab, ${accentColors.accent1} 38%, ${accentColors.border})`,\n          \"--hero-panel-accent-glow\": `color-mix(in oklab, ${accentColors.accent2} 45%, transparent)`,\n          \"--hero-panel-accent-glow-soft\": `color-mix(in oklab, ${accentColors.accent3} 30%, transparent)`,\n          \"--hero-panel-accent-ring\": accentColors.glow,\n          \"--hero-panel-accent-on-color\": accentColors.accent1Foreground,\n          \"--hero-panel-accent-contrast\": accentColors.accent1Contrast,\n        }) as Record<string, string>,\n      [accentColors],\n    );\n\n    const mergedStyle = React.useMemo<React.CSSProperties | undefined>(() => {\n      if (styleProp) {\n        return { ...accentVariables, ...styleProp } as React.CSSProperties;\n      }\n\n      return accentVariables as React.CSSProperties;\n    }, [accentVariables, styleProp]);\n\n    const generatedId = React.useId();\n\n    const headingId = React.useMemo(\n      () => headingIdProp ?? `${generatedId}-title`,\n      [generatedId, headingIdProp],\n    );\n\n    const subtitleId = React.useMemo(() => {\n      if (!subtitle) return undefined;\n      return `${generatedId}-subtitle`;\n    }, [generatedId, subtitle]);\n\n    const actionsId = React.useMemo(() => {\n      if (!actions) return undefined;\n      if (Array.isArray(actions) && actions.length === 0) return undefined;\n      return `${generatedId}-actions`;\n    }, [generatedId, actions]);\n\n    const headingTag = React.useMemo(() => {\n      const normalized = Math.min(6, Math.max(1, headingLevel));\n      return `h${normalized}` as keyof JSX.IntrinsicElements;\n    }, [headingLevel]);\n    const HeadingComponent = headingTag as React.ElementType;\n\n    const heroVisual = image ?? hero;\n\n    const heroNode = heroVisual ? (\n      <div\n        className={cn(\n          PANEL_HERO_CONTAINER_CLASSES,\n          heroPlacement === \"left\"\n            ? \"order-first md:order-none\"\n            : \"order-last md:order-none\",\n          heroClassName,\n        )}\n        aria-hidden={typeof heroVisual === \"string\" ? undefined : true}\n      >\n        {heroVisual}\n      </div>\n    ) : null;\n\n    const actionButtons = React.useMemo(() => resolveActions(actions), [actions]);\n\n    return (\n      <Component\n        ref={ref}\n        className={cn(PANEL_WRAPPER_BASE_CLASSES, \"shadow-[var(--shadow-inner-md),var(--depth-shadow-soft)]\", className)}\n        style={mergedStyle}\n        {...rest}\n      >\n        <span\n          aria-hidden\n          className=\"pointer-events-none absolute inset-0 rounded-[inherit] border border-[color:var(--hero-panel-accent-border)]/60\"\n        />\n        <span\n          aria-hidden\n          className=\"pointer-events-none absolute inset-2 rounded-[inherit] bg-glitch-noise bg-[length:220px_220px] opacity-[0.05] mix-blend-soft-light\"\n        />\n        <div\n          className={cn(\n            \"flex flex-col gap-[var(--space-6)] md:flex-row md:items-center\",\n            hero || actionButtons\n              ? \"md:justify-between\"\n              : undefined,\n            contentClassName,\n          )}\n        >\n          {heroPlacement === \"left\" ? heroNode : null}\n\n          <div className={PANEL_TITLE_STACK_CLASSES}>\n            <HeadingComponent\n              id={headingId}\n              className={cn(\n                \"text-xl font-semibold text-foreground\",\n                \"md:text-2xl\",\n                \"tracking-tight\",\n                \"text-balance\",\n              )}\n            >\n              {title}\n            </HeadingComponent>\n            {subtitle ? (\n              <p id={subtitleId} className=\"text-lg text-muted-foreground\">\n                {subtitle}\n              </p>\n            ) : null}\n            {tabs ? (\n              <div className=\"pt-[var(--space-2)]\" role=\"presentation\">\n                {tabs}\n              </div>\n            ) : null}\n            {children}\n          </div>\n\n          {actionButtons ? (\n            <div\n              id={actionsId}\n              className={PANEL_ACTION_LIST_CLASSES}\n              role=\"group\"\n              aria-label={actionsLabel}\n            >\n              {actionButtons}\n            </div>\n          ) : null}\n\n          {heroPlacement === \"right\" ? heroNode : null}\n        </div>\n      </Component>\n    );\n  },\n);\nPanelHero.displayName = \"HeroPanel\";\n\nconst LayoutHeroWrapper = React.forwardRef<\n  HTMLElement,\n  LayoutHeroVariantProps<string>\n>(\n  (\n    {\n      variant: _variant,\n      actionButtons,\n      actions,\n      pageAccent,\n      tone,\n      dividerTint,\n      ...rest\n    },\n    ref,\n  ) => {\n    const accentDefaults = React.useMemo(() => {\n      if (!pageAccent) return null;\n      return PAGE_ACCENT_DEFAULTS[pageAccent] ?? null;\n    }, [pageAccent]);\n\n    const resolvedTone = tone ?? accentDefaults?.tone;\n    const resolvedDividerTint = dividerTint ?? accentDefaults?.dividerTint;\n\n    const actionContent = React.useMemo(() => {\n      if (actionButtons && actionButtons.length > 0) {\n        return (\n          <div className=\"flex flex-wrap items-center gap-[var(--space-2)]\">\n            {resolveActions(actionButtons)}\n          </div>\n        );\n      }\n\n      if (actions && !React.isValidElement(actions)) {\n        return resolveActions(actions);\n      }\n\n      return actions ?? null;\n    }, [actionButtons, actions]);\n\n    return (\n      <LayoutHero\n        {...(rest as LayoutHeroProps<string>)}\n        tone={resolvedTone}\n        dividerTint={resolvedDividerTint}\n        actions={actionContent ?? undefined}\n      />\n    );\n  },\n);\nLayoutHeroWrapper.displayName = \"HeroLayoutWrapper\";\n\nconst HeroBase = React.forwardRef<HTMLElement, HeroProps<string>>((props, ref) => {\n  if (isPanelProps(props)) {\n    return <PanelHero {...props} ref={ref as React.ForwardedRef<PanelElementRef>} />;\n  }\n\n  return <LayoutHeroWrapper {...props} ref={ref} />;\n});\nHeroBase.displayName = \"Hero\";\n\nconst HeroWithLegacy = React.forwardRef<HTMLElement, HeroProps<string>>((props, ref) => {\n  if (isLegacyUiEnabled()) {\n    return <LegacyHero {...(props as unknown as Record<string, unknown>)} ref={ref as React.ForwardedRef<HTMLElement>} />;\n  }\n  return <HeroBase {...props} ref={ref} />;\n});\nHeroWithLegacy.displayName = \"HeroWithLegacy\";\n\nexport const Hero = HeroWithLegacy as HeroComponent;\nexport type { HeroTab, HeroTabsProps };\nexport type { LayoutHeroProps };\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"Input_root__ym_oB\",\"ringToneAccent\":\"Input_ringToneAccent__8Ixwe\",\"ringToneDanger\":\"Input_ringToneDanger__LoqKd\",\"ringTonePrimary\":\"Input_ringTonePrimary__TUdGk\",\"ringToneSuccess\":\"Input_ringToneSuccess__hJzWK\",\"ringToneWarning\":\"Input_ringToneWarning__VPNLb\"};","\"use client\";\n\nimport * as React from \"react\";\nimport { useId } from \"react\";\n\nimport { cn } from \"@/lib/utils\";\n\nimport styles from \"./HeaderTabs.module.css\";\nimport { useRovingTabState } from \"./useRovingTabState\";\n\nexport type HeaderTabItem<Key extends string = string> = {\n  key: Key;\n  label: React.ReactNode;\n  icon?: React.ReactNode;\n  badge?: React.ReactNode;\n  disabled?: boolean;\n  id?: string;\n  controls?: string;\n  className?: string;\n};\n\ninterface HeaderTabsBaseProps<Key extends string> {\n  items: HeaderTabItem<Key>[];\n  ariaLabel?: string;\n  ariaLabelledBy?: string;\n  idBase?: string;\n  linkPanels?: boolean;\n}\n\ntype HeaderTabsControlledProps<Key extends string> = {\n  value: Key;\n  defaultValue?: never;\n  onChange: (key: Key) => void;\n};\n\ntype HeaderTabsUncontrolledProps<Key extends string> = {\n  value?: undefined;\n  defaultValue: Key;\n  onChange?: (key: Key) => void;\n};\n\ntype HeaderTabsCommonDomProps = Omit<\n  React.HTMLAttributes<HTMLDivElement>,\n  \"onChange\" | \"children\"\n>;\n\nexport type HeaderTabsProps<Key extends string = string> = HeaderTabsBaseProps<Key> &\n  HeaderTabsCommonDomProps &\n  (HeaderTabsControlledProps<Key> | HeaderTabsUncontrolledProps<Key>);\n\nexport function HeaderTabs<Key extends string = string>({\n  items,\n  value,\n  defaultValue,\n  onChange,\n  ariaLabel,\n  ariaLabelledBy,\n  idBase,\n  linkPanels = true,\n  className,\n  onKeyDown: onKeyDownProp,\n  ...rest\n}: HeaderTabsProps<Key>) {\n  const sanitizedAriaLabel =\n    typeof ariaLabel === \"string\" && ariaLabel.trim().length > 0\n      ? ariaLabel.trim()\n      : undefined;\n  const sanitizedAriaLabelledBy =\n    typeof ariaLabelledBy === \"string\" && ariaLabelledBy.trim().length > 0\n      ? ariaLabelledBy.trim()\n      : undefined;\n\n  React.useEffect(() => {\n    if (process.env.NODE_ENV !== \"production\") {\n      if (!sanitizedAriaLabel && !sanitizedAriaLabelledBy) {\n        console.warn(\n          \"HeaderTabs requires either ariaLabel or ariaLabelledBy to describe the tablist.\",\n        );\n      }\n    }\n  }, [sanitizedAriaLabel, sanitizedAriaLabelledBy]);\n\n  const handleValueChange = React.useCallback(\n    (key: Key) => {\n      if (typeof onChange === \"function\") {\n        onChange(key);\n      }\n    },\n    [onChange],\n  );\n\n  const {\n    activeKey,\n    setActiveValue,\n    registerTab,\n    onKeyDown: rovingKeyDown,\n  } = useRovingTabState({\n    items,\n    value,\n    defaultValue,\n    onValueChange: handleValueChange,\n  });\n\n  const generatedId = useId();\n  const baseId = idBase ?? generatedId;\n\n  const handleKeyDown = React.useCallback(\n    (event: React.KeyboardEvent<HTMLDivElement>) => {\n      onKeyDownProp?.(event);\n      if (!event.defaultPrevented) {\n        rovingKeyDown(event);\n      }\n    },\n    [onKeyDownProp, rovingKeyDown],\n  );\n\n  return (\n    <div\n      role=\"tablist\"\n      aria-orientation=\"horizontal\"\n      aria-label={sanitizedAriaLabel}\n      aria-labelledby={sanitizedAriaLabelledBy}\n      className={cn(styles.root, className)}\n      onKeyDown={handleKeyDown}\n      {...rest}\n    >\n      <span aria-hidden=\"true\" className={styles.track} />\n      <div className={styles.list} role=\"presentation\">\n        {items.map((item) => {\n          const active = item.key === activeKey;\n          const isDisabled = Boolean(item.disabled);\n          const state = isDisabled ? \"disabled\" : active ? \"active\" : \"inactive\";\n          const tabId = `${baseId}-${item.id ?? `${item.key}-tab`}`;\n          const panelId = `${baseId}-${item.controls ?? `${item.key}-panel`}`;\n\n          const setRef: React.RefCallback<HTMLElement> = (node) => {\n            registerTab(item.key, node);\n          };\n\n          return (\n            <button\n              key={item.key}\n              type=\"button\"\n              role=\"tab\"\n              id={linkPanels ? tabId : undefined}\n              aria-selected={active}\n              aria-controls={linkPanels ? panelId : undefined}\n              aria-disabled={isDisabled || undefined}\n              tabIndex={isDisabled ? -1 : active ? 0 : -1}\n              data-state={state}\n              className={cn(styles.tab, item.className)}\n              onClick={(event) => {\n                if (isDisabled) {\n                  event.preventDefault();\n                  event.stopPropagation();\n                  return;\n                }\n                setActiveValue(item.key);\n              }}\n              ref={setRef as React.Ref<HTMLButtonElement>}\n              disabled={isDisabled}\n            >\n              {item.icon ? (\n                <span aria-hidden=\"true\" className={styles.icon}>\n                  {item.icon}\n                </span>\n              ) : null}\n              <span className={styles.label}>{item.label}</span>\n            </button>\n          );\n        })}\n      </div>\n    </div>\n  );\n}\n","\"use client\";\n\nimport * as React from \"react\";\nimport { createPortal } from \"react-dom\";\n\nimport useMounted from \"@/lib/useMounted\";\nimport { cn } from \"@/lib/utils\";\n\nimport { AnimatedSelectList } from \"./AnimatedSelectList\";\nimport { AnimatedSelectTrigger } from \"./AnimatedSelectTrigger\";\nimport defaultStyles from \"./Select.module.css\";\nimport type { AnimatedSelectProps } from \"./shared\";\nimport { useAnimatedSelect } from \"./useAnimatedSelect\";\n\ntype SelectStyles = Record<string, string>;\n\ntype AnimatedSelectComponentProps = AnimatedSelectProps & {\n  styles?: SelectStyles;\n};\n\ntype SelectSize = NonNullable<AnimatedSelectProps[\"size\"]>;\n\nconst DEFAULT_TRIGGER_SIZE: SelectSize = \"md\";\n\nconst SIZE_STYLES: Record<\n  SelectSize,\n  {\n    height: string;\n    paddingX: string;\n    caret: string;\n    prefix: string;\n  }\n> = {\n  sm: {\n    height: \"h-[var(--control-h-sm)]\",\n    paddingX: \"px-[var(--space-3)]\",\n    caret: \"size-[var(--space-4)]\",\n    prefix: \"size-[var(--space-4)]\",\n  },\n  md: {\n    height: \"h-[var(--control-h-md)]\",\n    paddingX: \"px-[var(--space-3)]\",\n    caret: \"size-[var(--space-5)]\",\n    prefix: \"size-[var(--space-5)]\",\n  },\n  lg: {\n    height: \"h-[var(--control-h-lg)]\",\n    paddingX: \"px-[var(--space-4)]\",\n    caret: \"size-[var(--space-6)]\",\n    prefix: \"size-[var(--space-6)]\",\n  },\n  xl: {\n    height: \"h-[var(--control-h-xl)]\",\n    paddingX: \"px-[var(--space-4)]\",\n    caret: \"size-[var(--space-6)]\",\n    prefix: \"size-[var(--space-6)]\",\n  },\n};\n\nconst AnimatedSelect = React.forwardRef<\n  HTMLButtonElement,\n  AnimatedSelectComponentProps\n>(function AnimatedSelect(\n  {\n    id,\n    label,\n    prefixLabel,\n    items,\n    value,\n    onChange,\n    className = \"\",\n    dropdownClassName = \"\",\n    buttonClassName = \"\",\n    containerClassName,\n    placeholder = \"Select\",\n    disabled = false,\n    hideLabel = false,\n    ariaLabel,\n    align = \"left\",\n    matchTriggerWidth = true,\n    size = DEFAULT_TRIGGER_SIZE,\n    styles: stylesOverride,\n  },\n  ref,\n) {\n  const styles = stylesOverride ?? defaultStyles;\n  const sizeStyles = SIZE_STYLES[size] ?? SIZE_STYLES[DEFAULT_TRIGGER_SIZE];\n  const mounted = useMounted();\n\n  const {\n    open,\n    setOpen,\n    setTriggerRef,\n    onTriggerKeyDown,\n    onListKeyDown,\n    listRef,\n    current,\n    lit,\n    labelId,\n    listboxId,\n    triggerAria,\n    scheduleMeasure,\n    selectByIndex,\n    setActiveIndex,\n    placement,\n    fixedStyles,\n    reduceMotion,\n    yOffset,\n    motionDurationSm,\n  } = useAnimatedSelect({\n    items,\n    value,\n    onChange,\n    matchTriggerWidth,\n    align,\n    size,\n    label,\n    prefixLabel,\n    ariaLabel,\n    forwardedRef: ref,\n  });\n\n  const handleToggle = React.useCallback(() => {\n    scheduleMeasure();\n    setOpen((prev) => !prev);\n  }, [scheduleMeasure, setOpen]);\n\n  return (\n    <div id={id} className={cn(\"glitch-wrapper\", className)}>\n      {label ? (\n        <div\n          id={labelId}\n          className={cn(\n            hideLabel\n              ? \"sr-only\"\n              : \"mb-[var(--space-1)] text-label text-muted-foreground\",\n          )}\n        >\n          {label}\n        </div>\n      ) : null}\n\n      <AnimatedSelectTrigger\n        triggerRef={setTriggerRef}\n        onToggle={handleToggle}\n        onKeyDown={onTriggerKeyDown}\n        open={open}\n        lit={lit}\n        disabled={disabled}\n        label={label}\n        labelId={labelId}\n        triggerAria={triggerAria}\n        listboxId={listboxId}\n        styles={styles}\n        sizeStyles={sizeStyles}\n        buttonClassName={buttonClassName}\n        containerClassName={containerClassName}\n        current={current}\n        placeholder={placeholder}\n        prefixLabel={prefixLabel}\n      />\n\n      {mounted &&\n        createPortal(\n          <AnimatedSelectList\n            open={open}\n            items={items}\n            value={value}\n            setActiveIndex={setActiveIndex}\n            selectByIndex={selectByIndex}\n            onKeyDown={onListKeyDown}\n            listRef={listRef}\n            styles={styles}\n            dropdownClassName={dropdownClassName}\n            triggerAria={triggerAria}\n            label={label}\n            labelId={labelId}\n            listboxId={listboxId}\n            fixedStyles={fixedStyles}\n            placement={placement}\n            reduceMotion={reduceMotion}\n            motionDurationSm={motionDurationSm}\n            yOffset={yOffset}\n          />, \n          document.body\n        )}\n    </div>\n  );\n});\n\nAnimatedSelect.displayName = \"AnimatedSelect\";\nexport { AnimatedSelect };\n","\"use client\";\n\nimport * as React from \"react\";\nimport { ChevronDown } from \"lucide-react\";\nimport { Field } from \"../primitives/Field\";\nimport { useFieldIds } from \"@/lib/useFieldIds\";\nimport { cn } from \"@/lib/utils\";\n\nimport type { NativeSelectProps } from \"./shared\";\n\nconst NativeSelect = React.forwardRef<HTMLSelectElement, NativeSelectProps>(\n  function NativeSelect(\n    {\n      className,\n      selectClassName,\n      helperText,\n      errorText,\n      success,\n      disabled,\n      id,\n      items,\n      value,\n      onChange,\n      ...props\n    },\n    ref,\n  ) {\n    const { id: finalId, name: finalName, isInvalid } = useFieldIds(\n      props[\"aria-label\"] as string | undefined,\n      id,\n      props.name,\n      {\n        ariaInvalid: errorText ? \"true\" : props[\"aria-invalid\"],\n      },\n    );\n    const successId = `${finalId}-success`;\n    const errorId = errorText ? `${finalId}-error` : undefined;\n    const helperId = helperText ? `${finalId}-helper` : undefined;\n    const describedBy =\n      [errorId, helperId, success ? successId : undefined]\n        .filter(Boolean)\n        .join(\" \") || undefined;\n    const helperTone = errorText ? \"danger\" : success ? \"success\" : \"muted\";\n\n    return (\n      <div className=\"space-y-[var(--space-1)]\">\n        <Field.Root\n          height=\"md\"\n          invalid={isInvalid}\n          disabled={disabled}\n          helper={errorText || helperText}\n          helperId={errorId || helperId}\n          helperTone={helperTone}\n          className={cn(\n            \"group\",\n            success &&\n              !isInvalid &&\n              \"border-[var(--theme-ring,var(--focus))] focus-within:ring-[var(--theme-ring,var(--focus))]\",\n            className,\n          )}\n        >\n          <Field.Select\n            ref={ref}\n            id={finalId}\n            name={finalName}\n            disabled={disabled}\n            value={value}\n            onChange={(e) => onChange?.(e.target.value)}\n            aria-invalid={errorText ? \"true\" : props[\"aria-invalid\"]}\n            aria-describedby={describedBy}\n            className={cn(\"pr-[calc(var(--space-6)+var(--space-2))]\", selectClassName)}\n            {...props}\n          >\n            {items.map((it) => (\n              <option key={it.value} value={it.value} disabled={it.disabled}>\n                {it.label}\n              </option>\n            ))}\n          </Field.Select>\n          <ChevronDown className=\"pointer-events-none absolute right-[var(--space-4)] size-[var(--space-4)] text-muted-foreground transition-colors duration-motion-sm ease-out group-focus-within:text-accent-3\" />\n        </Field.Root>\n        {success && (\n          <p\n            id={successId}\n            className=\"sr-only\"\n            role=\"status\"\n            aria-live=\"polite\"\n          >\n            Selection saved\n          </p>\n        )}\n      </div>\n    );\n  },\n);\n\nNativeSelect.displayName = \"NativeSelect\";\nexport { NativeSelect };\n","import * as React from \"react\";\n\nimport type { InputSize } from \"../primitives/Input\";\n\nexport type SelectItem = {\n  value: string;\n  label: React.ReactNode;\n  disabled?: boolean;\n  loading?: boolean;\n  className?: string;\n  onSelect?: () => void;\n};\n\ntype Align = \"left\" | \"right\";\n\ntype CommonSelectProps = {\n  id?: string;\n  label?: React.ReactNode;\n  prefixLabel?: React.ReactNode;\n  items: SelectItem[];\n  value?: string;\n  onChange?: (v: string) => void;\n  className?: string;\n};\n\nexport type AnimatedSelectProps = CommonSelectProps & {\n  dropdownClassName?: string;\n  buttonClassName?: string;\n  containerClassName?: string;\n  placeholder?: string;\n  disabled?: boolean;\n  hideLabel?: boolean;\n  ariaLabel?: string;\n  align?: Align;\n  matchTriggerWidth?: boolean;\n  size?: InputSize;\n};\n\nexport interface NativeSelectProps\n  extends Omit<\n    React.SelectHTMLAttributes<HTMLSelectElement>,\n    \"children\" | \"value\" | \"onChange\"\n  > {\n  items: SelectItem[];\n  value?: string;\n  onChange?: (v: string) => void;\n  helperText?: string;\n  errorText?: string;\n  success?: boolean;\n  selectClassName?: string;\n}\n\nexport type SelectProps =\n  | (AnimatedSelectProps & { variant?: \"animated\" })\n  | (NativeSelectProps & { variant: \"native\" });\n\nexport type SelectRef = HTMLSelectElement | HTMLButtonElement;\n\nexport function isNativeSelect(props: SelectProps): props is NativeSelectProps & {\n  variant: \"native\";\n} {\n  return props.variant === \"native\";\n}\n","\"use client\";\n\nimport * as React from \"react\";\n\nimport { AnimatedSelect } from \"./select/AnimatedSelect\";\nimport { NativeSelect } from \"./select/NativeSelect\";\nimport selectStyles from \"./select/Select.module.css\";\nimport type {\n  AnimatedSelectProps,\n  NativeSelectProps,\n  SelectProps,\n  SelectRef,\n} from \"./select/shared\";\nimport { isNativeSelect } from \"./select/shared\";\n\nconst Select = React.forwardRef<SelectRef, SelectProps>(function Select(\n  props,\n  ref,\n) {\n  if (isNativeSelect(props)) {\n    const { variant, ...rest } = props as NativeSelectProps & {\n      variant: \"native\";\n    };\n    void variant;\n    return (\n      <NativeSelect\n        ref={ref as React.Ref<HTMLSelectElement>}\n        {...rest}\n      />\n    );\n  }\n  const { variant, ...rest } = props as AnimatedSelectProps & {\n    variant?: \"animated\";\n  };\n  void variant;\n  return (\n    <AnimatedSelect\n      ref={ref as React.Ref<HTMLButtonElement>}\n      styles={selectStyles}\n      {...rest}\n    />\n  );\n});\n\nSelect.displayName = \"Select\";\nexport { AnimatedSelect, NativeSelect };\nexport * from \"./select/shared\";\nexport { Select };\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"grid\":\"Grid_grid__vz5zD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"HeaderTabs_root__j6hn4\",\"track\":\"HeaderTabs_track__TV7p9\",\"list\":\"HeaderTabs_list__OoqrH\",\"tab\":\"HeaderTabs_tab__HSSRv\",\"icon\":\"HeaderTabs_icon__L1pwJ\",\"label\":\"HeaderTabs_label__9GkB6\"};","\"use client\";\n\nimport * as React from \"react\";\n\nimport { cn } from \"@/lib/utils\";\n\nimport styles from \"./RangeSlider.module.css\";\n\nexport interface RangeSliderProps\n  extends Omit<React.InputHTMLAttributes<HTMLInputElement>, \"type\"> {\n  label?: React.ReactNode;\n  description?: React.ReactNode;\n  minLabel?: React.ReactNode;\n  maxLabel?: React.ReactNode;\n  labelClassName?: string;\n  descriptionClassName?: string;\n  minLabelClassName?: string;\n  maxLabelClassName?: string;\n  controlClassName?: string;\n  trackClassName?: string;\n}\n\ntype RawSliderValue =\n  | RangeSliderProps[\"value\"]\n  | RangeSliderProps[\"defaultValue\"]\n  | undefined;\n\nfunction parseNumericValue(rawValue: RawSliderValue): number | undefined {\n  if (typeof rawValue === \"number\") {\n    return Number.isNaN(rawValue) ? undefined : rawValue;\n  }\n\n  if (typeof rawValue === \"string\") {\n    const parsed = Number(rawValue);\n    return Number.isNaN(parsed) ? undefined : parsed;\n  }\n\n  if (Array.isArray(rawValue)) {\n    const [first] = rawValue;\n    if (first === undefined) return undefined;\n    const parsed = Number(first);\n    return Number.isNaN(parsed) ? undefined : parsed;\n  }\n\n  return undefined;\n}\n\nconst RangeSlider = React.forwardRef<HTMLInputElement, RangeSliderProps>(\n  (\n    {\n      id,\n      label,\n      description,\n      minLabel,\n      maxLabel,\n      labelClassName,\n      descriptionClassName,\n      minLabelClassName,\n      maxLabelClassName,\n      controlClassName,\n      trackClassName,\n      className,\n      ...restProps\n    },\n    ref,\n  ) => {\n    const generatedId = React.useId();\n    const sliderId = id ?? generatedId;\n    const descriptionId = description ? `${sliderId}-description` : undefined;\n\n    const {\n      value: valueProp,\n      defaultValue,\n      min,\n      max,\n      style: inputStyle,\n      onChange,\n      onInput,\n      ...inputProps\n    } = restProps;\n\n    const numericMin = React.useMemo(() => {\n      const parsed = parseNumericValue(min);\n      return parsed !== undefined ? parsed : 0;\n    }, [min]);\n\n    const numericMax = React.useMemo(() => {\n      const parsed = parseNumericValue(max);\n      return parsed !== undefined ? parsed : 100;\n    }, [max]);\n\n    const clampValue = React.useCallback(\n      (raw: number | undefined) => {\n        if (typeof raw !== \"number\" || Number.isNaN(raw)) {\n          return numericMin;\n        }\n\n        if (numericMax <= numericMin) {\n          return numericMin;\n        }\n\n        return Math.min(Math.max(raw, numericMin), numericMax);\n      },\n      [numericMax, numericMin],\n    );\n\n    const initialValue = React.useMemo(() => {\n      const parsed =\n        parseNumericValue(valueProp) ?? parseNumericValue(defaultValue);\n      return clampValue(parsed);\n    }, [clampValue, defaultValue, valueProp]);\n\n    const [currentValue, setCurrentValue] = React.useState<number>(initialValue);\n\n    React.useEffect(() => {\n      if (valueProp !== undefined) {\n        setCurrentValue((previous) => {\n          const parsed = parseNumericValue(valueProp);\n          const next = clampValue(parsed);\n          return Number.isNaN(next) ? previous : next;\n        });\n      }\n    }, [clampValue, valueProp]);\n\n    React.useEffect(() => {\n      // Ensure the internal state respects updated min/max bounds for uncontrolled usage.\n      setCurrentValue((previous) => clampValue(previous));\n    }, [clampValue]);\n\n    const percent = React.useMemo(() => {\n      if (numericMax <= numericMin) {\n        return 0;\n      }\n\n      return ((currentValue - numericMin) / (numericMax - numericMin)) * 100;\n    }, [currentValue, numericMax, numericMin]);\n\n    const mergedStyle = React.useMemo<React.CSSProperties>(() => {\n      const baseStyle =\n        inputStyle && typeof inputStyle === \"object\"\n          ? (inputStyle as React.CSSProperties)\n          : undefined;\n\n      return {\n        ...baseStyle,\n        [\"--range-progress\" as const]: `${Math.min(Math.max(percent, 0), 100)}%`,\n      };\n    }, [inputStyle, percent]);\n\n    const handleInput = React.useCallback(\n      (event: React.FormEvent<HTMLInputElement>) => {\n        if (valueProp === undefined) {\n          const parsed = parseNumericValue(event.currentTarget.value);\n          setCurrentValue(clampValue(parsed));\n        }\n\n        onInput?.(event);\n      },\n      [clampValue, onInput, valueProp],\n    );\n\n    const handleChange = React.useCallback(\n      (event: React.ChangeEvent<HTMLInputElement>) => {\n        if (valueProp === undefined) {\n          const parsed = parseNumericValue(event.currentTarget.value);\n          setCurrentValue(clampValue(parsed));\n        }\n\n        onChange?.(event);\n      },\n      [clampValue, onChange, valueProp],\n    );\n\n    return (\n      <div className={cn(styles.root, className)}>\n        {label ? (\n          <label htmlFor={sliderId} className={cn(styles.label, labelClassName)}>\n            {label}\n          </label>\n        ) : null}\n        <div className={cn(styles.control, controlClassName)}>\n          {minLabel !== undefined ? (\n            <span\n              className={cn(styles.boundLabel, minLabelClassName)}\n              aria-hidden\n            >\n              {minLabel}\n            </span>\n          ) : null}\n          <input\n            id={sliderId}\n            ref={ref}\n            type=\"range\"\n            className={cn(styles.track, trackClassName)}\n            aria-describedby={descriptionId}\n            min={min}\n            max={max}\n            style={mergedStyle}\n            onInput={handleInput}\n            onChange={handleChange}\n            {...(valueProp !== undefined\n              ? { value: valueProp }\n              : { defaultValue })}\n            {...inputProps}\n          />\n          {maxLabel !== undefined ? (\n            <span\n              className={cn(styles.boundLabel, maxLabelClassName)}\n              aria-hidden\n            >\n              {maxLabel}\n            </span>\n          ) : null}\n        </div>\n        {description ? (\n          <span\n            id={descriptionId}\n            className={cn(styles.description, descriptionClassName)}\n            aria-live=\"polite\"\n          >\n            {description}\n          </span>\n        ) : null}\n      </div>\n    );\n  },\n);\n\nRangeSlider.displayName = \"RangeSlider\";\n\nexport { RangeSlider };\n","import * as React from \"react\";\n\nimport { cn } from \"@/lib/utils\";\n\nimport type { GlitchOverlayToken } from \"./BlobContainer\";\nimport styles from \"./DripEdge.module.css\";\n\ntype DripTone = \"primary\" | \"accent\" | \"info\" | \"danger\" | \"surface\";\n\ntype StyleWithVars = React.CSSProperties & {\n  \"--drip-edge-stop-1\"?: string;\n  \"--drip-edge-stop-2\"?: string;\n  \"--drip-edge-stop-3\"?: string;\n  \"--drip-edge-alpha-1\"?: string;\n  \"--drip-edge-alpha-2\"?: string;\n  \"--drip-edge-alpha-3\"?: string;\n};\n\nexport type DripEdgeProps = Omit<\n  React.HTMLAttributes<HTMLSpanElement>,\n  \"style\"\n> & {\n  tone?: DripTone;\n  overlayToken?: GlitchOverlayToken;\n  style?: React.CSSProperties;\n};\n\nconst toneStops: Record<DripTone, [string, string, string]> = {\n  primary: [\"--primary\", \"--primary\", \"--primary\"],\n  accent: [\"--accent-1\", \"--accent-1\", \"--accent-1\"],\n  info: [\"--accent-2\", \"--accent-2\", \"--accent-2\"],\n  danger: [\"--danger\", \"--danger\", \"--danger\"],\n  surface: [\n    \"--backdrop-drip-1\",\n    \"--backdrop-drip-2\",\n    \"--backdrop-drip-3\",\n  ],\n};\n\nconst resolveToneStops = (tone: DripTone) => toneStops[tone] ?? toneStops.surface;\n\nconst DripEdge = React.forwardRef<HTMLSpanElement, DripEdgeProps>(\n  (\n    {\n      className,\n      tone = \"surface\",\n      overlayToken = \"glitch-overlay-button-opacity\",\n      style,\n      ...rest\n    },\n    ref,\n  ) => {\n    const [stop1, stop2, stop3] = resolveToneStops(tone);\n    const overlayVar = `var(--${overlayToken})`;\n\n    const mergedStyle: StyleWithVars = {\n      ...(style as StyleWithVars | undefined),\n      \"--drip-edge-stop-1\": `var(${stop1})`,\n      \"--drip-edge-stop-2\": `var(${stop2})`,\n      \"--drip-edge-stop-3\": `var(${stop3})`,\n    };\n\n    if (!mergedStyle[\"--drip-edge-alpha-1\"]) {\n      mergedStyle[\"--drip-edge-alpha-1\"] = overlayVar;\n    }\n    if (!mergedStyle[\"--drip-edge-alpha-2\"]) {\n      mergedStyle[\"--drip-edge-alpha-2\"] = overlayVar;\n    }\n    if (!mergedStyle[\"--drip-edge-alpha-3\"]) {\n      mergedStyle[\"--drip-edge-alpha-3\"] = overlayVar;\n    }\n\n    return (\n      <span\n        {...rest}\n        ref={ref}\n        aria-hidden\n        className={cn(styles.root, className)}\n        style={mergedStyle}\n      />\n    );\n  },\n);\n\nDripEdge.displayName = \"DripEdge\";\nexport { DripEdge };\n","\"use client\";\n\nimport * as React from \"react\";\n\nimport { cn } from \"@/lib/utils\";\nimport {\n  type TabBarProps,\n  type TabItem, TabBar } from \"../layout/TabBar\";\n\ninterface TabsContextValue<Key extends string> {\n  value: Key;\n  setValue: (value: Key) => void;\n  idBase: string;\n}\n\nconst TabsContext = React.createContext<TabsContextValue<string> | null>(null);\n\nfunction useTabsContext<Key extends string>(): TabsContextValue<Key> {\n  const context = React.useContext(TabsContext);\n  if (!context) {\n    throw new Error(\"Tab components must be used within a <Tabs> provider.\");\n  }\n  return {\n    ...context,\n    value: context.value as Key,\n    setValue: context.setValue as (value: Key) => void,\n  };\n}\n\nexport interface TabsProps<Key extends string = string>\n  extends React.HTMLAttributes<HTMLDivElement> {\n  value?: Key;\n  defaultValue?: Key;\n  onValueChange?: (value: Key) => void;\n  idBase?: string;\n}\n\nexport function Tabs<Key extends string = string>({\n  value,\n  defaultValue,\n  onValueChange,\n  idBase,\n  children,\n  className,\n  ...rest\n}: TabsProps<Key>) {\n  const [internal, setInternal] = React.useState<Key | undefined>(defaultValue);\n  const controlled = value !== undefined;\n  const activeValue = controlled ? value : internal;\n\n  React.useEffect(() => {\n    if (process.env.NODE_ENV !== \"production\") {\n      if (activeValue === undefined && defaultValue === undefined) {\n        console.warn(\"Tabs requires a value or defaultValue to be provided.\");\n      }\n    }\n  }, [activeValue, defaultValue]);\n\n  const resolvedValue = (activeValue ?? defaultValue) as Key;\n\n  const handleValueChange = React.useCallback(\n    (next: string) => {\n      const typedNext = next as Key;\n      if (!controlled) {\n        setInternal(typedNext);\n      }\n      onValueChange?.(typedNext);\n    },\n    [controlled, onValueChange],\n  );\n\n  const generatedId = React.useId();\n  const baseId = idBase ?? generatedId;\n\n  const context = React.useMemo<TabsContextValue<string>>(\n    () => ({ value: resolvedValue, setValue: handleValueChange, idBase: baseId }),\n    [baseId, handleValueChange, resolvedValue],\n  );\n\n  return (\n    <TabsContext.Provider value={context}>\n      <div className={cn(\"flex flex-col gap-[var(--space-6)]\", className)} {...rest}>\n        {children}\n      </div>\n    </TabsContext.Provider>\n  );\n}\n\nexport type TabListItem<Key extends string = string> = TabItem<Key>;\n\nexport type TabListProps<\n  Key extends string = string,\n  Extra extends Record<string, unknown> | undefined = undefined,\n> = Omit<TabBarProps<Key, Extra>, \"value\" | \"onValueChange\" | \"idBase\">;\n\nexport function TabList<\n  Key extends string = string,\n  Extra extends Record<string, unknown> | undefined = undefined,\n>(props: TabListProps<Key, Extra>) {\n  const { value, setValue, idBase } = useTabsContext<Key>();\n  const { linkPanels, ariaLabel, ariaLabelledBy, ...rest } = props;\n  const sharedProps = {\n    ...rest,\n    linkPanels: linkPanels ?? true,\n    value,\n    onValueChange: setValue,\n    idBase,\n  } satisfies Omit<TabBarProps<Key, Extra>, \"ariaLabel\" | \"ariaLabelledBy\">;\n\n  if (ariaLabelledBy !== undefined) {\n    const labelledProps: TabBarProps<Key, Extra> = {\n      ...sharedProps,\n      ariaLabelledBy,\n      ...(ariaLabel !== undefined ? { ariaLabel } : {}),\n    };\n    return <TabBar {...labelledProps} />;\n  }\n\n  const labelledProps: TabBarProps<Key, Extra> = {\n    ...sharedProps,\n    ariaLabel: ariaLabel as string,\n  };\n  return <TabBar {...labelledProps} />;\n}\n\nexport interface TabPanelProps<Key extends string = string>\n  extends React.HTMLAttributes<HTMLDivElement> {\n  value: Key;\n  forceMount?: boolean;\n}\n\nexport function TabPanel<Key extends string = string>({\n  value,\n  children,\n  className,\n  forceMount = false,\n  ...rest\n}: TabPanelProps<Key>) {\n  const { value: activeValue, idBase } = useTabsContext<Key>();\n  const isActive = activeValue === value;\n  const panelId = `${idBase}-${value}-panel`;\n  const tabId = `${idBase}-${value}-tab`;\n  const shouldRender = forceMount || isActive;\n\n  return (\n    <div\n      role=\"tabpanel\"\n      id={panelId}\n      aria-labelledby={tabId}\n      hidden={!isActive}\n      tabIndex={isActive ? 0 : -1}\n      data-state={isActive ? \"active\" : \"inactive\"}\n      className={cn(\n        \"focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background focus-visible:shadow-[var(--shadow-glow-md)]\",\n        className,\n      )}\n      {...rest}\n    >\n      {shouldRender ? children : null}\n    </div>\n  );\n}\n","\"use client\";\n\nimport * as React from \"react\";\n\nimport { createGalleryPreview, defineGallerySection } from \"@/components/gallery/registry\";\n\nimport { Textarea } from \"./Textarea\";\n\ntype TextareaStateSpec = {\n  id: string;\n  name: string;\n  className?: string;\n  textareaClassName?: string;\n  props: React.ComponentProps<typeof Textarea>;\n  code?: string;\n};\n\nconst TEXTAREA_STATES: readonly TextareaStateSpec[] = [\n  {\n    id: \"default\",\n    name: \"Default\",\n    props: { placeholder: \"Share your thoughts\" },\n    code: \"<Textarea placeholder=\\\"Share your thoughts\\\" />\",\n  },\n  {\n    id: \"hover\",\n    name: \"Hover\",\n    className: \"bg-[--hover]\",\n    props: { placeholder: \"Hover\" },\n    code: \"<Textarea className=\\\"bg-[--hover]\\\" placeholder=\\\"Hover\\\" />\",\n  },\n  {\n    id: \"focus-visible\",\n    name: \"Focus-visible\",\n    className: \"ring-2 ring-ring\",\n    props: { placeholder: \"Focus-visible\" },\n    code: \"<Textarea className=\\\"ring-2 ring-ring\\\" placeholder=\\\"Focus-visible\\\" />\",\n  },\n  {\n    id: \"active\",\n    name: \"Active\",\n    className: \"bg-[--active]\",\n    props: { placeholder: \"Active\" },\n    code: \"<Textarea className=\\\"bg-[--active]\\\" placeholder=\\\"Active\\\" />\",\n  },\n  {\n    id: \"invalid\",\n    name: \"Invalid\",\n    className: \"ring-2 ring-danger\",\n    props: { placeholder: \"Needs attention\", \"aria-invalid\": true },\n    code: \"<Textarea\\n  className=\\\"ring-2 ring-danger\\\"\\n  placeholder=\\\"Needs attention\\\"\\n  aria-invalid\\n/>\",\n  },\n  {\n    id: \"read-only\",\n    name: \"Read-only\",\n    className: \"bg-[hsl(var(--card)/0.72)]\",\n    textareaClassName: \"text-muted-foreground\",\n    props: { placeholder: \"Read-only\", readOnly: true },\n    code: \"<Textarea\\n  className=\\\"bg-[hsl(var(--card)/0.72)]\\\"\\n  textareaClassName=\\\"text-muted-foreground\\\"\\n  readOnly\\n  placeholder=\\\"Read-only\\\"\\n/>\",\n  },\n  {\n    id: \"disabled\",\n    name: \"Disabled\",\n    props: { placeholder: \"Disabled\", disabled: true },\n    code: \"<Textarea placeholder=\\\"Disabled\\\" disabled />\",\n  },\n  {\n    id: \"loading\",\n    name: \"Loading\",\n    props: { placeholder: \"Loading\", \"data-loading\": true },\n    code: \"<Textarea placeholder=\\\"Loading\\\" data-loading />\",\n  },\n];\n\nfunction TextareaStatePreview({ state }: { state: TextareaStateSpec }) {\n  const { className, textareaClassName, props } = state;\n  return (\n    <Textarea\n      className={className}\n      textareaClassName={textareaClassName}\n      {...props}\n    />\n  );\n}\n\nfunction TextareaGalleryPreview() {\n  return (\n    <div className=\"flex flex-col gap-[var(--space-2)]\">\n      {TEXTAREA_STATES.map((state) => (\n        <TextareaStatePreview key={state.id} state={state} />\n      ))}\n      <Textarea\n        placeholder=\"Resizable textarea\"\n        resize=\"resize-y\"\n        aria-label=\"Resizable textarea\"\n      />\n    </div>\n  );\n}\n\nexport const TextareaGallery = defineGallerySection({\n  id: \"inputs\",\n  entries: [\n    {\n      id: \"textarea\",\n      name: \"Textarea\",\n      description: \"Multi-line text input with Field styling\",\n      kind: \"primitive\",\n      tags: [\"textarea\", \"input\"],\n      props: [\n        { name: \"placeholder\", type: \"string\" },\n        { name: \"disabled\", type: \"boolean\", defaultValue: \"false\" },\n        { name: \"readOnly\", type: \"boolean\", defaultValue: \"false\" },\n        {\n          name: \"aria-invalid\",\n          type: 'boolean | \"grammar\" | \"spelling\" | undefined',\n        },\n        { name: \"data-loading\", type: \"boolean\", defaultValue: \"false\" },\n        { name: \"resize\", type: \"string\" },\n      ],\n      axes: [\n        {\n          id: \"state\",\n          label: \"State\",\n          type: \"state\",\n          values: TEXTAREA_STATES.map(({ name }) => ({ value: name })),\n        },\n      ],\n      preview: createGalleryPreview({\n        id: \"ui:textarea:states\",\n        render: () => <TextareaGalleryPreview />,\n      }),\n      states: TEXTAREA_STATES.map((state) => ({\n        id: state.id,\n        name: state.name,\n        code: state.code,\n        preview: createGalleryPreview({\n          id: `ui:textarea:state:${state.id}`,\n          render: () => <TextareaStatePreview state={state} />,\n        }),\n      })),\n      code: `<Textarea placeholder=\"Share your thoughts\" />\n<Textarea placeholder=\"Hover\" className=\"bg-[--hover]\" />\n<Textarea placeholder=\"Focus-visible\" className=\"ring-2 ring-ring\" />\n<Textarea placeholder=\"Active\" className=\"bg-[--active]\" />\n<Textarea\n  placeholder=\"Needs attention\"\n  className=\"ring-2 ring-danger\"\n  aria-invalid\n/> \n<Textarea\n  placeholder=\"Read-only\"\n  className=\"bg-[hsl(var(--card)/0.72)]\"\n  textareaClassName=\"text-muted-foreground\"\n  readOnly\n/> \n<Textarea placeholder=\"Disabled\" disabled />\n<Textarea placeholder=\"Loading\" data-loading />\n<Textarea placeholder=\"Resizable textarea\" resize=\"resize-y\" aria-label=\"Resizable textarea\" />`,\n    },\n  ],\n})\n\nexport default TextareaGallery\n","\"use client\";\n\nimport * as React from \"react\";\n\ntype AnyArgs = readonly unknown[];\n\nexport default function useDebouncedCallback<TArgs extends AnyArgs>(\n  callback: (...args: TArgs) => void | Promise<void>,\n  delay: number,\n): readonly [(...args: TArgs) => void, () => void] {\n  const latestCallback = React.useRef(callback);\n  const timerRef = React.useRef<ReturnType<typeof setTimeout> | null>(null);\n\n  React.useEffect(() => {\n    latestCallback.current = callback;\n  }, [callback]);\n\n  const cancel = React.useCallback(() => {\n    if (timerRef.current !== null) {\n      clearTimeout(timerRef.current);\n      timerRef.current = null;\n    }\n  }, []);\n\n  React.useEffect(() => cancel, [cancel]);\n\n  React.useEffect(() => {\n    cancel();\n  }, [delay, cancel]);\n\n  const debounced = React.useCallback(\n    (...args: TArgs) => {\n      cancel();\n\n      if (delay <= 0) {\n        void latestCallback.current(...args);\n        return;\n      }\n\n      timerRef.current = setTimeout(() => {\n        timerRef.current = null;\n        void latestCallback.current(...args);\n      }, delay);\n    },\n    [cancel, delay],\n  );\n\n  return React.useMemo(() => [debounced, cancel] as const, [debounced, cancel]);\n}\n","// src/components/ui/CheckCircle.tsx\n\"use client\";\n\n/**\n * CheckCircle  Lavender-Glitch concentric checkbox\n * - Accessible (role=\"checkbox\"), Space/Enter toggles\n * - Ignite / powerdown animation to match NeonIcon / Button\n * - --success / --success-glow tokens from theme variables\n * - Deselect experience:\n *     Any uncheck triggers a brief \"justCleared\" window that suppresses hover/focus glow,\n *      ensuring a visible power-down to the neutral state.\n *     Backspace/Delete also unchecks when focused.\n */\n\nimport { cn } from \"@/lib/utils\";\nimport { usePrefersReducedMotion } from \"@/lib/useReducedMotion\";\nimport { Check } from \"lucide-react\";\nimport * as React from \"react\";\n\nimport styles from \"./CheckCircle.module.css\";\n\ntype Size = \"sm\" | \"md\" | \"lg\";\nconst SIZE: Record<Size, string> = {\n  sm: \"h-[var(--control-h-sm)] w-[var(--control-h-sm)] [&_svg]:size-[calc(var(--control-h-sm)/2)]\",\n  md: \"h-[var(--control-h-md)] w-[var(--control-h-md)] [&_svg]:size-[calc(var(--control-h-md)/2)]\",\n  lg: \"h-[var(--control-h-lg)] w-[var(--control-h-lg)] [&_svg]:size-[calc(var(--control-h-lg)/2)]\",\n};\n\nexport function CheckCircle({\n  checked,\n  onChange = () => {},\n  size = \"sm\",\n  className,\n  disabled = false,\n  \"aria-label\": ariaLabel = \"Toggle\",\n}: {\n  checked: boolean;\n  onChange?: (next: boolean) => void;\n  size?: Size;\n  className?: string;\n  disabled?: boolean;\n  \"aria-label\"?: string;\n}) {\n  const btnRef = React.useRef<HTMLButtonElement>(null);\n  const reduceMotion = usePrefersReducedMotion();\n\n  const justClearedTimeoutRef = React.useRef<ReturnType<typeof setTimeout> | null>(\n    null,\n  );\n  const igniteTimeoutRef = React.useRef<ReturnType<typeof setTimeout> | null>(null);\n\n  const clearJustClearedTimeout = React.useCallback(() => {\n    if (justClearedTimeoutRef.current !== null) {\n      clearTimeout(justClearedTimeoutRef.current);\n      justClearedTimeoutRef.current = null;\n    }\n  }, []);\n\n  const clearIgniteTimeout = React.useCallback(() => {\n    if (igniteTimeoutRef.current !== null) {\n      clearTimeout(igniteTimeoutRef.current);\n      igniteTimeoutRef.current = null;\n    }\n  }, []);\n\n  // Hover/focus tracking\n  const [hovered, setHovered] = React.useState(false);\n  const [focused, setFocused] = React.useState(false);\n\n  // Brief suppression after an uncheck so it visibly powers down\n  const [justCleared, setJustCleared] = React.useState(false);\n  const markJustCleared = React.useCallback(() => {\n    setJustCleared(true);\n    // Reset hover/focus and blur so we guarantee the off animation shows\n    setHovered(false);\n    setFocused(false);\n    btnRef.current?.blur();\n    clearJustClearedTimeout();\n    justClearedTimeoutRef.current = setTimeout(() => {\n      setJustCleared(false);\n      justClearedTimeoutRef.current = null;\n    }, 420);\n    return clearJustClearedTimeout;\n  }, [clearJustClearedTimeout]);\n\n  // If our checked state flips off from an external source while hovered or\n  // focused, ensure we still run the \"just cleared\" power-down sequence so the\n  // neon rim doesn't remain lit.\n  const prevChecked = React.useRef(checked);\n  React.useEffect(() => {\n    let cleanup: (() => void) | undefined;\n    if (prevChecked.current && !checked && !justCleared) {\n      cleanup = markJustCleared();\n    }\n    prevChecked.current = checked;\n    return cleanup;\n  }, [checked, markJustCleared, justCleared]);\n\n  // Neon phase: ignite / steady-on / powerdown / off\n  const effectiveHoverOrFocus = (hovered || focused) && !justCleared;\n  const wantsOn = checked || effectiveHoverOrFocus;\n\n  const prev = React.useRef(wantsOn);\n  const [phase, setPhase] = React.useState<\"off\" | \"ignite\" | \"steady-on\" | \"powerdown\">(\n    wantsOn ? \"steady-on\" : \"off\",\n  );\n\n  React.useEffect(() => {\n    if (wantsOn !== prev.current) {\n      if (wantsOn) {\n        setPhase(\"ignite\");\n        const t = setTimeout(() => setPhase(\"steady-on\"), 620);\n        prev.current = wantsOn;\n        return () => clearTimeout(t);\n      } else {\n        setPhase(\"powerdown\");\n        const t = setTimeout(() => setPhase(\"off\"), 360);\n        prev.current = wantsOn;\n        return () => clearTimeout(t);\n      }\n    }\n    prev.current = wantsOn;\n  }, [wantsOn]);\n\n  const retriggerIgnite = React.useCallback(() => {\n    setPhase(\"ignite\");\n    clearIgniteTimeout();\n    igniteTimeoutRef.current = setTimeout(() => {\n      setPhase(wantsOn ? \"steady-on\" : \"off\");\n      igniteTimeoutRef.current = null;\n    }, 620);\n  }, [clearIgniteTimeout, wantsOn]);\n\n  React.useEffect(\n    () => () => {\n      clearIgniteTimeout();\n      clearJustClearedTimeout();\n    },\n    [clearIgniteTimeout, clearJustClearedTimeout],\n  );\n\n  function onKey(e: React.KeyboardEvent<HTMLButtonElement>) {\n    if (disabled) return;\n    if ((e.key === \"Backspace\" || e.key === \"Delete\") && checked) {\n      e.preventDefault();\n      onChange(false);\n      markJustCleared();\n      return;\n    }\n    if (e.key === \" \" || e.key === \"Enter\") {\n      e.preventDefault();\n      onChange(!checked);\n      if (checked) markJustCleared();\n    }\n  }\n\n  const lit = phase === \"ignite\" || phase === \"steady-on\";\n\n  return (\n    <>\n      <span\n        className={cn(\n          \"relative inline-grid place-items-center\",\n          SIZE[size],\n          className,\n        )}\n      >\n        <button\n          ref={btnRef}\n          type=\"button\"\n          role=\"checkbox\"\n          aria-checked={checked}\n          aria-label={ariaLabel}\n          disabled={disabled}\n          onClick={() => {\n            if (disabled) return;\n            onChange(!checked);\n            if (checked) markJustCleared();\n          }}\n          onKeyDown={onKey}\n          onMouseEnter={() => setHovered(true)}\n          onMouseLeave={() => setHovered(false)}\n          onFocus={() => setFocused(true)}\n          onBlur={() => setFocused(false)}\n          onPointerDown={retriggerIgnite}\n          className={cn(\n            styles.button,\n            \"relative inline-grid place-items-center rounded-full transition\",\n            \"focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring\",\n            \"disabled:opacity-disabled disabled:pointer-events-none\",\n            \"h-full w-full\",\n          )}\n          data-checked={checked ? \"true\" : \"false\"}\n          data-phase={phase}\n          data-lit={lit}\n        >\n          {/* Base */}\n          <span\n            aria-hidden\n            className=\"absolute inset-0 rounded-full ring-1 ring-border bg-card/35\"\n          />\n\n          {/* Neon rim */}\n          <span\n            aria-hidden\n            className={cn(\n              styles.rim,\n              !reduceMotion && lit && styles.rimAnimated,\n            )}\n          />\n\n          {/* Scanlines */}\n          <span\n            aria-hidden\n            className={cn(\n              styles.scanlines,\n              !reduceMotion && lit && styles.scanlinesAnimated,\n            )}\n          />\n\n          {/* Bloom */}\n          <span aria-hidden className={styles.bloom} />\n\n          {/* Ignite / powerdown flashes */}\n          <span\n            aria-hidden\n            className={cn(\n              styles.ignite,\n              !reduceMotion && phase === \"ignite\" && styles.igniteAnimated,\n            )}\n          />\n          <span\n            aria-hidden\n            className={cn(\n              styles.powerdown,\n              !reduceMotion && phase === \"powerdown\" && styles.powerdownAnimated,\n            )}\n          />\n\n          {/* Tick glyph */}\n          <Check\n            aria-hidden\n            className={cn(styles.check, \"text-muted-foreground\")}\n            strokeWidth=\"var(--icon-stroke-150, 2.5)\"\n          />\n        </button>\n      </span>\n    </>\n  );\n}\n","\"use client\";\n\nimport * as React from \"react\";\nimport { reportFeatureFlagAnalytics } from \"@/lib/feature-flags\";\n\ntype DepthThemeContextValue = {\n  enabled: boolean;\n  organicDepthEnabled: boolean;\n};\n\nconst defaultContext: DepthThemeContextValue = Object.freeze({\n  enabled: false,\n  organicDepthEnabled: false,\n});\n\nconst DepthThemeContext = React.createContext<DepthThemeContextValue>(defaultContext);\n\ntype DepthThemeProviderProps = {\n  enabled: boolean;\n  organicDepthEnabled?: boolean;\n  children: React.ReactNode;\n};\n\nexport function DepthThemeProvider({\n  enabled,\n  organicDepthEnabled = false,\n  children,\n}: DepthThemeProviderProps): JSX.Element {\n  React.useEffect(() => {\n    if (typeof document === \"undefined\") {\n      return;\n    }\n\n    const themeState = enabled ? \"enabled\" : \"legacy\";\n    const organicState = organicDepthEnabled ? \"organic\" : \"legacy\";\n\n    document.documentElement.dataset.depthTheme = themeState;\n    document.documentElement.dataset.organicDepth = organicState;\n\n    if (document.body) {\n      document.body.dataset.depthTheme = themeState;\n      document.body.dataset.organicDepth = organicState;\n    }\n  }, [enabled, organicDepthEnabled]);\n\n  React.useEffect(() => {\n    reportFeatureFlagAnalytics({\n      flag: \"depth-theme\",\n      enabled,\n      state: enabled ? \"enabled\" : \"legacy\",\n    });\n  }, [enabled]);\n\n  React.useEffect(() => {\n    reportFeatureFlagAnalytics({\n      flag: \"depth-theme-organic\",\n      enabled: organicDepthEnabled,\n      state: organicDepthEnabled ? \"organic\" : \"legacy\",\n    });\n  }, [organicDepthEnabled]);\n\n  const value = React.useMemo<DepthThemeContextValue>(\n    () => ({ enabled, organicDepthEnabled }),\n    [enabled, organicDepthEnabled],\n  );\n\n  return <DepthThemeContext.Provider value={value}>{children}</DepthThemeContext.Provider>;\n}\n\nexport function useDepthTheme(): DepthThemeContextValue {\n  return React.useContext(DepthThemeContext);\n}\n\nexport function useOrganicDepthEnabled(): boolean {\n  return useDepthTheme().organicDepthEnabled;\n}\n\nexport default DepthThemeProvider;\n","export const colorTokens = [\n  \"bg-border\",\n  \"bg-border-subtle\",\n  \"bg-input\",\n  \"bg-ring\",\n  \"bg-background\",\n  \"bg-foreground\",\n  \"bg-card\",\n  \"bg-surface\",\n  \"bg-surface-muted\",\n  \"bg-surface-hover\",\n  \"bg-surface-foreground\",\n  \"bg-surface-2\",\n  \"bg-surface-2-foreground\",\n  \"bg-panel\",\n  \"bg-card-hairline\",\n  \"bg-card-hairline-40\",\n  \"bg-card-hairline-45\",\n  \"bg-card-hairline-55\",\n  \"bg-card-hairline-60\",\n  \"bg-card-hairline-65\",\n  \"bg-card-hairline-70\",\n  \"bg-card-hairline-75\",\n  \"bg-card-hairline-90\",\n  \"bg-primary\",\n  \"bg-primary-foreground\",\n  \"bg-primary-soft\",\n  \"bg-accent\",\n  \"bg-accent-foreground\",\n  \"bg-accent-soft\",\n  \"bg-accent-hover\",\n  \"bg-accent-contrast\",\n  \"bg-accent-overlay\",\n  \"bg-on-accent\",\n  \"bg-accent-3\",\n  \"bg-accent-2\",\n  \"bg-accent-2-foreground\",\n  \"bg-glow\",\n  \"bg-ring-muted\",\n  \"bg-danger\",\n  \"bg-danger-foreground\",\n  \"bg-warning\",\n  \"bg-warning-foreground\",\n  \"bg-warning-soft\",\n  \"bg-warning-soft-strong\",\n  \"bg-success\",\n  \"bg-success-foreground\",\n  \"bg-success-soft\",\n  \"bg-success-glow\",\n  \"bg-tone-top\",\n  \"bg-tone-jg\",\n  \"bg-tone-mid\",\n  \"bg-tone-bot\",\n  \"bg-tone-sup\",\n  \"bg-aurora-g\",\n  \"bg-aurora-g-light\",\n  \"bg-aurora-p\",\n  \"bg-aurora-p-light\",\n  \"bg-muted\",\n  \"bg-muted-foreground\",\n  \"bg-lav-deep\",\n  \"bg-surface-vhs\",\n  \"bg-surface-streak\",\n  \"bg-card-foreground\",\n  \"bg-interaction-primary-hover\",\n  \"bg-interaction-primary-active\",\n  \"bg-interaction-focus-hover\",\n  \"bg-interaction-focus-active\",\n  \"bg-interaction-focus-surfaceHover\",\n  \"bg-interaction-focus-surfaceActive\",\n  \"bg-interaction-focus-tintHover\",\n  \"bg-interaction-focus-tintActive\",\n  \"bg-interaction-accent-hover\",\n  \"bg-interaction-accent-active\",\n  \"bg-interaction-accent-surfaceHover\",\n  \"bg-interaction-accent-surfaceActive\",\n  \"bg-interaction-accent-tintHover\",\n  \"bg-interaction-accent-tintActive\",\n  \"bg-interaction-info-hover\",\n  \"bg-interaction-info-active\",\n  \"bg-interaction-info-surfaceHover\",\n  \"bg-interaction-info-surfaceActive\",\n  \"bg-interaction-info-tintHover\",\n  \"bg-interaction-info-tintActive\",\n  \"bg-interaction-danger-hover\",\n  \"bg-interaction-danger-active\",\n  \"bg-interaction-danger-surfaceHover\",\n  \"bg-interaction-danger-surfaceActive\",\n  \"bg-interaction-danger-tintHover\",\n  \"bg-interaction-danger-tintActive\",\n  \"bg-interaction-foreground-tintHover\",\n  \"bg-interaction-foreground-tintActive\",\n  \"bg-ring-contrast\",\n  \"bg-focus\",\n];\n\nexport const depthTokenNames = [\n  \"neo-depth-sm\",\n  \"neo-depth-md\",\n  \"neo-depth-lg\",\n  \"neo-surface\",\n  \"neo-surface-alt\",\n  \"neo-highlight\",\n  \"depth-shadow-outer\",\n  \"depth-shadow-outer-strong\",\n  \"depth-shadow-soft\",\n  \"depth-shadow-inner\",\n  \"shadow-outer-sm\",\n  \"shadow-outer-md\",\n  \"shadow-outer-lg\",\n  \"shadow-outer-xl\",\n  \"shadow-inner-sm\",\n  \"shadow-inner-md\",\n  \"shadow-inner-lg\",\n  \"depth-glow-highlight-soft\",\n  \"depth-glow-highlight-medium\",\n  \"depth-glow-highlight-strong\",\n  \"depth-glow-shadow-soft\",\n  \"depth-glow-shadow-medium\",\n  \"depth-glow-shadow-strong\",\n  \"depth-focus-ring-rest\",\n  \"depth-focus-ring-active\",\n  \"glow-ring-sm\",\n  \"glow-ring-md\",\n  \"glow-ring\",\n  \"card-elev-1\",\n  \"card-elev-2\",\n  \"card-elev-3\",\n] as const;\n\nexport const surfaceTokenNames = [\n  \"danger-surface-foreground\",\n  \"surface-overlay-soft\",\n  \"surface-overlay-strong\",\n  \"glitch-card-surface-top\",\n  \"glitch-card-surface-bottom\",\n  \"surface-card-soft\",\n  \"surface-card-strong\",\n  \"surface-card-strong-hover\",\n  \"surface-card-strong-active\",\n  \"surface-card-strong-today\",\n  \"surface-card-strong-empty\",\n  \"surface-rail-accent\",\n] as const;\n\nexport const gradientTokenNames = [\n  \"edge-iris\",\n  \"seg-active-grad\",\n  \"review-result-win-gradient\",\n  \"review-result-loss-gradient\",\n  \"gradient-blob-primary\",\n  \"gradient-drip-overlay\",\n  \"gradient-drip-overlay-compact\",\n  \"gradient-glitch-primary\",\n  \"gradient-glitch-overlay\",\n  \"gradient-glitch-rail\",\n  \"gradient-hero-slot-highlight\",\n  \"gradient-hero-slot-shadow\",\n  \"gradient-hero-topline\",\n  \"gradient-hero-action-halo\",\n  \"gradient-panel-tilt-strong\",\n  \"gradient-panel-tilt-bright\",\n  \"gradient-panel-tilt-muted\",\n] as const;\n\nexport const motionTokenNames = [\n  \"glow-pulse\",\n  \"glitch-rgb-shift\",\n  \"glitch-scanline\",\n] as const;\n\nexport const spacingTokens = [4, 8, 12, 16, 24, 32, 48, 64];\n\nconst ringEntries = [\n  [\"xs\", { diameter: spacingTokens[4], stroke: spacingTokens[0] }],\n  [\"s\", { diameter: spacingTokens[5], stroke: spacingTokens[0] }],\n  [\"m\", { diameter: spacingTokens[7], stroke: spacingTokens[0] }],\n  [\"l\", { diameter: spacingTokens[7] * 3.5, stroke: spacingTokens[0] }],\n] as const;\n\ntype RingEntry = (typeof ringEntries)[number];\nexport type RingSize = RingEntry[0];\n\nconst ringTokenMap: Record<\n  RingSize,\n  { diameter: `--ring-diameter-${RingSize}`; stroke: `--ring-stroke-${RingSize}` }\n> = ringEntries.reduce(\n  (acc, [token]) => {\n    acc[token] = {\n      diameter: `--ring-diameter-${token}` as const,\n      stroke: `--ring-stroke-${token}` as const,\n    };\n    return acc;\n  },\n  {} as Record<\n    RingSize,\n    { diameter: `--ring-diameter-${RingSize}`; stroke: `--ring-stroke-${RingSize}` }\n  >,\n);\n\nconst ringFallbacks: Record<\n  RingSize,\n  { diameter: number; stroke: number; inset: number }\n> = ringEntries.reduce(\n  (acc, [token, { diameter, stroke }]) => {\n    acc[token] = {\n      diameter,\n      stroke,\n      inset: spacingTokens[2] / 2,\n    };\n    return acc;\n  },\n  {} as Record<RingSize, { diameter: number; stroke: number; inset: number }>,\n);\n\nexport interface RingMetrics {\n  diameter: number;\n  stroke: number;\n  inset: number;\n}\n\nexport const getRingMetrics = (\n  size: RingSize,\n  overrides?: Partial<RingMetrics>,\n): RingMetrics => {\n  const tokens = ringTokenMap[size];\n  const fallback = ringFallbacks[size];\n  const diameterFallback = overrides?.diameter ?? fallback.diameter;\n  const strokeFallback = overrides?.stroke ?? fallback.stroke;\n  const insetFallback = overrides?.inset ?? fallback.inset;\n  const diameter = readNumberToken(tokens.diameter, diameterFallback);\n  const stroke = readNumberToken(tokens.stroke, strokeFallback);\n  const inset = readNumberToken(\n    `--ring-inset-${size}`,\n    readNumberToken(\"--ring-inset\", insetFallback),\n  );\n\n  return {\n    diameter,\n    stroke,\n    inset,\n  };\n};\n\nconst radiusEntries = [\n  [\"sm\", 6],\n  [\"md\", 8],\n  [\"lg\", 12],\n  [\"xl\", 16],\n  [\"2xl\", 24],\n  [\"full\", 9999],\n] as const;\n\ntype RadiusKey = (typeof radiusEntries)[number][0];\ntype RadiusVar = `--radius-${RadiusKey}`;\n\nexport const radiusScale: Record<RadiusKey, number> = radiusEntries.reduce(\n  (acc, [token, value]) => {\n    acc[token] = value;\n    return acc;\n  },\n  {} as Record<RadiusKey, number>,\n);\n\nexport const radiusTokens = radiusEntries.map(\n  ([token]) => `--radius-${token}` as RadiusVar,\n);\n\nconst extractBalancedSubstring = (\n  input: string,\n  startIndex: number,\n): { body: string; endIndex: number } | null => {\n  if (input[startIndex] !== \"(\") {\n    return null;\n  }\n\n  let depth = 0;\n\n  for (let index = startIndex; index < input.length; index += 1) {\n    const char = input[index];\n\n    if (char === \"(\") {\n      depth += 1;\n      continue;\n    }\n\n    if (char === \")\") {\n      depth -= 1;\n\n      if (depth === 0) {\n        return {\n          body: input.slice(startIndex + 1, index),\n          endIndex: index + 1,\n        };\n      }\n    }\n  }\n\n  return null;\n};\n\nconst parseVarFunction = (\n  raw: string,\n): { name: string; fallback?: string } | null => {\n  const trimmed = raw.trim();\n  const lower = trimmed.toLowerCase();\n\n  if (!lower.startsWith(\"var(\") || !trimmed.endsWith(\")\")) {\n    return null;\n  }\n\n  const openIndex = lower.indexOf(\"(\");\n  const extracted = extractBalancedSubstring(trimmed, openIndex);\n\n  if (!extracted) {\n    return null;\n  }\n\n  const inner = extracted.body;\n  let depth = 0;\n  let name = \"\";\n  let fallback = \"\";\n  let hasFallback = false;\n\n  for (let index = 0; index < inner.length; index += 1) {\n    const char = inner[index];\n\n    if (char === \"(\") {\n      depth += 1;\n    } else if (char === \")\") {\n      depth -= 1;\n    } else if (char === \",\" && depth === 0 && !hasFallback) {\n      hasFallback = true;\n      continue;\n    }\n\n    if (!hasFallback) {\n      name += char;\n    } else {\n      fallback += char;\n    }\n  }\n\n  const variable = name.trim();\n\n  if (!variable.startsWith(\"--\")) {\n    return null;\n  }\n\n  return {\n    name: variable,\n    fallback: hasFallback ? fallback.trim() || undefined : undefined,\n  };\n};\n\nconst resolveCssNumber = (\n  raw: string,\n  computedStyle: CSSStyleDeclaration,\n  seen: Set<string>,\n): number | null => {\n  const trimmed = raw.trim();\n\n  if (!trimmed) {\n    return null;\n  }\n\n  const numeric = Number.parseFloat(trimmed);\n\n  if (Number.isFinite(numeric)) {\n    return numeric;\n  }\n\n  const lower = trimmed.toLowerCase();\n\n  if (lower.startsWith(\"var(\")) {\n    const parsed = parseVarFunction(trimmed);\n\n    if (!parsed) {\n      return null;\n    }\n\n    const { name, fallback } = parsed;\n\n    if (seen.has(name)) {\n      return null;\n    }\n\n    const nextSeen = new Set(seen);\n    nextSeen.add(name);\n\n    const referenced = computedStyle.getPropertyValue(name).trim();\n\n    if (referenced) {\n      const resolved = resolveCssNumber(referenced, computedStyle, nextSeen);\n\n      if (resolved !== null) {\n        return resolved;\n      }\n    }\n\n    if (fallback) {\n      return resolveCssNumber(fallback, computedStyle, nextSeen);\n    }\n\n    return null;\n  }\n\n  if (lower.startsWith(\"calc(\") && trimmed.endsWith(\")\")) {\n    const openIndex = lower.indexOf(\"(\");\n    const extracted = extractBalancedSubstring(trimmed, openIndex);\n\n    if (!extracted) {\n      return null;\n    }\n\n    let index = 0;\n    const { body } = extracted;\n    let sanitized = \"\";\n    const lowerBody = body.toLowerCase();\n\n    while (index < body.length) {\n      if (lowerBody.startsWith(\"var(\", index)) {\n        const varOpen = body.indexOf(\"(\", index + 3);\n\n        if (varOpen === -1) {\n          return null;\n        }\n\n        const extractedVar = extractBalancedSubstring(body, varOpen);\n\n        if (!extractedVar) {\n          return null;\n        }\n\n        const rawVar = `var(${extractedVar.body})`;\n        const resolvedVar = resolveCssNumber(rawVar, computedStyle, new Set(seen));\n        sanitized += resolvedVar !== null ? String(resolvedVar) : \"0\";\n        index = extractedVar.endIndex;\n        continue;\n      }\n\n      if (lowerBody.startsWith(\"calc(\", index)) {\n        const calcOpen = body.indexOf(\"(\", index + 4);\n\n        if (calcOpen === -1) {\n          return null;\n        }\n\n        const extractedCalc = extractBalancedSubstring(body, calcOpen);\n\n        if (!extractedCalc) {\n          return null;\n        }\n\n        const nestedValue = resolveCssNumber(\n          `calc(${extractedCalc.body})`,\n          computedStyle,\n          new Set(seen),\n        );\n\n        sanitized += nestedValue !== null ? String(nestedValue) : \"0\";\n        index = extractedCalc.endIndex;\n        continue;\n      }\n\n      sanitized += body[index];\n      index += 1;\n    }\n\n    const withoutUnits = sanitized.replace(\n      /(-?\\d*\\.?\\d+(?:e[+-]?\\d+)?)\\s*[a-z%]+/gi,\n      \"$1\",\n    );\n    const cleaned = withoutUnits.replace(/[^0-9+\\-*/().\\s]/g, \"\");\n\n    if (!cleaned.trim()) {\n      return null;\n    }\n\n    try {\n      const result = Function(\"return (\" + cleaned + \");\")();\n      return typeof result === \"number\" && Number.isFinite(result) ? result : null;\n    } catch {\n      return null;\n    }\n  }\n\n  return null;\n};\n\nexport const readNumberToken = (token: string, fallback: number): number => {\n  if (typeof document === \"undefined\") {\n    return fallback;\n  }\n\n  const root = document.documentElement;\n  const computedStyle = getComputedStyle(root);\n  const raw = computedStyle.getPropertyValue(token).trim();\n\n  if (!raw) {\n    return fallback;\n  }\n\n  const resolved = resolveCssNumber(raw, computedStyle, new Set([token]));\n\n  if (resolved !== null) {\n    return resolved;\n  }\n\n  return fallback;\n};\n","'use client';\n\nimport * as React from 'react';\n\nimport ProgressRingIcon from '@/icons/ProgressRingIcon';\nimport { getRingMetrics, type RingSize } from '@/lib/tokens';\nimport { cn } from '@/lib/utils';\n\nimport styles from './GlitchProgress.module.css';\n\nconst DEFAULT_MAX = 100;\n\nexport type GlitchProgressSize = 'xs' | 'sm' | 'md' | 'lg' | 'xl';\n\ntype SizeConfig = {\n  ringSize: RingSize;\n  padding: number;\n  halo: number;\n};\n\nconst SIZE_CONFIG: Record<GlitchProgressSize, SizeConfig> = {\n  xs: { ringSize: 'xs', padding: 8, halo: 14 },\n  sm: { ringSize: 's', padding: 10, halo: 18 },\n  md: { ringSize: 'm', padding: 12, halo: 24 },\n  lg: { ringSize: 'l', padding: 14, halo: 30 },\n  xl: { ringSize: 'l', padding: 20, halo: 38 },\n};\n\nexport interface GlitchProgressProps\n  extends Omit<React.HTMLAttributes<HTMLDivElement>, 'children'> {\n  value?: number | null;\n  max?: number;\n  size?: GlitchProgressSize;\n}\n\nconst clamp = (value: number, min: number, max: number) =>\n  Math.min(Math.max(value, min), max);\n\nexport const GlitchProgress = React.forwardRef<HTMLDivElement, GlitchProgressProps>(\n  (\n    {\n      value = 0,\n      max = DEFAULT_MAX,\n      size = 'md',\n      className,\n      style,\n      ...rest\n    },\n    ref,\n  ) => {\n    const safeMax = Number.isFinite(max) && max > 0 ? max : DEFAULT_MAX;\n    const numericValue = typeof value === 'number' && Number.isFinite(value) ? value : 0;\n    const clampedValue = clamp(numericValue, 0, safeMax);\n    const percent = safeMax === 0 ? 0 : (clampedValue / safeMax) * 100;\n    const displayPercent = clamp(Number.parseFloat(percent.toFixed(2)), 0, 100);\n\n    const sizeConfig = SIZE_CONFIG[size];\n    const metrics = React.useMemo(\n      () => getRingMetrics(sizeConfig.ringSize),\n      [sizeConfig.ringSize],\n    );\n\n    const dimension = metrics.diameter + sizeConfig.padding * 2;\n    const cssVars = React.useMemo<React.CSSProperties>(\n      () =>\n        ({\n          '--glitch-progress-size': `${dimension}px`,\n          '--glitch-progress-ring-size': `${metrics.diameter}px`,\n          '--glitch-progress-padding': `${sizeConfig.padding}px`,\n          '--glitch-progress-halo': `${sizeConfig.halo}px`,\n        }) as React.CSSProperties,\n      [dimension, metrics.diameter, sizeConfig.halo, sizeConfig.padding],\n    );\n\n    const {\n      'aria-label': ariaLabel,\n      'aria-labelledby': ariaLabelledBy,\n      'aria-describedby': ariaDescribedBy,\n      ...divProps\n    } = rest;\n\n    const progressProps = {\n      'aria-label': ariaLabel,\n      'aria-labelledby': ariaLabelledBy,\n      'aria-describedby': ariaDescribedBy,\n      value: clampedValue,\n      max: safeMax,\n    } satisfies React.ComponentPropsWithoutRef<'progress'>;\n\n    const mergedStyle = React.useMemo<React.CSSProperties>(\n      () => ({ ...cssVars, ...(style ?? {}) }),\n      [cssVars, style],\n    );\n\n    return (\n      <div\n        ref={ref}\n        className={cn(styles.root, className)}\n        data-size={size}\n        style={mergedStyle}\n        {...divProps}\n      >\n        <progress className=\"sr-only\" {...progressProps} />\n        <div className={styles.shell} aria-hidden>\n          <span className={styles.neon} />\n          <span className={styles.noise} />\n          <span className={styles.inner} />\n          <span className={styles.scanlines} />\n          <div className={styles.surface}>\n            <div className={styles.ring}>\n              <ProgressRingIcon pct={displayPercent} size={sizeConfig.ringSize} />\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  },\n);\n\nGlitchProgress.displayName = 'GlitchProgress';\n","\"use client\";\n\nimport * as React from \"react\";\n\nconst NO_ANIMATIONS_CLASS = \"no-animations\";\n\nfunction isAnimationsDisabled(): boolean {\n  if (typeof document === \"undefined\") {\n    return false;\n  }\n\n  return document.documentElement.classList.contains(NO_ANIMATIONS_CLASS);\n}\n\n/**\n * Returns `true` when the global `no-animations` class is applied to the\n * `<html>` element. This mirrors the reduced motion toggle that we expose in\n * Storybook and the runtime animation toggle, ensuring components can opt out\n * of motion treatments.\n */\nexport function useAnimationsDisabled(): boolean {\n  const [disabled, setDisabled] = React.useState(isAnimationsDisabled);\n\n  React.useEffect(() => {\n    if (typeof document === \"undefined\") {\n      return;\n    }\n\n    const root = document.documentElement;\n\n    const sync = (): void => {\n      setDisabled(root.classList.contains(NO_ANIMATIONS_CLASS));\n    };\n\n    sync();\n\n    if (typeof MutationObserver === \"undefined\") {\n      return;\n    }\n\n    const observer = new MutationObserver(sync);\n    observer.observe(root, { attributes: true, attributeFilter: [\"class\"] });\n\n    return () => {\n      observer.disconnect();\n    };\n  }, []);\n\n  return disabled;\n}\n\n","// src/config/nav.ts\n// Shared navigation configuration for chrome components and documentation.\n\nimport type { LucideIcon } from \"lucide-react\";\nimport {\n  BookOpen,\n  CalendarDays,\n  Flag,\n  Home,\n  PanelsTopLeft,\n  Sparkles,\n  Users,\n} from \"lucide-react\";\n\nexport type NavItem = {\n  href: string;\n  label: string;\n  mobileIcon?: LucideIcon;\n};\n\nexport const PRIMARY_NAV_LABEL = \"Primary\" as const;\n\nexport const NAV_ITEMS = [\n  { href: \"/\", label: \"Home\", mobileIcon: Home },\n  { href: \"/reviews\", label: \"Reviews\", mobileIcon: BookOpen },\n  { href: \"/planner\", label: \"Planner\", mobileIcon: CalendarDays },\n  { href: \"/goals\", label: \"Goals\", mobileIcon: Flag },\n  { href: \"/team\", label: \"Team\", mobileIcon: Users },\n  { href: \"/components\", label: \"Components\", mobileIcon: PanelsTopLeft },\n  { href: \"/prompts\", label: \"Prompts\", mobileIcon: Sparkles },\n] as const satisfies readonly NavItem[];\n\nconst normalizePath = (value: string) => {\n  if (value === \"/\") {\n    return value;\n  }\n\n  return value.replace(/\\/+$/, \"\");\n};\n\nexport const isNavActive = (path: string, href: string) => {\n  const normalizedPath = normalizePath(path);\n  const normalizedHref = normalizePath(href);\n\n  if (normalizedHref === \"/\") {\n    return normalizedPath === \"/\";\n  }\n\n  return (\n    normalizedPath === normalizedHref ||\n    normalizedPath.startsWith(`${normalizedHref}/`)\n  );\n};\n","// src/components/ui/primitives/Input.tsx\n\"use client\";\n\nimport * as React from \"react\";\nimport { cn } from \"@/lib/utils\";\nimport { useFieldIds } from \"@/lib/useFieldIds\";\nimport { Field, type FieldVariant } from \"./Field\";\nimport { type GlitchOverlayToken } from \"./BlobContainer\";\nimport styles from \"./Input.module.css\";\n\nexport type InputRingTone =\n  | \"accent\"\n  | \"danger\"\n  | \"primary\"\n  | \"success\"\n  | \"warning\";\n\nconst RING_TONE_CLASS_MAP: Record<InputRingTone, string> = {\n  accent: styles.ringToneAccent,\n  danger: styles.ringToneDanger,\n  primary: styles.ringTonePrimary,\n  success: styles.ringToneSuccess,\n  warning: styles.ringToneWarning,\n};\n\nexport type InputSize = \"sm\" | \"md\" | \"lg\" | \"xl\";\n\nexport type InputProps = Omit<\n  React.InputHTMLAttributes<HTMLInputElement>,\n  \"height\" | \"style\"\n> & {\n  /** Visual height of the control (defaults to medium) */\n  height?: InputSize | number;\n  /** When true, increases left padding for icons */\n  indent?: boolean;\n  /** Optional className for the inner <input> element */\n  inputClassName?: string;\n  /** Reserve space for a trailing slot even if no children are provided */\n  hasEndSlot?: boolean;\n  /** Optional loading state forwarded via `data-loading` */\n  \"data-loading\"?: string | boolean | number;\n  /** Overrides the focus ring tone by mapping to semantic tokens */\n  ringTone?: InputRingTone;\n  /** Enables the glitch overlay treatment */\n  glitch?: boolean;\n  /**\n   * Overrides the text surfaced in the glitch overlay.\n   * Falls back to `data-text`, `placeholder`, or `aria-label` when available.\n   */\n  glitchText?: string;\n  /** Sets the Field.Root variant */\n  variant?: FieldVariant;\n  /** Overrides the glitch overlay intensity */\n  glitchIntensity?: GlitchOverlayToken;\n};\n\nexport const Input = React.forwardRef<HTMLInputElement, InputProps>(function Input(\n  {\n    className,\n    inputClassName,\n    id,\n    name,\n    \"aria-label\": ariaLabel,\n    height = \"md\",\n    indent = false,\n    children,\n    hasEndSlot = false,\n    ringTone,\n    glitch = false,\n    glitchText,\n    variant = \"surface\",\n    glitchIntensity,\n    ...props\n  },\n  ref,\n) {\n  const { id: finalId, name: finalName, isInvalid } = useFieldIds(\n    ariaLabel as string | undefined,\n    id,\n    name,\n    {\n      ariaInvalid: props[\"aria-invalid\"],\n      ariaLabelStrategy: \"custom-id\",\n    },\n  );\n  const { [\"data-text\"]: providedGlitchTextRaw, ...inputProps } = props as\n    typeof props & { [\"data-text\"]?: unknown };\n  const disabled = inputProps.disabled;\n  const readOnly = inputProps.readOnly;\n  const loadingAttr = inputProps[\"data-loading\"];\n  const loading =\n    loadingAttr === \"\" ||\n    loadingAttr === true ||\n    loadingAttr === \"true\" ||\n    loadingAttr === 1;\n\n  const showEndSlot = hasEndSlot || React.Children.count(children) > 0;\n  const placeholderText =\n    typeof inputProps.placeholder === \"string\" ? inputProps.placeholder : undefined;\n  const providedGlitchText =\n    typeof providedGlitchTextRaw === \"string\" ? providedGlitchTextRaw : undefined;\n  const resolvedGlitchText = glitch\n    ? glitchText ?? providedGlitchText ?? placeholderText ?? (typeof ariaLabel === \"string\" ? ariaLabel : undefined)\n    : providedGlitchText ?? glitchText;\n\n  return (\n    <Field.Root\n      height={height}\n      invalid={isInvalid}\n      disabled={disabled}\n      readOnly={readOnly}\n      loading={loading}\n      glitch={glitch}\n      glitchText={resolvedGlitchText}\n      glitchIntensity={glitchIntensity}\n      variant={variant}\n      className={cn(ringTone ? RING_TONE_CLASS_MAP[ringTone] : undefined, className)}\n    >\n      <Field.Input\n        ref={ref}\n        id={finalId}\n        name={finalName}\n        className={cn(inputClassName)}\n        indent={indent}\n        hasEndSlot={showEndSlot || loading}\n        aria-label={ariaLabel}\n        {...inputProps}\n      />\n      {children}\n    </Field.Root>\n  );\n});\n\nInput.displayName = \"Input\";\n","\"use client\";\n\nimport * as React from \"react\";\nimport { Sparkles } from \"lucide-react\";\n\nimport { cn } from \"@/lib/utils\";\n\nexport interface AITypingIndicatorProps extends React.ComponentPropsWithoutRef<\"div\"> {\n  readonly label?: string;\n  readonly hint?: string;\n  readonly isTyping?: boolean;\n  readonly dotCount?: number;\n  readonly showAvatar?: boolean;\n  readonly avatar?: React.ReactNode;\n}\n\nconst MIN_DOTS = 2;\nconst DEFAULT_DOTS = 3;\nconst MAX_DOTS = 5;\nconst DEFAULT_LABEL = \"Assistant is typing\";\n\nconst AITypingIndicator = React.forwardRef<HTMLDivElement, AITypingIndicatorProps>(\n  (\n    {\n      label = DEFAULT_LABEL,\n      hint,\n      isTyping = true,\n      dotCount = DEFAULT_DOTS,\n      showAvatar = true,\n      avatar,\n      className,\n      children,\n      ...props\n    },\n    ref,\n  ) => {\n    const dots = React.useMemo(() => {\n      const constrained = Math.max(MIN_DOTS, Math.min(MAX_DOTS, dotCount));\n      return Array.from({ length: constrained });\n    }, [dotCount]);\n\n    return (\n      <div\n        ref={ref}\n        role=\"status\"\n        aria-live=\"polite\"\n        aria-busy={isTyping ? \"true\" : undefined}\n        className={cn(\n          \"flex items-center gap-[var(--space-3)] rounded-card border border-[hsl(var(--accent-1)/0.35)]\",\n          \"bg-[hsl(var(--surface)/0.72)] p-[var(--space-3)] text-left shadow-[var(--shadow-outline-faint)] backdrop-blur-sm\",\n          className,\n        )}\n        {...props}\n      >\n        {showAvatar ? (\n          <span\n            aria-hidden\n            className=\"grid size-[var(--space-9)] place-items-center rounded-full border border-[hsl(var(--accent-1)/0.35)] bg-[hsl(var(--accent-1-soft))] text-[hsl(var(--accent-1-foreground))] shadow-[var(--shadow-inset-hairline)]\"\n          >\n            {avatar ?? <Sparkles className=\"size-[var(--space-5)]\" aria-hidden />}\n          </span>\n        ) : null}\n        <div className=\"flex flex-1 flex-col gap-[var(--space-1-5)]\">\n          <div className=\"flex flex-wrap items-baseline gap-x-[var(--space-2)] gap-y-[var(--space-1)]\">\n            <p className=\"text-label font-medium text-foreground\" aria-live=\"polite\">\n              {label}\n            </p>\n            {hint ? (\n              <span className=\"text-caption text-muted-foreground\">{hint}</span>\n            ) : null}\n          </div>\n          <div className=\"flex items-center gap-[var(--space-1)]\">\n            {dots.map((_, index) => (\n              <span\n                key={index}\n                aria-hidden\n                className={cn(\n                  \"size-[var(--space-1-5)] rounded-full bg-[hsl(var(--accent-1))] opacity-70\",\n                  isTyping ? \"motion-safe:animate-pulse\" : undefined,\n                )}\n                style={isTyping ? { animationDelay: `${index * 120}ms`, animationDuration: \"1200ms\" } : undefined}\n              />\n            ))}\n            {children ? (\n              <span className=\"text-caption text-muted-foreground\">{children}</span>\n            ) : null}\n          </div>\n        </div>\n      </div>\n    );\n  },\n);\n\nAITypingIndicator.displayName = \"AITypingIndicator\";\nexport { AITypingIndicator };\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"Field_root__GCQZR\",\"surface\":\"Field_surface___kQh7\",\"sunken\":\"Field_sunken__5WGdJ\"};","// src/components/ui/Label.tsx\n\"use client\";\n\nimport * as React from \"react\";\nimport { cn } from \"@/lib/utils\";\n\nexport type LabelProps = React.LabelHTMLAttributes<HTMLLabelElement>;\n\nconst Label = React.forwardRef<HTMLLabelElement, LabelProps>(function Label(\n  { className, htmlFor, ...props },\n  ref,\n) {\n  return (\n    <label\n      ref={ref}\n      htmlFor={htmlFor}\n      className={cn(\n        \"text-label font-medium text-muted-foreground mb-[var(--space-2)]\",\n        className,\n      )}\n      {...props}\n    />\n  );\n});\nexport { Label };\n","\"use client\";\n\nimport * as React from \"react\";\nimport { createPortal } from \"react-dom\";\nimport { motion, useReducedMotion } from \"framer-motion\";\nimport { Card } from \"./primitives/Card\";\nimport { useDialogTrap } from \"./hooks/useDialogTrap\";\nimport useMounted from \"@/lib/useMounted\";\nimport { cn } from \"@/lib/utils\";\n\nexport interface SheetProps extends React.ComponentProps<typeof Card> {\n  open: boolean;\n  onClose: () => void;\n  side?: \"left\" | \"right\";\n}\n\nexport function Sheet({\n  open,\n  onClose,\n  side = \"right\",\n  className,\n  children,\n  ...props\n}: SheetProps) {\n  const mounted = useMounted();\n  const dialogRef = React.useRef<HTMLDivElement>(null);\n  const reduceMotion = useReducedMotion();\n\n  useDialogTrap({ open: open && mounted, onClose, ref: dialogRef });\n\n  if (!open || !mounted) return null;\n  return createPortal(\n    <div className=\"fixed inset-0 z-50\">\n      <div\n        aria-hidden=\"true\"\n        className=\"absolute inset-0 bg-background/80 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-focus\"\n        onClick={onClose}\n      />\n      <motion.div\n        initial={{ x: side === \"right\" ? \"100%\" : \"-100%\" }}\n        animate={{ x: 0 }}\n        transition={{\n          type: \"tween\",\n          duration: reduceMotion ? 0 : 0.2,\n        }}\n      >\n        <Card\n          ref={dialogRef}\n          role=\"dialog\"\n          aria-modal=\"true\"\n          className={cn(\n            \"fixed top-0 h-full w-[calc(var(--space-8)*5)] overflow-y-auto\",\n            side === \"right\" ? \"right-0\" : \"left-0\",\n            className,\n          )}\n          {...props}\n        >\n          {children}\n        </Card>\n      </motion.div>\n    </div>,\n    document.body,\n  );\n}\n","\"use client\";\n\nimport * as React from \"react\";\nimport { useId } from \"react\";\nimport { cn } from \"@/lib/utils\";\nimport useDebouncedCallback from \"@/lib/useDebouncedCallback\";\nimport { Label } from \"../Label\";\nimport { Field } from \"./Field\";\nimport type { InputSize } from \"./Input\";\nimport { resolveUIVariant, type UIVariant } from \"@/components/ui/variants\";\n\nconst SEARCH_BAR_VARIANTS = [\n  \"default\",\n  \"neo\",\n  \"quiet\",\n  \"sunken\",\n] as const satisfies readonly UIVariant[];\ntype SearchBarVariant = (typeof SEARCH_BAR_VARIANTS)[number];\n\nexport type SearchBarProps = Omit<\n  React.InputHTMLAttributes<HTMLInputElement>,\n  \"onChange\" | \"height\"\n> & {\n  value: string;\n  onValueChange?: (next: string) => void;\n  onChange?: React.ChangeEventHandler<HTMLInputElement>;\n  onSubmit?: (value: string) => void;\n  right?: React.ReactNode;\n  clearable?: boolean;\n  debounceMs?: number;\n  /** Visual height of the control */\n  height?: InputSize | number;\n  /** Additional classes for the outer Field.Root */\n  fieldClassName?: string;\n  /** When `true`, the search bar is disabled and `data-loading` is set */\n  loading?: boolean;\n  /** Optional accessible label rendered above the input */\n  label?: React.ReactNode;\n  /** Visual treatment of the field shell. */\n  variant?: SearchBarVariant;\n};\n\nexport function SearchBar({\n  value,\n  onValueChange,\n  onChange,\n  onSubmit,\n  right,\n  placeholder = \"Search\",\n  className,\n  clearable = true,\n  debounceMs = 200,\n  autoComplete = \"off\",\n  autoCorrect = \"off\",\n  spellCheck = false,\n  autoCapitalize = \"none\",\n  height,\n  fieldClassName,\n  loading,\n  disabled,\n  label,\n  variant = \"default\",\n  ...rest\n}: SearchBarProps) {\n  // Hydration-safe: initial render = prop value\n  const [query, setQuery] = React.useState(value);\n  const inputRef = React.useRef<HTMLInputElement | null>(null);\n  const { id, ...restProps } = rest;\n  const generatedId = useId();\n  const resolvedId = id ?? (label ? generatedId : undefined);\n  const [emitValueChange, cancelValueChange] = useDebouncedCallback(\n    (next: string) => {\n      onValueChange?.(next);\n    },\n    debounceMs,\n  );\n\n  // Mirror external value into local state whenever it changes.\n  // No need to read `query` here; linter calms down.\n  React.useEffect(() => {\n    setQuery(value);\n  }, [value]);\n\n  // Debounced emit of local changes\n  React.useEffect(() => {\n    if (!onValueChange) {\n      cancelValueChange();\n      return;\n    }\n\n    emitValueChange(query);\n    return cancelValueChange;\n  }, [query, onValueChange, emitValueChange, cancelValueChange]);\n\n  const ariaLabelledby = restProps[\"aria-labelledby\"];\n  const hasCustomAriaLabel = restProps[\"aria-label\"] !== undefined;\n  const labelFor = resolvedId;\n  const resolvedVariant = resolveUIVariant<SearchBarVariant>(variant, {\n    allowed: SEARCH_BAR_VARIANTS,\n    fallback: \"default\",\n  });\n\n  const isNeo = resolvedVariant === \"neo\";\n  const variantFieldClasses =\n    isNeo\n      ? \"hero2-neomorph z-0 !border border-border/40 !shadow-depth-soft hover:!shadow-depth-soft active:!shadow-depth-soft focus-within:!shadow-depth-soft [--hover:transparent] [--active:transparent]\"\n      : undefined;\n  const fieldVariant = resolvedVariant === \"sunken\" ? \"sunken\" : \"surface\";\n\n  const inputField = (\n    <Field.Root\n      height={height}\n      wrapperClassName=\"min-w-0\"\n      className={cn(\"w-full\", variantFieldClasses, fieldClassName)}\n      disabled={disabled}\n      loading={loading}\n      variant={fieldVariant}\n    >\n      <Field.Search\n        id={resolvedId}\n        ref={inputRef}\n        value={query}\n        onChange={(event) => {\n          setQuery(event.target.value);\n          onChange?.(event);\n        }}\n        placeholder={placeholder}\n        clearable={clearable}\n        onClear={() => {\n          setQuery(\"\");\n          onValueChange?.(\"\");\n        }}\n        aria-label={\n          !label && !ariaLabelledby && !hasCustomAriaLabel ? \"Search\" : undefined\n        }\n        autoComplete={autoComplete}\n        autoCorrect={autoCorrect}\n        spellCheck={spellCheck}\n        autoCapitalize={autoCapitalize}\n        disabled={disabled}\n        loading={loading}\n        {...restProps}\n      />\n    </Field.Root>\n  );\n\n  return (\n    <form\n      role=\"search\"\n      className={cn(\n        // Two-column grid: search input + optional right slot\n        // Tailwind's arbitrary value syntax uses an underscore instead of a comma.\n        // `minmax(0,1fr)` prevents input overflow when space is constrained.\n        \"grid grid-cols-[minmax(0,1fr)_auto] items-center gap-[var(--space-2)] w-full data-[loading=true]:opacity-loading data-[loading=true]:pointer-events-none\",\n        className,\n      )}\n      onSubmit={(e) => {\n        e.preventDefault();\n        onValueChange?.(query);\n        onSubmit?.(query);\n      }}\n      data-loading={loading}\n    >\n      {/* Input column */}\n      {label ? (\n        <div className=\"min-w-0\">\n          <Label htmlFor={labelFor}>{label}</Label>\n          {inputField}\n        </div>\n      ) : (\n        <div className=\"min-w-0\">{inputField}</div>\n      )}\n\n      {/* Right slot (filters, etc.) */}\n      {right ? <div className=\"shrink-0\">{right}</div> : null}\n    </form>\n  );\n}\n","export const HERO_ILLUSTRATION_STATES = [\n  \"idle\",\n  \"hover\",\n  \"focus\",\n  \"alternate\",\n] as const;\n\nexport type HeroIllustrationState =\n  (typeof HERO_ILLUSTRATION_STATES)[number];\n","import type { ImageProps } from \"next/image\";\nimport { VARIANT_LABELS, type Variant } from \"@/lib/theme\";\nimport {\n  HERO_ILLUSTRATION_STATES,\n  type HeroIllustrationState,\n} from \"./heroIllustrationStates\";\nimport baseIllustration from \"../../public/BEST_ONE_EVAH.png\";\n\nexport { HERO_ILLUSTRATION_STATES };\nexport type { HeroIllustrationState };\n\nexport interface HeroIllustrationAsset {\n  readonly src: ImageProps[\"src\"];\n  readonly alt: string;\n}\n\nexport type HeroIllustrationLibrary = Record<\n  Variant,\n  Record<HeroIllustrationState, HeroIllustrationAsset>\n>;\n\nconst BASE_DESCRIPTION =\n  \"Planner assistant presenting a holographic dashboard scene\";\n\nfunction describeState(label: string, state: HeroIllustrationState) {\n  switch (state) {\n    case \"hover\":\n      return `${BASE_DESCRIPTION} with hover lighting in the ${label} theme.`;\n    case \"focus\":\n      return `${BASE_DESCRIPTION} with focus highlights tuned for the ${label} theme.`;\n    case \"alternate\":\n      return `Alternate ${label} theme take on the Planner assistant and dashboard.`;\n    default:\n      return `${BASE_DESCRIPTION} tailored to the ${label} theme.`;\n  }\n}\n\nfunction buildStateMap(\n  label: string,\n  src: ImageProps[\"src\"],\n): Record<HeroIllustrationState, HeroIllustrationAsset> {\n  const map: Partial<Record<HeroIllustrationState, HeroIllustrationAsset>> = {};\n\n  for (const state of HERO_ILLUSTRATION_STATES) {\n    map[state] = {\n      src,\n      alt: describeState(label, state),\n    } satisfies HeroIllustrationAsset;\n  }\n\n  return map as Record<HeroIllustrationState, HeroIllustrationAsset>;\n}\n\nexport const DEFAULT_HERO_VARIANT: Variant = \"lg\";\nexport const DEFAULT_HERO_STATE: HeroIllustrationState = \"idle\";\n\nconst variantEntries = Object.entries(VARIANT_LABELS) as [Variant, string][];\n\nexport const HERO_ILLUSTRATION_LIBRARY: HeroIllustrationLibrary =\n  variantEntries.reduce<HeroIllustrationLibrary>((acc, [variant, label]) => {\n    acc[variant] = buildStateMap(label, baseIllustration);\n    return acc;\n  }, {} as HeroIllustrationLibrary);\n\nexport function getHeroIllustration(\n  variant: Variant,\n  state: HeroIllustrationState,\n): HeroIllustrationAsset {\n  const variantAssets =\n    HERO_ILLUSTRATION_LIBRARY[variant] ??\n    HERO_ILLUSTRATION_LIBRARY[DEFAULT_HERO_VARIANT];\n\n  return variantAssets[state] ?? variantAssets[DEFAULT_HERO_STATE];\n}\n","\"use client\";\n\n/**\n * Header  sticky top bar with built-in segmented tabs.\n *\n * - Stays fixed while the body scrolls so content slides underneath\n * - High z-index (`z-[999]`) keeps it above surrounding chrome\n * - Soft neon glow instead of a border\n * - Offset with `topClassName` (`top-[var(--header-stack)]`) when nested under the global navbar\n * - `tabs` renders a right-aligned segmented control for section switching\n */\n\nimport * as React from \"react\";\nimport Link from \"next/link\";\nimport { withBasePath } from \"@/lib/utils\";\nimport { NeomorphicFrameStyles } from \"./NeomorphicFrameStyles\";\nimport {\n  HeaderTabs as HeaderTabsControl,\n  type HeaderTabItem,\n} from \"@/components/tabs/HeaderTabs\";\nimport { type HeaderNavItem } from \"./primary-nav\";\nimport { type TabBarProps, TabBar } from \"./TabBar\";\nimport { SegmentedControl } from \"@/components/ui/primitives/SegmentedControl\";\nimport { ThemeToggle } from \"@/components/ui/theme/ThemeToggle\";\nimport {\n  resolveUIVariant,\n  type DeprecatedUIVariant,\n  type UIVariant,\n} from \"@/components/ui/variants\";\n\nconst HEADER_VARIANTS = [\"default\", \"neo\", \"quiet\"] as const satisfies readonly UIVariant[];\ntype HeaderVariant = (typeof HEADER_VARIANTS)[number];\n\nexport interface HeaderActionsConfig {\n  leading?: React.ReactNode;\n  trailing?: React.ReactNode;\n}\n\nfunction cx(...parts: Array<string | false | null | undefined>) {\n  return parts.filter(Boolean).join(\" \");\n}\n\nfunction createTabsControl<Key extends string = string>(\n  tabs: HeaderTabsProps<Key> | undefined,\n  defaultLabel: string,\n  { defaultClassName }: { defaultClassName?: string } = {},\n) {\n  if (!tabs) {\n    return null;\n  }\n\n  const {\n    items: tabItems,\n    value: tabValue,\n    onChange: tabOnChange,\n    ariaLabel: tabAriaLabel,\n    ariaLabelledBy: tabAriaLabelledBy,\n    className: tabClassName,\n    size: tabSize,\n    align: tabAlign,\n    right: tabRight,\n    showBaseline: tabShowBaseline,\n    variant: tabVariant,\n    tablistClassName,\n    renderItem: tabRenderItem,\n    idBase: tabIdBase,\n    linkPanels: tabLinkPanels,\n    useSegmentedControl: useSegmentedControlTabs = false,\n    ...tabDomProps\n  } = tabs;\n\n  const sanitizedTabAriaLabel =\n    typeof tabAriaLabel === \"string\" && tabAriaLabel.trim().length > 0\n      ? tabAriaLabel.trim()\n      : undefined;\n  const sanitizedTabAriaLabelledBy =\n    typeof tabAriaLabelledBy === \"string\" && tabAriaLabelledBy.trim().length > 0\n      ? tabAriaLabelledBy.trim()\n      : undefined;\n  const sanitizedItems = tabItems.map(({ hint, ...item }) => {\n    void hint;\n    return item;\n  });\n\n  const mergedTabClassName = cx(\n    \"w-auto max-w-full shrink-0\",\n    defaultClassName,\n    tabClassName,\n  );\n  const hasTabBarSpecificProps =\n    tabVariant != null ||\n    (typeof tablistClassName === \"string\" && tablistClassName.trim().length > 0) ||\n    typeof tabRenderItem === \"function\";\n\n  if (hasTabBarSpecificProps) {\n    return (\n      <TabBar\n        items={sanitizedItems}\n        value={tabValue}\n        onValueChange={tabOnChange}\n        ariaLabel={sanitizedTabAriaLabel ?? defaultLabel}\n        ariaLabelledBy={sanitizedTabAriaLabelledBy}\n        idBase={tabIdBase}\n        linkPanels={tabLinkPanels}\n        className={mergedTabClassName}\n        size={tabSize}\n        align={tabAlign}\n        right={tabRight}\n        showBaseline={tabShowBaseline}\n        variant={tabVariant}\n        tablistClassName={tablistClassName}\n        renderItem={tabRenderItem}\n      />\n    );\n  }\n\n  if (useSegmentedControlTabs) {\n    const containerClassName = cx(\"relative w-full\", defaultClassName);\n\n    return (\n      <div className={containerClassName}>\n        <div className=\"flex items-center gap-[var(--space-3)]\">\n          <SegmentedControl\n            options={sanitizedItems.map((item) => ({\n              value: item.key,\n              label: item.label,\n              icon: item.icon,\n              className: item.className,\n              badge: item.badge,\n            }))}\n            value={tabValue}\n            onChange={tabOnChange}\n            ariaLabel={sanitizedTabAriaLabel ?? defaultLabel}\n            ariaLabelledBy={sanitizedTabAriaLabelledBy}\n            idBase={tabIdBase}\n            linkPanels={tabLinkPanels}\n            align={tabAlign}\n            size={tabSize}\n            className={mergedTabClassName}\n            {...tabDomProps}\n          />\n\n          {tabRight ? (\n            <div className=\"ml-auto flex items-center gap-[var(--space-2)]\">\n              {tabRight}\n            </div>\n          ) : null}\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <HeaderTabsControl\n      items={sanitizedItems}\n      value={tabValue}\n      onChange={tabOnChange}\n      ariaLabel={sanitizedTabAriaLabel ?? defaultLabel}\n      ariaLabelledBy={sanitizedTabAriaLabelledBy}\n      idBase={tabIdBase}\n      linkPanels={tabLinkPanels}\n      className={mergedTabClassName}\n      {...tabDomProps}\n    />\n  );\n}\n\nexport interface HeaderTab<Key extends string = string>\n  extends HeaderTabItem<Key> {\n  hint?: string;\n}\n\nexport type HeaderTabsProps<Key extends string = string> = Omit<\n  TabBarProps<Key>,\n  \"items\" | \"value\" | \"defaultValue\" | \"onValueChange\"\n> & {\n  items: HeaderTab<Key>[];\n  value: Key;\n  onChange: (key: Key) => void;\n  useSegmentedControl?: boolean;\n};\n\nexport interface HeaderProps<Key extends string = string>\n  extends Omit<React.HTMLAttributes<HTMLElement>, \"title\"> {\n  eyebrow?: React.ReactNode;\n  heading: React.ReactNode;\n  subtitle?: React.ReactNode;\n  icon?: React.ReactNode;\n  navItems?: HeaderNavItem[];\n  navItemsLabel?: string;\n  /** Primary navigation rendered to the left of tabs. */\n  nav?: React.ReactNode;\n  /** Right slot for actions (renders alongside tabs). */\n  right?: React.ReactNode;\n  /** Configurable actions cluster rendered next to tabs. */\n  actions?: React.ReactNode | HeaderActionsConfig;\n  /** Utility controls rendered at the far right (e.g., theme toggle, profile). */\n  utilities?: React.ReactNode;\n  showThemeToggle?: boolean;\n  search?: React.ReactNode;\n  subTabs?: HeaderTabsProps<Key>;\n  children?: React.ReactNode;\n  /** Still overridable, but true by default */\n  sticky?: boolean;\n  /** Offset from top; matches `--header-stack` when under SiteChrome */\n  topClassName?: string;\n  barClassName?: string;\n  bodyClassName?: string;\n  /** Reduce vertical padding and height, ideal for denser layouts. */\n  compact?: boolean;\n  /** Built-in top-right segmented tabs (preferred). */\n  tabs?: HeaderTabsProps<Key>;\n  /** Optional card-style framing. */\n  variant?: HeaderVariant | Extract<DeprecatedUIVariant, \"plain\">;\n  /** Show neon underline */\n  underline?: boolean;\n  /** Controls the underline gradient tone. Defaults to a neutral treatment. */\n  underlineTone?: \"brand\" | \"neutral\";\n}\n\nexport function Header<Key extends string = string>({\n  eyebrow,\n  heading,\n  subtitle,\n  icon,\n  navItems,\n  navItemsLabel,\n  nav,\n  right,\n  actions,\n  utilities,\n  showThemeToggle = false,\n  search,\n  subTabs,\n  children,\n  sticky = true,\n  topClassName = \"top-[var(--header-stack)]\", // sync with --header-stack token\n  className,\n  barClassName,\n  bodyClassName,\n  compact = false,\n  tabs,\n  variant = \"default\",\n  underline = true,\n  underlineTone = \"neutral\",\n  ...rest\n}: HeaderProps<Key>) {\n  const resolvedVariant = resolveUIVariant<HeaderVariant>(variant, {\n    allowed: HEADER_VARIANTS,\n    fallback: \"default\",\n  });\n  const isNeo = resolvedVariant === \"neo\";\n  const isQuiet = resolvedVariant === \"quiet\";\n  const shouldRenderNeomorphicFrameStyles = isNeo;\n  const shouldUseTranslucentSurface = resolvedVariant === \"default\";\n  const translucentSurfaceClasses = shouldUseTranslucentSurface\n    ? \"border-b border-card-hairline-60 bg-surface/80 backdrop-blur\"\n    : \"\";\n\n  const tabControl = createTabsControl(tabs, \"Header tabs\");\n  const subTabControl = createTabsControl(subTabs, \"Header secondary tabs\", {\n    defaultClassName: \"w-full\",\n  });\n\n  const navLabel =\n    typeof navItemsLabel === \"string\" && navItemsLabel.trim().length > 0\n      ? navItemsLabel.trim()\n      : \"Primary navigation\";\n  const navNode = React.useMemo(() => {\n    if (nav) {\n      return nav;\n    }\n    if (!navItems || navItems.length === 0) {\n      return null;\n    }\n\n    return (\n      <nav aria-label={navLabel} className=\"flex items-center gap-[var(--space-1)]\">\n        {navItems.map((item) => {\n          const key = item.key;\n          const active = Boolean(item.active);\n          const content = (\n            <span className=\"flex items-center gap-[var(--space-1)]\">\n              {item.icon ? (\n                <span aria-hidden className=\"inline-flex shrink-0 text-muted-foreground\">\n                  {item.icon}\n                </span>\n              ) : null}\n              <span>{item.label}</span>\n            </span>\n          );\n\n          const className = cx(\n            \"flex items-center gap-[var(--space-1)] rounded-full px-[var(--space-3)] py-[var(--space-1)] text-label font-medium transition-colors\",\n            active\n              ? \"bg-card/70 text-foreground shadow-sm\"\n              : \"text-muted-foreground hover:text-foreground focus-visible:text-foreground\",\n          );\n\n          if (item.href) {\n            const href = withBasePath(item.href, { skipForNextLink: true });\n            return (\n              <Link\n                key={key}\n                href={href}\n                className={className}\n                aria-current={active ? \"page\" : undefined}\n              >\n                {content}\n              </Link>\n            );\n          }\n\n          return (\n            <button\n              key={key}\n              type=\"button\"\n              onClick={item.onClick}\n              className={className}\n              data-state={active ? \"active\" : \"inactive\"}\n            >\n              {content}\n            </button>\n          );\n        })}\n      </nav>\n    );\n  }, [nav, navItems, navLabel]);\n\n  const resolvedActions = React.useMemo(() => {\n    if (actions !== undefined) {\n      if (\n        actions === null ||\n        React.isValidElement(actions) ||\n        typeof actions !== \"object\" ||\n        (!(\"leading\" in actions) && !(\"trailing\" in actions))\n      ) {\n        return actions as React.ReactNode;\n      }\n\n      const { leading, trailing } = actions as HeaderActionsConfig;\n      return (\n        <div className=\"flex items-center gap-[var(--space-2)]\">\n          {leading}\n          {trailing}\n        </div>\n      );\n    }\n\n    return right;\n  }, [actions, right]);\n\n  const themeToggleNode = React.useMemo(\n    () =>\n      showThemeToggle ? (\n        <ThemeToggle className=\"shrink-0\" ariaLabel=\"Theme\" />\n      ) : null,\n    [showThemeToggle],\n  );\n\n  const utilitiesNode = React.useMemo(() => {\n    if (!utilities && !themeToggleNode) {\n      return null;\n    }\n\n    return (\n      <>\n        {utilities}\n        {themeToggleNode}\n      </>\n    );\n  }, [themeToggleNode, utilities]);\n\n  const hasTabs = Boolean(tabControl);\n  const hasSubTabs = Boolean(subTabControl);\n  const hasActions = resolvedActions != null;\n  const hasUtilities = utilitiesNode != null;\n  const hasSearch = search != null;\n  const hasNav = navNode != null;\n  const showRightStack = hasTabs || hasActions || hasUtilities || hasSearch;\n  const hasChildren = children != null;\n  const shouldRenderBody = hasSubTabs || hasChildren;\n\n  const stickyClasses = sticky ? cx(\"sticky\", topClassName) : \"\";\n\n  const defaultBarPx = isQuiet ? \"var(--space-4)\" : \"var(--space-3)\";\n  const defaultBarSmPx = \"var(--space-4)\";\n  const barPadding = cx(\n    `px-[var(--header-bar-px,${defaultBarPx})]`,\n    `sm:px-[var(--header-bar-sm-px,${defaultBarSmPx})]`,\n    compact\n      ? \"py-[var(--space-3)]\"\n      : isQuiet\n        ? \"py-[var(--space-4)]\"\n        : \"py-[var(--space-3)] sm:py-[var(--space-4)]\",\n  );\n  const minHeightClass = compact\n    ? \"min-h-[var(--control-h-sm)]\"\n    : \"min-h-[var(--space-7)]\";\n\n  const defaultBodyPx = isQuiet ? \"var(--space-4)\" : \"var(--space-3)\";\n  const defaultBodySmPx = \"var(--space-4)\";\n  const bodyPadding = cx(\n    `px-[var(--header-body-px,${defaultBodyPx})]`,\n    `sm:px-[var(--header-body-sm-px,${defaultBodySmPx})]`,\n    isQuiet\n      ? \"py-[var(--space-4)]\"\n      : \"py-[var(--space-3)] sm:py-[var(--space-4)]\",\n  );\n\n  return (\n    <>\n      {shouldRenderNeomorphicFrameStyles ? <NeomorphicFrameStyles /> : null}\n      <header\n        className={cx(\n          \"z-[999] relative isolate\",\n          isNeo && \"veil-soft r-card-lg hero2-neomorph\",\n          isNeo && \"overflow-hidden\",\n          translucentSurfaceClasses,\n\n          // Underline accent\n          underline &&\n            cx(\n              \"after:absolute after:left-0 after:bottom-0 after:h-px after:w-full after:bg-gradient-to-r after:z-[2]\",\n              underlineTone === \"brand\"\n                ? \"after:from-primary after:via-accent after:to-transparent\"\n                : \"after:from-card-hairline after:via-card-hairline-70 after:to-transparent\",\n            ),\n\n          className,\n        )}\n        {...rest}\n      >\n        {/* Top bar */}\n        <div\n          className={cx(\n            stickyClasses,\n            \"relative flex items-center gap-[var(--space-3)] sm:gap-[var(--space-4)]\",\n            barPadding,\n            minHeightClass,\n            shouldRenderNeomorphicFrameStyles && \"z-[2]\",\n            hasNav && \"flex-wrap gap-y-[var(--space-2)] sm:flex-nowrap\",\n            barClassName,\n          )}\n        >\n          {/* Left: icon + text */}\n          <div\n            className={cx(\n              \"flex min-w-0 flex-1 items-center gap-[var(--space-3)] sm:gap-[var(--space-4)]\",\n              hasNav && \"flex-wrap gap-y-[var(--space-2)] sm:flex-nowrap\",\n            )}\n          >\n            <div className=\"flex min-w-0 items-center gap-[var(--space-2)] sm:gap-[var(--space-3)]\">\n              {icon ? (\n                <span className=\"shrink-0 opacity-90\">{icon}</span>\n              ) : null}\n              <div className=\"min-w-0\">\n                {eyebrow ? (\n                  <div className=\"mb-[var(--space-1)] text-balance break-words text-label font-medium tracking-[0.02em] uppercase text-muted-foreground\">\n                    {eyebrow}\n                  </div>\n                ) : null}\n                <div className=\"flex min-w-0 items-baseline gap-[var(--space-2)]\">\n                  <h1 className=\"text-balance break-words text-title leading-tight text-foreground sm:text-title-lg font-semibold tracking-[-0.01em]\">\n                    {heading}\n                  </h1>\n                  {subtitle ? (\n                    <span className=\"hidden truncate text-label font-medium tracking-[0.02em] text-muted-foreground sm:inline\">\n                      {subtitle}\n                    </span>\n                  ) : null}\n                </div>\n              </div>\n            </div>\n            {hasNav ? (\n              <div\n                className={cx(\n                  \"flex min-w-0 flex-1 items-center gap-[var(--space-1)] overflow-x-auto whitespace-nowrap text-label font-medium text-muted-foreground sm:text-ui sm:overflow-visible\",\n                  \"[&_[data-state=active]]:text-foreground [&_[data-state=active]]:opacity-100\",\n                  \"[&_[data-state=inactive]]:text-muted-foreground [&_[data-state=inactive]:hover]:text-foreground [&_[data-state=inactive]:focus-visible]:text-foreground\",\n                )}\n                data-slot=\"primary-nav\"\n              >\n                {navNode}\n              </div>\n            ) : null}\n          </div>\n\n          {/* Right slot / tabs */}\n          {showRightStack ? (\n            <div className=\"ml-auto flex min-w-0 items-center gap-[var(--space-3)] self-start sm:gap-[var(--space-4)]\">\n              {hasTabs ? tabControl : null}\n              {hasSearch ? (\n                <div className=\"flex min-w-0 items-center gap-[var(--space-2)]\">\n                  {search}\n                </div>\n              ) : null}\n              {hasActions ? (\n                <div className=\"flex shrink-0 items-center gap-[var(--space-2)]\">\n                  {resolvedActions}\n                </div>\n              ) : null}\n              {hasUtilities ? (\n                <div\n                  className={cx(\n                    \"flex shrink-0 items-center gap-[var(--space-2)] text-muted-foreground\",\n                    \"[&_[data-state=active]]:text-foreground [&_[data-state=open]]:text-foreground\",\n                  )}\n                  data-slot=\"utilities\"\n                >\n                  {utilitiesNode}\n                </div>\n              ) : null}\n            </div>\n          ) : null}\n        </div>\n\n        {/* Body under the bar */}\n        {shouldRenderBody ? (\n          <div\n            className={cx(\n              \"relative flex flex-col gap-[var(--space-3)]\",\n              shouldRenderNeomorphicFrameStyles && \"z-[2]\",\n              bodyPadding,\n              bodyClassName,\n            )}\n          >\n            {hasSubTabs ? (\n              <div className=\"w-full overflow-x-auto\">{subTabControl}</div>\n            ) : null}\n            {hasChildren ? children : null}\n          </div>\n        ) : null}\n      </header>\n    </>\n  );\n}\n\n/** @deprecated Use the `tabs` prop on `Header` instead. */\nexport function HeaderTabs<Key extends string = string>({\n  tabs,\n  activeKey,\n  onChange,\n  ariaLabel,\n  ariaLabelledBy,\n}: {\n  tabs: HeaderTab<Key>[];\n  activeKey: Key;\n  onChange: (key: Key) => void;\n  ariaLabel?: string;\n  ariaLabelledBy?: string;\n}) {\n  const sanitizedAriaLabel =\n    typeof ariaLabel === \"string\" && ariaLabel.trim().length > 0\n      ? ariaLabel.trim()\n      : undefined;\n  const sanitizedAriaLabelledBy =\n    typeof ariaLabelledBy === \"string\" && ariaLabelledBy.trim().length > 0\n      ? ariaLabelledBy.trim()\n      : undefined;\n  const sanitizedItems = tabs.map(({ hint, ...item }) => {\n    void hint;\n    return item;\n  });\n\n  return (\n    <HeaderTabsControl\n      items={sanitizedItems}\n      value={activeKey}\n      onChange={onChange}\n      ariaLabel={sanitizedAriaLabel ?? \"Header tabs\"}\n      ariaLabelledBy={sanitizedAriaLabelledBy}\n    />\n  );\n}\n","import * as React from \"react\";\nimport { Slot } from \"@radix-ui/react-slot\";\nimport { cn } from \"@/lib/utils\";\nimport styles from \"./Card.module.css\";\n\nexport type CardDepth = \"base\" | \"raised\" | \"sunken\";\n\nexport type CardProps = React.HTMLAttributes<HTMLDivElement> & {\n  asChild?: boolean;\n  depth?: CardDepth;\n  glitch?: boolean;\n  overlay?: React.ReactNode;\n};\n\nconst depthShadowClasses: Record<CardDepth, string> = {\n  base: \"shadow-neo-soft\",\n  raised:\n    \"shadow-neo hover:shadow-neo-strong focus-visible:shadow-neo-strong focus-within:shadow-neo-strong\",\n  sunken: \"shadow-neo-inset\",\n};\n\nconst hasCardOverlay = (node: React.ReactNode): boolean => {\n  if (node === null || node === undefined || typeof node === \"boolean\") {\n    return false;\n  }\n  if (Array.isArray(node)) {\n    return node.some((child) => hasCardOverlay(child));\n  }\n  if (React.isValidElement(node)) {\n    type OverlayElementProps = {\n      children?: React.ReactNode;\n      [\"data-card-overlay\"]?: string;\n    };\n    const element = node as React.ReactElement<OverlayElementProps>;\n    if (element.props?.[\"data-card-overlay\"] === \"true\") {\n      return true;\n    }\n    return hasCardOverlay(element.props?.children);\n  }\n  return false;\n};\n\nconst Card = React.forwardRef<React.ElementRef<\"div\">, CardProps>(\n  (\n    {\n      className,\n      asChild = false,\n      depth = \"base\",\n      glitch = false,\n      children,\n      overlay,\n      ...props\n    },\n    ref,\n  ) => {\n    const { [\"data-text\"]: providedGlitchText, ...restProps } = props as CardProps & {\n      [\"data-text\"]?: unknown;\n    };\n    const glitchText =\n      typeof providedGlitchText === \"string\" ? providedGlitchText : undefined;\n\n    const baseClassName = cn(\n      styles.root,\n      glitch && \"group/glitch isolate\",\n      \"rounded-card r-card-lg p-[var(--space-4)] border border-card-hairline/60 bg-card/60 text-card-foreground\",\n      depthShadowClasses[depth],\n      className,\n    );\n\n    const overlayEnabled = glitch && !hasCardOverlay(children);\n    const glitchOverlay = overlayEnabled ? (\n      <span\n        aria-hidden\n        data-card-overlay=\"true\"\n        className=\"pointer-events-none absolute inset-0 -z-10 overflow-hidden rounded-[inherit]\"\n      >\n        <span\n          className=\"absolute inset-0 rounded-[inherit] bg-gradient-blob-primary opacity-0 blur-[var(--space-4)] transition-opacity duration-motion-sm ease-out motion-reduce:animate-none motion-safe:animate-blob-drift group-hover/glitch:opacity-[var(--glitch-overlay-opacity-card,0.08)] group-focus-visible/glitch:opacity-[var(--glitch-overlay-opacity-card,0.08)] group-focus-within/glitch:opacity-[var(--glitch-overlay-opacity-card,0.08)]\"\n        />\n        <span\n          className=\"absolute inset-0 rounded-[inherit] bg-glitch-noise bg-cover opacity-0 mix-blend-screen transition-opacity duration-motion-sm ease-out motion-reduce:animate-none motion-safe:animate-glitch-noise group-hover/glitch:opacity-[var(--glitch-noise-level,0.06)] group-focus-visible/glitch:opacity-[var(--glitch-noise-level,0.06)] group-focus-within/glitch:opacity-[calc(var(--glitch-noise-level,0.06)*1.3)]\"\n        />\n      </span>\n    ) : null;\n\n    const glitchSprite = (\n      <div aria-hidden className=\"glitch-sprite rounded-[inherit]\" />\n    );\n\n    const baseProps = {\n      className: baseClassName,\n      \"data-depth\": depth,\n      \"data-glitch\": glitch ? \"true\" : undefined,\n      \"data-text\": glitchText,\n      ...restProps,\n    };\n\n    if (asChild) {\n      const childCount = React.Children.count(children);\n      if (childCount !== 1 || !React.isValidElement(children)) {\n        if (process.env.NODE_ENV !== \"production\") {\n          console.warn(\"[Card] `asChild` requires a single valid React element child.\");\n        }\n\n        return null;\n      }\n\n      const child = React.Children.only(children) as React.ReactElement<{ children?: React.ReactNode }>;\n      const content = (\n        <>\n          {glitchSprite}\n          {glitchOverlay}\n          {child.props.children}\n          {overlay}\n        </>\n      );\n\n      return (\n        <Slot {...baseProps} ref={ref as React.ForwardedRef<HTMLElement>}>\n          {React.cloneElement(child, undefined, content)}\n        </Slot>\n      );\n    }\n\n    return (\n      <div ref={ref} {...baseProps}>\n        {glitchSprite}\n        {glitchOverlay}\n        {children}\n        {overlay}\n      </div>\n    );\n  },\n);\nCard.displayName = \"Card\";\n\nexport const CardHeader = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"flex flex-col space-y-[var(--space-2)]\",\n      className,\n    )}\n    {...props}\n  />\n));\nCardHeader.displayName = \"CardHeader\";\n\nexport const CardTitle = React.forwardRef<\n  HTMLHeadingElement,\n  React.HTMLAttributes<HTMLHeadingElement>\n>(({ className, ...props }, ref) => (\n  <h3\n    ref={ref}\n    className={cn(\"text-title font-semibold tracking-[-0.01em]\", className)}\n    {...props}\n  />\n));\nCardTitle.displayName = \"CardTitle\";\n\nexport const CardDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => (\n  <p\n    ref={ref}\n    className={cn(\"text-ui text-muted-foreground\", className)}\n    {...props}\n  />\n));\nCardDescription.displayName = \"CardDescription\";\n\nexport const CardContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"pt-[var(--space-2)]\", className)}\n    {...props}\n  />\n));\nCardContent.displayName = \"CardContent\";\n\nexport const CardFooter = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex items-center pt-[var(--space-4)]\", className)}\n    {...props}\n  />\n));\nCardFooter.displayName = \"CardFooter\";\nconst CardBody = CardContent;\n\nexport { Card, CardBody };\n","import * as React from 'react'\nimport { Card as LegacyCard, CardBody as LegacyCardBody, CardContent as LegacyCardContent, CardDescription as LegacyCardDescription, CardFooter as LegacyCardFooter, CardHeader as LegacyCardHeader, CardTitle as LegacyCardTitle } from '@/legacy/ui/primitives/Card'\nimport { isLegacyUiEnabled } from '@/lib/useLegacyUi'\nimport { cn } from '@/lib/utils'\nimport {\n  Card as ModernCard,\n  CardBody as ModernCardBody,\n  CardContent as ModernCardContent,\n  CardDescription as ModernCardDescription,\n  CardFooter as ModernCardFooter,\n  CardHeader as ModernCardHeader,\n  CardTitle as ModernCardTitle,\n} from './primitives/Card'\nimport type { CardProps } from './primitives/Card'\n\nexport type { CardDepth, CardProps, CardStatus } from './primitives/Card'\n\nconst ForwardedCard = React.forwardRef<HTMLElement, CardProps>(function ForwardedCard(props, ref) {\n  if (isLegacyUiEnabled()) {\n    return <LegacyCard {...props} ref={ref as never} />\n  }\n  return <ModernCard {...props} ref={ref as never} />\n})\n\nForwardedCard.displayName = 'Card'\n\nexport const Card = ForwardedCard as typeof ModernCard\nexport const CardHeader = ModernCardHeader\nexport const CardTitle = ModernCardTitle\nexport const CardDescription = ModernCardDescription\nexport const CardContent = ModernCardContent\nexport const CardBody = ModernCardBody\nexport const CardFooter = ModernCardFooter\n\nexport const cardSurfaceClassName = cn(\n  'relative overflow-hidden',\n  'card-neo-soft border border-card-hairline',\n  '[box-shadow:var(--depth-shadow-soft)]',\n  '[--neo-card-overlay-inset:0px] [--neo-card-overlay-opacity:var(--surface-overlay-strong,0.2)]',\n)\n","\"use client\";\n\nimport * as React from \"react\";\nimport { X } from \"lucide-react\";\n\nimport { cn } from \"@/lib/utils\";\nimport { Badge } from \"./Badge\";\nimport { FieldRoot } from \"./Field\";\n\nexport type TagInputProps = {\n  value: string[];\n  onChange?: (next: string[]) => void;\n  placeholder?: string;\n  ariaLabelledby?: string;\n  helper?: React.ReactNode;\n  className?: string;\n  disabled?: boolean;\n  readOnly?: boolean;\n};\n\nexport function TagInput({\n  value,\n  onChange,\n  placeholder = \"Add tag\",\n  ariaLabelledby,\n  helper,\n  className,\n  disabled = false,\n  readOnly = false,\n}: TagInputProps) {\n  const inputRef = React.useRef<HTMLInputElement>(null);\n  const [draft, setDraft] = React.useState(\"\");\n  const helperId = React.useId();\n\n  const tags = React.useMemo(() => (Array.isArray(value) ? value : []), [value]);\n\n  React.useEffect(() => {\n    setDraft(\"\");\n  }, [tags]);\n\n  function focusInput() {\n    inputRef.current?.focus();\n  }\n\n  function addTag(tagRaw: string) {\n    if (!onChange || disabled || readOnly) return;\n    const normalized = tagRaw.trim().replace(/^#/, \"\");\n    if (!normalized || tags.includes(normalized)) return;\n    onChange([...tags, normalized]);\n  }\n\n  function removeTag(tag: string) {\n    if (!onChange || disabled || readOnly) return;\n    onChange(tags.filter((t) => t !== tag));\n  }\n\n  function handleKeyDown(e: React.KeyboardEvent<HTMLInputElement>) {\n    if (e.key === \"Enter\") {\n      e.preventDefault();\n      addTag(draft);\n      setDraft(\"\");\n      return;\n    }\n\n    if (e.key === \"Backspace\" && draft === \"\" && tags.length > 0) {\n      removeTag(tags[tags.length - 1]);\n    }\n  }\n\n  return (\n    <FieldRoot\n      className={cn(\"cursor-text\", className)}\n      helper={helper}\n      helperId={helper ? helperId : undefined}\n      disabled={disabled}\n      readOnly={readOnly}\n      aria-labelledby={ariaLabelledby}\n      onClick={focusInput}\n    >\n      <div className=\"flex min-h-[var(--control-h-md)] w-full flex-wrap items-center gap-[var(--space-2)] px-[var(--space-3)] py-[var(--space-2)]\">\n        {tags.map((tag) => (\n          <Badge\n            key={tag}\n            interactive\n            className=\"group text-ui\"\n            title=\"Remove tag\"\n            onClick={() => removeTag(tag)}\n          >\n            <span>#{tag}</span>\n            <X className=\"ml-[var(--space-1)] size-[var(--space-3)] opacity-0 transition-opacity group-hover:opacity-100\" />\n          </Badge>\n        ))}\n\n        <input\n          ref={inputRef}\n          value={draft}\n          onChange={(e) => setDraft(e.target.value)}\n          onKeyDown={handleKeyDown}\n          placeholder={placeholder}\n          aria-labelledby={ariaLabelledby}\n          disabled={disabled}\n          readOnly={readOnly}\n          className=\"min-w-[var(--space-12)] flex-1 bg-transparent text-ui outline-none placeholder:text-muted-foreground\"\n        />\n      </div>\n    </FieldRoot>\n  );\n}\n","import * as React from \"react\";\nimport { getRingMetrics, type RingSize } from \"@/lib/tokens\";\nimport RingNoiseDefs from \"./RingNoiseDefs\";\n\ninterface ProgressRingIconProps {\n  pct: number; // 0..100\n  size?: number | RingSize;\n  strokeWidth?: number;\n}\n\nconst DEFAULT_RING_SIZE: RingSize = \"m\";\n\nexport default function ProgressRingIcon({\n  pct,\n  size,\n  strokeWidth,\n}: ProgressRingIconProps) {\n  const uniqueId = React.useId();\n  const noiseFilterId = React.useMemo(\n    () => `ring-noise-${uniqueId}`,\n    [uniqueId],\n  );\n  const ringSize = typeof size === \"string\" ? size : DEFAULT_RING_SIZE;\n  const metrics = React.useMemo(\n    () =>\n      strokeWidth == null\n        ? getRingMetrics(ringSize)\n        : getRingMetrics(ringSize, { stroke: strokeWidth }),\n    [ringSize, strokeWidth],\n  );\n  const resolvedSize = typeof size === \"number\" ? size : metrics.diameter;\n  const ringStrokeWidth = strokeWidth ?? metrics.stroke;\n  const trackInset = metrics.inset;\n  const radius = Math.max(resolvedSize / 2 - trackInset, 0);\n  const circumference = 2 * Math.PI * radius;\n  const offset = circumference - (pct / 100) * circumference;\n  return (\n    <svg\n      className=\"h-full w-full rotate-[-90deg]\"\n      viewBox={`0 0 ${resolvedSize} ${resolvedSize}`}\n      aria-hidden=\"true\"\n      focusable=\"false\"\n    >\n      <defs>\n        <RingNoiseDefs id={noiseFilterId} />\n      </defs>\n      <circle\n        cx={resolvedSize / 2}\n        cy={resolvedSize / 2}\n        r={radius}\n        stroke=\"currentColor\"\n        strokeWidth={ringStrokeWidth}\n        className=\"text-foreground/20\"\n        fill=\"none\"\n      />\n      <circle\n        cx={resolvedSize / 2}\n        cy={resolvedSize / 2}\n        r={radius}\n        stroke=\"currentColor\"\n        strokeWidth={ringStrokeWidth}\n        strokeLinecap=\"round\"\n        strokeDasharray={circumference}\n        strokeDashoffset={offset}\n        className=\"text-accent shadow-ring motion-safe:animate-pulse [--ring:var(--accent-1)]\"\n        filter={`url(#${noiseFilterId})`}\n        fill=\"none\"\n      />\n    </svg>\n  );\n}\n","\"use client\";\n\nimport * as React from \"react\";\n\nimport { useOrganicDepthEnabled } from \"@/lib/depth-theme-context\";\nimport { cn } from \"@/lib/utils\";\n\nimport { BlobContainer } from \"./BlobContainer\";\nimport styles from \"./Badge.module.css\";\nimport neumorphicStyles from \"../neumorphic.module.css\";\n\ntype BaseSize = \"sm\" | \"md\" | \"lg\" | \"xl\";\ntype Size = \"xs\" | BaseSize;\ntype Tone =\n  | \"neutral\"\n  | \"primary\"\n  | \"accent\"\n  | \"top\"\n  | \"jungle\"\n  | \"mid\"\n  | \"bot\"\n  | \"support\";\n\ntype BadgeOwnProps<T extends React.ElementType = \"span\"> = {\n  size?: Size;\n  tone?: Tone;\n  interactive?: boolean;\n  selected?: boolean;\n  glitch?: boolean;\n  as?: T;\n  disabled?: boolean;\n};\n\nexport type BadgeProps<T extends React.ElementType = \"span\"> =\n  BadgeOwnProps<T> &\n    Omit<React.ComponentPropsWithoutRef<T>, keyof BadgeOwnProps<T>>;\n\nconst baseSizeMap: Record<BaseSize, string> = {\n  sm: \"px-[var(--space-2)] py-[var(--space-1)] text-label leading-none [&_svg]:size-[var(--icon-size-xs)]\",\n  md: \"px-[var(--space-3)] py-[var(--space-2)] text-label leading-none [&_svg]:size-[var(--icon-size-sm)]\",\n  lg: \"px-[var(--space-4)] py-[var(--space-2)] text-ui leading-none [&_svg]:size-[var(--icon-size-md)]\",\n  xl: \"px-[var(--space-5)] py-[var(--space-3)] text-title leading-none [&_svg]:size-[var(--icon-size-xl)]\",\n};\n\nconst sizeMap: Record<Size, string> = {\n  xs: baseSizeMap.sm,\n  ...baseSizeMap,\n};\n\nconst toneBorder: Record<Tone, string> = {\n  neutral: \"border-card-hairline\",\n  primary: \"border-ring\",\n  accent: \"border-accent-overlay\",\n  top: \"border-tone-top\",\n  jungle: \"border-tone-jg\",\n  mid: \"border-tone-mid\",\n  bot: \"border-tone-bot\",\n  support: \"border-tone-sup\",\n};\n\nconst toneInteraction: Record<Tone, string> = {\n  neutral: \"[--hover:hsl(var(--muted)/0.28)] [--active:hsl(var(--muted)/0.36)]\",\n  primary: \"[--hover:hsl(var(--primary)/0.22)] [--active:hsl(var(--primary)/0.3)]\",\n  accent: \"[--hover:hsl(var(--accent-1)/0.22)] [--active:hsl(var(--accent-1)/0.32)]\",\n  top: \"[--hover:hsl(var(--tone-top)/0.24)] [--active:hsl(var(--tone-top)/0.34)]\",\n  jungle: \"[--hover:hsl(var(--tone-jg)/0.24)] [--active:hsl(var(--tone-jg)/0.34)]\",\n  mid: \"[--hover:hsl(var(--tone-mid)/0.24)] [--active:hsl(var(--tone-mid)/0.34)]\",\n  bot: \"[--hover:hsl(var(--tone-bot)/0.24)] [--active:hsl(var(--tone-bot)/0.34)]\",\n  support: \"[--hover:hsl(var(--tone-sup)/0.24)] [--active:hsl(var(--tone-sup)/0.34)]\",\n};\n\nexport function Badge<T extends React.ElementType = \"span\">(\n  props: BadgeProps<T>,\n) {\n  const {\n    size = \"md\",\n    tone = \"neutral\",\n    interactive = false,\n    selected,\n    glitch = false,\n    disabled = false,\n    as,\n    className,\n    children,\n    ...rest\n  } = props;\n  const Comp = (as ?? (interactive ? \"button\" : \"span\")) as React.ElementType;\n  const isStringElement = typeof Comp === \"string\";\n  const isButtonElement = isStringElement && Comp === \"button\";\n  const isToggleBadge = Object.prototype.hasOwnProperty.call(props, \"selected\");\n  const isSelected = selected ?? false;\n  const {\n    onKeyDown: userOnKeyDown,\n    onClick: userOnClick,\n    [\"data-text\"]: providedGlitchText,\n    ...restProps\n  } = rest as typeof rest & {\n    onKeyDown?: React.KeyboardEventHandler<HTMLElement>;\n    onClick?: React.MouseEventHandler<HTMLElement>;\n    \"data-text\"?: string;\n  };\n\n  const typeProps =\n    isButtonElement && !Object.prototype.hasOwnProperty.call(restProps, \"type\")\n      ? { type: \"button\" as const }\n      : {};\n\n  const roleProps =\n    interactive && isStringElement && !isButtonElement\n      ? {\n          role: \"button\" as const,\n          ...(Object.prototype.hasOwnProperty.call(restProps, \"tabIndex\")\n            ? {}\n            : { tabIndex: 0 }),\n        }\n      : {};\n  const disabledProps =\n    isButtonElement || !isStringElement ? { disabled } : {};\n  const mergedOnKeyDown: React.KeyboardEventHandler<HTMLElement> | undefined =\n    interactive && !isButtonElement\n      ? (event) => {\n          userOnKeyDown?.(event);\n          if (event.defaultPrevented || disabled) {\n            return;\n          }\n\n          if (\n            event.key === \"Enter\" ||\n            event.key === \" \" ||\n            event.key === \"Space\" ||\n            event.key === \"Spacebar\"\n          ) {\n            event.preventDefault();\n            const element = event.currentTarget as HTMLElement | null;\n            element?.click();\n          }\n        }\n      : userOnKeyDown;\n\n  const organicDepth = useOrganicDepthEnabled();\n  const glitchText = glitch\n    ? providedGlitchText ??\n      (typeof children === \"string\" ? children : undefined)\n    : providedGlitchText;\n\n  return (\n    <Comp\n      {...restProps}\n      {...typeProps}\n      {...roleProps}\n      {...disabledProps}\n      onClick={userOnClick}\n      onKeyDown={mergedOnKeyDown}\n      data-selected={isSelected ? \"true\" : undefined}\n      data-disabled={disabled ? \"true\" : undefined}\n      aria-disabled={disabled ? \"true\" : undefined}\n      aria-pressed={interactive && isToggleBadge ? isSelected : undefined}\n      data-text={glitchText}\n      className={cn(\n        neumorphicStyles.neu,\n        styles.root,\n        organicDepth && styles.organicBadge,\n        \"relative inline-flex max-w-full items-center gap-[var(--space-2)] whitespace-nowrap font-medium tracking-[0.02em]\",\n        \"border\",\n        sizeMap[size],\n        toneBorder[tone],\n        interactive &&\n          cn(\n            styles.interactive,\n            toneInteraction[tone],\n            \"focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background focus-visible:shadow-[var(--shadow-glow-md)]\",\n            \"data-[disabled=true]:cursor-default\",\n            !isButtonElement && \"data-[disabled=true]:pointer-events-none\",\n          ),\n        isSelected &&\n          \"bg-primary-soft/36 border-ring-contrast shadow-glow-xl text-on-accent\",\n        glitch &&\n          cn(styles.glitch, \"group/glitch isolate\"),\n        \"data-[disabled=true]:opacity-disabled\",\n        className,\n      )}\n    >\n      {glitch ? (\n        <BlobContainer overlayToken=\"glitch-overlay-button-opacity-reduced\" />\n      ) : null}\n      {children}\n    </Comp>\n  );\n}\n","'use client';\n\nimport * as React from \"react\";\n\nimport { cn } from \"@/lib/utils\";\n\nexport type NoiseLevel = \"none\" | \"subtle\" | \"moderate\";\n\nconst noiseOverlayOpacity: Record<Exclude<NoiseLevel, \"none\">, string> = {\n  subtle: \"opacity-[var(--texture-noise-opacity,0.05)]\",\n  moderate: \"opacity-[calc(var(--texture-noise-opacity,0.05)*1.2)]\",\n};\n\nexport interface NoiseOverlayProps\n  extends Omit<React.HTMLAttributes<HTMLSpanElement>, \"children\"> {\n  level?: NoiseLevel;\n}\n\nexport function NoiseOverlay({ level = \"subtle\", className, ...props }: NoiseOverlayProps) {\n  if (level === \"none\") {\n    return null;\n  }\n\n  const opacityClass = noiseOverlayOpacity[level];\n\n  return (\n    <span\n      aria-hidden\n      data-noise-overlay=\"true\"\n      className={cn(\n        \"pointer-events-none absolute inset-0 z-[-1] overflow-hidden rounded-[inherit]\",\n        className,\n      )}\n      {...props}\n    >\n      <span\n        aria-hidden\n        className={cn(\n          \"noise-overlay__tint absolute inset-0 rounded-[inherit] bg-[radial-gradient(180deg_at_16%_8%,hsl(var(--accent-1)/0.22),transparent_62%),radial-gradient(160deg_at_80%_-6%,hsl(var(--accent-2)/0.2),transparent_60%),linear-gradient(180deg,hsl(var(--card)/0.18),transparent_70%))]\",\n          opacityClass,\n        )}\n      />\n      <span\n        aria-hidden\n        style={{ backgroundImage: \"var(--texture-scanlines)\" }}\n        className={cn(\n          \"noise-overlay__grain absolute inset-0 rounded-[inherit] bg-[var(--texture-scanlines)] mix-blend-soft-light\",\n          opacityClass,\n        )}\n      />\n    </span>\n  );\n}\n","\"use client\";\n\nimport * as React from \"react\";\n\nimport { createGalleryPreview, defineGallerySection } from \"@/components/gallery/registry\";\nimport { Button } from \"@/components/ui\";\n\nimport { SearchBar } from \"./SearchBar\";\n\ntype SearchBarStateHelpers = {\n  interactiveValue: string;\n  onInteractiveChange: (value: string) => void;\n  noop: (value: string) => void;\n  renderFiltersButton: () => React.ReactNode;\n};\n\ntype SearchBarStateSpec = {\n  id: string;\n  name: string;\n  getProps: (\n    helpers: SearchBarStateHelpers,\n  ) => React.ComponentProps<typeof SearchBar>;\n  code?: string;\n};\n\nconst SEARCH_BAR_NOOP = (value: string) => {\n  void value;\n};\n\nconst SEARCH_BAR_STATES: readonly SearchBarStateSpec[] = [\n  {\n    id: \"default\",\n    name: \"Default\",\n    getProps: ({ interactiveValue, onInteractiveChange }) => ({\n      value: interactiveValue,\n      onValueChange: onInteractiveChange,\n      placeholder: \"Search components\",\n    }),\n    code: \"<SearchBar value={query} onValueChange={setQuery} placeholder=\\\"Search components\\\" />\",\n  },\n  {\n    id: \"with-label\",\n    name: \"With label\",\n    getProps: ({ noop, renderFiltersButton }) => ({\n      value: \"\",\n      onValueChange: noop,\n      label: \"Search library\",\n      placeholder: \"With label\",\n      right: renderFiltersButton(),\n    }),\n    code: \"<SearchBar label=\\\"Search library\\\" right={<Button size=\\\"sm\\\">Filters</Button>} />\",\n  },\n  {\n    id: \"hover\",\n    name: \"Hover\",\n    getProps: ({ noop }) => ({\n      value: \"Hover\",\n      onValueChange: noop,\n      placeholder: \"Hover\",\n      fieldClassName: \"bg-interaction-foreground-tintHover\",\n    }),\n    code:\n      \"<SearchBar fieldClassName=\\\"bg-interaction-foreground-tintHover\\\" placeholder=\\\"Hover\\\" />\",\n  },\n  {\n    id: \"focus-visible\",\n    name: \"Focus-visible\",\n    getProps: ({ noop }) => ({\n      value: \"Focus-visible\",\n      onValueChange: noop,\n      placeholder: \"Focus-visible\",\n      fieldClassName:\n        \"ring-2 ring-ring ring-offset-0 ring-offset-background\",\n    }),\n    code:\n      \"<SearchBar fieldClassName=\\\"ring-2 ring-ring ring-offset-0 ring-offset-background\\\" placeholder=\\\"Focus-visible\\\" />\",\n  },\n  {\n    id: \"active\",\n    name: \"Active\",\n    getProps: ({ noop }) => ({\n      value: \"Active\",\n      onValueChange: noop,\n      placeholder: \"Active\",\n      fieldClassName: \"bg-interaction-foreground-tintActive\",\n    }),\n    code:\n      \"<SearchBar fieldClassName=\\\"bg-interaction-foreground-tintActive\\\" placeholder=\\\"Active\\\" />\",\n  },\n  {\n    id: \"disabled\",\n    name: \"Disabled\",\n    getProps: ({ noop }) => ({\n      value: \"Disabled\",\n      onValueChange: noop,\n      placeholder: \"Disabled\",\n      disabled: true,\n    }),\n    code: \"<SearchBar placeholder=\\\"Disabled\\\" disabled />\",\n  },\n  {\n    id: \"loading\",\n    name: \"Loading\",\n    getProps: ({ noop }) => ({\n      value: \"Loading\",\n      onValueChange: noop,\n      placeholder: \"Loading\",\n      loading: true,\n    }),\n    code: \"<SearchBar placeholder=\\\"Loading\\\" loading />\",\n  },\n];\n\nfunction SearchBarStatePreview({\n  state,\n  helpers,\n}: {\n  state: SearchBarStateSpec;\n  helpers: SearchBarStateHelpers;\n}) {\n  const props = state.getProps(helpers);\n  return <SearchBar {...props} />;\n}\n\nfunction SearchBarGalleryPreview() {\n  const [query, setQuery] = React.useState(\"Champion counters\");\n  const renderFiltersButton = React.useCallback(\n    () => <Button size=\"sm\">Filters</Button>,\n    [],\n  );\n  const helpers = React.useMemo(\n    () => ({\n      interactiveValue: query,\n      onInteractiveChange: setQuery,\n      noop: SEARCH_BAR_NOOP,\n      renderFiltersButton,\n    }),\n    [query, renderFiltersButton, setQuery],\n  );\n\n  return (\n    <div className=\"flex flex-col gap-[var(--space-3)]\">\n      {SEARCH_BAR_STATES.map((state) => (\n        <SearchBarStatePreview key={state.id} state={state} helpers={helpers} />\n      ))}\n    </div>\n  );\n}\n\nexport const SearchBarGallery = defineGallerySection({\n  id: \"inputs\",\n  entries: [\n    {\n      id: \"search-bar\",\n      name: \"SearchBar\",\n      description: \"Debounced search input with optional label and slots\",\n      kind: \"primitive\",\n      tags: [\"search\", \"input\"],\n      props: [\n        { name: \"value\", type: \"string\", required: true },\n        { name: \"onValueChange\", type: \"(value: string) => void\" },\n        { name: \"placeholder\", type: \"string\" },\n        { name: \"label\", type: \"React.ReactNode\" },\n        { name: \"right\", type: \"React.ReactNode\" },\n        { name: \"loading\", type: \"boolean\", defaultValue: \"false\" },\n        { name: \"disabled\", type: \"boolean\", defaultValue: \"false\" },\n        { name: \"variant\", type: '\"default\" | \"neo\"', defaultValue: '\"default\"' },\n      ],\n      axes: [\n        {\n          id: \"state\",\n          label: \"State\",\n          type: \"state\",\n          values: SEARCH_BAR_STATES.map(({ name }) => ({ value: name })),\n        },\n      ],\n      preview: createGalleryPreview({\n        id: \"ui:search-bar:states\",\n        render: () => <SearchBarGalleryPreview />,\n      }),\n      states: SEARCH_BAR_STATES.map((state) => ({\n        id: state.id,\n        name: state.name,\n        code: state.code,\n        preview: createGalleryPreview({\n          id: `ui:search-bar:state:${state.id}`,\n          render: () => (\n            <SearchBarStatePreview\n              state={state}\n              helpers={{\n                interactiveValue: \"Champion counters\",\n                onInteractiveChange: SEARCH_BAR_NOOP,\n                noop: SEARCH_BAR_NOOP,\n                renderFiltersButton: () => <Button size=\"sm\">Filters</Button>,\n              }}\n            />\n          ),\n        }),\n      })),\n      code: `const [query, setQuery] = React.useState(\"Champion counters\");\nconst handleNoop = React.useCallback((_value: string) => {}, []);\n\n<SearchBar\n  value={query}\n  onValueChange={setQuery}\n  placeholder=\"Search components\"\n/>\n<SearchBar\n  value=\"\"\n  onValueChange={handleNoop}\n  label=\"Search library\"\n  placeholder=\"With label\"\n  right={<Button size=\"sm\">Filters</Button>}\n/>\n<SearchBar\n  value=\"Hover\"\n  onValueChange={handleNoop}\n  placeholder=\"Hover\"\n  fieldClassName=\"bg-[--hover]\"\n/>\n<SearchBar\n  value=\"Focus-visible\"\n  onValueChange={handleNoop}\n  placeholder=\"Focus-visible\"\n  fieldClassName=\"ring-2 ring-[hsl(var(--ring))] ring-offset-0 ring-offset-[hsl(var(--bg))]\"\n/>\n<SearchBar\n  value=\"Active\"\n  onValueChange={handleNoop}\n  placeholder=\"Active\"\n  fieldClassName=\"bg-[--active]\"\n/>\n<SearchBar\n  value=\"Disabled\"\n  onValueChange={handleNoop}\n  placeholder=\"Disabled\"\n  disabled\n/>\n<SearchBar\n  value=\"Loading\"\n  onValueChange={handleNoop}\n  placeholder=\"Loading\"\n  loading\n/>`,\n    },\n  ],\n})\n\nexport default SearchBarGallery\n","\"use client\";\n\nimport * as React from \"react\";\nimport type { SelectItem } from \"@/components/ui\";\nimport { VARIANTS, Variant } from \"@/lib/theme\";\nimport { SettingsSelect } from \"./SettingsSelect\";\n\nexport type ThemePickerProps = {\n  variant: Variant;\n  onVariantChange: (v: Variant) => void;\n  className?: string;\n  buttonClassName?: string;\n  disabled?: boolean;\n  loadingVariant?: Variant | null;\n};\n\nexport function ThemePicker({\n  variant,\n  onVariantChange,\n  className = \"\",\n  buttonClassName,\n  disabled = false,\n  loadingVariant = null,\n}: ThemePickerProps) {\n  const items: SelectItem[] = React.useMemo(\n    () =>\n      VARIANTS.map((v) => ({\n        value: v.id,\n        label: v.label,\n        loading: loadingVariant === v.id,\n      })),\n    [loadingVariant],\n  );\n  return (\n    <SettingsSelect\n      ariaLabel=\"Theme\"\n      prefixLabel=\"Theme\"\n      items={items}\n      value={variant}\n      onChange={(v) => onVariantChange(v as Variant)}\n      className={className}\n      buttonClassName={buttonClassName}\n      disabled={disabled}\n    />\n  );\n}\n","\"use client\";\n\nimport * as React from \"react\";\n\nimport { createGalleryPreview, defineGallerySection } from \"@/components/gallery/registry\";\nimport { Input } from \"@/components/ui\";\n\nimport { Label } from \"./Label\";\n\ntype LabelState = {\n  id: string;\n  name: string;\n  label: string;\n  disabled?: boolean;\n  labelClassName?: string;\n  inputClassName?: string;\n  code: string;\n};\n\nconst LABEL_STATES: readonly LabelState[] = [\n  {\n    id: \"default\",\n    name: \"Default\",\n    label: \"Email\",\n    code: `<div className=\"flex flex-col gap-[var(--space-1)]\">\n  <Label htmlFor=\"label-state-default\">Email</Label>\n  <Input id=\"label-state-default\" placeholder=\"player@example.gg\" />\n</div>`,\n  },\n  {\n    id: \"hover\",\n    name: \"Hover\",\n    label: \"Email\",\n    labelClassName: \"text-accent transition-colors\",\n    inputClassName: \"border-primary/60\",\n    code: `<div className=\"flex flex-col gap-[var(--space-1)]\">\n  <Label htmlFor=\"label-state-hover\" className=\"text-accent transition-colors\">Email</Label>\n  <Input\n    id=\"label-state-hover\"\n    placeholder=\"player@example.gg\"\n    className=\"border-primary/60\"\n  />\n</div>`,\n  },\n  {\n    id: \"focus-visible\",\n    name: \"Focus-visible\",\n    label: \"Email\",\n    labelClassName: \"text-ring transition-colors\",\n    inputClassName:\n      \"ring-2 ring-[var(--ring)] ring-offset-2 ring-offset-[var(--surface-2)] focus-visible:ring-2 focus-visible:ring-[var(--ring)] focus-visible:ring-offset-2 focus-visible:ring-offset-[var(--surface-2)]\",\n    code: `<div className=\"flex flex-col gap-[var(--space-1)]\">\n  <Label htmlFor=\"label-state-focus\" className=\"text-ring transition-colors\">Email</Label>\n  <Input\n    id=\"label-state-focus\"\n    placeholder=\"player@example.gg\"\n    className=\"ring-2 ring-[var(--ring)] ring-offset-2 ring-offset-[var(--surface-2)] focus-visible:ring-2 focus-visible:ring-[var(--ring)] focus-visible:ring-offset-2 focus-visible:ring-offset-[var(--surface-2)]\"\n  />\n</div>`,\n  },\n  {\n    id: \"disabled\",\n    name: \"Disabled\",\n    label: \"Email\",\n    disabled: true,\n    code: `<div className=\"flex flex-col gap-[var(--space-1)] opacity-80\">\n  <Label htmlFor=\"label-state-disabled\">Email</Label>\n  <Input id=\"label-state-disabled\" placeholder=\"player@example.gg\" disabled />\n</div>`,\n  },\n];\n\nfunction LabelStatePreview({ state }: { state: LabelState }) {\n  const inputId = `label-state-${state.id}`;\n  const containerClassName = state.disabled\n    ? \"flex flex-col gap-[var(--space-1)] opacity-80\"\n    : \"flex flex-col gap-[var(--space-1)]\";\n\n  return (\n    <div className={containerClassName}>\n      <Label htmlFor={inputId} className={state.labelClassName}>\n        {state.label}\n      </Label>\n      <Input\n        id={inputId}\n        placeholder=\"player@example.gg\"\n        disabled={state.disabled}\n        className={state.inputClassName}\n      />\n    </div>\n  );\n}\n\nfunction LabelGalleryPreview() {\n  return (\n    <div className=\"flex w-[calc(var(--space-8)*4)] flex-col gap-[var(--space-3)]\">\n      <div>\n        <Label htmlFor=\"label-default\">Email</Label>\n        <Input id=\"label-default\" placeholder=\"player@example.gg\" />\n      </div>\n      <div className=\"opacity-80\">\n        <Label htmlFor=\"label-disabled\">Disabled</Label>\n        <Input id=\"label-disabled\" placeholder=\"Disabled input\" disabled />\n      </div>\n    </div>\n  );\n}\n\nexport const LabelGallery = defineGallerySection({\n  id: \"inputs\",\n  entries: [\n    {\n      id: \"label\",\n      name: \"Label\",\n      description: \"Text label paired with inputs for accessible forms\",\n      kind: \"primitive\",\n      tags: [\"label\", \"input\"],\n      props: [\n        { name: \"htmlFor\", type: \"string\" },\n        { name: \"className\", type: \"string\" },\n      ],\n      axes: [\n        {\n          id: \"state\",\n          label: \"State\",\n          type: \"state\",\n          values: [\n            { value: \"Default\" },\n            { value: \"Hover\" },\n            { value: \"Focus-visible\" },\n            { value: \"Disabled\" },\n          ],\n        },\n      ],\n      preview: createGalleryPreview({\n        id: \"ui:label:pairing\",\n        render: () => <LabelGalleryPreview />,\n      }),\n      states: LABEL_STATES.map((state) => ({\n        id: state.id,\n        name: state.name,\n        code: state.code,\n        preview: createGalleryPreview({\n          id: `ui:label:state:${state.id}`,\n          render: () => <LabelStatePreview state={state} />,\n        }),\n      })),\n      code: `<div className=\"w-[calc(var(--space-8)*4)] space-y-[var(--space-3)]\">\n  <div>\n    <Label htmlFor=\"label-default\">Email</Label>\n    <Input id=\"label-default\" placeholder=\"player@example.gg\" />\n  </div>\n  <div className=\"opacity-80\">\n    <Label htmlFor=\"label-disabled\">Disabled</Label>\n    <Input id=\"label-disabled\" placeholder=\"Disabled input\" disabled />\n  </div>\n</div>`,\n    },\n  ],\n})\n\nexport default LabelGallery\n","\"use client\";\n\nimport { persistenceLogger } from \"./logging\";\n\ntype BinaryPayload = {\n  __planner_binary__: true;\n  t: string;\n  d: string;\n  o?: number;\n  l?: number;\n};\n\nconst binaryMarker = \"__planner_binary__\";\n\nfunction getTypedArrayConstructor(type: string):\n  | (new (buffer: ArrayBuffer, byteOffset?: number, length?: number) => ArrayBufferView)\n  | null {\n  const ctor = (globalThis as Record<string, unknown>)[type];\n  if (typeof ctor === \"function\") {\n    return ctor as new (\n      buffer: ArrayBuffer,\n      byteOffset?: number,\n      length?: number,\n    ) => ArrayBufferView;\n  }\n  return null;\n}\n\ntype BufferLike = {\n  from(\n    input: ArrayBufferLike | string,\n    encoding?: string,\n  ): {\n    buffer: ArrayBuffer;\n    byteOffset: number;\n    byteLength: number;\n    toString(encoding: string): string;\n  };\n};\n\nfunction getBuffer(): BufferLike | null {\n  const bufferCtor = (globalThis as { Buffer?: BufferLike }).Buffer;\n  return bufferCtor ?? null;\n}\n\nfunction bytesToBase64(bytes: Uint8Array): string {\n  if (typeof btoa === \"function\") {\n    let binary = \"\";\n    const chunkSize = 0x8000;\n    for (let i = 0; i < bytes.length; i += chunkSize) {\n      const chunk = bytes.subarray(i, i + chunkSize);\n      binary += String.fromCharCode(...chunk);\n    }\n    return btoa(binary);\n  }\n  const bufferCtor = getBuffer();\n  if (bufferCtor) {\n    return bufferCtor\n      .from(bytes.buffer.slice(bytes.byteOffset, bytes.byteOffset + bytes.byteLength))\n      .toString(\"base64\");\n  }\n  return \"\";\n}\n\nfunction base64ToBytes(encoded: string): Uint8Array {\n  if (typeof atob === \"function\") {\n    const binary = atob(encoded);\n    const length = binary.length;\n    const bytes = new Uint8Array(length);\n    for (let i = 0; i < length; i += 1) {\n      bytes[i] = binary.charCodeAt(i);\n    }\n    return bytes;\n  }\n  const bufferCtor = getBuffer();\n  if (bufferCtor) {\n    const buffer = bufferCtor.from(encoded, \"base64\");\n    return new Uint8Array(buffer.buffer, buffer.byteOffset, buffer.byteLength);\n  }\n  return new Uint8Array();\n}\n\nfunction encodeBinary(value: ArrayBuffer | ArrayBufferView): BinaryPayload {\n  const view =\n    value instanceof ArrayBuffer\n      ? new Uint8Array(value)\n      : new Uint8Array(value.buffer, value.byteOffset, value.byteLength);\n  const type = value instanceof ArrayBuffer ? \"ArrayBuffer\" : value.constructor.name;\n  const payload: BinaryPayload = {\n    __planner_binary__: true,\n    t: type,\n    d: bytesToBase64(view),\n  };\n  if (!(value instanceof ArrayBuffer)) {\n    payload.o = value.byteOffset;\n    payload.l =\n      \"BYTES_PER_ELEMENT\" in value && typeof value.BYTES_PER_ELEMENT === \"number\"\n        ? value.byteLength / value.BYTES_PER_ELEMENT\n        : value.byteLength;\n  }\n  return payload;\n}\n\nfunction decodeBinary(payload: BinaryPayload): ArrayBuffer | ArrayBufferView {\n  const bytes = base64ToBytes(payload.d);\n  if (payload.t === \"ArrayBuffer\") {\n    const buffer = new ArrayBuffer(bytes.byteLength);\n    new Uint8Array(buffer).set(bytes);\n    return buffer;\n  }\n  const ctor = getTypedArrayConstructor(payload.t);\n  if (!ctor) {\n    return bytes.slice();\n  }\n  if (payload.t === \"DataView\") {\n    const byteOffset = payload.o ?? 0;\n    const totalLength = byteOffset + bytes.byteLength;\n    const buffer = new ArrayBuffer(totalLength);\n    new Uint8Array(buffer).set(bytes, byteOffset);\n    return new DataView(buffer, byteOffset, payload.l);\n  }\n  const byteOffset = payload.o ?? 0;\n  const totalLength = byteOffset + bytes.byteLength;\n  const buffer = new ArrayBuffer(totalLength);\n  new Uint8Array(buffer).set(bytes, byteOffset);\n  if (payload.l !== undefined) {\n    return new ctor(buffer, byteOffset, payload.l);\n  }\n  return new ctor(buffer, byteOffset);\n}\n\nfunction binaryReplacer(_key: string, value: unknown): unknown {\n  if (value instanceof ArrayBuffer || ArrayBuffer.isView(value)) {\n    return encodeBinary(value);\n  }\n  return value;\n}\n\nfunction binaryReviver(_key: string, value: unknown): unknown {\n  if (\n    value &&\n    typeof value === \"object\" &&\n    binaryMarker in value &&\n    (value as BinaryPayload).__planner_binary__\n  ) {\n    return decodeBinary(value as BinaryPayload);\n  }\n  return value;\n}\n\nexport function stringifyWithBinary(value: unknown): string {\n  const serialized = JSON.stringify(value, binaryReplacer);\n  if (typeof serialized !== \"string\") {\n    throw new Error(\"Unable to serialize value\");\n  }\n  return serialized;\n}\n\nexport function parseJSON<T>(raw: string | null): T | null {\n  if (!raw) return null;\n  try {\n    return JSON.parse(raw, binaryReviver) as T;\n  } catch {\n    return null;\n  }\n}\n\nexport function readLocal<T>(key: string): T | null {\n  try {\n    const raw =\n      typeof window === \"undefined\" ? null : window.localStorage.getItem(key);\n    return parseJSON<T>(raw);\n  } catch (error) {\n    persistenceLogger.warn(\n      `local-bootstrap readLocal(\"${key}\") failed; returning null.`,\n      error,\n    );\n    return null;\n  }\n}\n\nexport function writeLocal(key: string, value: unknown): void {\n  try {\n    if (typeof window === \"undefined\") return;\n    if (value === undefined || value === null) {\n      window.localStorage.removeItem(key);\n    } else {\n      window.localStorage.setItem(key, stringifyWithBinary(value));\n    }\n  } catch (error) {\n    persistenceLogger.warn(\n      `local-bootstrap writeLocal(\"${key}\") failed; ignoring value.`,\n      error,\n    );\n  }\n}\n\n/** Inline helpers for early bootstrap scripts */\nexport function localBootstrapScript(): string {\n  return [\n    \"const a='__planner_binary__';\",\n    \"function e(r){if(!r)return null;try{return JSON.parse(r,n);}catch{return null;}}\",\n    \"function t(r){try{return e(localStorage.getItem(r));}catch{return null;}}\",\n    \"function o(r){try{if(r==null)localStorage.removeItem(r);else localStorage.setItem(r,JSON.stringify(r,i));}catch{}}\",\n    \"function n(r,l){if(l&&typeof l==='object'&&l[a])return s(l);return l;}\",\n    \"function i(r,l){if(l instanceof ArrayBuffer||ArrayBuffer.isView(l))return c(l);return l;}\",\n    \"function f(r){if(typeof btoa==='function'){let l='',u=0x8000;for(let e=0;e<r.length;e+=u){const t=r.subarray(e,e+u);l+=String.fromCharCode(...t);}return btoa(l);}if(typeof Buffer!=='undefined')return Buffer.from(r.buffer,r.byteOffset,r.byteLength).toString('base64');return'';}\",\n    \"function y(r){if(typeof atob==='function'){const l=atob(r),u=l.length,t=new Uint8Array(u);for(let e=0;e<u;e+=1)t[e]=l.charCodeAt(e);return t;}if(typeof Buffer!=='undefined'){const l=Buffer.from(r,'base64');return new Uint8Array(l.buffer,l.byteOffset,l.byteLength);}return new Uint8Array;}\",\n    \"function c(r){const l=r instanceof ArrayBuffer?new Uint8Array(r):new Uint8Array(r.buffer,r.byteOffset,r.byteLength),u=r instanceof ArrayBuffer?'ArrayBuffer':r.constructor.name,t={__planner_binary__:!0,t:u,d:f(l)};if(!(r instanceof ArrayBuffer)){t.o=r.byteOffset,t.l='BYTES_PER_ELEMENT'in r&&typeof r.BYTES_PER_ELEMENT==='number'?r.byteLength/r.BYTES_PER_ELEMENT:r.byteLength;}return t;}\",\n    \"function s(r){const l=y(r.d);if(r.t==='ArrayBuffer'){const e=new ArrayBuffer(l.byteLength);return new Uint8Array(e).set(l),e;}const u=globalThis[r.t];if(typeof u!=='function')return l.slice();const o=r.o??0,c=o+l.byteLength,f=new ArrayBuffer(c);new Uint8Array(f).set(l,o);if(r.t==='DataView')return new DataView(f,o,r.l);if(r.l!==undefined)return new u(f,o,r.l);return new u(f,o);}\",\n    \"function parseJSON(raw){return e(raw);}function readLocal(key){return t(key);}function writeLocal(key,val){return o(key,val);}\",\n  ].join(\"\");\n}\n","const STORAGE_PREFIX = 'noxis-planner:'\nconst STORAGE_VERSION = 'v1'\nconst OLD_STORAGE_PREFIX = '13lr:'\n\nconst VERSIONED_STORAGE_PREFIX = `${STORAGE_PREFIX}${STORAGE_VERSION}:`\nconst LEGACY_VERSION_PATTERN = /^v\\d+$/u\n\nconst isBrowser = typeof window !== 'undefined'\n\nlet migrated = false\n\nfunction ensureMigration(): void {\n  if (!isBrowser || migrated) return\n\n  migrated = true\n\n  try {\n    const removals = new Set<string>()\n    const migrations: Array<{ source: string; target: string }> = []\n\n    for (let i = 0; i < window.localStorage.length; i += 1) {\n      const key = window.localStorage.key(i)\n      if (!key) continue\n\n      if (key.startsWith(OLD_STORAGE_PREFIX)) {\n        const suffix = key.slice(OLD_STORAGE_PREFIX.length)\n        const target = `${VERSIONED_STORAGE_PREFIX}${suffix}`\n        migrations.push({ source: key, target })\n        removals.add(key)\n        continue\n      }\n\n      if (!key.startsWith(STORAGE_PREFIX)) continue\n\n      if (key.startsWith(VERSIONED_STORAGE_PREFIX)) continue\n\n      const remainder = key.slice(STORAGE_PREFIX.length)\n      const separatorIndex = remainder.indexOf(':')\n\n      if (separatorIndex > -1) {\n        const candidateVersion = remainder.slice(0, separatorIndex)\n        if (\n          candidateVersion &&\n          candidateVersion !== STORAGE_VERSION &&\n          LEGACY_VERSION_PATTERN.test(candidateVersion)\n        ) {\n          removals.add(key)\n          continue\n        }\n      }\n\n      const target = `${VERSIONED_STORAGE_PREFIX}${remainder}`\n      migrations.push({ source: key, target })\n      removals.add(key)\n    }\n\n    for (const { source, target } of migrations) {\n      if (source === target) continue\n      if (window.localStorage.getItem(target) !== null) continue\n\n      const value = window.localStorage.getItem(source)\n      if (value !== null) {\n        window.localStorage.setItem(target, value)\n      }\n    }\n\n    for (const key of removals) {\n      window.localStorage.removeItem(key)\n    }\n  } catch {\n    // ignore\n  }\n}\n\nexport function createStorageKey(key: string): string {\n  ensureMigration()\n  return `${VERSIONED_STORAGE_PREFIX}${key}`\n}\n\nexport { STORAGE_PREFIX, STORAGE_VERSION, VERSIONED_STORAGE_PREFIX, OLD_STORAGE_PREFIX }\n","// src/lib/db.ts\n// Local-first helpers for Noxis Planner\n// - Hydration-safe: first render returns `initial`; no localStorage read until after mount\n// - SSR-safe: never touches window/localStorage on the server\n// - Tiny and predictable\n\n\"use client\";\n\nimport * as React from \"react\";\nimport {\n  parseJSON,\n  readLocal as baseReadLocal,\n  writeLocal as baseWriteLocal,\n  stringifyWithBinary,\n} from \"./local-bootstrap\";\nimport { persistenceLogger } from \"./logging\";\nimport { createStorageKey, OLD_STORAGE_PREFIX } from \"./storage-key\";\n\nexport { createStorageKey } from \"./storage-key\";\n\n/** SSR guard */\nconst isBrowser = typeof window !== \"undefined\";\n\ndeclare global {\n  interface Window {\n    __planner_flush_bound?: boolean;\n  }\n}\n\ntype QueuedWrite =\n  | { type: \"raw\"; value: unknown }\n  | { type: \"json\"; serialized: string };\n\n// Debounced write queue\nconst writeQueue = new Map<string, QueuedWrite>();\nlet writeTimer: ReturnType<typeof setTimeout> | null = null;\n\nexport let writeLocalDelay = 50;\nexport function setWriteLocalDelay(ms: number): void {\n  writeLocalDelay = Math.max(0, ms);\n}\n\nfunction flushWriteQueue(): void {\n  if (writeTimer) {\n    clearTimeout(writeTimer);\n    writeTimer = null;\n  }\n  for (const [k, entry] of writeQueue) {\n    try {\n      if (entry.type === \"json\") {\n        if (typeof window === \"undefined\") continue;\n        window.localStorage.setItem(k, entry.serialized);\n      } else {\n        baseWriteLocal(k, entry.value);\n      }\n    } catch (error) {\n      persistenceLogger.warn(\n        `Failed to flush write for \"${k}\"; dropping queued value.`,\n        error,\n      );\n    }\n  }\n  writeQueue.clear();\n}\n\nexport function flushWriteLocal(): void {\n  if (!isBrowser) return;\n  flushWriteQueue();\n}\n\nfunction describeNonSerializable(\n  value: unknown,\n  path = \"value\",\n  stack: Set<object> = new Set(),\n): string | null {\n  if (\n    value === null ||\n    typeof value === \"string\" ||\n    typeof value === \"number\" ||\n    typeof value === \"boolean\" ||\n    typeof value === \"undefined\"\n  ) {\n    return null;\n  }\n\n  if (typeof value === \"function\") {\n    return `${path} is a function`;\n  }\n\n  if (typeof value === \"symbol\") {\n    return `${path} is a symbol`;\n  }\n\n  if (typeof value === \"bigint\") {\n    return `${path} is a bigint`;\n  }\n\n  if (typeof value !== \"object\") {\n    return `${path} has unsupported type ${typeof value}`;\n  }\n\n  const obj = value as Record<PropertyKey, unknown>;\n  if (stack.has(obj)) {\n    return `${path} contains a circular reference`;\n  }\n  stack.add(obj);\n\n  if (Array.isArray(obj)) {\n    for (let i = 0; i < obj.length; i += 1) {\n      const issue = describeNonSerializable(obj[i], `${path}[${i}]`, stack);\n      if (issue) {\n        stack.delete(obj);\n        return issue;\n      }\n    }\n    stack.delete(obj);\n    return null;\n  }\n\n  if (obj instanceof Date) {\n    stack.delete(obj);\n    return null;\n  }\n\n  if (\n    obj instanceof Map ||\n    obj instanceof Set ||\n    obj instanceof WeakMap ||\n    obj instanceof WeakSet\n  ) {\n    stack.delete(obj);\n    return `${path} is a ${obj.constructor.name}`;\n  }\n\n  if (obj instanceof Promise) {\n    stack.delete(obj);\n    return `${path} is a Promise`;\n  }\n\n  if (ArrayBuffer.isView(obj) || obj instanceof ArrayBuffer) {\n    stack.delete(obj);\n    return null;\n  }\n\n  const proto = Object.getPrototypeOf(obj);\n  if (proto !== null && proto !== Object.prototype) {\n    if (typeof (obj as { toJSON?: unknown }).toJSON === \"function\") {\n      stack.delete(obj);\n      return null;\n    }\n    const protoName = proto.constructor?.name ?? \"object\";\n    stack.delete(obj);\n    return `${path} has unsupported prototype ${protoName}`;\n  }\n\n  if (Object.getOwnPropertySymbols(obj).length > 0) {\n    stack.delete(obj);\n    return `${path} has symbol-keyed properties`;\n  }\n\n  for (const [prop, propValue] of Object.entries(\n    obj as Record<string, unknown>,\n  )) {\n    const issue = describeNonSerializable(propValue, `${path}.${prop}`, stack);\n    if (issue) {\n      stack.delete(obj);\n      return issue;\n    }\n  }\n\n  stack.delete(obj);\n  return null;\n}\n\nexport function scheduleWrite(key: string, value: unknown): void {\n  let issue: string | null = null;\n  if (process.env.NODE_ENV !== \"production\") {\n    issue = describeNonSerializable(value);\n  }\n  if (issue) {\n    persistenceLogger.warn(\n      `Skipping persistence for \"${key}\" because ${issue}.`,\n      value,\n    );\n    return;\n  }\n  let entry: QueuedWrite;\n  if (value !== null && typeof value === \"object\") {\n    let serialized: string | null = null;\n    try {\n      serialized = stringifyWithBinary(value);\n    } catch {\n      serialized = null;\n    }\n\n    if (serialized !== null) {\n      entry = { type: \"json\", serialized };\n    } else {\n      const clonedValue =\n        typeof structuredClone === \"function\"\n          ? (() => {\n              try {\n                return structuredClone(value);\n              } catch {\n                return undefined;\n              }\n            })()\n          : undefined;\n      if (typeof clonedValue === \"undefined\") {\n        persistenceLogger.warn(\n          `Skipping persistence for \"${key}\" because value could not be cloned.`,\n          value,\n        );\n        return;\n      }\n      entry = { type: \"raw\", value: clonedValue };\n    }\n  } else {\n    entry = { type: \"raw\", value };\n  }\n  writeQueue.set(key, entry);\n  if (writeTimer) clearTimeout(writeTimer);\n  writeTimer = setTimeout(flushWriteQueue, writeLocalDelay);\n}\n\nif (isBrowser && !window.__planner_flush_bound) {\n  window.addEventListener(\"beforeunload\", flushWriteQueue);\n  window.addEventListener(\"pagehide\", flushWriteQueue);\n  document.addEventListener(\"visibilitychange\", () => {\n    if (document.visibilityState === \"hidden\") flushWriteQueue();\n  });\n  window.__planner_flush_bound = true;\n}\n\n/** Read from localStorage without throwing on SSR or privacy modes */\nexport function readLocal<T>(key: string): T | null {\n  if (!isBrowser) return null;\n  try {\n    const storageKey = createStorageKey(key);\n    const value = baseReadLocal<T>(storageKey);\n    if (value !== null) return value;\n    if (storageKey !== key) {\n      const legacyValue = baseReadLocal<T>(`${OLD_STORAGE_PREFIX}${key}`);\n      if (legacyValue !== null) return legacyValue;\n      const rawValue = baseReadLocal<T>(key);\n      if (rawValue !== null) return rawValue;\n    }\n    return null;\n  } catch (error) {\n    persistenceLogger.warn(\n      `readLocal(\"${key}\") failed; returning null.`,\n      error,\n    );\n    return null;\n  }\n}\n\n/** Write to localStorage safely */\nexport function writeLocal(key: string, value: unknown): void {\n  if (!isBrowser) return;\n  try {\n    scheduleWrite(createStorageKey(key), value);\n  } catch (error) {\n    persistenceLogger.warn(\n      `writeLocal(\"${key}\") failed; ignoring value due to storage restrictions.`,\n      error,\n    );\n  }\n}\n\n/** Remove a key from localStorage safely */\nexport function removeLocal(key: string): void {\n  if (!isBrowser) return;\n  const targets = new Set<string>();\n  try {\n    targets.add(createStorageKey(key));\n  } catch (error) {\n    persistenceLogger.warn(\n      `removeLocal(\"${key}\") could not resolve namespaced key.`,\n      error,\n    );\n  }\n  targets.add(`${OLD_STORAGE_PREFIX}${key}`);\n  targets.add(key);\n  for (const target of targets) {\n    try {\n      window.localStorage.removeItem(target);\n    } catch (error) {\n      persistenceLogger.warn(\n        `removeLocal(\"${target}\") failed; continuing cleanup.`,\n        error,\n      );\n    }\n  }\n}\n\n/**\n * Listen for changes to a localStorage key and notify via callback.\n */\nexport function useStorageSync(\n  key: string,\n  onChange: (raw: string | null) => void,\n): void {\n  React.useEffect(() => {\n    if (!isBrowser) return;\n    const fullKey = createStorageKey(key);\n    const handler = (e: StorageEvent): void => {\n      if (e.storageArea !== window.localStorage) return;\n      if (e.key !== fullKey) return;\n      onChange(e.newValue);\n    };\n    window.addEventListener(\"storage\", handler);\n    return () => window.removeEventListener(\"storage\", handler);\n  }, [key, onChange]);\n}\n\n/**\n * usePersistentState<T>(key, initial)\n * Hydration-safe local state that:\n *  - Returns `initial` on first render (no storage reads during SSR/hydration)\n *  - After mount, loads from localStorage (if present) and replaces state.\n *  - Any change to state is persisted to localStorage.\n *  - Cross-tab: uses `useStorageSync` to stay in sync.\n */\ntype PersistentStateDecode<T> = (value: unknown) => T | null | undefined;\ntype PersistentStateEncode<T> = (value: T) => unknown;\n\ntype PersistentStateOptions<T> = {\n  decode?: PersistentStateDecode<T>;\n  encode?: PersistentStateEncode<T>;\n};\n\nexport function usePersistentState<T>(\n  key: string,\n  initial: T,\n  options?: PersistentStateOptions<T>,\n): [T, React.Dispatch<React.SetStateAction<T>>] {\n  const [state, setState] = React.useState<T>(() => initial);\n\n  const initialRef = React.useRef(initial);\n  const stateRef = React.useRef(state);\n  const stateRevisionRef = React.useRef(0);\n  const lastAppliedInitialSignatureRef = React.useRef<string | null>(null);\n  React.useEffect(() => {\n    stateRef.current = state;\n    stateRevisionRef.current += 1;\n  }, [state]);\n\n  const decodeRef = React.useRef<PersistentStateDecode<T> | null>(\n    options?.decode ?? null,\n  );\n  const encodeRef = React.useRef<PersistentStateEncode<T> | null>(\n    options?.encode ?? null,\n  );\n  React.useEffect(() => {\n    decodeRef.current = options?.decode ?? null;\n  }, [options?.decode]);\n  React.useEffect(() => {\n    encodeRef.current = options?.encode ?? null;\n  }, [options?.encode]);\n\n  const computeSignature = React.useCallback(\n    (value: T): string | null => {\n      try {\n        const encode = encodeRef.current;\n        const encoded = encode ? encode(value) : value;\n        return stringifyWithBinary(encoded);\n      } catch {\n        return null;\n      }\n    },\n    [],\n  );\n\n  const decodeValue = React.useCallback(\n    (value: unknown): T | null => {\n      if (value === null) return null;\n      const decode = decodeRef.current;\n      if (!decode) return value as T;\n      try {\n        const result = decode(value);\n        if (typeof result === \"undefined\" || result === null) return null;\n        return result;\n      } catch {\n        return null;\n      }\n    },\n    [],\n  );\n\n  const encodeValue = React.useCallback(\n    (value: T): unknown => {\n      const encode = encodeRef.current;\n      if (!encode) return value;\n      try {\n        return encode(value);\n      } catch {\n        return value;\n      }\n    },\n    [],\n  );\n\n  const fullKeyRef = React.useRef(createStorageKey(key));\n  const loadedRef = React.useRef(false);\n  const pendingPersistenceRef = React.useRef(false);\n  const hasHydratedRef = React.useRef(false);\n  const pendingInitialResetKeyRef = React.useRef<string | null>(key);\n  const lastAppliedInitialRef = React.useRef<T | null>(initial);\n  const ignoreNextStorageHydrationRef = React.useRef(false);\n  const renderRevision = stateRevisionRef.current;\n\n  React.useEffect(() => {\n    const nextFull = createStorageKey(key);\n    if (fullKeyRef.current !== nextFull) {\n      fullKeyRef.current = nextFull;\n      loadedRef.current = false;\n      hasHydratedRef.current = false;\n      pendingInitialResetKeyRef.current = key;\n      pendingPersistenceRef.current = false;\n    }\n  }, [key]);\n\n  React.useEffect(() => {\n    const previousAppliedInitial = lastAppliedInitialRef.current;\n    const initialChanged = !Object.is(initialRef.current, initial);\n    if (initialChanged) {\n      initialRef.current = initial;\n      let stateMatchesAppliedInitial =\n        previousAppliedInitial !== null &&\n        Object.is(stateRef.current, previousAppliedInitial);\n      if (!stateMatchesAppliedInitial) {\n        const referenceSignature =\n          previousAppliedInitial !== null\n            ? computeSignature(previousAppliedInitial)\n            : lastAppliedInitialSignatureRef.current;\n        if (previousAppliedInitial !== null) {\n          lastAppliedInitialSignatureRef.current = referenceSignature;\n        }\n        if (referenceSignature !== null) {\n          const currentSignature = computeSignature(stateRef.current);\n          if (\n            currentSignature !== null &&\n            currentSignature === referenceSignature\n          ) {\n            stateMatchesAppliedInitial = true;\n          }\n        }\n      }\n      if (\n        pendingInitialResetKeyRef.current !== null ||\n        stateMatchesAppliedInitial\n      ) {\n        pendingInitialResetKeyRef.current = key;\n      }\n    }\n\n    const shouldUseInitial =\n      pendingInitialResetKeyRef.current === key ||\n      (!hasHydratedRef.current && pendingInitialResetKeyRef.current !== null);\n\n    if (shouldUseInitial) {\n      const nextInitial = initialRef.current;\n      if (!Object.is(stateRef.current, nextInitial)) {\n        setState(nextInitial);\n        ignoreNextStorageHydrationRef.current = true;\n      }\n      lastAppliedInitialRef.current = nextInitial;\n      lastAppliedInitialSignatureRef.current = computeSignature(nextInitial);\n      pendingInitialResetKeyRef.current = null;\n    }\n  }, [initial, key, computeSignature]);\n\n  React.useEffect(() => {\n    if (!isBrowser) return;\n    if (!loadedRef.current) {\n      const fullKey = fullKeyRef.current;\n      let fallbackKey: string | null = null;\n      let fromStorage = baseReadLocal<unknown>(fullKey);\n      if (fromStorage === null) {\n        const legacyKey = `${OLD_STORAGE_PREFIX}${key}`;\n        const legacyValue = baseReadLocal<unknown>(legacyKey);\n        if (legacyValue !== null) {\n          fromStorage = legacyValue;\n          fallbackKey = legacyKey;\n        } else {\n          const rawValue = baseReadLocal<unknown>(key);\n          if (rawValue !== null) {\n            fromStorage = rawValue;\n            fallbackKey = key;\n          }\n        }\n      }\n      const queuedRevision = renderRevision;\n        const stateChangedSinceQueue = (): boolean =>\n          stateRevisionRef.current !== queuedRevision;\n\n      let shouldUpdateState = false;\n      let nextState: T = stateRef.current;\n\n      const skipStorageHydration = ignoreNextStorageHydrationRef.current;\n      ignoreNextStorageHydrationRef.current = false;\n      if (skipStorageHydration) {\n        // Intentionally skip applying storage to honor a freshly-applied initial state.\n      } else if (fromStorage !== null) {\n        const decoded = decodeValue(fromStorage);\n        if (decoded !== null) {\n          if (!Object.is(stateRef.current, decoded)) {\n            shouldUpdateState = true;\n            nextState = decoded;\n            pendingInitialResetKeyRef.current = null;\n          }\n        } else if (!stateChangedSinceQueue()) {\n          if (hasHydratedRef.current) {\n            if (!Object.is(stateRef.current, initialRef.current)) {\n              shouldUpdateState = true;\n              nextState = initialRef.current;\n              pendingInitialResetKeyRef.current = key;\n            }\n          }\n        }\n      } else if (!stateChangedSinceQueue()) {\n        if (hasHydratedRef.current) {\n          if (!Object.is(stateRef.current, initialRef.current)) {\n            shouldUpdateState = true;\n            nextState = initialRef.current;\n            pendingInitialResetKeyRef.current = key;\n          }\n        }\n      }\n\n      hasHydratedRef.current = true;\n      loadedRef.current = true;\n\n      if (pendingPersistenceRef.current) {\n        pendingPersistenceRef.current = false;\n        try {\n          const encoded = encodeValue(stateRef.current);\n          scheduleWrite(fullKeyRef.current, encoded);\n        } catch (error) {\n          persistenceLogger.warn(\n            `Failed to persist key \"${fullKeyRef.current}\" after hydration.`,\n            error,\n          );\n        }\n      }\n\n      if (fallbackKey && fallbackKey !== fullKey) {\n        try {\n          window.localStorage.removeItem(fallbackKey);\n        } catch (error) {\n          persistenceLogger.warn(\n            `Failed to remove legacy storage key \"${fallbackKey}\" during migration.`,\n            error,\n          );\n        }\n      }\n\n      if (shouldUpdateState) {\n        setState(nextState);\n        const initialMatches =\n          Object.is(nextState, initialRef.current) ||\n          (() => {\n            const nextSignature = computeSignature(nextState);\n            if (nextSignature === null) return false;\n            const initialSignature = computeSignature(initialRef.current);\n            return (\n              initialSignature !== null && nextSignature === initialSignature\n            );\n          })();\n        if (initialMatches) {\n          lastAppliedInitialRef.current = initialRef.current;\n          lastAppliedInitialSignatureRef.current = computeSignature(\n            initialRef.current,\n          );\n        } else {\n          lastAppliedInitialRef.current = null;\n          lastAppliedInitialSignatureRef.current = null;\n        }\n      }\n    }\n  }, [key, decodeValue, encodeValue, renderRevision, computeSignature]);\n\n  const handleExternal = React.useCallback(\n    (raw: string | null) => {\n      if (!hasHydratedRef.current) return;\n      if (raw === null) {\n        pendingInitialResetKeyRef.current = key;\n        if (!Object.is(stateRef.current, initialRef.current))\n          setState(initialRef.current);\n        lastAppliedInitialRef.current = initialRef.current;\n        lastAppliedInitialSignatureRef.current = computeSignature(\n          initialRef.current,\n        );\n        return;\n      }\n      const parsed = parseJSON<unknown>(raw);\n      if (parsed === null) return;\n      const decoded = decodeValue(parsed);\n      if (decoded !== null) {\n        pendingInitialResetKeyRef.current = null;\n        if (!Object.is(stateRef.current, decoded)) setState(decoded);\n        lastAppliedInitialRef.current = null;\n        lastAppliedInitialSignatureRef.current = null;\n        return;\n      }\n      pendingInitialResetKeyRef.current = key;\n      if (!Object.is(stateRef.current, initialRef.current))\n        setState(initialRef.current);\n      lastAppliedInitialRef.current = initialRef.current;\n      lastAppliedInitialSignatureRef.current = computeSignature(\n        initialRef.current,\n      );\n    },\n    [decodeValue, key, computeSignature],\n  );\n\n  useStorageSync(key, handleExternal);\n\n  const setPersistentState = React.useCallback(\n    (value: React.SetStateAction<T>) => {\n      pendingInitialResetKeyRef.current = null;\n      lastAppliedInitialRef.current = null;\n      lastAppliedInitialSignatureRef.current = null;\n      setState(value);\n    },\n    [setState],\n  );\n\n  React.useEffect(() => {\n    if (!isBrowser) return;\n    if (!loadedRef.current) {\n      pendingPersistenceRef.current = true;\n      return;\n    }\n    try {\n      const encoded = encodeValue(state);\n      scheduleWrite(fullKeyRef.current, encoded);\n      pendingPersistenceRef.current = false;\n    } catch (error) {\n      persistenceLogger.warn(\n        `Failed to persist key \"${fullKeyRef.current}\" after state update.`,\n        error,\n      );\n    }\n  }, [state, encodeValue]);\n\n  return [state, setPersistentState];\n}\n\n/**\n * Generates a random suffix using `crypto.getRandomValues` when available.\n */\nfunction cryptoRandomSuffix(cryptoObj?: Crypto): string {\n  if (!cryptoObj?.getRandomValues) return \"\";\n  const bytes = new Uint8Array(16);\n  cryptoObj.getRandomValues(bytes);\n  let result = \"\";\n  for (const byte of bytes) {\n    result += byte.toString(36).padStart(2, \"0\");\n  }\n  return result;\n}\n\n/**\n * Generates a unique identifier using `crypto.randomUUID`.\n * If a prefix is provided, it is prepended followed by an underscore.\n */\nlet uidCounter = 0;\nexport function uid(prefix = \"\"): string {\n  const cryptoObj = globalThis.crypto;\n  const id =\n    cryptoObj?.randomUUID?.() ??\n    `${Date.now().toString(36)}${(uidCounter++).toString(36)}${cryptoRandomSuffix(\n      cryptoObj,\n    )}`;\n  return prefix ? `${prefix}_${id}` : id;\n}\n","import * as React from \"react\";\n\nimport { slugify } from \"./utils\";\n\nexport type FieldNamingOptions = {\n  /** Optional id override */\n  id?: string;\n  /** Optional name override */\n  name?: string;\n  /** Optional aria-label used to derive the name */\n  ariaLabel?: string;\n  /**\n   * Controls when the aria-label should be used to derive the field name.\n   * - \"always\": always attempt to use the aria-label slug.\n   * - \"custom-id\": only use the aria-label when an explicit id is provided.\n   * - \"never\": never use the aria-label slug.\n   */\n  ariaLabelStrategy?: \"always\" | \"custom-id\" | \"never\";\n  /** When true, slugify the fallback name derived from the id. */\n  slugifyFallback?: boolean;\n};\n\nexport type FieldNamingResult = {\n  id: string;\n  name: string;\n};\n\nfunction normalizeGeneratedId(id: string): string {\n  if (typeof id !== \"string\" || id.length === 0) {\n    return id;\n  }\n\n  const replacedColons = id.replace(/:/g, \"_\");\n\n  return replacedColons.replace(/([a-zA-Z])(\\d)/g, \"$1_$2\");\n}\n\nexport default function useFieldNaming(\n  options: FieldNamingOptions = {},\n): FieldNamingResult {\n  const {\n    id,\n    name,\n    ariaLabel,\n    ariaLabelStrategy = \"always\",\n    slugifyFallback = false,\n  } = options;\n\n  const generatedId = normalizeGeneratedId(React.useId());\n  const finalId = id ?? generatedId;\n\n  const fromAria = slugify(ariaLabel);\n  const shouldUseAria =\n    ariaLabelStrategy === \"always\"\n      ? true\n      : ariaLabelStrategy === \"custom-id\"\n        ? Boolean(id)\n        : false;\n\n  const fallbackName = slugifyFallback ? slugify(finalId) : finalId;\n\n  const finalName =\n    name ||\n    (shouldUseAria ? fromAria || undefined : undefined) ||\n    fallbackName;\n\n  return { id: finalId, name: finalName };\n}\n","// src/lib/useFieldIds.ts\nimport { type AriaAttributes } from \"react\";\n\nimport useFieldNaming, {\n  type FieldNamingOptions,\n} from \"./useFieldNaming\";\n\nexport type UseFieldIdsOptions = Pick<\n  FieldNamingOptions,\n  \"ariaLabelStrategy\" | \"slugifyFallback\"\n> & {\n  ariaInvalid?: AriaAttributes[\"aria-invalid\"];\n};\n\nexport type UseFieldIdsResult = {\n  id: string;\n  name: string;\n  isInvalid: boolean;\n};\n\nexport function useFieldIds(\n  ariaLabel?: string,\n  idProp?: string,\n  nameProp?: string,\n): UseFieldIdsResult;\nexport function useFieldIds(\n  ariaLabel?: string,\n  idProp?: string,\n  nameProp?: string,\n  options?: UseFieldIdsOptions,\n): UseFieldIdsResult;\nexport function useFieldIds(\n  ariaLabel?: string,\n  idProp?: string,\n  nameProp?: string,\n  options: UseFieldIdsOptions = {},\n): UseFieldIdsResult {\n  const { ariaInvalid, ariaLabelStrategy, slugifyFallback } = options;\n\n  const namingOptions: FieldNamingOptions = {\n    id: idProp,\n    name: nameProp,\n    ariaLabel,\n    ariaLabelStrategy,\n    slugifyFallback,\n  };\n\n  const { id, name } = useFieldNaming(namingOptions);\n\n  const normalizedInvalid =\n    typeof ariaInvalid === \"string\" ? ariaInvalid.trim().toLowerCase() : null;\n  const isInvalid =\n    ariaInvalid === true ||\n    (normalizedInvalid !== null &&\n      normalizedInvalid.length > 0 &&\n      normalizedInvalid !== \"false\");\n\n  return { id, name, isInvalid };\n}\n\nexport default useFieldIds;\n","\"use client\";\n\nimport * as React from \"react\";\nimport { Plus } from \"lucide-react\";\n\nimport { createGalleryPreview, defineGallerySection } from \"@/components/gallery/registry\";\n\nimport { IconButton } from \"./IconButton\";\n\nexport type IconButtonStateSpec = {\n  id: string;\n  name: string;\n  className?: string;\n  props: React.ComponentProps<typeof IconButton>;\n  code?: string;\n};\n\nconst ICON_BUTTON_STATES: readonly IconButtonStateSpec[] = [\n  {\n    id: \"default\",\n    name: \"Default\",\n    props: { \"aria-label\": \"Default\", children: <Plus aria-hidden /> },\n    code: \"<IconButton aria-label=\\\"Default\\\">\\n  <Plus />\\n</IconButton>\",\n  },\n  {\n    id: \"hover\",\n    name: \"Hover\",\n    className: \"bg-[--hover]\",\n    props: { \"aria-label\": \"Hover\", children: <Plus aria-hidden /> },\n    code: \"<IconButton className=\\\"bg-[--hover]\\\" aria-label=\\\"Hover\\\">\\n  <Plus />\\n</IconButton>\",\n  },\n  {\n    id: \"focus\",\n    name: \"Focus\",\n    className:\n      \"ring-2 ring-ring ring-offset-2 ring-offset-background shadow-[var(--shadow-glow-md)] outline-none\",\n    props: { \"aria-label\": \"Focus\", children: <Plus aria-hidden /> },\n    code:\n      \"<IconButton className=\\\"ring-2 ring-ring ring-offset-2 ring-offset-background shadow-[var(--shadow-glow-md)] outline-none\\\" aria-label=\\\"Focus\\\">\\n  <Plus />\\n</IconButton>\",\n  },\n  {\n    id: \"active\",\n    name: \"Active\",\n    className: \"bg-[--active]\",\n    props: {\n      \"aria-label\": \"Active\",\n      \"aria-pressed\": true,\n      children: <Plus aria-hidden />,\n    },\n    code: \"<IconButton\\n  className=\\\"bg-[--active]\\\"\\n  aria-label=\\\"Active\\\"\\n  aria-pressed\\n>\\n  <Plus />\\n</IconButton>\",\n  },\n  {\n    id: \"disabled\",\n    name: \"Disabled\",\n    props: {\n      \"aria-label\": \"Disabled\",\n      children: <Plus aria-hidden />,\n      disabled: true,\n    },\n    code: \"<IconButton disabled aria-label=\\\"Disabled\\\">\\n  <Plus />\\n</IconButton>\",\n  },\n  {\n    id: \"loading\",\n    name: \"Loading\",\n    props: {\n      \"aria-label\": \"Loading\",\n      children: <Plus aria-hidden />,\n      loading: true,\n    },\n    code: \"<IconButton loading aria-label=\\\"Loading\\\">\\n  <Plus />\\n</IconButton>\",\n  },\n  {\n    id: \"static\",\n    name: \"Static overlay\",\n    props: {\n      \"aria-label\": \"Static overlay\",\n      children: <Plus aria-hidden />,\n      glitch: false,\n      glitchIntensity: \"glitch-overlay-button-opacity\",\n    },\n    code: \"<IconButton glitch={false} glitchIntensity=\\\"glitch-overlay-button-opacity\\\" aria-label=\\\"Static overlay\\\">\\n  <Plus />\\n</IconButton>\",\n  },\n];\n\nexport const ICON_BUTTON_STATE_SPECS: readonly IconButtonStateSpec[] =\n  ICON_BUTTON_STATES;\n\nconst DEFAULT_ICON_BUTTON_STATES: readonly IconButtonStateSpec[] = [\n  {\n    id: \"default-variant\",\n    name: \"Default variant\",\n    props: {\n      \"aria-label\": \"Default variant\",\n      variant: \"default\",\n      children: <Plus aria-hidden />,\n    },\n    code: \"<IconButton variant=\\\"default\\\" aria-label=\\\"Default variant\\\">\\n  <Plus />\\n</IconButton>\",\n  },\n  {\n    id: \"default-hover\",\n    name: \"Default hover\",\n    className: \"bg-[--hover] shadow-[var(--shadow-neon-strong)]\",\n    props: {\n      \"aria-label\": \"Default hover\",\n      variant: \"default\",\n      children: <Plus aria-hidden />,\n    },\n    code: \"<IconButton\\n  className=\\\"bg-[--hover] shadow-[var(--shadow-neon-strong)]\\\"\\n  variant=\\\"default\\\"\\n  aria-label=\\\"Default hover\\\"\\n>\\n  <Plus />\\n</IconButton>\",\n  },\n  {\n    id: \"default-active\",\n    name: \"Default active\",\n    className:\n      \"bg-[--active] shadow-[var(--shadow-inset-contrast),var(--shadow-neon-soft)]\",\n    props: {\n      \"aria-label\": \"Default active\",\n      \"aria-pressed\": true,\n      variant: \"default\",\n      children: <Plus aria-hidden />,\n    },\n    code: \"<IconButton\\n  className=\\\"bg-[--active] shadow-[var(--shadow-inset-contrast),var(--shadow-neon-soft)]\\\"\\n  variant=\\\"default\\\"\\n  aria-label=\\\"Default active\\\"\\n  aria-pressed\\n>\\n  <Plus />\\n</IconButton>\",\n  },\n];\n\nfunction IconButtonStatePreview({ state }: { state: IconButtonStateSpec }) {\n  const { className, props } = state;\n  return <IconButton className={className} {...props} />;\n}\n\nconst ICON_BUTTON_SIZES = [\"sm\", \"md\", \"lg\", \"xl\"] as const;\n\nfunction IconButtonGalleryPreview() {\n  const staticState = ICON_BUTTON_STATES.find((state) => state.id === \"static\");\n  const standardIconStates = ICON_BUTTON_STATES.filter(\n    (state) => state.id !== \"static\",\n  );\n\n  return (\n    <div className=\"flex flex-col gap-[var(--space-4)]\">\n      <div className=\"flex flex-wrap gap-[var(--space-2)]\">\n        {ICON_BUTTON_SIZES.map((size) => (\n          <IconButton\n            key={size}\n            size={size}\n            variant=\"quiet\"\n            aria-label={`Add item ${size}`}\n          >\n            <Plus aria-hidden />\n          </IconButton>\n        ))}\n        <IconButton\n          size=\"md\"\n          variant=\"neo\"\n          aria-label=\"Add item soft\"\n        >\n          <Plus aria-hidden />\n        </IconButton>\n        <IconButton\n          size=\"md\"\n          variant=\"default\"\n          aria-label=\"Add item default\"\n        >\n          <Plus aria-hidden />\n        </IconButton>\n      </div>\n      <div className=\"flex flex-wrap gap-[var(--space-2)]\">\n        {standardIconStates.map((state) => (\n          <IconButtonStatePreview key={state.id} state={state} />\n        ))}\n      </div>\n      {staticState ? (\n        <div className=\"space-y-[var(--space-1)]\">\n          <div className=\"flex flex-wrap gap-[var(--space-2)]\">\n            <IconButtonStatePreview state={staticState} />\n          </div>\n          <p className=\"text-caption text-muted-foreground\">\n            Icon buttons ship with glitch overlays enabled. Disable them for\n            static captures or long recordingsthe hue-shifted tokens keep Noir\n            and Hardstuck above 3:1 contrast along the control silhouette.\n          </p>\n        </div>\n      ) : null}\n      <div className=\"flex flex-wrap gap-[var(--space-2)]\">\n        {DEFAULT_ICON_BUTTON_STATES.map((state) => (\n          <IconButtonStatePreview key={state.id} state={state} />\n        ))}\n      </div>\n    </div>\n  );\n}\n\nexport const IconButtonGallery = defineGallerySection({\n  id: \"buttons\",\n  entries: [\n    {\n      id: \"icon-button\",\n      name: \"IconButton\",\n      description: \"Size, variant, and state coverage\",\n      kind: \"primitive\",\n      tags: [\"button\", \"icon\"],\n      props: [\n        {\n          name: \"variant\",\n          type: '\"default\" | \"neo\" | \"quiet\" | \"glitch\"',\n          description:\n            'Visual treatment. Use \"default\" for solid, \"neo\" for tinted depth, \"quiet\" for low-emphasis. Legacy aliases (primary/secondary/soft/ghost/minimal) map to these.',\n        },\n        {\n          name: \"size\",\n          type: '\"sm\" | \"md\" | \"lg\" | \"xl\"',\n        },\n        {\n          name: \"loading\",\n          type: \"boolean\",\n          defaultValue: \"false\",\n        },\n        {\n          name: \"glitch\",\n          type: \"boolean\",\n          defaultValue: \"true\",\n        },\n      ],\n      axes: [\n        {\n          id: \"variant\",\n          label: \"Variant\",\n          type: \"variant\",\n          values: [\n            { value: \"Quiet\" },\n            { value: \"Neo\" },\n            { value: \"Default\" },\n            { value: \"Glitch\" },\n          ],\n        },\n        {\n          id: \"state\",\n          label: \"State\",\n          type: \"state\",\n          values: [...ICON_BUTTON_STATES, ...DEFAULT_ICON_BUTTON_STATES].map(\n            ({ name, id }) => ({\n              value: name,\n              description:\n                id === \"static\"\n                  ? \"Disable the glitch overlay for still captures; icon buttons default to the hue-shifted overlay tokens.\"\n                  : undefined,\n            }),\n          ),\n        },\n      ],\n      preview: createGalleryPreview({\n        id: \"ui:icon-button:matrix\",\n        render: () => <IconButtonGalleryPreview />,\n      }),\n      states: [...ICON_BUTTON_STATES, ...DEFAULT_ICON_BUTTON_STATES].map(\n        (state) => ({\n          id: state.id,\n          name: state.name,\n          code: state.code,\n          preview: createGalleryPreview({\n            id: `ui:icon-button:state:${state.id}`,\n            render: () => <IconButtonStatePreview state={state} />,\n          }),\n        }),\n      ),\n      code: `<div className=\"flex flex-col gap-[var(--space-4)]\">\n  <div className=\"flex flex-wrap gap-[var(--space-2)]\">\n    <IconButton size=\"sm\" variant=\"quiet\" aria-label=\"Add item sm\">\n      <Plus />\n    </IconButton>\n    <IconButton size=\"md\" variant=\"quiet\" aria-label=\"Add item md\">\n      <Plus />\n    </IconButton>\n    <IconButton size=\"lg\" variant=\"quiet\" aria-label=\"Add item lg\">\n      <Plus />\n    </IconButton>\n    <IconButton size=\"xl\" variant=\"quiet\" aria-label=\"Add item xl\">\n      <Plus />\n    </IconButton>\n    <IconButton size=\"md\" variant=\"neo\" aria-label=\"Add item neo\">\n      <Plus />\n    </IconButton>\n    <IconButton size=\"md\" variant=\"default\" aria-label=\"Add item default\">\n      <Plus />\n    </IconButton>\n  </div>\n  <div className=\"flex flex-wrap gap-[var(--space-2)]\">\n    <IconButton aria-label=\"Default\">\n      <Plus />\n    </IconButton>\n    <IconButton className=\"bg-[--hover]\" aria-label=\"Hover\">\n      <Plus />\n    </IconButton>\n    <IconButton className=\"ring-2 ring-[var(--focus)]\" aria-label=\"Focus\">\n      <Plus />\n    </IconButton>\n    <IconButton\n      className=\"bg-[--active]\"\n      aria-pressed\n      aria-label=\"Active\"\n    >\n      <Plus />\n    </IconButton>\n    <IconButton disabled aria-label=\"Disabled\">\n      <Plus />\n    </IconButton>\n    <IconButton loading aria-label=\"Loading\">\n      <Plus />\n    </IconButton>\n  </div>\n  <div className=\"flex flex-wrap gap-[var(--space-2)]\">\n    <IconButton variant=\"default\" aria-label=\"Default variant\">\n      <Plus />\n    </IconButton>\n    <IconButton\n      className=\"bg-[--hover] shadow-[var(--shadow-neon-strong)]\"\n      variant=\"default\"\n      aria-label=\"Default hover\"\n    >\n      <Plus />\n    </IconButton>\n    <IconButton\n      className=\"bg-[--active] shadow-[var(--shadow-inset-contrast),var(--shadow-neon-soft)]\"\n      variant=\"default\"\n      aria-label=\"Default active\"\n      aria-pressed\n    >\n      <Plus />\n    </IconButton>\n  </div>\n</div>`,\n    },\n  ],\n})\n\nexport default IconButtonGallery\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"Card_root__tNIrY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"Card_root__hbktV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"CheckCircle_button__MGlRr\",\"rim\":\"CheckCircle_rim__h0Yw4\",\"rimAnimated\":\"CheckCircle_rimAnimated__Tzk31\",\"ccShift\":\"CheckCircle_ccShift__FWZRK\",\"scanlines\":\"CheckCircle_scanlines__dU59e\",\"scanlinesAnimated\":\"CheckCircle_scanlinesAnimated__N49L1\",\"ccScan\":\"CheckCircle_ccScan__ByX6W\",\"bloom\":\"CheckCircle_bloom__UGJZS\",\"ignite\":\"CheckCircle_ignite__u9fZB\",\"powerdown\":\"CheckCircle_powerdown__cs3l2\",\"igniteAnimated\":\"CheckCircle_igniteAnimated__29fo9\",\"igniteFlicker\":\"CheckCircle_igniteFlicker__rPMrM\",\"powerdownAnimated\":\"CheckCircle_powerdownAnimated__u250h\",\"powerDown\":\"CheckCircle_powerDown___4Z8H\",\"check\":\"CheckCircle_check__mTg94\"};","\nexport type Variant =\n  | \"lg\"\n  | \"aurora\"\n  | \"citrus\"\n  | \"noir\"\n  | \"ocean\"\n  | \"kitten\"\n  | \"hardstuck\";\nexport type Background = 0 | 1 | 2 | 3 | 4;\nexport interface ThemeState {\n  variant: Variant;\n  bg: Background;\n}\n\nexport const THEME_STORAGE_KEY = \"ui:theme\";\nexport const THEME_BOOTSTRAP_SCRIPT_PATH = \"/scripts/theme-bootstrap.js\";\n\nexport const BG_CLASSES = [\n  \"\",\n  \"bg-alt1\",\n  \"bg-alt2\",\n  \"bg-vhs\",\n  \"bg-streak\",\n] as const;\n\nconst BG_CLASS_SET = new Set<string>(\n  BG_CLASSES.filter((className) => className.length > 0),\n);\n\nexport function resetThemeClasses(classList: DOMTokenList): void {\n  const classesToRemove: string[] = [];\n\n  classList.forEach((className) => {\n    if (className.startsWith(\"theme-\") || BG_CLASS_SET.has(className)) {\n      classesToRemove.push(className);\n    }\n  });\n\n  if (classesToRemove.length > 0) {\n    classList.remove(...classesToRemove);\n  }\n}\n\nexport const COLOR_PALETTES = {\n  aurora: [\"aurora-g\", \"aurora-g-light\", \"aurora-p\", \"aurora-p-light\"],\n  neutrals: [\n    \"background\",\n    \"bg\",\n    \"foreground\",\n    \"text\",\n    \"card\",\n    \"panel\",\n    \"border\",\n    \"line\",\n    \"input\",\n    \"ring\",\n    \"muted\",\n    \"muted-foreground\",\n    \"surface\",\n    \"surface-2\",\n    \"surface-vhs\",\n    \"surface-streak\",\n    \"icon-fg\",\n  ],\n  accents: [\n    \"accent\",\n    \"accent-2\",\n    \"accent-3\",\n    \"accent-foreground\",\n    \"danger\",\n    \"success\",\n    \"glow-strong\",\n    \"glow-soft\",\n    \"stat-good\",\n    \"stat-warn\",\n    \"stat-bad\",\n  ],\n} as const;\n\nexport type ColorPalette = keyof typeof COLOR_PALETTES;\n\nexport const COLOR_TOKENS = [\n  ...COLOR_PALETTES.neutrals,\n  ...COLOR_PALETTES.accents,\n  ...COLOR_PALETTES.aurora,\n] as const;\n\nexport const VARIANTS: { id: Variant; label: string }[] = [\n  { id: \"lg\", label: \"Glitch\" },\n  { id: \"aurora\", label: \"Aurora\" },\n  { id: \"kitten\", label: \"Kitten\" },\n  { id: \"ocean\", label: \"Oceanic\" },\n  { id: \"citrus\", label: \"Citrus\" },\n  { id: \"noir\", label: \"Noir\" },\n  { id: \"hardstuck\", label: \"Hardstuck\" },\n];\n\nexport const VARIANT_LABELS: Record<Variant, string> = VARIANTS.reduce(\n  (acc, { id, label }) => {\n    acc[id] = label;\n    return acc;\n  },\n  {} as Record<Variant, string>,\n);\n\nconst VARIANT_ID_SET = new Set<Variant>(VARIANTS.map((variant) => variant.id));\n\nfunction isRecord(value: unknown): value is Record<string, unknown> {\n  return typeof value === \"object\" && value !== null && !Array.isArray(value);\n}\n\nfunction isVariant(value: unknown): value is Variant {\n  return typeof value === \"string\" && VARIANT_ID_SET.has(value as Variant);\n}\n\nfunction isBackground(value: unknown): value is Background {\n  return (\n    typeof value === \"number\" &&\n    Number.isInteger(value) &&\n    value >= 0 &&\n    value < BG_CLASSES.length\n  );\n}\n\nexport function decodeThemeState(value: unknown): ThemeState | null {\n  if (!isRecord(value)) {\n    return null;\n  }\n\n  const rawVariant = value[\"variant\"];\n  if (!isVariant(rawVariant)) {\n    return null;\n  }\n\n  const rawBackground = value[\"bg\"];\n  const background = isBackground(rawBackground) ? rawBackground : 0;\n\n  return { variant: rawVariant, bg: background };\n}\n\nexport function defaultTheme(): ThemeState {\n  return { variant: \"lg\", bg: 0 };\n}\n\nexport function applyTheme({ variant, bg }: ThemeState): void {\n  if (typeof document === \"undefined\") {\n    return;\n  }\n\n  const { documentElement } = document;\n  if (!documentElement) {\n    return;\n  }\n\n  const { classList: cl, dataset } = documentElement;\n  resetThemeClasses(cl);\n  cl.add(`theme-${variant}`);\n  const isValidBgIndex =\n    Number.isInteger(bg) && bg >= 0 && bg < BG_CLASSES.length;\n  if (isValidBgIndex && bg > 0) cl.add(BG_CLASSES[bg]);\n  const pref = dataset.themePref === \"system\" ? \"system\" : \"persisted\";\n\n  let prefersDark = true;\n  if (pref === \"system\") {\n    try {\n      if (typeof window !== \"undefined\" && window.matchMedia) {\n        prefersDark = window\n          .matchMedia(\"(prefers-color-scheme: dark)\")\n          .matches;\n      }\n    } catch {\n      prefersDark = true;\n    }\n  }\n\n  cl.toggle(\"dark\", prefersDark);\n  cl.remove(\"color-scheme-dark\", \"color-scheme-light\");\n  cl.add(prefersDark ? \"color-scheme-dark\" : \"color-scheme-light\");\n}\n\n","// src/components/ui/theme/ThemeToggle.tsx\n\"use client\";\n\nimport * as React from \"react\";\nimport { Image as ImageIcon } from \"lucide-react\";\nimport { Button, Select, type SelectItem } from \"@/components/ui\";\nimport useMounted from \"@/lib/useMounted\";\nimport { useTheme } from \"@/lib/theme-context\";\nimport {\n  VARIANTS,\n  VARIANT_LABELS,\n  BG_CLASSES,\n  type Variant,\n  type Background,\n} from \"@/lib/theme\";\n\nconst BG_LABELS = [\"Default\", \"Alt 1\", \"Alt 2\", \"VHS\", \"Streak\"] as const;\n\ntype ThemeToggleProps = {\n  className?: string;\n  id?: string;\n  ariaLabel?: string; // preferred\n  \"aria-label\"?: string; // backward compat\n  cycleDisabled?: boolean;\n  cycleLoading?: boolean;\n};\n\nexport function ThemeToggle({\n  className = \"\",\n  id,\n  ariaLabel,\n  \"aria-label\": ariaLabelAttr,\n  cycleDisabled = false,\n  cycleLoading = false,\n}: ThemeToggleProps) {\n  const aria = ariaLabel ?? ariaLabelAttr ?? \"Theme\";\n\n  const mounted = useMounted();\n  const [state, setState] = useTheme();\n  const { variant, bg } = state;\n  const hasMultipleBackgrounds = BG_CLASSES.length > 1;\n  const isCycleDisabled = cycleDisabled || !hasMultipleBackgrounds;\n  const isCycleLoading = cycleLoading;\n  const [announcement, setAnnouncement] = React.useState(\"\");\n  const prevVariantRef = React.useRef<Variant>(variant);\n  const prevBgRef = React.useRef<Background>(bg);\n  const initializedRef = React.useRef(false);\n  const showFallback = !mounted;\n  const groupLabel = `${aria} controls`;\n\n  const setVariantPersist = React.useCallback(\n    (v: Variant) => setState((prev) => ({ variant: v, bg: prev.bg })),\n    [setState],\n  );\n  const handleChange = React.useCallback(\n    (v: string) => setVariantPersist(v as Variant),\n    [setVariantPersist],\n  );\n  const items: SelectItem[] = React.useMemo(\n    () =>\n      VARIANTS.map((v) => ({\n        value: v.id,\n        label: v.label,\n      })),\n    [],\n  );\n\n  function cycleBg() {\n    if (isCycleDisabled || isCycleLoading) {\n      return;\n    }\n    setState((prev) => ({\n      ...prev,\n      bg: ((prev.bg + 1) % BG_CLASSES.length) as Background,\n    }));\n  }\n\n  React.useEffect(() => {\n    if (!mounted) {\n      prevVariantRef.current = variant;\n      prevBgRef.current = bg;\n      return;\n    }\n\n    if (!initializedRef.current) {\n      initializedRef.current = true;\n      prevVariantRef.current = variant;\n      prevBgRef.current = bg;\n      return;\n    }\n\n    if (variant !== prevVariantRef.current) {\n      setAnnouncement(`Theme switched to ${VARIANT_LABELS[variant]}`);\n    } else if (bg !== prevBgRef.current) {\n      setAnnouncement(`Background switched to ${BG_LABELS[bg]}`);\n    }\n\n    prevVariantRef.current = variant;\n    prevBgRef.current = bg;\n  }, [variant, bg, mounted]);\n\n  React.useEffect(() => {\n    if (!announcement) {\n      return;\n    }\n\n    const timeout = window.setTimeout(() => {\n      setAnnouncement(\"\");\n    }, 1000);\n\n    return () => {\n      window.clearTimeout(timeout);\n    };\n  }, [announcement]);\n\n  return (\n    <div\n      className={`flex items-center gap-[var(--space-2)] whitespace-nowrap ${className}`}\n      role=\"group\"\n      aria-label={groupLabel}\n    >\n      {/* background cycle */}\n      <Button\n        id={id}\n        variant=\"neo\"\n        size=\"sm\"\n        tactile\n        className=\"shrink-0 px-[var(--space-2)]\"\n        aria-label={`${aria}: cycle background`}\n        title={showFallback ? \"Theme controls loading\" : \"Change background\"}\n        onClick={cycleBg}\n        disabled={isCycleDisabled || showFallback}\n        loading={isCycleLoading}\n      >\n        <ImageIcon aria-hidden className=\"h-[var(--space-4)] w-[var(--space-4)]\" />\n        <span className=\"sr-only\">Cycle background</span>\n      </Button>\n\n      {/* dropdown  no visible title; uses aria label */}\n      {showFallback ? (\n        <Button\n          variant=\"neo\"\n          size=\"sm\"\n          className=\"pointer-events-none !rounded-full !px-[var(--space-3)] !text-ui text-muted-foreground\"\n          aria-label={`${aria}: waiting for theme controls`}\n          disabled\n        >\n          {aria}\n        </Button>\n      ) : (\n        <Select\n          variant=\"animated\"\n          ariaLabel={aria}\n          items={items}\n          value={variant}\n          onChange={handleChange}\n          size=\"sm\"\n          buttonClassName=\"!rounded-full !text-ui !w-auto\"\n          matchTriggerWidth={false}\n          align=\"right\"\n          className=\"shrink-0\"\n        />\n      )}\n      <div aria-live=\"polite\" className=\"sr-only\">\n        {announcement}\n      </div>\n    </div>\n  );\n}\n","\"use client\";\n\n// src/components/ui/layout/hero/HeroGlitchStyles.tsx\n\nimport \"./HeroGlitchStyles.css\";\n\nexport function HeroGlitchStyles() {\n  return null;\n}\n","\"use client\";\n\nimport * as React from \"react\";\n\nconst DIMENSION_PROPERTIES = new Set<keyof React.CSSProperties>([\n  \"top\",\n  \"bottom\",\n  \"left\",\n  \"right\",\n  \"minWidth\",\n  \"maxHeight\",\n  \"width\",\n  \"height\",\n]);\n\nfunction formatCssValue(\n  property: keyof React.CSSProperties,\n  value: string | number | undefined | null,\n) {\n  if (value === undefined || value === null) {\n    return undefined;\n  }\n\n  if (typeof value === \"number\") {\n    if (DIMENSION_PROPERTIES.has(property)) {\n      return `${value}px`;\n    }\n\n    return `${value}`;\n  }\n\n  return value;\n}\n\nfunction withFallback(\n  property: keyof React.CSSProperties,\n  value: string | number | undefined,\n  fallback: string,\n) {\n  const resolved = value ?? fallback;\n  return formatCssValue(property, resolved);\n}\n\nexport function useFloatingStyleClass(fixedStyles?: React.CSSProperties) {\n  const positionValue = fixedStyles?.position;\n  const topValue = fixedStyles?.top;\n  const leftValue = fixedStyles?.left;\n  const transformValue = fixedStyles?.transform;\n  const bottomValue = fixedStyles?.bottom;\n  const rightValue = fixedStyles?.right;\n  const minWidthValue = fixedStyles?.minWidth;\n  const maxHeightValue = fixedStyles?.maxHeight;\n  const widthValue = fixedStyles?.width;\n  const heightValue = fixedStyles?.height;\n  const zIndexValue = fixedStyles?.zIndex;\n  const transformOriginValue = fixedStyles?.transformOrigin;\n  const hasFixedStyles = Boolean(fixedStyles);\n\n  const floatingStyle = React.useMemo(() => {\n    if (!hasFixedStyles) {\n      return undefined;\n    }\n\n    const style: React.CSSProperties = {};\n\n    const assign = (\n      property: keyof React.CSSProperties,\n      value: string | number | undefined,\n      fallback?: string,\n    ) => {\n      const formatted =\n        fallback === undefined\n          ? formatCssValue(property, value)\n          : withFallback(property, value, fallback);\n      if (formatted === undefined) {\n        return;\n      }\n      style[property] = formatted as never;\n    };\n\n    assign(\"position\", positionValue, \"fixed\");\n    assign(\"top\", topValue, \"auto\");\n    assign(\"left\", leftValue, \"auto\");\n    assign(\"transform\", transformValue, \"none\");\n    assign(\"bottom\", bottomValue);\n    assign(\"right\", rightValue);\n    assign(\"minWidth\", minWidthValue);\n    assign(\"maxHeight\", maxHeightValue);\n    assign(\"width\", widthValue);\n    assign(\"height\", heightValue);\n    assign(\"zIndex\", zIndexValue);\n    assign(\"transformOrigin\", transformOriginValue);\n\n    return style;\n  }, [\n    hasFixedStyles,\n    positionValue,\n    topValue,\n    leftValue,\n    transformValue,\n    bottomValue,\n    rightValue,\n    minWidthValue,\n    maxHeightValue,\n    widthValue,\n    heightValue,\n    zIndexValue,\n    transformOriginValue,\n  ]);\n\n  return {\n    floatingStyle,\n  } as const;\n}\n","\"use client\";\n\nimport * as React from \"react\";\n\nimport { createGalleryPreview, defineGallerySection } from \"@/components/gallery/registry\";\n\nimport { Badge } from \"./Badge\";\n\nconst ROLE_BADGES = [\n  { tone: \"top\", label: \"Top lane\" },\n  { tone: \"jungle\", label: \"Jungle\" },\n  { tone: \"mid\", label: \"Mid lane\" },\n  { tone: \"bot\", label: \"Bot lane\" },\n  { tone: \"support\", label: \"Support\" },\n] as const;\n\nconst SIZE_OPTIONS = [\n  { token: \"sm\", label: \"Small\" },\n  { token: \"md\", label: \"Medium\" },\n  { token: \"lg\", label: \"Large\" },\n  { token: \"xl\", label: \"Extra large\" },\n] as const;\n\nfunction BadgeGalleryPreview() {\n  return (\n    <div className=\"flex flex-col gap-[var(--space-3)]\">\n      <div className=\"flex flex-col gap-[var(--space-1)]\">\n        <div className=\"flex flex-wrap gap-[var(--space-2)]\">\n          {SIZE_OPTIONS.map(({ token, label }) => (\n            <Badge key={token} size={token}>\n              {label}\n            </Badge>\n          ))}\n        </div>\n        <p className=\"text-caption text-muted-foreground\">\n          <code>xs</code> is available as an alias of <code>sm</code> for legacy badges.\n        </p>\n      </div>\n      <div className=\"flex flex-wrap gap-[var(--space-2)]\">\n        <Badge tone=\"neutral\">Neutral</Badge>\n        <Badge tone=\"accent\">Accent</Badge>\n        <Badge tone=\"primary\">Primary</Badge>\n        <Badge tone=\"primary\" interactive selected>\n          Selected\n        </Badge>\n        <Badge tone=\"accent\" interactive disabled>\n          Disabled\n        </Badge>\n      </div>\n      <div className=\"flex flex-wrap gap-[var(--space-2)]\">\n        {ROLE_BADGES.map(({ tone, label }) => (\n          <Badge key={tone} tone={tone} glitch>\n            {label}\n          </Badge>\n        ))}\n      </div>\n      <p className=\"text-caption text-muted-foreground\">\n        Glitch rail tokens hue-shift per theme; Noir + Hardstuck clamp the\n        overlay alpha so these role badges keep 3:1 text contrast across the\n        noise.\n      </p>\n    </div>\n  );\n}\n\nexport const BadgeGallery = defineGallerySection({\n  id: \"buttons\",\n  entries: [\n    {\n      id: \"badge\",\n      name: \"Badge\",\n      description:\n        \"Compact pill with tone-driven styles. Accent tones now meet 4.5:1 contrast for white content\",\n      kind: \"primitive\",\n      tags: [\"badge\", \"pill\"],\n      props: [\n        {\n          name: \"tone\",\n          type:\n            '\"neutral\" | \"primary\" | \"accent\" | \"top\" | \"jungle\" | \"mid\" | \"bot\" | \"support\"',\n          defaultValue: '\"neutral\"',\n        },\n        {\n          name: \"size\",\n          type: '\"sm\" | \"md\" | \"lg\" | \"xl\"',\n          defaultValue: '\"md\"',\n          description: 'Use \"xs\" as an alias for \"sm\" when migrating legacy code.',\n        },\n        { name: \"interactive\", type: \"boolean\", defaultValue: \"false\" },\n        { name: \"selected\", type: \"boolean\", defaultValue: \"false\" },\n        { name: \"glitch\", type: \"boolean\", defaultValue: \"false\" },\n      ],\n      axes: [\n        {\n          id: \"tone\",\n          label: \"Tone\",\n          type: \"variant\",\n          values: [\n            { value: \"Neutral\" },\n            { value: \"Accent\" },\n            { value: \"Primary\" },\n            { value: \"Top lane\" },\n            { value: \"Jungle\" },\n            { value: \"Mid lane\" },\n            { value: \"Bot lane\" },\n            { value: \"Support\" },\n          ],\n        },\n        {\n          id: \"size\",\n          label: \"Size\",\n          type: \"variant\",\n          values: SIZE_OPTIONS.map(({ label }) => ({ value: label })),\n        },\n        {\n          id: \"state\",\n          label: \"State\",\n          type: \"state\",\n          values: [\n            { value: \"Default\" },\n            { value: \"Interactive\" },\n            { value: \"Selected\" },\n            { value: \"Disabled\" },\n            {\n              value: \"Glitch overlay\",\n              description:\n                \"Glitch rail uses theme hue/alpha clamps so Noir + Hardstuck preserve 3:1 text contrast.\",\n            },\n          ],\n        },\n      ],\n      preview: createGalleryPreview({\n        id: \"ui:badge:tones\",\n        render: () => <BadgeGalleryPreview />,\n      }),\n      code: `<div className=\"flex flex-col gap-[var(--space-3)]\">\n  <div className=\"flex flex-wrap gap-[var(--space-2)]\">\n    <Badge size=\"sm\">Small</Badge>\n    <Badge size=\"md\">Medium</Badge>\n    <Badge size=\"lg\">Large</Badge>\n    <Badge size=\"xl\">Extra large</Badge>\n  </div>\n  <p className=\"text-caption text-muted-foreground\">\n    <code>xs</code> is available as an alias of <code>sm</code> for legacy badges.\n  </p>\n  <div className=\"flex flex-wrap gap-[var(--space-2)]\">\n    <Badge tone=\"neutral\">Neutral</Badge>\n    <Badge tone=\"accent\">Accent</Badge>\n    <Badge tone=\"primary\">Primary</Badge>\n    <Badge tone=\"primary\" interactive selected>\n      Selected\n    </Badge>\n    <Badge tone=\"accent\" interactive disabled>\n      Disabled\n    </Badge>\n  </div>\n  <div className=\"flex flex-wrap gap-[var(--space-2)]\">\n    <Badge tone=\"top\" glitch>\n      Top lane\n    </Badge>\n    <Badge tone=\"jungle\" glitch>\n      Jungle\n    </Badge>\n    <Badge tone=\"mid\" glitch>\n      Mid lane\n    </Badge>\n    <Badge tone=\"bot\" glitch>\n      Bot lane\n    </Badge>\n    <Badge tone=\"support\" glitch>\n      Support\n    </Badge>\n  </div>\n</div>`,\n    },\n  ],\n})\n\nexport default BadgeGallery\n","\"use client\";\n\n// src/components/ui/layout/hero/useHeroStyles.ts\n\nimport * as React from \"react\";\nimport { cn } from \"@/lib/utils\";\nimport type { TabBarProps } from \"../TabBar\";\nimport styles from \"./Hero.module.css\";\n\ntype HeroTabVariant = Extract<TabBarProps[\"variant\"], \"neo\">;\n\nexport interface HeroStyleOptions {\n  frame: boolean;\n  sticky: boolean;\n  topClassName?: string;\n  padding: \"default\" | \"none\";\n  barVariant: \"flat\" | \"raised\";\n  tone: \"heroic\" | \"supportive\";\n  glitch: \"default\" | \"subtle\" | \"off\";\n}\n\nexport interface HeroStyleResult {\n  heroVariant: HeroTabVariant | undefined;\n  shouldRenderGlitchStyles: boolean;\n  isRaisedBar: boolean;\n  showDividerGlow: boolean;\n  classes: {\n    shell: string;\n    bar: string;\n    labelCluster: string;\n    raisedLabelBar: string;\n    utilities: string;\n    body: string;\n    actionRow: string;\n    searchWell: string;\n    actionsWell: string;\n    actionCluster: string;\n    heading: string;\n    subtitle: string;\n    dividerLine: string;\n    dividerGlow: string;\n    divider: string;\n  };\n}\n\nexport function useHeroStyles(options: HeroStyleOptions): HeroStyleResult {\n  const {\n    frame,\n    sticky,\n    topClassName,\n    padding,\n    barVariant,\n    tone,\n    glitch,\n  } = options;\n\n  return React.useMemo(() => {\n    const glitchMode: NonNullable<HeroStyleOptions[\"glitch\"]> = glitch ?? \"default\";\n    const isGlitchDefault = glitchMode === \"default\";\n    const isGlitchSubtle = glitchMode === \"subtle\";\n    const isGlitchOff = glitchMode === \"off\";\n    const heroVariant: HeroTabVariant | undefined = frame ? \"neo\" : undefined;\n    const shouldRenderGlitchStyles = frame && isGlitchDefault;\n    const isRaisedBar = barVariant === \"raised\";\n    const showDividerGlow = frame && !isGlitchOff;\n    const stickyClasses = sticky ? cn(\"sticky sticky-blur\", topClassName) : \"\";\n\n    const shellPadding =\n      padding === \"default\"\n        ? \"px-[var(--space-6)] py-[var(--space-6)] md:px-[var(--space-7)] md:py-[var(--space-7)] lg:px-[var(--space-8)] lg:py-[var(--space-8)]\"\n        : undefined;\n\n    const shell = cn(\n      stickyClasses,\n      \"mx-auto w-full\",\n      frame\n        ? cn(\n            \"group/hero relative z-0 isolate overflow-hidden veil-soft r-card-lg border border-border/55 text-foreground shadow-outline-subtle hero2-frame hero2-neomorph\",\n            \"before:pointer-events-none before:absolute before:inset-0 before:z-[1] before:rounded-[inherit] before:content-['']\",\n            \"before:bg-glitch-overlay before:opacity-[var(--hero-glitch-overlay-opacity,0.08)] before:mix-blend-soft-light\",\n            \"motion-reduce:before:opacity-[calc(var(--hero-glitch-overlay-opacity,0.08)*0.75)]\",\n            shellPadding,\n          )\n        : padding === \"default\"\n          ? \"px-[var(--space-2)] sm:px-[var(--space-4)] lg:px-[var(--space-5)]\"\n          : undefined,\n    );\n\n    const bar = frame\n      ? \"relative z-[2] grid grid-cols-1 md:grid-cols-12 items-start md:items-center gap-y-[var(--space-4)] md:gap-y-0 md:gap-x-[var(--space-4)] lg:gap-x-[var(--space-6)]\"\n      : \"relative z-[2] grid grid-cols-1 md:grid-cols-12 items-start md:items-center gap-y-[var(--space-2)] md:gap-y-0 md:gap-x-[var(--space-4)] lg:gap-x-[var(--space-5)] py-[var(--space-4)] md:py-[var(--space-5)]\";\n\n    const slotWellSurface = cn(\n      \"group/hero-slot relative isolate flex w-full min-w-0 flex-col gap-[var(--space-2)] overflow-hidden veil-soft r-card-lg border border-border/45 px-[var(--space-4)] py-[var(--space-3)] text-foreground\",\n      \"[--neo-inset-shadow:var(--depth-shadow-inner)] neo-inset hero-focus transition-[box-shadow,transform] duration-motion-md ease-out\",\n      \"motion-reduce:transform-none motion-reduce:transition-none focus-within:ring-1 focus-within:ring-ring/60\",\n      \"before:pointer-events-none before:absolute before:inset-0 before:z-0 before:content-[''] before:rounded-[inherit] before:bg-hero-slot-highlight before:opacity-70 before:mix-blend-screen\",\n      \"after:pointer-events-none after:absolute after:inset-0 after:z-0 after:content-[''] after:rounded-[inherit] after:translate-x-[calc(var(--space-1)/2)] after:translate-y-[calc(var(--space-1)/2)] after:bg-hero-slot-shadow after:shadow-[var(--hero-slot-shadow,var(--depth-shadow-soft))] after:opacity-65\",\n      \"hover:[--neo-inset-shadow:var(--depth-shadow-soft)] focus-visible:[--neo-inset-shadow:var(--depth-shadow-soft)] focus-within:[--neo-inset-shadow:var(--depth-shadow-soft)]\",\n      \"hover:-translate-y-[var(--hairline-w)] focus-visible:-translate-y-[var(--hairline-w)] focus-within:-translate-y-[var(--hairline-w)]\",\n    );\n\n    const baseSearchWell = \"w-full min-w-0 md:flex-1\";\n\n    const searchWell = frame\n      ? cn(slotWellSurface, baseSearchWell)\n      : baseSearchWell;\n\n    const baseActionWell = \"w-full md:w-auto\";\n\n    const baseActionCluster =\n      \"flex w-full flex-wrap items-center gap-[var(--space-2)] md:w-auto md:flex-nowrap\";\n\n    const actionsWell = frame\n      ? cn(\n          slotWellSurface,\n          \"flex-row flex-wrap gap-[var(--space-2)] md:flex-nowrap md:items-center md:justify-end md:gap-[var(--space-3)]\",\n        )\n      : baseActionWell;\n\n    const actionCluster = frame\n      ? \"flex w-full flex-wrap items-center gap-[var(--space-2)] md:flex-nowrap md:justify-end\"\n      : baseActionCluster;\n\n    const clusterGapClass = frame\n      ? \"gap-[var(--space-4)] md:gap-[var(--space-5)]\"\n      : \"gap-[var(--space-2)] md:gap-[var(--space-4)]\";\n\n    const labelCluster = cn(\n      \"relative col-span-full md:col-span-8 flex min-w-0 flex-wrap items-start md:flex-nowrap\",\n      isRaisedBar ? \"md:items-stretch\" : \"md:items-center\",\n      clusterGapClass,\n    );\n\n    const raisedLabelBar = cn(\n      \"flex w-full min-w-0 flex-wrap items-start md:flex-nowrap md:items-center\",\n      clusterGapClass,\n      \"z-0 overflow-hidden veil-soft r-card-lg border border-border/45 px-[var(--space-4)] py-[var(--space-4)] md:px-[var(--space-4)] text-foreground shadow-depth-soft hero2-frame hero2-neomorph\",\n    );\n\n    const utilities = cn(\n      \"col-span-full flex w-full min-w-0 justify-start md:col-span-4 md:w-auto md:justify-end\",\n      \"flex-wrap items-start gap-[var(--space-2)] md:flex-nowrap md:items-center\",\n    );\n\n    const body = frame\n      ? \"relative z-[2] mt-[var(--space-5)] md:mt-[var(--space-6)] flex flex-col gap-[var(--space-5)] md:gap-[var(--space-6)]\"\n      : \"relative z-[2] mt-[var(--space-4)] md:mt-[var(--space-5)] flex flex-col gap-[var(--space-4)] md:gap-[var(--space-5)]\";\n\n    const actionRow = frame\n      ? \"flex w-full min-w-0 flex-wrap items-start gap-[var(--space-4)] md:flex-nowrap md:items-center md:justify-between md:gap-[var(--space-5)] lg:gap-[var(--space-6)] pt-[var(--space-5)] md:pt-[var(--space-6)]\"\n      : \"flex w-full min-w-0 flex-wrap items-start gap-[var(--space-2)] md:flex-nowrap md:items-center md:justify-between md:gap-[var(--space-4)] lg:gap-[var(--space-5)] pt-[var(--space-4)] md:pt-[var(--space-5)]\";\n\n    const heading = cn(\n      \"font-semibold tracking-[-0.01em] text-balance break-words text-foreground\",\n      tone === \"supportive\"\n        ? \"text-title md:text-title\"\n        : \"text-title-lg md:text-title-lg\",\n      frame && !isGlitchOff && \"hero2-title\",\n    );\n\n    const subtitle = cn(\n      \"text-ui md:text-body text-muted-foreground break-words\",\n      tone === \"supportive\" ? \"font-normal\" : \"font-medium\",\n    );\n\n    const dividerLine = cn(\n      \"block h-px\",\n      frame\n        ? isGlitchOff\n          ? \"hero2-divider-line bg-[hsl(var(--divider))/0.18]\"\n          : isGlitchSubtle\n            ? \"hero2-divider-line bg-[hsl(var(--divider))/0.24]\"\n            : \"hero2-divider-line bg-[hsl(var(--divider))/0.35]\"\n        : \"bg-[hsl(var(--divider))/0.28]\",\n    );\n\n    const dividerGlow = cn(\n      \"hero2-divider-glow absolute inset-x-0 top-0 h-px bg-[hsl(var(--divider))]\",\n      isGlitchSubtle ? \"opacity-35\" : \"opacity-60\",\n    );\n\n    return {\n      heroVariant,\n      shouldRenderGlitchStyles,\n      isRaisedBar,\n      showDividerGlow,\n      classes: {\n        shell,\n        bar,\n        labelCluster,\n        raisedLabelBar,\n        utilities,\n        body,\n        actionRow,\n        searchWell,\n        actionsWell,\n        actionCluster,\n        heading,\n        subtitle,\n        dividerLine,\n        dividerGlow,\n        divider: styles.divider,\n      },\n    } satisfies HeroStyleResult;\n  }, [\n    frame,\n    sticky,\n    topClassName,\n    padding,\n    barVariant,\n    tone,\n    glitch,\n  ]);\n}\n\n","// src/components/ui/Progress.tsx\n\"use client\";\n\nimport * as React from \"react\";\n\ninterface ProgressProps {\n  readonly value: number;\n  readonly label?: string;\n}\n\n/** Simple progress bar (0..100), with SR label */\nexport function Progress({ value, label }: ProgressProps) {\n  const v = Math.max(0, Math.min(100, Math.round(value)));\n\n  return (\n    <div className=\"h-[var(--space-2)] w-full rounded-full bg-muted shadow-depth-inner\">\n      <div className=\"h-full w-full overflow-hidden rounded-full bg-panel/90 shadow-depth-inner\">\n        <span\n          className={`progress-fill progress-${v} block h-full rounded-full shadow-depth-soft`}\n          role=\"progressbar\"\n          aria-valuemin={0}\n          aria-valuemax={100}\n          aria-valuenow={v}\n          aria-label={label}\n          data-progress={v}\n        >\n          <span className=\"sr-only\">{v}%</span>\n        </span>\n      </div>\n    </div>\n  );\n}\n","// src/components/ui/layout/NeomorphicFrameStyles.tsx\n\"use client\";\n\nimport \"./NeomorphicFrameStyles.css\";\n\nexport function NeomorphicFrameStyles() {\n  return null;\n}\n","\"use client\";\n\nimport * as React from \"react\";\n\nimport { createGalleryPreview, defineGallerySection } from \"@/components/gallery/registry\";\n\nimport { Field } from \"./Field\";\n\nconst options = [\n  { value: \"one\", label: \"One\" },\n  { value: \"two\", label: \"Two\" },\n];\n\nexport type FieldStateSpec = {\n  id: string;\n  name: string;\n  Component: React.ComponentType;\n  code?: string;\n};\n\nconst DefaultFieldState: React.FC = () => (\n  <Field.Root helper=\"Compose primitives\">\n    <Field.Input placeholder=\"Default field\" />\n  </Field.Root>\n);\n\nconst FocusVisibleFieldState: React.FC = () => (\n  <Field.Root\n    className=\"ring-2 ring-ring\"\n    helper=\"Helper text aligns with counter\"\n    helperId=\"field-focus-helper\"\n    counter=\"64 / 100\"\n    counterId=\"field-focus-counter\"\n  >\n    <Field.Input\n      aria-describedby=\"field-focus-helper field-focus-counter\"\n      placeholder=\"Forced focus ring\"\n    />\n  </Field.Root>\n);\n\nconst InvalidFieldState: React.FC = () => (\n  <Field.Root invalid helper=\"Incorrect format\" helperTone=\"danger\">\n    <Field.Input placeholder=\"Invalid field\" aria-invalid />\n  </Field.Root>\n);\n\nconst LoadingFieldState: React.FC = () => (\n  <Field.Root loading helper=\"Loading state\">\n    <Field.Input placeholder=\"Loading field\" />\n  </Field.Root>\n);\n\nconst DisabledFieldState: React.FC = () => (\n  <Field.Root disabled helper=\"Disabled field\">\n    <Field.Input placeholder=\"Disabled field\" disabled />\n  </Field.Root>\n);\n\nconst FieldWithCounterState: React.FC = () => (\n  <Field.Root\n    counter=\"120 / 200\"\n    counterId=\"field-counter\"\n    helper=\"Helper with counter\"\n    helperId=\"field-helper\"\n  >\n    <Field.Textarea\n      aria-describedby=\"field-helper field-counter\"\n      placeholder=\"Textarea within a field\"\n      rows={3}\n    />\n  </Field.Root>\n);\n\nconst SelectFieldState: React.FC = () => (\n  <Field.Root>\n    <Field.Select defaultValue=\"one\">\n      {options.map((option) => (\n        <option key={option.value} value={option.value}>\n          {option.label}\n        </option>\n      ))}\n    </Field.Select>\n  </Field.Root>\n);\n\nconst SearchFieldState: React.FC = () => {\n  const [search, setSearch] = React.useState(\"Scouting\");\n\n  return (\n    <Field.Root>\n      <Field.Search\n        value={search}\n        onChange={(event) => setSearch(event.target.value)}\n        placeholder=\"Search fields\"\n        clearLabel=\"Clear search\"\n      />\n    </Field.Root>\n  );\n};\n\nconst GlitchFieldState: React.FC = () => (\n  <Field.Root\n    glitch\n    glitchText=\"Player lookup\"\n    helper=\"Overlay pulls from accent + ring tokens\"\n    helperId=\"field-glitch-helper\"\n  >\n    <Field.Input\n      aria-describedby=\"field-glitch-helper\"\n      placeholder=\"Glitch overlay\"\n      indent\n    />\n  </Field.Root>\n);\n\nconst FIELD_STATES: readonly FieldStateSpec[] = [\n  {\n    id: \"default\",\n    name: \"Default\",\n    Component: DefaultFieldState,\n    code: `<Field.Root helper=\"Compose primitives\">\n  <Field.Input placeholder=\"Default field\" />\n</Field.Root>`,\n  },\n  {\n    id: \"focus-visible\",\n    name: \"Focus visible\",\n    Component: FocusVisibleFieldState,\n    code: `<Field.Root\n  className=\"ring-2 ring-ring\"\n  helper=\"Helper text aligns with counter\"\n  helperId=\"field-focus-helper\"\n  counter=\"64 / 100\"\n  counterId=\"field-focus-counter\"\n>\n  <Field.Input\n    aria-describedby=\"field-focus-helper field-focus-counter\"\n    placeholder=\"Forced focus ring\"\n  />\n</Field.Root>`,\n  },\n  {\n    id: \"invalid\",\n    name: \"Invalid\",\n    Component: InvalidFieldState,\n    code: `<Field.Root invalid helper=\"Incorrect format\" helperTone=\"danger\">\n  <Field.Input placeholder=\"Invalid field\" aria-invalid />\n</Field.Root>`,\n  },\n  {\n    id: \"loading\",\n    name: \"Loading\",\n    Component: LoadingFieldState,\n    code: `<Field.Root loading helper=\"Loading state\">\n  <Field.Input placeholder=\"Loading field\" />\n</Field.Root>`,\n  },\n  {\n    id: \"disabled\",\n    name: \"Disabled\",\n    Component: DisabledFieldState,\n    code: `<Field.Root disabled helper=\"Disabled field\">\n  <Field.Input placeholder=\"Disabled field\" disabled />\n</Field.Root>`,\n  },\n  {\n    id: \"with-counter\",\n    name: \"With counter\",\n    Component: FieldWithCounterState,\n    code: `<Field.Root\n  counter=\"120 / 200\"\n  counterId=\"field-counter\"\n  helper=\"Helper with counter\"\n  helperId=\"field-helper\"\n>\n  <Field.Textarea\n    aria-describedby=\"field-helper field-counter\"\n    placeholder=\"Textarea within a field\"\n    rows={3}\n  />\n</Field.Root>`,\n  },\n  {\n    id: \"select\",\n    name: \"Select\",\n    Component: SelectFieldState,\n    code: `const options = [\n  { value: \"one\", label: \"One\" },\n  { value: \"two\", label: \"Two\" },\n];\n\n<Field.Root>\n  <Field.Select defaultValue=\"one\">\n    {options.map((option) => (\n      <option key={option.value} value={option.value}>\n        {option.label}\n      </option>\n    ))}\n  </Field.Select>\n</Field.Root>`,\n  },\n  {\n    id: \"search\",\n    name: \"Search\",\n    Component: SearchFieldState,\n    code: `const [search, setSearch] = React.useState(\"Scouting\");\n\n<Field.Root>\n  <Field.Search\n    value={search}\n    onChange={(event) => setSearch(event.target.value)}\n    placeholder=\"Search fields\"\n    clearLabel=\"Clear search\"\n  />\n</Field.Root>`,\n  },\n  {\n    id: \"glitch\",\n    name: \"Glitch overlay\",\n    Component: GlitchFieldState,\n    code: `<Field.Root glitch glitchText=\"Player lookup\" helper=\"Overlay pulls from accent + ring tokens\" helperId=\"field-glitch-helper\">\\n  <Field.Input aria-describedby=\"field-glitch-helper\" placeholder=\"Glitch overlay\" indent />\\n</Field.Root>`,\n  },\n];\n\nexport const FIELD_STATE_SPECS: readonly FieldStateSpec[] = FIELD_STATES;\n\nfunction FieldGalleryPreview() {\n  return (\n    <div className=\"flex flex-col gap-[var(--space-3)]\">\n      {FIELD_STATES.filter((state) => state.id !== \"glitch\").map(\n        ({ id, Component }) => (\n          <Component key={id} />\n        ),\n      )}\n      <div className=\"space-y-[var(--space-1)]\">\n        <GlitchFieldState />\n        <p className=\"text-caption text-muted-foreground\">\n          Glitch fields default to{\" \"}\n          <code className=\"mx-[var(--space-1)]\">\n            --glitch-overlay-button-opacity-reduced\n          </code>\n          so Noir and Hardstuck keep helper/counter copy legible while the\n          chroma noise animates.\n        </p>\n      </div>\n    </div>\n  );\n}\n\nexport const FieldGallery = defineGallerySection({\n  id: \"inputs\",\n  entries: [\n    {\n      id: \"field\",\n      name: \"Field\",\n      description: \"Composable shell for custom inputs, search, and selects\",\n      kind: \"primitive\",\n      tags: [\"field\", \"input\"],\n      props: [\n        { name: \"height\", type: '\"sm\" | \"md\" | \"lg\" | \"xl\" | number', defaultValue: '\"md\"' },\n        { name: \"disabled\", type: \"boolean\", defaultValue: \"false\" },\n        { name: \"invalid\", type: \"boolean\", defaultValue: \"false\" },\n        { name: \"loading\", type: \"boolean\", defaultValue: \"false\" },\n        { name: \"readOnly\", type: \"boolean\", defaultValue: \"false\" },\n        { name: \"helper\", type: \"React.ReactNode\" },\n        { name: \"helperTone\", type: '\"muted\" | \"danger\" | \"success\"' },\n        { name: \"counter\", type: \"React.ReactNode\" },\n      ],\n      axes: [\n        {\n          id: \"state\",\n          label: \"State\",\n          type: \"state\",\n          values: FIELD_STATES.map(({ name, id }) => ({\n            value: name,\n            description:\n              id === \"glitch\"\n                ? \"Glitch overlay rides reduced opacity + hue tokens to keep helper/counter text readable in Noir + Hardstuck.\"\n                : undefined,\n          })),\n        },\n      ],\n      preview: createGalleryPreview({\n        id: \"ui:field:states\",\n        render: () => <FieldGalleryPreview />,\n      }),\n      states: FIELD_STATES.map((state) => ({\n        id: state.id,\n        name: state.name,\n        code: state.code,\n        preview: createGalleryPreview({\n          id: `ui:field:state:${state.id}`,\n          render: () => <state.Component />,\n        }),\n      })),\n      code: `const [search, setSearch] = React.useState(\"Scouting\");\n\n<Field.Root helper=\"Compose primitives\">\n  <Field.Input placeholder=\"Default field\" />\n</Field.Root>\n<Field.Root\n  className=\"ring-2 ring-ring\"\n  helper=\"Helper text aligns with counter\"\n  helperId=\"field-focus-helper\"\n  counter=\"64 / 100\"\n  counterId=\"field-focus-counter\"\n>\n  <Field.Input\n    aria-describedby=\"field-focus-helper field-focus-counter\"\n    placeholder=\"Forced focus ring\"\n  />\n</Field.Root>\n<Field.Root invalid helper=\"Incorrect format\" helperTone=\"danger\">\n  <Field.Input placeholder=\"Invalid field\" aria-invalid />\n</Field.Root>\n<Field.Root loading helper=\"Loading state\">\n  <Field.Input placeholder=\"Loading field\" />\n</Field.Root>\n<Field.Root disabled helper=\"Disabled field\">\n  <Field.Input placeholder=\"Disabled field\" disabled />\n</Field.Root>\n<Field.Root\n  counter=\"120 / 200\"\n  counterId=\"field-counter\"\n  helper=\"Helper with counter\"\n  helperId=\"field-helper\"\n>\n  <Field.Textarea\n    aria-describedby=\"field-helper field-counter\"\n    placeholder=\"Textarea within a field\"\n    rows={3}\n  />\n</Field.Root>\n<Field.Root>\n  <Field.Select defaultValue=\"one\">\n    <option value=\"one\">One</option>\n    <option value=\"two\">Two</option>\n  </Field.Select>\n</Field.Root>\n<Field.Root>\n  <Field.Search\n    value={search}\n    onChange={(event) => setSearch(event.target.value)}\n    placeholder=\"Search fields\"\n    clearLabel=\"Clear search\"\n  />\n</Field.Root>`,\n    },\n  ],\n})\n\nexport default FieldGallery\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"GlitchProgress_root__zgw1c\",\"shell\":\"GlitchProgress_shell__d3XHO\",\"surface\":\"GlitchProgress_surface__KwR70\",\"neon\":\"GlitchProgress_neon__f_iSF\",\"noise\":\"GlitchProgress_noise__WLO_e\",\"inner\":\"GlitchProgress_inner__NlpaJ\",\"ring\":\"GlitchProgress_ring__GHc5q\",\"scanlines\":\"GlitchProgress_scanlines__VALtF\"};","\"use client\";\n\nimport * as React from \"react\";\nimport { Info } from \"lucide-react\";\n\nimport { Button } from \"@/components/ui\";\nimport { cn } from \"@/lib/utils\";\n\nexport type AIExplainTooltipAlignment = \"start\" | \"center\" | \"end\";\nexport type AIExplainTooltipTone = \"accent\" | \"neutral\";\ntype TriggerElement = HTMLButtonElement | HTMLAnchorElement;\n\nexport interface AIExplainTooltipProps extends React.ComponentPropsWithoutRef<\"div\"> {\n  readonly triggerLabel: string;\n  readonly explanation: React.ReactNode;\n  readonly shortcutHint?: string;\n  readonly icon?: React.ReactNode;\n  readonly alignment?: AIExplainTooltipAlignment;\n  readonly tone?: AIExplainTooltipTone;\n  readonly open?: boolean;\n  readonly defaultOpen?: boolean;\n  readonly onOpenChange?: (open: boolean) => void;\n  readonly triggerProps?: React.ComponentPropsWithoutRef<typeof Button>;\n}\n\nconst toneBackground: Record<AIExplainTooltipTone, string> = {\n  accent: \"bg-[hsl(var(--accent-1-soft))] border-[hsl(var(--accent-1)/0.4)] text-[hsl(var(--accent-1-foreground))]\",\n  neutral: \"bg-[hsl(var(--surface)/0.9)] border-[hsl(var(--border)/0.6)] text-foreground\",\n};\n\nconst AIExplainTooltip = React.forwardRef<HTMLDivElement, AIExplainTooltipProps>(\n  (\n    {\n      triggerLabel,\n      explanation,\n      shortcutHint,\n      icon,\n      alignment = \"start\",\n      tone = \"accent\",\n      open,\n      defaultOpen,\n      onOpenChange,\n      triggerProps,\n      className,\n      ...props\n    },\n    ref,\n  ) => {\n    const reactId = React.useId();\n    const tooltipId = React.useMemo(() => {\n      const sanitizedId = reactId.replace(/[^a-zA-Z0-9]+/g, \"\");\n      return `:${sanitizedId}:`;\n    }, [reactId]);\n    const [uncontrolledOpen, setUncontrolledOpen] = React.useState(defaultOpen ?? false);\n    const isControlled = open !== undefined;\n    const isOpen = isControlled ? open : uncontrolledOpen;\n\n    const setOpen = React.useCallback(\n      (value: boolean) => {\n        if (!isControlled) {\n          setUncontrolledOpen(value);\n        }\n        onOpenChange?.(value);\n      },\n      [isControlled, onOpenChange],\n    );\n\n    const handleToggle = React.useCallback(() => {\n      setOpen(!isOpen);\n    }, [isOpen, setOpen]);\n\n    const close = React.useCallback(() => {\n      setOpen(false);\n    }, [setOpen]);\n\n    const handleKeyDown = React.useCallback(\n      (event: React.KeyboardEvent<TriggerElement>) => {\n        if (event.key === \"Escape\") {\n          event.preventDefault();\n          close();\n        }\n      },\n      [close],\n    );\n\n    const handleFocus = React.useCallback(() => {\n      setOpen(true);\n    }, [setOpen]);\n\n    const handleBlur = React.useCallback(\n      (event: React.FocusEvent<TriggerElement>) => {\n        if (!event.currentTarget.contains(event.relatedTarget as Node | null)) {\n          close();\n        }\n      },\n      [close],\n    );\n\n    const handlePointerEnter = React.useCallback(() => {\n      setOpen(true);\n    }, [setOpen]);\n\n    const handlePointerLeave = React.useCallback(() => {\n      close();\n    }, [close]);\n\n    const {\n      className: triggerClassName,\n      onClick: onTriggerClick,\n      onFocus: onTriggerFocus,\n      onBlur: onTriggerBlur,\n      onPointerEnter: onTriggerPointerEnter,\n      onPointerLeave: onTriggerPointerLeave,\n      onKeyDown: onTriggerKeyDown,\n      tone: triggerTone,\n      ...restTriggerProps\n    } = triggerProps ?? {};\n\n    const resolvedTone = triggerTone ?? (tone === \"accent\" ? \"accent\" : \"primary\");\n\n    return (\n      <div\n        ref={ref}\n        className={cn(\"relative inline-flex flex-col items-start\", className)}\n        {...props}\n      >\n        <Button\n          type=\"button\"\n          size=\"sm\"\n          variant=\"quiet\"\n          tone={resolvedTone}\n          aria-expanded={isOpen}\n          aria-controls={tooltipId}\n          aria-describedby={isOpen ? tooltipId : undefined}\n          onClick={(event: React.MouseEvent<TriggerElement>) => {\n            const clickHandler =\n              onTriggerClick as ((event: React.MouseEvent<TriggerElement>) => void) | undefined;\n            clickHandler?.(event);\n            if (!event.defaultPrevented) {\n              handleToggle();\n            }\n          }}\n          onKeyDown={(event: React.KeyboardEvent<TriggerElement>) => {\n            const keyHandler =\n              onTriggerKeyDown as ((event: React.KeyboardEvent<TriggerElement>) => void) | undefined;\n            keyHandler?.(event);\n            if (!event.defaultPrevented) {\n              handleKeyDown(event);\n            }\n          }}\n          onFocus={(event: React.FocusEvent<TriggerElement>) => {\n            const focusHandler =\n              onTriggerFocus as ((event: React.FocusEvent<TriggerElement>) => void) | undefined;\n            focusHandler?.(event);\n            if (!event.defaultPrevented) {\n              handleFocus();\n            }\n          }}\n          onBlur={(event: React.FocusEvent<TriggerElement>) => {\n            const blurHandler =\n              onTriggerBlur as ((event: React.FocusEvent<TriggerElement>) => void) | undefined;\n            blurHandler?.(event);\n            if (!event.defaultPrevented) {\n              handleBlur(event);\n            }\n          }}\n          onPointerEnter={(event: React.PointerEvent<TriggerElement>) => {\n            const pointerEnterHandler =\n              onTriggerPointerEnter as ((event: React.PointerEvent<TriggerElement>) => void) | undefined;\n            pointerEnterHandler?.(event);\n            if (!event.defaultPrevented) {\n              handlePointerEnter();\n            }\n          }}\n          onPointerLeave={(event: React.PointerEvent<TriggerElement>) => {\n            const pointerLeaveHandler =\n              onTriggerPointerLeave as ((event: React.PointerEvent<TriggerElement>) => void) | undefined;\n            pointerLeaveHandler?.(event);\n            if (!event.defaultPrevented) {\n              handlePointerLeave();\n            }\n          }}\n          className={cn(\"gap-[var(--space-1-5)] px-[var(--space-3)]\", triggerClassName)}\n          {...restTriggerProps}\n        >\n          {icon ?? <Info className=\"size-[var(--space-4)]\" aria-hidden />}\n          <span>{triggerLabel}</span>\n        </Button>\n        <div\n          id={tooltipId}\n          role=\"tooltip\"\n          data-state={isOpen ? \"open\" : \"closed\"}\n          aria-hidden={isOpen ? undefined : \"true\"}\n          className={cn(\n            \"pointer-events-none absolute z-10 mt-[var(--space-2)] min-w-[min(22rem,calc(100vw-2rem))] rounded-card border p-[var(--space-3)] text-left shadow-[var(--shadow-outline-subtle)] opacity-0 -translate-y-[var(--space-1)] transition-[opacity,transform] duration-motion-sm ease-out motion-reduce:transition-none motion-reduce:transform-none data-[state=open]:opacity-100 data-[state=open]:translate-y-0\",\n            toneBackground[tone],\n            alignClassNames[alignment],\n          )}\n        >\n          <div className=\"flex flex-col gap-[var(--space-1-5)]\">\n            <p className=\"text-label font-medium leading-snug\">{explanation}</p>\n            {shortcutHint ? (\n              <p className=\"text-caption opacity-80\">{shortcutHint}</p>\n            ) : null}\n          </div>\n        </div>\n      </div>\n    );\n  },\n);\n\nAIExplainTooltip.displayName = \"AIExplainTooltip\";\nconst alignClassNames: Record<AIExplainTooltipAlignment, string> = {\n  start: \"left-0\",\n  center: \"left-1/2 -translate-x-1/2 transform\",\n  end: \"right-0\",\n};\n\nexport { AIExplainTooltip };\n","'use client'\n\nimport * as React from 'react'\nimport * as Dialog from '@radix-ui/react-dialog'\nimport { useDialogTrap } from '../hooks/useDialogTrap'\n\nexport interface ModalProps {\n  open: boolean\n  onOpenChange: (open: boolean) => void\n  title: string\n  description?: string\n  children: React.ReactNode\n  actions: React.ReactNode\n}\n\nexport function Modal({ open, onOpenChange, title, description, children, actions }: ModalProps) {\n  const contentRef = React.useRef<HTMLDivElement>(null)\n\n  const handleClose = React.useCallback(() => {\n    onOpenChange(false)\n  }, [onOpenChange])\n\n  useDialogTrap({ open, onClose: handleClose, ref: contentRef })\n\n  return (\n    <Dialog.Root open={open} onOpenChange={onOpenChange}>\n      <Dialog.Portal>\n        <Dialog.Overlay className=\"fixed inset-0 bg-black/50 backdrop-blur\" />\n        <Dialog.Content\n          ref={contentRef}\n          className=\"fixed top-1/2 left-1/2 w-full max-w-[24rem] -translate-x-1/2 -translate-y-1/2 rounded-[var(--radius-lg)] bg-card p-[var(--space-6)] shadow-neo\"\n        >\n          <Dialog.Title className=\"text-title font-semibold\">{title}</Dialog.Title>\n          {description && (\n            <Dialog.Description className=\"mt-[var(--space-1)] text-muted-foreground\">\n              {description}\n            </Dialog.Description>\n          )}\n          <div className=\"mt-[var(--space-4)]\">{children}</div>\n          <div className=\"mt-[var(--space-6)] flex justify-end gap-[var(--space-2)]\">{actions}</div>\n        </Dialog.Content>\n      </Dialog.Portal>\n    </Dialog.Root>\n  )\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"progressTrack\":\"Toast_progressTrack__YVOv_\",\"progressFill\":\"Toast_progressFill__BbE7g\"};","import * as React from \"react\";\nimport type { ImageProps } from \"next/image\";\n\nimport { cn } from \"@/lib/utils\";\n\nimport styles from \"./AvatarFrame.module.css\";\n\ntype AvatarFrameSize = \"sm\" | \"md\" | \"lg\" | \"xl\";\n\ntype MediaElement = React.ReactElement<\n  ImageProps | React.ImgHTMLAttributes<HTMLImageElement>\n>;\n\ntype AvatarFrameOwnProps<T extends React.ElementType = \"div\"> = {\n  as?: T;\n  frame?: boolean;\n  size?: AvatarFrameSize;\n  media?: MediaElement;\n  before?: React.ReactNode;\n  after?: React.ReactNode;\n  children?: React.ReactNode;\n  innerClassName?: string;\n  surfaceClassName?: string;\n  rimClassName?: string;\n  glowClassName?: string;\n  railClassName?: string;\n};\n\nexport type AvatarFrameProps<T extends React.ElementType = \"div\"> =\n  AvatarFrameOwnProps<T> &\n    Omit<React.ComponentPropsWithoutRef<T>, keyof AvatarFrameOwnProps<T>>;\n\nconst sizeClassNames: Record<AvatarFrameSize, string> = {\n  sm: styles.sizeSm,\n  md: styles.sizeMd,\n  lg: styles.sizeLg,\n  xl: styles.sizeXl,\n};\n\nfunction coerceMedia(media?: MediaElement) {\n  if (!media || !React.isValidElement(media)) {\n    return media;\n  }\n\n  return React.cloneElement(media, {\n    className: cn(\n      \"h-full w-full object-contain object-[center_20%]\",\n      styles.media,\n      media.props.className,\n    ),\n  });\n}\n\nfunction AvatarFrame<T extends React.ElementType = \"div\">({\n  as,\n  frame = true,\n  size = \"md\",\n  media,\n  before,\n  after,\n  children,\n  className,\n  innerClassName,\n  surfaceClassName,\n  rimClassName,\n  glowClassName,\n  railClassName,\n  ...rest\n}: AvatarFrameProps<T>) {\n  const Comp = (as ?? \"div\") as React.ElementType;\n  const processedMedia = coerceMedia(media);\n\n  return (\n    <Comp\n      className={cn(\n        \"relative isolate flex shrink-0 items-center justify-center\",\n        styles.root,\n        sizeClassNames[size],\n        className,\n      )}\n      {...rest}\n    >\n      {before}\n      {frame ? (\n        <>\n          <span\n            aria-hidden\n            className={cn(\n              \"pointer-events-none absolute -inset-[calc(var(--portrait-rim)*1.6)] rounded-full blur-[var(--hero-illustration-blur,var(--portrait-glow))] opacity-[var(--hero-illustration-opacity,0.8)]\",\n              styles.glow,\n              glowClassName,\n            )}\n          />\n          <span\n            aria-hidden\n            className={cn(\n              \"glitch-rail pointer-events-none absolute -inset-[calc(var(--portrait-rim)*1.1)] rounded-full mix-blend-screen opacity-[var(--glitch-intensity-hero-rail,0.74)]\",\n              railClassName,\n            )}\n          />\n          <div\n            className={cn(\n              \"relative flex items-center justify-center rounded-full shadow-depth-outer\",\n              styles.rim,\n              rimClassName,\n            )}\n          >\n            <div\n              className={cn(\n                \"relative aspect-[1/1] w-full overflow-hidden rounded-full\",\n                styles.inner,\n                innerClassName,\n              )}\n            >\n              {processedMedia}\n              {children}\n            </div>\n          </div>\n        </>\n      ) : (\n        <div\n          className={cn(\n            \"relative aspect-[1/1] w-full overflow-hidden rounded-full shadow-depth-outer\",\n            styles.framelessSurface,\n            surfaceClassName,\n          )}\n        >\n          {processedMedia}\n          {children}\n        </div>\n      )}\n      {after}\n    </Comp>\n  );\n}\n\nAvatarFrame.displayName = \"AvatarFrame\";\nexport { AvatarFrame };\n","\"use client\";\n\nimport * as React from \"react\";\nimport { Plus } from \"lucide-react\";\n\nimport { createGalleryPreview, defineGallerySection } from \"@/components/gallery/registry\";\n\nimport { buttonSizes, type ButtonSize, Button } from \"./Button\";\n\nexport type ButtonStateSpec = {\n  id: string;\n  name: string;\n  className?: string;\n  props: React.ComponentProps<typeof Button>;\n  code?: string;\n};\n\nconst BUTTON_STATES: readonly ButtonStateSpec[] = [\n  {\n    id: \"default\",\n    name: \"Default\",\n    props: { children: \"Default\" },\n    code: \"<Button>Default</Button>\",\n  },\n  {\n    id: \"hover\",\n    name: \"Hover\",\n    className: \"bg-[--hover]\",\n    props: { children: \"Hover\" },\n    code: \"<Button className=\\\"bg-[--hover]\\\">Hover</Button>\",\n  },\n  {\n    id: \"focus\",\n    name: \"Focus\",\n    className:\n      \"ring-2 ring-ring ring-offset-2 ring-offset-background shadow-[var(--shadow-glow-md)] outline-none\",\n    props: { children: \"Focus\" },\n    code:\n      \"<Button className=\\\"ring-2 ring-ring ring-offset-2 ring-offset-background shadow-[var(--shadow-glow-md)] outline-none\\\">Focus</Button>\",\n  },\n  {\n    id: \"active\",\n    name: \"Active\",\n    className: \"bg-[--active]\",\n    props: { children: \"Active\" },\n    code: \"<Button className=\\\"bg-[--active]\\\">Active</Button>\",\n  },\n  {\n    id: \"disabled\",\n    name: \"Disabled\",\n    props: { children: \"Disabled\", disabled: true },\n    code: \"<Button disabled>Disabled</Button>\",\n  },\n  {\n    id: \"loading\",\n    name: \"Loading\",\n    props: { children: \"Loading\", loading: true },\n    code: \"<Button loading>Loading</Button>\",\n  },\n  {\n    id: \"static\",\n    name: \"Static overlay\",\n    props: {\n      children: \"Static overlay\",\n      glitch: false,\n      glitchIntensity: \"glitch-overlay-button-opacity\",\n    },\n    code: `<Button glitch={false} glitchIntensity=\"glitch-overlay-button-opacity\">Static overlay</Button>`,\n  },\n];\n\nexport const BUTTON_STATE_SPECS: readonly ButtonStateSpec[] = BUTTON_STATES;\n\nconst BUTTON_SIZE_ORDER: readonly ButtonSize[] = [\"sm\", \"md\", \"lg\", \"xl\"];\n\nconst BUTTON_SIZE_LABELS: Record<ButtonSize, string> = {\n  sm: \"Small\",\n  md: \"Medium\",\n  lg: \"Large\",\n  xl: \"Extra large\",\n};\n\nconst ICON_VARIANTS = [\n  { id: \"leading\", label: \"Leading icon\" },\n  { id: \"trailing\", label: \"Trailing icon\" },\n] as const;\n\nfunction ButtonStatePreview({ state }: { state: ButtonStateSpec }) {\n  const { className, props } = state;\n  return <Button className={className} {...props} />;\n}\n\nfunction ButtonGalleryPreview() {\n  const staticState = BUTTON_STATES.find((state) => state.id === \"static\");\n  const standardStates = BUTTON_STATES.filter((state) => state.id !== \"static\");\n\n  return (\n    <div className=\"flex flex-col gap-[var(--space-4)]\">\n      <div className=\"flex flex-wrap gap-[var(--space-2)]\">\n        <Button tone=\"primary\" variant=\"default\">\n          Primary tone\n        </Button>\n        <Button tone=\"accent\" variant=\"default\">\n          Accent tone\n        </Button>\n        <Button tone=\"info\" variant=\"quiet\">\n          Info ghost\n        </Button>\n        <Button tone=\"danger\" variant=\"default\">\n          Danger primary\n        </Button>\n        <Button disabled>Disabled</Button>\n      </div>\n      <div className=\"space-y-[var(--space-2)]\">\n        <div className=\"grid grid-cols-[max-content_repeat(2,minmax(0,1fr))] gap-[var(--space-3)] text-label text-muted-foreground\">\n          <span className=\"sr-only\">Size</span>\n          {ICON_VARIANTS.map((variant) => (\n            <span key={variant.id}>{variant.label}</span>\n          ))}\n        </div>\n        {BUTTON_SIZE_ORDER.map((size) => (\n          <div\n            key={size}\n            className={`grid grid-cols-1 items-center sm:grid-cols-[max-content_repeat(2,minmax(0,1fr))] ${buttonSizes[size].gap}`}\n          >\n            <span className=\"text-label text-muted-foreground sm:text-ui\">\n              {BUTTON_SIZE_LABELS[size]}\n            </span>\n            {ICON_VARIANTS.map((variant) => (\n              <Button key={variant.id} size={size}>\n                {variant.id === \"leading\" ? <Plus aria-hidden /> : null}\n                {BUTTON_SIZE_LABELS[size]}\n                {variant.id === \"trailing\" ? <Plus aria-hidden /> : null}\n              </Button>\n            ))}\n          </div>\n        ))}\n      </div>\n      <div className=\"flex flex-wrap gap-[var(--space-2)]\">\n        {standardStates.map((state) => (\n          <ButtonStatePreview key={state.id} state={state} />\n        ))}\n      </div>\n      {staticState ? (\n        <div className=\"space-y-[var(--space-1)]\">\n          <div className=\"flex flex-wrap gap-[var(--space-2)]\">\n            <ButtonStatePreview state={staticState} />\n          </div>\n          <p className=\"text-caption text-muted-foreground\">\n            Buttons render glitch overlays by default. Disable the overlay for\n            static captures or long-running recordingstheme noise tokens clamp\n            contrast in Noir and Hardstuck, so copy should stay on the default\n            <code className=\"ml-[var(--space-1)]\">text-foreground</code> tone.\n          </p>\n        </div>\n      ) : null}\n    </div>\n  );\n}\n\nexport const ButtonGallery = defineGallerySection({\n  id: \"buttons\",\n  entries: [\n    {\n      id: \"button\",\n      name: \"Button\",\n      description: \"Tone, size, icon placement, and interaction states\",\n      kind: \"primitive\",\n      tags: [\"button\", \"action\"],\n      props: [\n        {\n          name: \"variant\",\n          type: '\"default\" | \"neo\" | \"quiet\" | \"glitch\"',\n          description:\n            'Canonical variants. Legacy aliases map as: \"primary\"  \"default\", \"secondary\"/\"soft\"  \"neo\", \"ghost\"/\"minimal\"  \"quiet\".',\n        },\n        {\n          name: \"tone\",\n          type: '\"primary\" | \"accent\" | \"info\" | \"danger\"',\n        },\n        {\n          name: \"size\",\n          type: '\"sm\" | \"md\" | \"lg\" | \"xl\"',\n        },\n        {\n          name: \"loading\",\n          type: \"boolean\",\n          defaultValue: \"false\",\n        },\n        {\n          name: \"glitch\",\n          type: \"boolean\",\n          defaultValue: \"true\",\n        },\n      ],\n      axes: [\n        {\n          id: \"tone\",\n          label: \"Tone\",\n          type: \"variant\",\n          values: [\n            { value: \"Primary\" },\n            { value: \"Accent\" },\n            { value: \"Info\" },\n            { value: \"Danger\" },\n          ],\n        },\n        {\n          id: \"size\",\n          label: \"Size & icons\",\n          type: \"variant\",\n          values: BUTTON_SIZE_ORDER.map((size) => ({\n            value: BUTTON_SIZE_LABELS[size],\n            description: `Leading and trailing icons align to the ${BUTTON_SIZE_LABELS[size].toLowerCase()} control gap.`,\n          })),\n        },\n        {\n          id: \"state\",\n          label: \"State\",\n          type: \"state\",\n          values: BUTTON_STATES.map(({ name, id }) => ({\n            value: name,\n            description:\n              id === \"static\"\n                ? \"Disable the glitch overlay for static captures; default buttons render with overlay noise driven by --glitch-overlay-button-opacity.\"\n                : undefined,\n          })),\n        },\n      ],\n      preview: createGalleryPreview({\n        id: \"ui:button:matrix\",\n        render: () => <ButtonGalleryPreview />,\n      }),\n      states: BUTTON_STATES.map((state) => ({\n        id: state.id,\n        name: state.name,\n        code: state.code,\n        preview: createGalleryPreview({\n          id: `ui:button:state:${state.id}`,\n          render: () => <ButtonStatePreview state={state} />,\n        }),\n      })),\n      code: `<div className=\"flex flex-col gap-[var(--space-4)]\">\n  <div className=\"flex flex-wrap gap-[var(--space-2)]\">\n    <Button tone=\"primary\" variant=\"default\">\n      Primary tone\n    </Button>\n    <Button tone=\"accent\" variant=\"default\">\n      Accent tone\n    </Button>\n    <Button tone=\"info\" variant=\"quiet\">\n      Info ghost\n    </Button>\n    <Button tone=\"danger\" variant=\"default\">\n      Danger primary\n    </Button>\n    <Button disabled>Disabled</Button>\n  </div>\n  <div className=\"space-y-[var(--space-2)]\">\n    <div className=\"grid grid-cols-[max-content_repeat(2,minmax(0,1fr))] gap-[var(--space-3)] text-label text-muted-foreground\">\n      <span className=\"sr-only\">Size</span>\n      <span>Leading icon</span>\n      <span>Trailing icon</span>\n    </div>\n    <div className=\"grid grid-cols-1 items-center gap-[var(--space-1)] sm:grid-cols-[max-content_repeat(2,minmax(0,1fr))]\">\n      <span className=\"text-label text-muted-foreground sm:text-ui\">Small</span>\n      <Button size=\"sm\">\n        <Plus aria-hidden />\n        Small\n      </Button>\n      <Button size=\"sm\">\n        Small\n        <Plus aria-hidden />\n      </Button>\n    </div>\n    <div className=\"grid grid-cols-1 items-center gap-[var(--space-2)] sm:grid-cols-[max-content_repeat(2,minmax(0,1fr))]\">\n      <span className=\"text-label text-muted-foreground sm:text-ui\">Medium</span>\n      <Button size=\"md\">\n        <Plus aria-hidden />\n        Medium\n      </Button>\n      <Button size=\"md\">\n        Medium\n        <Plus aria-hidden />\n      </Button>\n    </div>\n    <div className=\"grid grid-cols-1 items-center gap-[var(--space-4)] sm:grid-cols-[max-content_repeat(2,minmax(0,1fr))]\">\n      <span className=\"text-label text-muted-foreground sm:text-ui\">Large</span>\n      <Button size=\"lg\">\n        <Plus aria-hidden />\n        Large\n      </Button>\n      <Button size=\"lg\">\n        Large\n        <Plus aria-hidden />\n      </Button>\n    </div>\n    <div className=\"grid grid-cols-1 items-center gap-[calc(var(--control-h-xl)/3)] sm:grid-cols-[max-content_repeat(2,minmax(0,1fr))]\">\n      <span className=\"text-label text-muted-foreground sm:text-ui\">Extra large</span>\n      <Button size=\"xl\">\n        <Plus aria-hidden />\n        Extra large\n      </Button>\n      <Button size=\"xl\">\n        Extra large\n        <Plus aria-hidden />\n      </Button>\n    </div>\n  </div>\n  <div className=\"flex flex-wrap gap-[var(--space-2)]\">\n    <Button>Default</Button>\n    <Button className=\"bg-[--hover]\">Hover</Button>\n    <Button className=\"ring-2 ring-[var(--focus)]\">Focus</Button>\n    <Button className=\"bg-[--active]\">Active</Button>\n    <Button disabled>Disabled</Button>\n    <Button loading>Loading</Button>\n  </div>\n</div>`,\n    },\n  ],\n})\n\nexport default ButtonGallery\n","\"use client\";\n\nimport * as React from \"react\";\nimport { useReducedMotion } from \"framer-motion\";\n\nimport type { AnimatedSelectProps } from \"./shared\";\n\nexport type UseAnimatedSelectArgs = {\n  items: AnimatedSelectProps[\"items\"];\n  value?: string;\n  onChange?: AnimatedSelectProps[\"onChange\"];\n  matchTriggerWidth: NonNullable<AnimatedSelectProps[\"matchTriggerWidth\"]>;\n  align: NonNullable<AnimatedSelectProps[\"align\"]>;\n  size: NonNullable<AnimatedSelectProps[\"size\"]>;\n  label?: AnimatedSelectProps[\"label\"];\n  prefixLabel?: AnimatedSelectProps[\"prefixLabel\"];\n  ariaLabel?: AnimatedSelectProps[\"ariaLabel\"];\n  forwardedRef: React.Ref<HTMLButtonElement>;\n};\n\nconst GAP_PX = 8;\n\nfunction getInitialActiveIndex(\n  items: AnimatedSelectProps[\"items\"],\n  value?: string,\n) {\n  const selectedIndex = items.findIndex(\n    (item) => item.value === value && !item.disabled && !item.loading,\n  );\n\n  if (selectedIndex !== -1) {\n    return selectedIndex;\n  }\n\n  for (let i = 0; i < items.length; i += 1) {\n    const candidate = items[i];\n    if (candidate && !candidate.disabled && !candidate.loading) {\n      return i;\n    }\n  }\n\n  return -1;\n}\n\nexport function useAnimatedSelect({\n  items,\n  value,\n  onChange,\n  matchTriggerWidth,\n  align,\n  size,\n  label,\n  prefixLabel,\n  ariaLabel,\n  forwardedRef,\n}: UseAnimatedSelectArgs) {\n  const [open, setOpen] = React.useState(false);\n  const [activeIndex, setActiveIndex] = React.useState<number>(() =>\n    getInitialActiveIndex(items, value),\n  );\n\n  const triggerRef = React.useRef<HTMLButtonElement | null>(null);\n  const listRef = React.useRef<HTMLUListElement | null>(null);\n\n  const setTriggerRef = React.useCallback(\n    (node: HTMLButtonElement | null) => {\n      triggerRef.current = node;\n\n      if (typeof forwardedRef === \"function\") {\n        forwardedRef(node);\n        return;\n      }\n\n      if (forwardedRef) {\n        (forwardedRef as React.MutableRefObject<HTMLButtonElement | null>).current =\n          node;\n      }\n    },\n    [forwardedRef],\n  );\n\n  const isOptionFocusable = React.useCallback(\n    (index: number) => {\n      const option = items[index];\n      return !!option && !option.disabled && !option.loading;\n    },\n    [items],\n  );\n\n  const getFirstFocusableIndex = React.useCallback(() => {\n    for (let i = 0; i < items.length; i += 1) {\n      if (isOptionFocusable(i)) {\n        return i;\n      }\n    }\n    return -1;\n  }, [items, isOptionFocusable]);\n\n  const getLastFocusableIndex = React.useCallback(() => {\n    for (let i = items.length - 1; i >= 0; i -= 1) {\n      if (isOptionFocusable(i)) {\n        return i;\n      }\n    }\n    return -1;\n  }, [items, isOptionFocusable]);\n\n  const getNextFocusableIndex = React.useCallback(\n    (start: number, direction: 1 | -1) => {\n      if (items.length === 0) {\n        return -1;\n      }\n\n      let index = start;\n      for (let i = 0; i < items.length; i += 1) {\n        index = (index + direction + items.length) % items.length;\n        if (isOptionFocusable(index)) {\n          return index;\n        }\n      }\n\n      return -1;\n    },\n    [items, isOptionFocusable],\n  );\n\n  const focusItem = React.useCallback(\n    (index: number) => {\n      if (!isOptionFocusable(index)) return;\n\n      listRef.current\n        ?.querySelector<HTMLElement>(`[data-index=\"${index}\"]`)\n        ?.focus();\n    },\n    [isOptionFocusable],\n  );\n\n  const idBase = React.useId();\n  const labelId = `${idBase}-label`;\n  const listboxId = `${idBase}-listbox`;\n\n  const [rect, setRect] = React.useState<DOMRect | null>(null);\n  const [menuWidth, setMenuWidth] = React.useState<number | null>(null);\n\n  const reduceMotion = useReducedMotion();\n\n  const motionDurationSm = React.useMemo(() => {\n    if (typeof window === \"undefined\") return 0.14;\n\n    const valueFromCss = parseFloat(\n      getComputedStyle(document.documentElement).getPropertyValue(\n        \"--motion-duration-sm\",\n      ),\n    );\n\n    return (Number.isNaN(valueFromCss) ? 140 : valueFromCss) / 1000;\n  }, []);\n\n  const measure = React.useCallback(() => {\n    const r = triggerRef.current?.getBoundingClientRect();\n    if (!r) return;\n\n    setRect(r);\n    if (matchTriggerWidth) {\n      setMenuWidth(r.width);\n    }\n  }, [matchTriggerWidth]);\n\n  const rafId = React.useRef<number | null>(null);\n\n  const scheduleMeasure = React.useCallback(() => {\n    if (rafId.current !== null) {\n      cancelAnimationFrame(rafId.current);\n    }\n\n    rafId.current = requestAnimationFrame(() => {\n      rafId.current = null;\n      measure();\n    });\n  }, [measure]);\n\n  React.useEffect(() => {\n    return () => {\n      if (rafId.current !== null) {\n        cancelAnimationFrame(rafId.current);\n      }\n    };\n  }, []);\n\n  React.useLayoutEffect(() => {\n    if (!open) return;\n    scheduleMeasure();\n  }, [open, scheduleMeasure]);\n\n  React.useEffect(() => {\n    if (!open) return;\n\n    const handler = () => scheduleMeasure();\n    window.addEventListener(\"resize\", handler, { passive: true });\n    window.addEventListener(\"scroll\", handler, { passive: true });\n\n    return () => {\n      window.removeEventListener(\"resize\", handler);\n      window.removeEventListener(\"scroll\", handler);\n    };\n  }, [open, scheduleMeasure]);\n\n  React.useEffect(() => {\n    if (!open) return;\n    scheduleMeasure();\n  }, [open, scheduleMeasure, size]);\n\n  React.useEffect(() => {\n    if (!open) return;\n\n    const selectedIndex = items.findIndex((item) => item.value === value);\n    const nextIndex =\n      selectedIndex !== -1 && isOptionFocusable(selectedIndex)\n        ? selectedIndex\n        : getFirstFocusableIndex();\n\n    setActiveIndex(nextIndex);\n\n    if (nextIndex === -1) {\n      return;\n    }\n\n    const timer = setTimeout(() => {\n      focusItem(nextIndex);\n    }, 0);\n\n    return () => clearTimeout(timer);\n  }, [\n    open,\n    items,\n    value,\n    focusItem,\n    getFirstFocusableIndex,\n    isOptionFocusable,\n  ]);\n\n  React.useEffect(() => {\n    if (activeIndex === -1) return;\n    if (isOptionFocusable(activeIndex)) return;\n\n    setActiveIndex(getFirstFocusableIndex());\n  }, [activeIndex, getFirstFocusableIndex, isOptionFocusable, items]);\n\n  React.useEffect(() => {\n    if (open) return;\n\n    const timer = setTimeout(() => {\n      triggerRef.current?.focus();\n    }, 0);\n\n    return () => clearTimeout(timer);\n  }, [open]);\n\n  React.useEffect(() => {\n    if (!open) return;\n\n    const onDocPointerDown = (event: PointerEvent) => {\n      const target = event.target as Node;\n      if (triggerRef.current?.contains(target)) return;\n      if (listRef.current?.contains(target)) return;\n\n      setOpen(false);\n    };\n\n    document.addEventListener(\"pointerdown\", onDocPointerDown, true);\n    return () => {\n      document.removeEventListener(\"pointerdown\", onDocPointerDown, true);\n    };\n  }, [open]);\n\n  const selectByIndex = React.useCallback(\n    (index: number) => {\n      const option = items[index];\n      if (!option || option.disabled || option.loading) return;\n\n      onChange?.(option.value);\n      option.onSelect?.();\n      setOpen(false);\n    },\n    [items, onChange],\n  );\n\n  const onTriggerKeyDown = React.useCallback(\n    (event: React.KeyboardEvent<HTMLButtonElement>) => {\n      if (event.key === \"ArrowDown\" || event.key === \"Enter\" || event.key === \" \") {\n        event.preventDefault();\n        scheduleMeasure();\n        setOpen(true);\n      }\n\n      if (event.key === \"ArrowUp\") {\n        event.preventDefault();\n        scheduleMeasure();\n        setOpen(true);\n      }\n    },\n    [scheduleMeasure],\n  );\n\n  const onListKeyDown = React.useCallback(\n    (event: React.KeyboardEvent<HTMLUListElement>) => {\n      if (event.key === \"Escape\") {\n        event.preventDefault();\n        setOpen(false);\n        return;\n      }\n\n      if (event.key === \"Tab\") {\n        setOpen(false);\n        return;\n      }\n\n      if (event.key === \"Home\") {\n        event.preventDefault();\n        const first = getFirstFocusableIndex();\n        if (first !== -1) {\n          setActiveIndex(first);\n          focusItem(first);\n        }\n        return;\n      }\n\n      if (event.key === \"End\") {\n        event.preventDefault();\n        const last = getLastFocusableIndex();\n        if (last !== -1) {\n          setActiveIndex(last);\n          focusItem(last);\n        }\n        return;\n      }\n\n      if (event.key === \"ArrowDown\") {\n        event.preventDefault();\n        const next = getNextFocusableIndex(activeIndex, 1);\n        if (next !== -1) {\n          setActiveIndex(next);\n          focusItem(next);\n        }\n        return;\n      }\n\n      if (event.key === \"ArrowUp\") {\n        event.preventDefault();\n        const prev = getNextFocusableIndex(activeIndex, -1);\n        if (prev !== -1) {\n          setActiveIndex(prev);\n          focusItem(prev);\n        }\n        return;\n      }\n\n      if (event.key === \"Enter\" || event.key === \" \") {\n        event.preventDefault();\n        selectByIndex(activeIndex);\n      }\n    },\n    [\n      activeIndex,\n      focusItem,\n      getFirstFocusableIndex,\n      getLastFocusableIndex,\n      getNextFocusableIndex,\n      selectByIndex,\n    ],\n  );\n\n  const menuPosition = React.useMemo(() => {\n    if (!rect) return null;\n    if (typeof window === \"undefined\") return null;\n\n    const viewportWidth = window.innerWidth;\n    const viewportHeight = window.innerHeight;\n    const widthForClamp = menuWidth ?? rect.width;\n    const measuredWidth = widthForClamp || rect.width;\n\n    let left = align === \"right\" ? rect.right - measuredWidth : rect.left;\n    const maxLeft = Math.max(GAP_PX, viewportWidth - measuredWidth - GAP_PX);\n    left = Math.min(Math.max(GAP_PX, left), maxLeft);\n\n    const spaceBelow = Math.max(viewportHeight - rect.bottom - GAP_PX, 0);\n    const spaceAbove = Math.max(rect.top - GAP_PX, 0);\n    const openDown = spaceBelow >= spaceAbove;\n    const fallbackSpace = Math.max(viewportHeight - GAP_PX * 2, 0);\n    const availableSpace = openDown ? spaceBelow : spaceAbove;\n    const baseMaxHeight = Math.round(viewportHeight * 0.6);\n    const resolvedMaxHeight = Math.max(\n      0,\n      Math.min(\n        baseMaxHeight,\n        availableSpace > 0 ? availableSpace : fallbackSpace,\n      ),\n    );\n\n    const style: React.CSSProperties = {\n      position: \"fixed\",\n      left: Math.round(left),\n      minWidth: matchTriggerWidth ? Math.round(rect.width) : undefined,\n      zIndex: 10_000,\n      transformOrigin: openDown ? \"top\" : \"bottom\",\n    };\n\n    if (resolvedMaxHeight > 0) {\n      style.maxHeight = Math.round(resolvedMaxHeight);\n    }\n\n    if (openDown) {\n      style.top = Math.round(rect.bottom + GAP_PX);\n    } else {\n      style.bottom = Math.round(viewportHeight - rect.top + GAP_PX);\n    }\n\n    return {\n      style,\n      placement: openDown ? (\"bottom\" as const) : (\"top\" as const),\n    };\n  }, [align, matchTriggerWidth, menuWidth, rect]);\n\n  const placement = menuPosition?.placement ?? \"bottom\";\n  const fixedStyles = menuPosition?.style;\n  const yOffset = placement === \"bottom\" ? -4 : 4;\n\n  const triggerAria =\n    ariaLabel ??\n    (typeof label === \"string\"\n      ? label\n      : typeof prefixLabel === \"string\"\n        ? prefixLabel\n        : \"Select option\");\n\n  const current = React.useMemo(\n    () => items.find((item) => item.value === value),\n    [items, value],\n  );\n  const lit = !!current;\n\n  return {\n    activeIndex,\n    current,\n    fixedStyles,\n    labelId,\n    listRef,\n    listboxId,\n    lit,\n    onListKeyDown,\n    onTriggerKeyDown,\n    open,\n    placement,\n    reduceMotion,\n    scheduleMeasure,\n    selectByIndex,\n    setActiveIndex,\n    setOpen,\n    setTriggerRef,\n    triggerAria,\n    yOffset,\n    motionDurationSm,\n  } as const;\n}\n\nexport type UseAnimatedSelectReturn = ReturnType<typeof useAnimatedSelect>;\n","import * as React from \"react\";\nimport { ChevronDown, ChevronRight } from \"lucide-react\";\n\nimport { cn } from \"@/lib/utils\";\n\nimport type { UseAnimatedSelectReturn } from \"./useAnimatedSelect\";\n\ntype SelectStyles = Record<string, string>;\n\ntype SizeStyles = {\n  height: string;\n  paddingX: string;\n  caret: string;\n  prefix: string;\n};\n\ntype AnimatedSelectTriggerProps = {\n  triggerRef: (node: HTMLButtonElement | null) => void;\n  onToggle: () => void;\n  onKeyDown: UseAnimatedSelectReturn[\"onTriggerKeyDown\"];\n  open: boolean;\n  lit: boolean;\n  disabled?: boolean;\n  label?: React.ReactNode;\n  labelId: string;\n  triggerAria?: string;\n  listboxId: string;\n  styles: SelectStyles;\n  sizeStyles: SizeStyles;\n  buttonClassName?: string;\n  containerClassName?: string;\n  current: UseAnimatedSelectReturn[\"current\"];\n  placeholder: string;\n  prefixLabel?: React.ReactNode;\n};\n\nexport function AnimatedSelectTrigger({\n  triggerRef,\n  onToggle,\n  onKeyDown,\n  open,\n  lit,\n  disabled,\n  label,\n  labelId,\n  triggerAria,\n  listboxId,\n  styles,\n  sizeStyles,\n  buttonClassName,\n  containerClassName,\n  current,\n  placeholder,\n  prefixLabel,\n}: AnimatedSelectTriggerProps) {\n  const triggerCls = cn(\n    styles.glitchTrigger,\n    \"relative flex items-center rounded-[var(--control-radius)] overflow-hidden\",\n    sizeStyles.height,\n    sizeStyles.paddingX,\n    \"bg-surface-muted hover:bg-surface-hover\",\n    \"transition-colors transition-shadow duration-motion-sm ease-out motion-reduce:transition-none\",\n    \"focus:outline-none focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent focus-visible:ring-offset-2 focus-visible:ring-offset-surface\",\n    buttonClassName,\n  );\n\n  const containerCls = cn(\n    \"group inline-flex rounded-[var(--control-radius)] border border-border-subtle shadow-neo-soft transition-shadow duration-motion-sm ease-out motion-reduce:transition-none\",\n    \"hover:shadow-neo focus-within:ring-2 focus-within:ring-accent focus-within:ring-offset-2 focus-within:ring-offset-surface focus-within:shadow-neo\",\n    containerClassName,\n  );\n\n  const caretCls = cn(\n    styles.caret,\n    \"ml-auto shrink-0 opacity-75\",\n    sizeStyles.caret,\n    open && styles.caretOpen,\n  );\n\n  const textCls = cn(\n    \"font-medium transition-colors duration-motion-sm ease-out motion-reduce:transition-none\",\n    styles.glitchText,\n    current\n      ? [lit ? \"text-foreground\" : \"text-muted-foreground\", \"group-hover:text-foreground\"]\n      : [\"text-muted-foreground\", \"group-hover:text-muted-foreground\"],\n  );\n\n  return (\n    <div className={containerCls}>\n      <button\n        ref={triggerRef}\n        type=\"button\"\n        disabled={disabled}\n        onClick={onToggle}\n        onKeyDown={onKeyDown}\n        aria-haspopup=\"listbox\"\n        aria-expanded={open}\n        aria-controls={listboxId}\n        aria-labelledby={label ? labelId : undefined}\n        aria-label={label ? undefined : triggerAria}\n        className={triggerCls}\n        data-lit={lit ? \"true\" : \"false\"}\n        data-open={open ? \"true\" : \"false\"}\n      >\n        {prefixLabel ? (\n          <ChevronRight\n            aria-hidden=\"true\"\n            className={cn(\n              \"shrink-0 text-muted-foreground opacity-80 transition-colors duration-motion-sm ease-out motion-reduce:transition-none\",\n              sizeStyles.prefix,\n            )}\n          />\n        ) : null}\n\n        <span className={textCls}>{current ? current.label : placeholder}</span>\n\n        <ChevronDown className={caretCls} aria-hidden=\"true\" />\n\n        <span aria-hidden className={styles.gbIris} />\n        <span aria-hidden className={styles.gbChroma} />\n        <span aria-hidden className={styles.gbFlicker} />\n        <span aria-hidden className={styles.gbScan} />\n      </button>\n    </div>\n  );\n}\n","\"use client\";\n\nimport * as React from \"react\";\nimport { Select } from \"../Select\";\nimport type { AnimatedSelectProps } from \"../select/shared\";\nimport { cn } from \"@/lib/utils\";\n\nconst SETTINGS_SELECT_BUTTON_CLASS = \"chip-trigger\";\nconst SETTINGS_SELECT_CONTAINER_CLASS = \"chip-trigger-container\";\n\nexport type SettingsSelectProps = Omit<\n  AnimatedSelectProps,\n  \"variant\" | \"size\" | \"matchTriggerWidth\" | \"buttonClassName\"\n> & {\n  buttonClassName?: string;\n};\n\nexport function SettingsSelect({\n  buttonClassName,\n  containerClassName,\n  ...props\n}: SettingsSelectProps) {\n  return (\n    <Select\n      variant=\"animated\"\n      size=\"sm\"\n      matchTriggerWidth={false}\n      buttonClassName={cn(SETTINGS_SELECT_BUTTON_CLASS, buttonClassName)}\n      containerClassName={cn(SETTINGS_SELECT_CONTAINER_CLASS, containerClassName)}\n      {...props}\n    />\n  );\n}\n","/**\n * Do not edit directly, this file was auto-generated.\n */\n\nexport default {\n  highlight: \"0 0% 100%\",\n  lavDeep: \"318 82% 60%\",\n  teamBlue: \"200 100% 60%\",\n  teamRed: \"0 85% 60%\",\n  btnBg: \"transparent\",\n  btnFg: \"hsl(var(--foreground))\",\n  hover: \"hsl(var(--foreground) / 0.08)\",\n  active: \"hsl(var(--foreground) / 0.12)\",\n  disabled: \"0.5\",\n  loading: \"0.6\",\n  edgeIris:\n    \"conic-gradient(\\n    from 180deg,\\n    hsl(262 88% 60% / 0),\\n    hsl(262 88% 60% / 0.72),\\n    hsl(var(--accent-3) / 0.72),\\n    hsl(318 82% 60% / 0.7),\\n    hsl(262 88% 60% / 0)\\n  )\",\n  segActiveGrad:\n    \"linear-gradient(\\n    90deg,\\n    hsl(var(--primary-soft) / 0.85),\\n    hsl(var(--accent-1-soft) / 0.85),\\n    hsl(var(--accent-2) / 0.8)\\n  )\",\n  segActiveBase: \"hsl(var(--card))\",\n  gradientChromeDivider:\n    \"linear-gradient(\\n    90deg,\\n    hsl(var(--glow) / 0.75),\\n    hsl(var(--accent-2)),\\n    hsl(var(--glow) / 0.75)\\n  )\",\n  gradientBrandmarkHalo:\n    \"radial-gradient(circle at 50% 50%, hsl(var(--glow) / 0.7), transparent 70%)\",\n  gradientBrandmarkFill:\n    \"linear-gradient(180deg, hsl(var(--accent-1)), hsl(var(--accent-2)))\",\n  gradientNavUnderlineGlow:\n    \"linear-gradient(\\n    90deg,\\n    hsl(var(--glow) / 0.6),\\n    hsl(var(--accent-2)),\\n    hsl(var(--glow) / 0.6)\\n  )\",\n  lgViolet: \"var(--ring)\",\n  lgCyan: \"var(--accent-2)\",\n  lgPink: \"var(--lav-deep)\",\n  lgBlack: \"var(--background)\",\n  visuallyHiddenTop: \"-9999px\",\n  bg: \"var(--background)\",\n  text: \"var(--foreground)\",\n  textOnAccent: \"hsl(var(--foreground))\",\n  controlFs: \"var(--font-ui)\",\n  fontSizeMd: \"var(--font-body)\",\n  fontWeightBold: \"800\",\n  fontLabel: \"12px\",\n  fontUi: \"15px\",\n  fontBody: \"19px\",\n  fontTitle: \"24px\",\n  fontTitleLg: \"30px\",\n  controlHXs: \"24px\",\n  controlHSm: \"32px\",\n  controlHMd: \"40px\",\n  controlHLg: \"48px\",\n  controlHXl: \"56px\",\n  controlH: \"var(--control-h-md)\",\n  shellWidth: \"1280px\",\n  shellMax: \"var(--shell-width)\",\n  shadowInsetContrast: \"inset 0 0 0 var(--hairline-w) var(--ring-contrast)\",\n  shadowInsetHairline:\n    \"inset 0 0 0 var(--hairline-w) hsl(var(--card-hairline))\",\n  shadowControlHover:\n    \"0 var(--spacing-1) var(--spacing-2) hsl(var(--shadow-color) / 0.3)\",\n  space1: \"var(--spacing-1)\",\n  space2: \"var(--spacing-2)\",\n  space3: \"var(--spacing-3)\",\n  space4: \"var(--spacing-4)\",\n  space5: \"var(--spacing-5)\",\n  space6: \"var(--spacing-6)\",\n  space7: \"var(--spacing-7)\",\n  space8: \"var(--spacing-8)\",\n  space12: \"calc(var(--space-8) + var(--space-4))\",\n  space16: \"calc(var(--space-8) * 2)\",\n  ringSize1: \"var(--spacing-0-5)\",\n  ringSize2: \"var(--spacing-1)\",\n  ringDiameterXs: \"var(--space-5)\",\n  ringDiameterS: \"var(--space-6)\",\n  ringDiameterM: \"var(--space-8)\",\n  ringDiameterL: \"calc(var(--space-8) * 3.5)\",\n  ringStrokeXs: \"var(--ring-size-1)\",\n  ringStrokeS: \"var(--ring-size-1)\",\n  ringStrokeM: \"var(--ring-size-2)\",\n  ringStrokeL: \"var(--ring-size-2)\",\n  ringInset: \"calc(var(--space-3) / 2)\",\n  layoutGutterSm: \"var(--spacing-4)\",\n  layoutGutterMd: \"var(--spacing-5)\",\n  layoutGutterLg: \"var(--spacing-6)\",\n  aaMinContrast: \"4.5\",\n  space9: \"calc(var(--space-8) + var(--space-1))\",\n  space10: \"calc(var(--space-8) + var(--space-2))\",\n  space11: \"calc(var(--space-8) + var(--space-3))\",\n  depthShadowInset: \"var(--shadow-depth-inner)\",\n  layoutQuickActionMin: \"calc(var(--spacing-8) * 3)\",\n  layoutQuickActionTooltipMax: \"calc(var(--spacing-8) * 5)\",\n  spacing0125: \"calc(var(--spacing-1) / 8)\",\n  spacing025: \"calc(var(--spacing-1) / 4)\",\n  spacing05: \"calc(var(--spacing-1) / 2)\",\n  spacing075: \"calc(var(--spacing-1) * 0.75)\",\n  spacing1: \"4px\",\n  spacing2: \"8px\",\n  spacing3: \"12px\",\n  spacing4: \"16px\",\n  spacing5: \"24px\",\n  spacing6: \"32px\",\n  spacing7: \"48px\",\n  spacing8: \"64px\",\n  iconSize: \"var(--icon-size-md)\",\n  iconSizeXs: \"14px\",\n  iconSizeSm: \"16px\",\n  iconSizeMd: \"18px\",\n  iconSizeLg: \"24px\",\n  iconSizeXl: \"32px\",\n  iconSize2xl: \"76px\",\n  iconStroke100: \"var(--spacing-0-5)\",\n  iconStroke150: \"calc(var(--spacing-0-5) * 1.25)\",\n  controlRadius: \"var(--radius-xl)\",\n  pillarWaveStart: \"var(--accent-1)\",\n  pillarWaveEnd: \"var(--accent-2)\",\n  pillarWaveShadow: \"var(--accent-1) / 0.35\",\n  pillarTradingStart: \"var(--lav-deep)\",\n  pillarTradingEnd: \"var(--accent-1)\",\n  pillarTradingShadow: \"var(--lav-deep) / 0.35\",\n  pillarVisionStart: \"var(--success)\",\n  pillarVisionEnd: \"var(--accent-2)\",\n  pillarVisionShadow: \"var(--success) / 0.35\",\n  pillarTempoStart: \"var(--ring)\",\n  pillarTempoEnd: \"var(--accent-1)\",\n  pillarTempoShadow: \"var(--ring) / 0.35\",\n  pillarPositioningStart: \"var(--accent-2)\",\n  pillarPositioningEnd: \"var(--primary)\",\n  pillarPositioningShadow: \"var(--accent-2) / 0.35\",\n  pillarCommsStart: \"var(--lav-deep)\",\n  pillarCommsEnd: \"var(--primary)\",\n  pillarCommsShadow: \"var(--primary) / 0.35\",\n  cardRadius: \"var(--radius-xl)\",\n  blobRadiusSoft: \"calc(var(--radius-2xl) + var(--spacing-2))\",\n  radiusSm: \"6px\",\n  radiusMd: \"8px\",\n  radiusLg: \"12px\",\n  radiusXl: \"16px\",\n  radius2xl: \"24px\",\n  radiusFull: \"9999px\",\n  background: \"247 32% 14%\",\n  foreground: \"258 24% 96%\",\n  card: \"249 28% 21%\",\n  cardForeground: \"var(--foreground)\",\n  panel: \"var(--card)\",\n  border: \"253 26% 28%\",\n  line: \"var(--border)\",\n  input: \"249 26% 15%\",\n  ring: \"262 88% 66%\",\n  themeRing: \"hsl(var(--ring))\",\n  primary: \"262 88% 60%\",\n  primaryForeground: \"0 0% 100%\",\n  primarySoft: \"262 88% 20%\",\n  accent1: \"276 88% 59%\",\n  accent1Foreground: \"0 0% 100%\",\n  accent1Contrast: \"276 92% 88%\",\n  accent1Soft: \"276 88% 22%\",\n  accent1Hover: \"hsl(var(--accent-1) / 0.14)\",\n  accent2: \"168 88% 28%\",\n  accent2Foreground: \"0 0% 100%\",\n  accent3: \"318 82% 60%\",\n  glow: \"296 96% 56%\",\n  ringMuted: \"248 22% 24%\",\n  danger: \"0 84% 60%\",\n  warning: \"43 96% 56%\",\n  warningSoft: \"var(--warning) / 0.1\",\n  warningSoftStrong: \"var(--warning) / 0.2\",\n  muted: \"248 22% 19%\",\n  mutedForeground: \"248 18% 74%\",\n  fgMuted: \"var(--muted-foreground)\",\n  surface: \"248 24% 18%\",\n  surface2: \"248 24% 18%\",\n  surfaceVhs: \"210 22% 10%\",\n  surfaceStreak: \"240 16% 16%\",\n  shadowColor: \"263 78% 56%\",\n  noirBackground: \"352 68% 10%\",\n  noirForeground: \"0 0% 94%\",\n  noirBorder: \"352 44% 24%\",\n  hardstuckBackground: \"120 58% 9%\",\n  hardstuckForeground: \"120 60% 72%\",\n  hardstuckBorder: \"120 42% 22%\",\n  success: \"160 72% 48%\",\n  successSoft: \"var(--success) / 0.2\",\n  successGlow: \"160 72% 38% / 0.6\",\n  toneTop: \"38 92% 60%\",\n  toneJg: \"152 52% 44%\",\n  toneMid: \"265 72% 62%\",\n  toneBot: \"195 75% 56%\",\n  toneSup: \"320 72% 60%\",\n  auroraG: \"var(--accent-2)\",\n  auroraGLight: \"150 100% 85%\",\n  auroraP: \"var(--accent-1)\",\n  auroraPLight: \"272 80% 85%\",\n  iconFg: \"250 96% 84%\",\n  accentOverlay: \"hsl(var(--accent-1))\",\n  ringContrast: \"hsl(var(--ring))\",\n  glowActive: \"hsl(var(--glow))\",\n  neon: \"var(--glow)\",\n  neonSoft: \"hsl(var(--neon))\",\n  focus: \"var(--theme-ring)\",\n  cardHairline:\n    \"color-mix(in oklab, hsl(var(--border)) 78%, hsl(var(--foreground)) 22%)\",\n  hairlineW: \"1px\",\n  controlPx: \"var(--spacing-3)\",\n  reviewResultWinGradient:\n    \"linear-gradient(\\n    90deg,\\n    hsl(var(--success) / 0.22),\\n    hsl(var(--accent-1) / 0.18)\\n  )\",\n  reviewResultLossGradient:\n    \"linear-gradient(\\n    90deg,\\n    hsl(var(--danger) / 0.24),\\n    hsl(var(--primary) / 0.2)\\n  )\",\n  shadow: \"0 12px 34px hsl(258 42% 6% / 0.32)\",\n  shadowDropdown: \"0 12px 40px hsl(var(--shadow-color) / 0.55)\",\n  shadowNeoSm:\n    \"calc(var(--spacing-1)) calc(var(--spacing-1)) calc(var(--spacing-2))\\n      hsl(var(--panel) / 0.72),\\n    calc(var(--spacing-1) * -1) calc(var(--spacing-1) * -1) calc(var(--spacing-2))\\n      hsl(var(--foreground) / 0.06)\",\n  shadowDepthOuter:\n    \"calc(var(--spacing-3)) calc(var(--spacing-3)) var(--spacing-5)\\n      hsl(var(--panel) / 0.72),\\n    calc(var(--spacing-3) * -1) calc(var(--spacing-3) * -1) var(--spacing-5)\\n      hsl(var(--foreground) / 0.06)\",\n  shadowDepthOuterStrong:\n    \"var(--spacing-4) var(--spacing-4) var(--spacing-6) hsl(var(--panel) / 0.72),\\n    calc(var(--spacing-4) * -1) calc(var(--spacing-4) * -1) var(--spacing-6)\\n      hsl(var(--foreground) / 0.08)\",\n  shadowDepthInner:\n    \"inset var(--spacing-1) var(--spacing-1) var(--spacing-3)\\n      hsl(var(--panel) / 0.85),\\n    inset calc(var(--spacing-1) * -1) calc(var(--spacing-1) * -1) var(--spacing-3)\\n      hsl(var(--foreground) / 0.08)\",\n  shadowRing: \"0 0 var(--spacing-3) hsl(var(--ring))\",\n  shadowDepthSoft:\n    \"calc(var(--spacing-2)) calc(var(--spacing-2)) var(--spacing-4)\\n      hsl(var(--panel) / 0.6),\\n    calc(var(--spacing-2) * -1) calc(var(--spacing-2) * -1) var(--spacing-4)\\n      hsl(var(--foreground) / 0.07)\",\n  shadowGlowSm: \"0 0 var(--spacing-2) var(--glow-active)\",\n  shadowGlowMd: \"0 0 var(--spacing-4) var(--glow-active)\",\n  shadowGlowLg: \"0 0 var(--spacing-5) var(--glow-active)\",\n  shadowGlowXl: \"0 var(--spacing-2) var(--spacing-6) var(--glow-active)\",\n  shadowNavActive:\n    \"0 0 0 var(--hairline-w) hsl(var(--ring) / 0.35),\\n    0 var(--spacing-2) var(--spacing-6) hsl(var(--ring) / 0.2)\",\n  shadowOutlineSubtle: \"0 0 0 var(--hairline-w) hsl(var(--border) / 0.12)\",\n  shadowOutlineFaint: \"0 0 0 var(--hairline-w) hsl(var(--border) / 0.08)\",\n  shadowBadge:\n    \"inset 0 var(--hairline-w) 0 hsl(var(--foreground) / 0.06),\\n    0 0 0 var(--hairline-w) hsl(var(--card-hairline) / 0.35),\\n    0 var(--spacing-3) var(--spacing-4) hsl(var(--shadow-color) / 0.18)\",\n  shadowGlowCurrent: \"0 0 var(--spacing-2) currentColor\",\n  shadowNeonSoft:\n    \"0 0 var(--spacing-2) var(--neon),\\n    0 0 var(--spacing-4) var(--neon-soft)\",\n  shadowNeonStrong:\n    \"0 0 var(--spacing-3) var(--neon),\\n    0 0 var(--spacing-5) var(--neon-soft)\",\n  shadowControl:\n    \"inset 0 var(--spacing-1) var(--spacing-2) 0 color-mix(in oklab, hsl(var(--shadow-color)) 18%, hsl(var(--background)) 82%),\\n    var(--shadow-outline-subtle)\",\n  glowStrong: \"var(--ring) / 0.55\",\n  glowSoft: \"var(--accent-1) / 0.25\",\n  shadowNeon:\n    \"0 0 calc(var(--space-2)) hsl(var(--neon) / 0.55),\\n    0 0 calc(var(--space-4)) hsl(var(--neon-soft) / 0.35),\\n    calc(var(--spacing-0-5)) calc(var(--spacing-0-5) * -1) calc(var(--space-3)) hsl(var(--neon) / 0.3),\\n    calc(var(--spacing-0-5) * -1.25) calc(var(--spacing-0-5) * 1.25) calc(var(--space-4)) hsl(var(--neon-soft) / 0.24),\\n    0 calc(var(--spacing-1)) calc(var(--space-5)) hsl(var(--neon-soft) / 0.18)\",\n  btnPrimaryHoverShadow:\n    \"0 calc(var(--space-1) / 2) calc(var(--space-3) / 2)\\n    calc(-1 * var(--space-1) / 4) hsl(var(--accent-1) / 0.25)\",\n  btnPrimaryActiveShadow:\n    \"inset 0 0 0 calc(var(--space-1) / 4)\\n    hsl(var(--accent-1) / 0.6)\",\n  heroDividerBlur: \"calc(var(--spacing-1) * 1.5)\",\n  heroIllustrationOpacity: \"0.84\",\n  heroIllustrationBlur: \"calc(var(--space-4) + var(--space-1))\",\n  warningForeground: \"0 0% 100%\",\n  successForeground: \"0 0% 100%\",\n  dangerForeground: \"0 0% 100%\",\n  stateSuccessSurface:\n    \"color-mix(in oklab, hsl(var(--success)) 18%, hsl(var(--surface)))\",\n  stateSuccessBorder:\n    \"color-mix(in oklab, hsl(var(--success)) 65%, hsl(var(--border)))\",\n  stateWarningSurface:\n    \"color-mix(in oklab, hsl(var(--warning)) 20%, hsl(var(--surface)))\",\n  stateWarningBorder:\n    \"color-mix(in oklab, hsl(var(--warning)) 60%, hsl(var(--border)))\",\n  stateDangerSurface:\n    \"color-mix(in oklab, hsl(var(--danger)) 18%, hsl(var(--surface)))\",\n  stateDangerBorder:\n    \"color-mix(in oklab, hsl(var(--danger)) 62%, hsl(var(--border)))\",\n  auroraGLightColor: \"hsl(var(--aurora-g-light))\",\n  auroraPLightColor: \"hsl(var(--aurora-p-light))\",\n  elevation0: \"none\",\n  elevation1: \"var(--shadow-outline-faint)\",\n  elevation2: \"var(--shadow-outline-subtle)\",\n  elevation3: \"var(--shadow-control)\",\n  skeletonBg: \"hsl(var(--muted) / 0.6)\",\n  skeletonFill: \"hsl(var(--foreground) / 0.08)\",\n  gradientNoiseOpacity: \"0.1\",\n  gradientNoiseOverlayOpacity: \"0.06\",\n  cardNoiseOpacity: \"0.06\",\n  textureGrainOpacity: \"0.04\",\n  textureScanlineOpacity: \"0.06\",\n  shadowInnerSm:\n    \"inset 0 var(--spacing-0-125) var(--spacing-0-5) hsl(var(--shadow-color) / 0.18)\",\n  shadowInnerMd:\n    \"inset 0 var(--spacing-0-25) var(--spacing-1) hsl(var(--shadow-color) / 0.28)\",\n  shadowOuterLg:\n    \"0 var(--spacing-4) var(--spacing-7) hsl(var(--shadow-color) / 0.36)\",\n  glowPrimary: \"hsl(var(--primary) / 0.55)\",\n  blobSurface1: \"hsl(var(--surface))\",\n  blobSurface2: \"hsl(var(--surface-2))\",\n  blobSurface3: \"hsl(var(--card))\",\n  blobSurfaceShadow: \"hsl(var(--shadow-color) / 0.4)\",\n  glitchNoisePrimary:\n    \"hsl(var(--accent-1) / var(--texture-grain-opacity, 0.04))\",\n  glitchNoiseSecondary: \"hsl(var(--ring) / var(--texture-grain-opacity, 0.04))\",\n  glitchNoiseContrast:\n    \"hsl(var(--foreground) / var(--texture-grain-opacity, 0.04))\",\n  elevationCard: \"var(--shadow-outline-subtle)\",\n  elevationCardPressed: \"var(--shadow-control)\",\n  neoDepthSm: \"var(--spacing-1)\",\n  neoDepthMd: \"var(--spacing-3)\",\n  neoDepthLg: \"var(--spacing-4)\",\n  neoSurface:\n    \"color-mix(in oklab, hsl(var(--card)) 88%, hsl(var(--panel)) 12%)\",\n  neoSurfaceAlt:\n    \"color-mix(in oklab, hsl(var(--panel)) 82%, hsl(var(--card)) 18%)\",\n  neoHighlight: \"color-mix(in oklab, hsl(var(--ring)) 18%, hsl(var(--card)))\",\n  depthShadowOuter: \"var(--shadow-depth-outer)\",\n  depthShadowOuterStrong: \"var(--shadow-depth-outer-strong)\",\n  depthShadowSoft: \"var(--shadow-depth-soft)\",\n  depthShadowInner: \"var(--shadow-depth-inner)\",\n  depthGlowHighlightSoft: \"hsl(var(--highlight) / 0.08)\",\n  depthGlowHighlightMedium: \"hsl(var(--highlight) / 0.35)\",\n  depthGlowHighlightStrong: \"hsl(var(--highlight) / 0.55)\",\n  depthGlowShadowSoft: \"hsl(var(--shadow-color) / 0.14)\",\n  depthGlowShadowMedium: \"hsl(var(--shadow-color) / 0.28)\",\n  depthGlowShadowStrong: \"hsl(var(--shadow-color) / 0.42)\",\n  depthFocusRingRest:\n    \"0 0 0 0 hsl(var(--ring) / 0),\\n    0 0 0 0 hsl(var(--ring) / 0)\",\n  depthFocusRingActive:\n    \"0 0 0 calc(var(--hairline-w) * 1) hsl(var(--ring))\\n    var(--shadow-glow-lg)\",\n  backdropBlob1: \"var(--lg-violet)\",\n  backdropBlob2: \"var(--lg-cyan)\",\n  backdropBlob3: \"var(--lg-pink)\",\n  backdropBlobShadow: \"var(--lg-black)\",\n  backdropGridPrimary: \"var(--accent-1)\",\n  backdropGridSecondary: \"var(--accent-1)\",\n  backdropGridOpacity: \"0.1\",\n  backdropDrip1: \"var(--backdrop-blob-1)\",\n  backdropDrip2: \"var(--backdrop-blob-2)\",\n  backdropDrip3: \"var(--backdrop-blob-3)\",\n  backdropDripShadow: \"var(--backdrop-blob-shadow)\",\n  neoGlowStrength: \"0.45\",\n  neonOutlineOpacity: \"0.35\",\n  glitchIntensity: \"1.0\",\n  glitchFringe: \"12deg\",\n  glitchStaticOpacity: \"0.054\",\n  glitchNoiseLevel: \"var(--glitch-static-opacity)\",\n  glitchOverlayButtonOpacity: \"0.42\",\n  glitchOverlayButtonOpacityReduced: \"0.28\",\n  glitchChromaticOffsetStrong: \"calc(var(--spacing-0-25) / 4)\",\n  glitchChromaticOffsetMedium: \"calc(var(--spacing-0-25) * 3 / 20)\",\n  glitchChromaticOffsetLight: \"calc(var(--spacing-0-25) / 10)\",\n  glitchHaloOpacity: \"0.28\",\n  glitchRingColor: \"hsl(var(--ring) / 0.55)\",\n  glitchRingBlur: \"var(--space-2)\",\n  glitchRingShadow: \"0 0 var(--glitch-ring-blur) var(--glitch-ring-color)\",\n  glitchAccentColor: \"hsl(var(--accent-1) / 0.35)\",\n  glitchAccentBlur: \"var(--spacing-0-5)\",\n  glitchAccentShadow:\n    \"0 0 var(--glitch-accent-blur) var(--glitch-accent-color)\",\n  retroGridStep: \"24px\",\n  retroGridOpacity: \"0.15\",\n  glitchOverlayOpacityCard: \"var(--theme-scanline-opacity-moderate, 0.06)\",\n  shadowInnerLg:\n    \"inset 0 var(--spacing-0-5) var(--spacing-2) hsl(var(--shadow-color) / 0.36)\",\n  shadowOuterXl:\n    \"0 var(--spacing-5) var(--spacing-8) hsl(var(--shadow-color) / 0.45)\",\n  glowRing:\n    \"0 0 0 calc(var(--spacing-0-5)) hsl(var(--ring) / 0.5), 0 0 var(--spacing-3) hsl(var(--ring) / 0.22)\",\n  glitchNoiseHover: \"calc(var(--glitch-noise-level) * 1.3)\",\n  gridColor: \"var(--accent-1)\",\n  gridAlpha: \"0.1\",\n  gridSize: \"calc(var(--space-6) - var(--space-1))\",\n  shadowOuterSm:\n    \"0 var(--spacing-2) var(--spacing-4) hsl(var(--shadow-color) / 0.24)\",\n  shadowOuterMd:\n    \"0 var(--spacing-3) var(--spacing-6) hsl(var(--shadow-color) / 0.3)\",\n  cardElev1: \"var(--shadow-outline-faint), var(--shadow-outer-sm)\",\n  cardElev2: \"var(--shadow-outline-subtle), var(--shadow-outer-md)\",\n  cardElev3: \"var(--shadow-outline-subtle), var(--shadow-outer-lg)\",\n  glowRingSm: \"0 0 0 calc(var(--spacing-0-25)) hsl(var(--ring) / 0.45)\",\n  glowRingMd:\n    \"0 0 0 calc(var(--spacing-0-5)) hsl(var(--ring) / 0.5), 0 0 var(--spacing-2) hsl(var(--ring) / 0.2)\",\n  blobSurface:\n    \"color-mix(in oklab, hsl(var(--surface)) 70%, hsl(var(--surface-2)) 30%)\",\n  dripSurface:\n    \"color-mix(in oklab, hsl(var(--accent-1)) 18%, hsl(var(--background)) 82%)\",\n  gradientBlobPrimary:\n    \"radial-gradient(120% 120% at 50% 10%, hsl(var(--surface) / 0.85), hsl(var(--surface-2) / 0.35), transparent 85%)\",\n  gradientDripOverlay:\n    \"radial-gradient(60% 40% at 10% 0%, hsl(var(--backdrop-drip-1) / 0.2), transparent 60%), radial-gradient(50% 35% at 100% 5%, hsl(var(--backdrop-drip-2) / 0.18), transparent 60%), radial-gradient(55% 35% at 50% 120%, hsl(var(--backdrop-drip-3) / 0.14), transparent 65%), radial-gradient(120% 100% at 50% 100%, hsl(var(--backdrop-drip-shadow) / 0.35), transparent 70%)\",\n  gradientDripOverlayCompact:\n    \"radial-gradient(125% 85% at 18% -20%, hsl(var(--backdrop-drip-1) / 0.28), transparent 65%), radial-gradient(115% 85% at 82% -15%, hsl(var(--backdrop-drip-2) / 0.24), transparent 62%), radial-gradient(120% 95% at 50% 110%, hsl(var(--backdrop-drip-3) / 0.16), transparent 70%)\",\n  gradientGlitchPrimary:\n    \"linear-gradient(135deg, hsl(var(--accent-1) / 0.35), hsl(var(--accent-2) / 0.3))\",\n  gradientGlitchOverlay:\n    \"linear-gradient(120deg, hsl(var(--accent-1) / 0.12) 0%, transparent 58%, hsl(var(--ring) / 0.16) 100%), var(--card-overlay-scanlines)\",\n  gradientGlitchRail:\n    \"linear-gradient(180deg, hsl(var(--primary) / 0.6) 0%, hsl(var(--accent-1) / 0.45) 45%, hsl(var(--ring) / 0.6) 100%)\",\n  gradientHeroSlotHighlight:\n    \"radial-gradient(circle at top left, var(--depth-glow-highlight-medium) 0%, transparent 62%)\",\n  gradientHeroSlotShadow:\n    \"radial-gradient(circle at bottom right, var(--depth-glow-shadow-medium) 0%, transparent 65%)\",\n  gradientHeroTopline:\n    \"linear-gradient(90deg, hsl(var(--accent-1) / 0.28), transparent 55%, hsl(var(--accent-2) / 0.32))\",\n  gradientHeroActionHalo:\n    \"radial-gradient(120% 95% at 50% 0%, hsl(var(--accent-1) / 0.24), transparent 65%)\",\n  gradientPanelTiltStrong:\n    \"linear-gradient(140deg, hsl(var(--card) / 0.95), hsl(var(--surface-2) / 0.78))\",\n  gradientPanelTiltBright:\n    \"linear-gradient(140deg, hsl(var(--card) / 0.98), hsl(var(--surface-2) / 0.82))\",\n  gradientPanelTiltMuted:\n    \"linear-gradient(140deg, hsl(var(--card) / 0.94), hsl(var(--surface-2) / 0.72))\",\n  dangerSurfaceForeground: \"var(--danger-foreground)\",\n  surfaceOverlaySoft: \"0.12\",\n  surfaceOverlayStrong: \"0.2\",\n  glitchCardSurfaceTop: \"hsl(var(--card) / 0.78)\",\n  glitchCardSurfaceBottom: \"hsl(var(--panel) / 0.66)\",\n  surfaceCardSoft:\n    \"linear-gradient(180deg, hsl(var(--card) / 0.65), hsl(var(--card) / 0.45))\",\n  surfaceCardStrong:\n    \"linear-gradient(180deg, hsl(var(--card) / 0.85), hsl(var(--card) / 0.65))\",\n  surfaceCardStrongHover:\n    \"linear-gradient(180deg, hsl(var(--card) / 0.95), hsl(var(--card) / 0.75))\",\n  surfaceCardStrongActive:\n    \"linear-gradient(180deg, hsl(var(--card) / 0.8), hsl(var(--card) / 0.6))\",\n  surfaceCardStrongToday:\n    \"linear-gradient(180deg, hsl(var(--card) / 0.9), hsl(var(--card) / 0.7))\",\n  surfaceCardStrongEmpty:\n    \"linear-gradient(180deg, hsl(var(--card) / 0.6), hsl(var(--card) / 0.5))\",\n  surfaceRailAccent:\n    \"linear-gradient(180deg, hsl(var(--accent-1)), hsl(var(--primary)))\",\n  glitchIntensityDefault: \"1.0\",\n  glitchIntensitySubtle: \"calc(var(--glitch-intensity-default) * 0.68)\",\n  glitchIntensityHeroRail: \"0.74\",\n  glitchIntensityBackdropBlob1: \"0.18\",\n  glitchIntensityBackdropBlob2: \"0.16\",\n  glitchIntensityBackdropBlob3: \"0.12\",\n  glitchIntensityBackdropDrip1: \"0.23\",\n  glitchIntensityBackdropDrip2: \"0.2\",\n  glitchIntensityBackdropDrip3: \"0.16\",\n  glitchIntensityBackdropShadow: \"0.38\",\n  glitchPixel: \"var(--glitch-noise-level)\",\n  statGood: \"var(--success)\",\n  statWarn: \"var(--warning)\",\n  statBad: \"var(--danger)\",\n  easeOut: \"cubic-bezier(0.16, 1, 0.3, 1)\",\n  easeMotionGlitch: \"cubic-bezier(0.2, 0.8, 0.2, 1)\",\n  durQuick: \"140ms\",\n  durChill: \"220ms\",\n  durSlow: \"420ms\",\n  cardOverlayScanlines:\n    \"repeating-linear-gradient(\\n    to bottom,\\n    hsl(var(--foreground) / var(--texture-scanline-opacity, 0.06)) 0,\\n    hsl(var(--foreground) / var(--texture-scanline-opacity, 0.06)) var(--spacing-0-25),\\n    transparent var(--spacing-0-5),\\n    transparent calc(var(--spacing-0-5) + var(--spacing-0-25))\\n  )\",\n  glitchDuration: \"450ms\",\n  glowPulse: \"glow-pulse var(--dur-slow) var(--ease-out) infinite alternate\",\n  glitchRgbShift:\n    \"drop-shadow(calc(var(--glitch-chromatic-offset-light) * -1) 0 0 hsl(var(--accent-1) / 0.45)) drop-shadow(var(--glitch-chromatic-offset-light) 0 0 hsl(var(--ring) / 0.45))\",\n  glitchScanline:\n    \"glitch-scanline calc(var(--glitch-duration) * 1.2) steps(2, end) infinite\",\n  scanline: \"var(--glitch-scanline)\",\n  motionDurationSm: \"var(--dur-quick)\",\n  motionDurationMd: \"var(--dur-chill)\",\n  motionDurationLg: \"var(--dur-slow)\",\n  motionEaseGlitch: \"var(--ease-motion-glitch)\",\n  headerStack: \"calc(var(--spacing-8) + var(--spacing-4))\",\n};\n","import tokens from \"../../tokens/tokens.js\";\n\nconst FILTER_SLOPE_TOKEN = \"--gradient-noise-opacity\";\nconst FILTER_TABLE_TOKEN = \"--gradient-noise-table\";\nconst FILTER_STD_DEVIATION_TOKEN = \"--gradient-noise-std-deviation\";\n\nconst numberPattern = /-?\\d*\\.?\\d+(?:e[+-]?\\d+)?/gi;\n\nconst parsedGradientNoiseOpacity = Number.parseFloat(\n  tokens.gradientNoiseOpacity,\n);\nconst defaultSlope = Number.isFinite(parsedGradientNoiseOpacity)\n  ? parsedGradientNoiseOpacity\n  : 0.1;\n\nconst defaultTable = Object.freeze([0, 1] as const);\nconst defaultStdDeviation = 0;\n\nconst clampNumber = (value: number, min: number, max: number): number =>\n  Math.min(Math.max(value, min), max);\n\nconst parseNumbers = (value: string): number[] => {\n  if (!value) {\n    return [];\n  }\n\n  const matches = value.match(numberPattern);\n\n  if (!matches) {\n    return [];\n  }\n\n  return matches\n    .map((segment) => Number.parseFloat(segment))\n    .filter((segment): segment is number => Number.isFinite(segment));\n};\n\nconst parseNumber = (value: string): number | null => {\n  const [first] = parseNumbers(value);\n\n  if (typeof first === \"number\") {\n    return first;\n  }\n\n  return null;\n};\n\nexport interface FilterNumericValues {\n  slope: number;\n  table: readonly number[];\n  stdDeviation: number;\n}\n\nconst cloneDefaultTable = (): number[] => [...defaultTable];\n\nconst getComputedValue = (token: string): string => {\n  if (typeof document === \"undefined\") {\n    return \"\";\n  }\n\n  const { documentElement } = document;\n\n  if (!documentElement) {\n    return \"\";\n  }\n\n  return getComputedStyle(documentElement).getPropertyValue(token).trim();\n};\n\nconst numericTable = (raw: string): number[] => {\n  const parsed = parseNumbers(raw).map((entry) =>\n    clampNumber(entry, 0, 1),\n  );\n\n  if (parsed.length === 0) {\n    return cloneDefaultTable();\n  }\n\n  return parsed;\n};\n\nconst numericSlope = (raw: string): number => {\n  const parsed = parseNumber(raw);\n\n  if (parsed === null) {\n    return defaultSlope;\n  }\n\n  return clampNumber(parsed, 0, 1);\n};\n\nconst numericStdDeviation = (raw: string): number => {\n  const parsed = parseNumber(raw);\n\n  if (parsed === null) {\n    return defaultStdDeviation;\n  }\n\n  return clampNumber(parsed, 0, 64);\n};\n\nexport const tokensToFilter = (): FilterNumericValues => {\n  const slope = numericSlope(getComputedValue(FILTER_SLOPE_TOKEN));\n  const table = numericTable(getComputedValue(FILTER_TABLE_TOKEN));\n  const stdDeviation = numericStdDeviation(\n    getComputedValue(FILTER_STD_DEVIATION_TOKEN),\n  );\n\n  return {\n    slope,\n    table,\n    stdDeviation,\n  };\n};\n","\"use client\";\n\nimport * as React from \"react\";\n\nimport tokens from \"../../tokens/tokens.js\";\nimport { svgNumericFilters } from \"@/lib/features\";\nimport { tokensToFilter } from \"@/lib/filter-tokens\";\nimport { useOptionalTheme } from \"@/lib/theme-context\";\n\nconst gradientNoiseOpacityToken = tokens.gradientNoiseOpacity;\nconst gradientNoiseOpacityCssFallback = `var(--gradient-noise-opacity, ${gradientNoiseOpacityToken || \"0.1\"})`;\n\nconst filterValuesAreEqual = (\n  a: ReturnType<typeof tokensToFilter>,\n  b: ReturnType<typeof tokensToFilter>,\n) =>\n  a.slope === b.slope &&\n  a.stdDeviation === b.stdDeviation &&\n  a.table.length === b.table.length &&\n  a.table.every((value, index) => value === b.table[index]);\n\ninterface RingNoiseDefsProps {\n  id: string;\n}\n\nexport default function RingNoiseDefs({ id }: RingNoiseDefsProps) {\n  const themeContext = useOptionalTheme();\n  const themeVariant = themeContext?.[0].variant;\n  const themeBackground = themeContext?.[0].bg;\n  const [filterValues, setFilterValues] = React.useState(tokensToFilter);\n\n  React.useEffect(() => {\n    if (!svgNumericFilters) {\n      return;\n    }\n\n    const next = tokensToFilter();\n\n    setFilterValues((prev) => (filterValuesAreEqual(prev, next) ? prev : next));\n  }, [themeVariant, themeBackground]);\n\n  const slopeValue = svgNumericFilters\n    ? filterValues.slope\n    : gradientNoiseOpacityCssFallback;\n\n  return (\n    <filter\n      id={id}\n      x=\"-15%\"\n      y=\"-15%\"\n      width=\"130%\"\n      height=\"130%\"\n      filterUnits=\"objectBoundingBox\"\n      colorInterpolationFilters=\"sRGB\"\n    >\n      <feTurbulence\n        type=\"fractalNoise\"\n        baseFrequency=\"1.1\"\n        numOctaves=\"3\"\n        seed=\"4\"\n        result=\"noise\"\n      />\n      <feColorMatrix in=\"noise\" type=\"saturate\" values=\"0\" result=\"monoNoise\" />\n      <feComponentTransfer in=\"monoNoise\" result=\"noiseAlpha\">\n        <feFuncA type=\"linear\" slope={slopeValue} />\n      </feComponentTransfer>\n      <feBlend in=\"SourceGraphic\" in2=\"noiseAlpha\" mode=\"soft-light\" />\n    </filter>\n  );\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"GlitchSegmentedGroup_root__es0p3\",\"content\":\"GlitchSegmentedGroup_content__AMGe1\",\"halo\":\"GlitchSegmentedGroup_halo__KHjeC\",\"noise\":\"GlitchSegmentedGroup_noise__cVl6y\"};","// src/components/ui/TitleBar.tsx\n\"use client\";\n\nimport * as React from \"react\";\n\nimport { cn } from \"@/lib/utils\";\n\nimport styles from \"./TitleBar.module.css\";\n\ntype Props = {\n  label: string;\n  idText?: string; // optional right-side pill (defaults to NOXI vibe)\n};\n\nexport function TitleBar({ label, idText = \"ID:0x13LG\" }: Props) {\n  return (\n    <div\n      className={cn(\n        \"flex items-center gap-[var(--space-2)] px-[var(--space-2)] py-[var(--space-2)] rounded-full border border-border\",\n        styles.termMini,\n      )}\n    >\n      <span className={cn(styles.termMiniText, \"text-muted-foreground\")}>\n        {label}\n      </span>\n      <span className=\"pill pill--pulse ml-auto\">{idText}</span>\n    </div>\n  );\n}\n","import type { ReactNode } from \"react\";\nimport type { Background, Variant } from \"@/lib/theme\";\n\nexport type GalleryEntryKind = \"primitive\" | \"component\" | \"complex\" | \"token\";\nexport type GalleryAxisKind = \"variant\" | \"state\";\n\nexport interface GalleryPropMeta {\n  name: string;\n  type: string;\n  required?: boolean;\n  defaultValue?: string;\n  description?: string;\n}\n\nexport interface GalleryAxisValue {\n  value: string;\n  description?: string;\n}\n\nexport interface GalleryAxis {\n  id: string;\n  label: string;\n  type: GalleryAxisKind;\n  values: readonly GalleryAxisValue[];\n  description?: string;\n}\n\nexport interface GalleryUsageNote {\n  title: string;\n  description: string;\n  kind: \"do\" | \"dont\";\n}\n\nexport interface GalleryStateDefinition {\n  id: string;\n  name: string;\n  description?: string;\n  code?: string;\n  preview: GalleryPreview;\n}\n\nexport interface GalleryRelatedSurface {\n  id: string;\n  description?: string;\n}\n\nexport interface GalleryEntryRelated {\n  surfaces?: readonly GalleryRelatedSurface[];\n}\n\nexport type GalleryPreviewRenderer = () => ReactNode;\n\nexport interface GalleryPreview {\n  id: string;\n  render: GalleryPreviewRenderer;\n}\n\nexport interface GalleryEntry {\n  id: string;\n  name: string;\n  kind: GalleryEntryKind;\n  description?: string;\n  tags?: readonly string[];\n  props?: readonly GalleryPropMeta[];\n  axes?: readonly GalleryAxis[];\n  usage?: readonly GalleryUsageNote[];\n  related?: GalleryEntryRelated;\n  preview: GalleryPreview;\n  code?: string;\n  states?: readonly GalleryStateDefinition[];\n}\n\nexport const GALLERY_SECTION_IDS = [\n  \"buttons\",\n  \"inputs\",\n  \"toggles\",\n  \"feedback\",\n  \"prompts\",\n  \"cards\",\n  \"layout\",\n  \"page-header\",\n  \"misc\",\n  \"homepage\",\n  \"reviews\",\n  \"planner\",\n  \"goals\",\n  \"team\",\n  \"components\",\n] as const;\n\nexport type GallerySectionId = (typeof GALLERY_SECTION_IDS)[number];\n\nexport interface GallerySection {\n  id: GallerySectionId;\n  entries: readonly GalleryEntry[];\n}\n\nexport const defineGallerySection = (section: GallerySection): GallerySection => {\n  return section;\n};\n\nexport const createGalleryPreview = (preview: GalleryPreview): GalleryPreview => {\n  if (!preview.id) {\n    throw new Error(\"Gallery preview requires a stable id\");\n  }\n  return preview;\n};\n\nexport interface GallerySerializablePreview {\n  id: string;\n}\n\nexport type GallerySerializableStateDefinition = Omit<\n  GalleryStateDefinition,\n  \"preview\"\n> & {\n  preview: GallerySerializablePreview;\n};\n\nexport type GallerySerializableEntry = Omit<\n  GalleryEntry,\n  \"preview\" | \"states\"\n> & {\n  preview: GallerySerializablePreview;\n  states?: readonly GallerySerializableStateDefinition[];\n};\n\nexport interface GallerySerializableSection {\n  id: GallerySectionId;\n  entries: readonly GallerySerializableEntry[];\n}\n\nexport interface GalleryRegistryPayload {\n  sections: readonly GallerySerializableSection[];\n  byKind: Record<GalleryEntryKind, GallerySerializableEntry[]>;\n}\n\nexport interface GalleryRegistry {\n  payload: GalleryRegistryPayload;\n  previews: Map<string, GalleryPreviewRenderer>;\n}\n\nexport interface GalleryPreviewAxisOption {\n  readonly value: string;\n  readonly label: string;\n}\n\nexport interface GalleryPreviewAxisParam {\n  readonly key: string;\n  readonly label: string;\n  readonly type: GalleryAxisKind;\n  readonly options: readonly GalleryPreviewAxisOption[];\n}\n\nexport interface GalleryPreviewRoute {\n  readonly slug: string;\n  readonly previewId: string;\n  readonly entryId: string;\n  readonly entryName: string;\n  readonly sectionId: GallerySectionId;\n  readonly stateId: string | null;\n  readonly stateName: string | null;\n  readonly themeVariant: Variant;\n  readonly themeBackground: Background;\n}\n\nexport const getGalleryEntryAxes = (\n  payload: GalleryRegistryPayload,\n  entryId: string,\n): readonly GalleryAxis[] => {\n  for (const section of payload.sections) {\n    const entry = section.entries.find((candidate) => candidate.id === entryId);\n    if (entry) {\n      return entry.axes ?? [];\n    }\n  }\n  return [];\n};\n\nexport const createGalleryRegistry = (\n  sections: readonly GallerySection[],\n): GalleryRegistry => {\n  const previews = new Map<string, GalleryPreviewRenderer>();\n  const sectionOrder: GallerySectionId[] = [];\n  const sectionsById = new Map<GallerySectionId, GalleryEntry[]>();\n\n  for (const section of sections) {\n    if (!sectionsById.has(section.id)) {\n      sectionOrder.push(section.id);\n      sectionsById.set(section.id, []);\n    }\n\n    sectionsById.get(section.id)!.push(...section.entries);\n  }\n\n  const serializableSections: GallerySerializableSection[] = sectionOrder.map((sectionId) => ({\n    id: sectionId,\n    entries: (sectionsById.get(sectionId) ?? []).map((entry) => {\n      const { preview, states, ...rest } = entry;\n      previews.set(preview.id, preview.render);\n      const serializableStates = states?.map((state) => {\n        previews.set(state.preview.id, state.preview.render);\n        const { preview: statePreview, ...stateRest } = state;\n        return {\n          ...stateRest,\n          preview: { id: statePreview.id },\n        } satisfies GallerySerializableStateDefinition;\n      });\n      return {\n        ...rest,\n        preview: { id: preview.id },\n        states: serializableStates,\n      } satisfies GallerySerializableEntry;\n    }),\n  }));\n\n  const byKind: Record<GalleryEntryKind, GallerySerializableEntry[]> = {\n    primitive: [],\n    component: [],\n    complex: [],\n    token: [],\n  };\n\n  for (const section of serializableSections) {\n    for (const entry of section.entries) {\n      byKind[entry.kind].push(entry);\n    }\n  }\n\n  return {\n    payload: {\n      sections: serializableSections,\n      byKind,\n    },\n    previews,\n  };\n};\n\nexport const formatGallerySectionLabel = (section: GallerySectionId): string =>\n  section\n    .split(\"-\")\n    .map((part) => part.charAt(0).toUpperCase() + part.slice(1))\n    .join(\" \");\n","\"use client\";\n\nimport * as React from \"react\";\nimport { AnimatePresence, motion } from \"framer-motion\";\nimport { Check } from \"lucide-react\";\n\nimport { cn } from \"@/lib/utils\";\n\nimport { Spinner } from \"../feedback/Spinner\";\nimport { useFloatingStyleClass } from \"../hooks/useFloatingStyleClass\";\nimport type { AnimatedSelectProps } from \"./shared\";\nimport type { UseAnimatedSelectReturn } from \"./useAnimatedSelect\";\n\ntype SelectStyles = Record<string, string>;\n\ntype AnimatedSelectListProps = {\n  open: boolean;\n  items: AnimatedSelectProps[\"items\"];\n  value?: string;\n  setActiveIndex: UseAnimatedSelectReturn[\"setActiveIndex\"];\n  selectByIndex: UseAnimatedSelectReturn[\"selectByIndex\"];\n  onKeyDown: UseAnimatedSelectReturn[\"onListKeyDown\"];\n  listRef: UseAnimatedSelectReturn[\"listRef\"];\n  styles: SelectStyles;\n  dropdownClassName?: string;\n  triggerAria?: string;\n  label?: React.ReactNode;\n  labelId: string;\n  listboxId: string;\n  fixedStyles?: React.CSSProperties;\n  placement: UseAnimatedSelectReturn[\"placement\"];\n  reduceMotion: UseAnimatedSelectReturn[\"reduceMotion\"];\n  motionDurationSm: UseAnimatedSelectReturn[\"motionDurationSm\"];\n  yOffset: UseAnimatedSelectReturn[\"yOffset\"];\n};\n\nexport function AnimatedSelectList({\n  open,\n  items,\n  value,\n  setActiveIndex,\n  selectByIndex,\n  onKeyDown,\n  listRef,\n  styles,\n  dropdownClassName,\n  triggerAria,\n  label,\n  labelId,\n  listboxId,\n  fixedStyles,\n  placement,\n  reduceMotion,\n  motionDurationSm,\n  yOffset,\n}: AnimatedSelectListProps) {\n  const { floatingStyle } = useFloatingStyleClass(fixedStyles);\n\n  return (\n    <>\n      <AnimatePresence>\n        {open && (\n          <motion.ul\n            ref={listRef}\n            key=\"menu\"\n            role=\"listbox\"\n            id={listboxId}\n            tabIndex={-1}\n            aria-labelledby={label ? labelId : undefined}\n            aria-label={label ? undefined : triggerAria}\n            initial={\n              reduceMotion ? { opacity: 0 } : { opacity: 0, y: yOffset, scale: 0.98 }\n            }\n            animate={reduceMotion ? { opacity: 1 } : { opacity: 1, y: 0, scale: 1 }}\n            exit={\n              reduceMotion ? { opacity: 0 } : { opacity: 0, y: yOffset, scale: 0.98 }\n            }\n            transition={\n              reduceMotion\n                ? { duration: 0 }\n                : { duration: motionDurationSm, ease: \"easeOut\" }\n            }\n            style={floatingStyle}\n            onKeyDown={onKeyDown}\n            className={cn(\n              \"relative pointer-events-auto rounded-[var(--radius-2xl)] overflow-hidden\",\n              \"bg-card/92 backdrop-blur-xl\",\n              \"shadow-dropdown ring-1 ring-ring/18\",\n              \"p-[var(--space-2)]\",\n              \"max-h-[var(--select-menu-max-height)] min-w-[calc(var(--space-8)*3.5)] overflow-y-auto scrollbar-thin\",\n              \"scrollbar-thumb-foreground/12 scrollbar-track-transparent\",\n              dropdownClassName,\n            )}\n            data-open=\"true\"\n            data-side={placement}\n          >\n            <li\n              aria-hidden\n              role=\"presentation\"\n              className={cn(styles.glitchOverlays, styles.glitchOverlayItem)}\n            >\n              <span className={styles.gbIris} />\n              <span className={styles.gbChroma} />\n              <span className={styles.gbFlicker} />\n              <span className={styles.gbScan} />\n            </li>\n            {items.map((item, index) => {\n              const active = item.value === value;\n              const disabledItem = !!item.disabled || item.loading;\n\n              return (\n                <li key={String(item.value)} role=\"presentation\">\n                  <button\n                    type=\"button\"\n                    role=\"option\"\n                    aria-selected={active}\n                    data-index={index}\n                    disabled={disabledItem}\n                    aria-disabled={disabledItem || undefined}\n                    aria-busy={item.loading || undefined}\n                    onClick={() => selectByIndex(index)}\n                    onFocus={() => setActiveIndex(index)}\n                    className={cn(\n                      \"group relative w-full rounded-[var(--radius-xl)] px-[var(--space-4)] py-[var(--space-3)] text-left transition-colors duration-motion-sm ease-out motion-reduce:transition-none hover:bg-[--hover] active:bg-[--active] [--hover:hsl(var(--foreground)/0.05)] [--active:hsl(var(--foreground)/0.1)]\",\n                      disabledItem ? \"cursor-not-allowed\" : \"cursor-pointer\",\n                      \"disabled:opacity-disabled disabled:pointer-events-none\",\n                      active\n                        ? \"bg-primary/14 text-primary-foreground [--hover:hsl(var(--primary)/0.25)] [--active:hsl(var(--primary)/0.35)]\"\n                        : undefined,\n                      \"focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background focus-visible:shadow-[var(--shadow-glow-md)] data-[loading=true]:opacity-loading data-[loading=true]:pointer-events-none\",\n                      item.className,\n                    )}\n                    data-loading={item.loading}\n                  >\n                    <div className=\"flex items-center justify-between gap-[var(--space-3)]\">\n                      <span className={cn(\"text-ui leading-none\", styles.glitchText)}>\n                        {item.label}\n                      </span>\n                      {item.loading ? (\n                        <span\n                          aria-hidden=\"true\"\n                          className=\"flex size-[var(--space-4)] shrink-0 items-center justify-center\"\n                        >\n                          <Spinner\n                            size=\"sm\"\n                            className=\"border-border border-t-transparent opacity-80\"\n                          />\n                        </span>\n                      ) : (\n                        <Check\n                          className={cn(\n                            \"size-[var(--space-4)] shrink-0 transition-opacity duration-motion-sm ease-out motion-reduce:transition-none\",\n                            active ? \"opacity-90\" : \"opacity-0 group-hover:opacity-30\",\n                          )}\n                          aria-hidden=\"true\"\n                        />\n                      )}\n                    </div>\n\n                    <span\n                      aria-hidden\n                      className={cn(\n                        \"pointer-events-none absolute left-0 top-1/2 h-3/4 w-[calc(var(--space-1)/2)] -translate-y-1/2 rounded-[var(--radius-md)]\",\n                        active ? \"bg-ring\" : \"bg-transparent\",\n                      )}\n                    />\n                  </button>\n                </li>\n              );\n            })}\n          </motion.ul>\n        )}\n      </AnimatePresence>\n    </>\n  );\n}\n","import * as React from \"react\";\nimport CatCompanionIcon from \"@/icons/CatCompanionIcon\";\n\nexport function CatCompanion() {\n  return (\n    <div className=\"sticky bottom-[var(--space-4)] left-[var(--space-4)] z-50 pointer-events-none select-none\">\n      <CatCompanionIcon\n        className=\"w-[var(--space-8)] h-[var(--space-8)] text-foreground/80 motion-safe:animate-[cat-float_3s_ease-in-out_infinite]\"\n        aria-label=\"Cat companion\"\n        tabIndex={-1}\n      />\n    </div>\n  );\n}\n","import type React from \"react\";\n\nexport type LayoutElement =\n  | \"article\"\n  | \"aside\"\n  | \"div\"\n  | \"footer\"\n  | \"header\"\n  | \"main\"\n  | \"nav\"\n  | \"section\";\n\nexport type SpacingToken =\n  | \"0\"\n  | \"0-125\"\n  | \"0-25\"\n  | \"0-5\"\n  | \"0-75\"\n  | \"1\"\n  | \"2\"\n  | \"3\"\n  | \"4\"\n  | \"5\"\n  | \"6\"\n  | \"7\"\n  | \"8\";\n\nexport function getSpacingValue(token?: SpacingToken): string | undefined {\n  if (!token) {\n    return undefined;\n  }\n  if (token === \"0\") {\n    return \"0px\";\n  }\n  return `var(--spacing-${token})`;\n}\n\nexport function mergeStyleVars(\n  style: React.CSSProperties | undefined,\n  vars: Record<string, string | undefined>,\n): React.CSSProperties | undefined {\n  const entries = Object.entries(vars).filter(\n    (entry): entry is [string, string] => Boolean(entry[1]),\n  );\n  if (entries.length === 0) {\n    return style;\n  }\n  const varStyle = Object.fromEntries(entries) as React.CSSProperties;\n  return style ? { ...varStyle, ...style } : varStyle;\n}\n","import * as React from \"react\";\n\nimport { cn } from \"@/lib/utils\";\n\nimport styles from \"./Cluster.module.css\";\nimport {\n  getSpacingValue,\n  mergeStyleVars,\n  type LayoutElement,\n  type SpacingToken,\n} from \"./shared\";\n\ntype ClusterCollapseMode = \"stack\" | \"start\" | \"none\";\n\ntype ClusterOwnProps<TElement extends LayoutElement> = {\n  as?: TElement;\n  className?: string;\n  style?: React.CSSProperties;\n  gap?: SpacingToken;\n  rowGap?: SpacingToken;\n  align?: React.CSSProperties[\"alignItems\"];\n  justify?: React.CSSProperties[\"justifyContent\"];\n  /** Disable wrapping when set to false. */\n  wrap?: boolean;\n  /** Width threshold for responsive adjustments. Defaults to `40rem`. */\n  collapseBelow?: string;\n  /** Behaviour when the container width drops below the threshold. */\n  collapse?: ClusterCollapseMode;\n  children?: React.ReactNode;\n};\n\nexport type ClusterProps<TElement extends LayoutElement = \"div\"> =\n  ClusterOwnProps<TElement> &\n    Omit<\n      React.ComponentPropsWithoutRef<TElement>,\n      keyof ClusterOwnProps<TElement>\n    >;\n\nexport function Cluster<TElement extends LayoutElement = \"div\">({\n  as,\n  className,\n  style,\n  gap,\n  rowGap,\n  align,\n  justify,\n  wrap = true,\n  collapseBelow,\n  collapse = \"stack\",\n  children,\n  ...rest\n}: ClusterProps<TElement>) {\n  const Component = (as ?? \"div\") as LayoutElement;\n  const gapValue = getSpacingValue(gap);\n  const rowGapValue = getSpacingValue(rowGap);\n\n  let mergedStyle = mergeStyleVars(style, {\n    \"--cluster-gap\": gapValue,\n    \"--cluster-row-gap\": rowGapValue,\n    \"--cluster-collapse\": collapseBelow,\n  });\n\n  if (align) {\n    mergedStyle = { ...(mergedStyle ?? {}), alignItems: align };\n  }\n\n  if (justify) {\n    mergedStyle = { ...(mergedStyle ?? {}), justifyContent: justify };\n  }\n\n  return (\n    <Component\n      className={cn(styles.cluster, className)}\n      data-nowrap={wrap ? undefined : \"true\"}\n      data-collapse={collapse === \"none\" ? undefined : collapse}\n      style={mergedStyle}\n      {...rest}\n    >\n      {children}\n    </Component>\n  );\n}\n","import { Cluster } from \"@/components/layout/Cluster\";\nexport type { ClusterProps } from \"@/components/layout/Cluster\";\nexport { Cluster };\n","import * as React from \"react\";\nimport { cn } from \"@/lib/utils\";\n\ntype AlertTone = \"neutral\" | \"info\" | \"success\" | \"warning\" | \"danger\";\ntype AlertVariant = \"plain\" | \"subtle\";\ntype AlertLiveRegion = \"off\" | \"polite\" | \"assertive\";\n\nexport interface AlertProps extends React.HTMLAttributes<HTMLDivElement> {\n  icon?: React.ReactNode;\n  heading?: React.ReactNode;\n  description?: React.ReactNode;\n  actions?: React.ReactNode;\n  tone?: AlertTone;\n  variant?: AlertVariant;\n  liveRegion?: AlertLiveRegion;\n}\n\nconst BASE_CLASSNAME =\n  \"relative isolate flex min-w-0 items-start gap-[var(--space-3)] overflow-hidden rounded-card border border-[var(--alert-border)] bg-[var(--alert-surface)] px-[var(--space-4)] py-[var(--space-3)] text-[length:var(--font-body)] leading-relaxed text-[color:var(--alert-foreground)] shadow-neo-soft\";\n\nconst toneClassNames: Record<AlertTone, string> = {\n  neutral:\n    \"[--alert-accent:var(--accent-2)] [--alert-border:hsl(var(--card-hairline)/0.55)] [--alert-surface:hsl(var(--surface)/0.95)] [--alert-foreground:hsl(var(--muted-foreground))]\",\n  info:\n    \"[--alert-accent:var(--status-info,var(--accent-2))] [--alert-border:hsl(var(--card-hairline)/0.45)] [--alert-surface:hsl(var(--surface)/0.94)] [--alert-foreground:hsl(var(--muted-foreground))]\",\n  success:\n    \"[--alert-accent:var(--success)] [--alert-border:hsl(var(--card-hairline)/0.45)] [--alert-surface:hsl(var(--surface)/0.94)] [--alert-foreground:hsl(var(--muted-foreground))]\",\n  warning:\n    \"[--alert-accent:var(--warning)] [--alert-border:hsl(var(--card-hairline)/0.45)] [--alert-surface:hsl(var(--surface)/0.94)] [--alert-foreground:hsl(var(--muted-foreground))]\",\n  danger:\n    \"[--alert-accent:var(--danger)] [--alert-border:hsl(var(--card-hairline)/0.45)] [--alert-surface:hsl(var(--surface)/0.94)] [--alert-foreground:hsl(var(--muted-foreground))]\",\n};\n\nconst variantClassNames: Record<AlertVariant, string> = {\n  plain: \"\",\n  subtle:\n    \"before:pointer-events-none before:absolute before:inset-0 before:-z-10 before:rounded-[inherit] before:bg-[radial-gradient(120%_160%_at_82%_-10%,hsl(var(--alert-accent)/0.26),hsl(var(--alert-accent)/0.08)_55%,transparent_88%)] before:content-[''] [--alert-border:hsl(var(--alert-accent)/0.32)]\",\n};\n\ntype LiveRegionProps = {\n  role: React.AriaRole;\n  \"aria-live\": React.AriaAttributes[\"aria-live\"];\n};\n\nconst liveRegionAttributes: Record<AlertLiveRegion, LiveRegionProps | undefined> = {\n  off: undefined,\n  polite: { role: \"status\", \"aria-live\": \"polite\" },\n  assertive: { role: \"alert\", \"aria-live\": \"assertive\" },\n};\n\nexport const Alert = React.forwardRef<HTMLDivElement, AlertProps>(function Alert(\n  {\n    icon,\n    heading,\n    description,\n    actions,\n    tone = \"info\",\n    variant = \"subtle\",\n    liveRegion = \"off\",\n    className,\n    children,\n    role,\n    [\"aria-live\"]: ariaLive,\n    ...rest\n  },\n  ref,\n) {\n  const regionProps = liveRegionAttributes[liveRegion] ?? undefined;\n  const body = description ?? children;\n  const resolvedRole = role ?? regionProps?.role;\n  const resolvedAriaLive = ariaLive ?? regionProps?.[\"aria-live\"];\n\n  return (\n    <div\n      role={resolvedRole}\n      aria-live={resolvedAriaLive}\n      ref={ref}\n      className={cn(\n        BASE_CLASSNAME,\n        toneClassNames[tone],\n        variantClassNames[variant],\n        \"[--alert-foreground:hsl(var(--muted-foreground))]\",\n        className,\n      )}\n      {...rest}\n    >\n      {icon ? (\n        <span\n          aria-hidden\n          className=\"mt-[0.1rem] flex size-[var(--space-4)] flex-none items-center justify-center text-[color:hsl(var(--alert-accent))]\"\n        >\n          {icon}\n        </span>\n      ) : null}\n      <div className=\"flex min-w-0 flex-1 flex-col gap-[var(--space-1)]\">\n        {heading ? (\n          <p className=\"text-label font-medium uppercase tracking-[0.12em] text-[color:hsl(var(--alert-heading,var(--foreground)))]\">\n            {heading}\n          </p>\n        ) : null}\n        {body ? (\n          <div className=\"text-pretty text-[color:var(--alert-foreground)]\">{body}</div>\n        ) : null}\n        {actions ? (\n          <div className=\"flex flex-wrap gap-[var(--space-2)] pt-[var(--space-2)]\">{actions}</div>\n        ) : null}\n      </div>\n    </div>\n  );\n});\n\nAlert.displayName = \"Alert\";\n","import * as React from 'react'\n\nimport RingNoiseDefs from '@/icons/RingNoiseDefs'\nimport { getRingMetrics, type RingSize } from '@/lib/tokens'\nimport { cn } from '@/lib/utils'\n\ntype ProgressRingSize = RingSize | number\n\ntype ProgressRingCap = 'butt' | 'round' | 'square'\n\nexport interface ProgressRingProps\n  extends Omit<React.SVGAttributes<SVGSVGElement>, 'children'> {\n  value: number\n  size?: ProgressRingSize\n  strokeWidth?: number\n  trackClassName?: string\n  progressClassName?: string\n  cap?: ProgressRingCap\n  showNoise?: boolean\n}\n\nconst DEFAULT_RING_SIZE: RingSize = 'm'\n\nexport const ProgressRing = React.forwardRef<SVGSVGElement, ProgressRingProps>(\n  (\n    {\n      value,\n      size = DEFAULT_RING_SIZE,\n      strokeWidth,\n      className,\n      trackClassName,\n      progressClassName,\n      cap = 'round',\n      showNoise = false,\n      ...rest\n    },\n    ref\n  ) => {\n    const pct = React.useMemo(() => {\n      const numeric = Number(value)\n      if (!Number.isFinite(numeric)) {\n        return 0\n      }\n      return Math.max(0, Math.min(100, numeric))\n    }, [value])\n\n    const ringSize = typeof size === 'string' ? size : DEFAULT_RING_SIZE\n    const metrics = React.useMemo(\n      () =>\n        strokeWidth == null\n          ? getRingMetrics(ringSize)\n          : getRingMetrics(ringSize, { stroke: strokeWidth }),\n      [ringSize, strokeWidth]\n    )\n    const resolvedSize = typeof size === 'number' ? size : metrics.diameter\n    const ringStroke = strokeWidth ?? metrics.stroke\n    const inset = metrics.inset\n    const radius = Math.max(resolvedSize / 2 - inset, 0)\n    const circumference = 2 * Math.PI * radius\n    const offset = circumference - (pct / 100) * circumference\n\n    const uniqueId = React.useId()\n    const noiseId = React.useMemo(\n      () => `progress-ring-noise-${uniqueId}`,\n      [uniqueId]\n    )\n\n    return (\n      <svg\n        ref={ref}\n        viewBox={`0 0 ${resolvedSize} ${resolvedSize}`}\n        className={cn('h-full w-full rotate-[-90deg]', className)}\n        focusable={false}\n        {...rest}\n      >\n        {showNoise ? (\n          <defs>\n            <RingNoiseDefs id={noiseId} />\n          </defs>\n        ) : null}\n        <circle\n          cx={resolvedSize / 2}\n          cy={resolvedSize / 2}\n          r={radius}\n          strokeWidth={ringStroke}\n          strokeLinecap={cap}\n          vectorEffect=\"non-scaling-stroke\"\n          fill='none'\n          className={cn('text-foreground/20', trackClassName)}\n          stroke='currentColor'\n        />\n        <circle\n          cx={resolvedSize / 2}\n          cy={resolvedSize / 2}\n          r={radius}\n          strokeWidth={ringStroke}\n          strokeLinecap={cap}\n          strokeDasharray={circumference}\n          strokeDashoffset={offset}\n          vectorEffect=\"non-scaling-stroke\"\n          fill='none'\n          className={cn('text-accent', progressClassName)}\n          stroke='currentColor'\n          filter={showNoise ? `url(#${noiseId})` : undefined}\n        />\n      </svg>\n    )\n  }\n)\n\nProgressRing.displayName = 'ProgressRing'\n","import * as React from \"react\";\n\nimport { cn } from \"@/lib/utils\";\n\nimport styles from \"./Grid.module.css\";\nimport {\n  getSpacingValue,\n  mergeStyleVars,\n  type LayoutElement,\n  type SpacingToken,\n} from \"./shared\";\n\nexport type GridTemplateCell<T extends string> = T | \".\";\nexport type GridTemplateRow<T extends string> = readonly GridTemplateCell<T>[];\nexport type GridTemplate<T extends string> = readonly GridTemplateRow<T>[];\n\nexport type GridCollapseMode = \"stack\" | \"none\";\n\ntype GridOwnProps<TAreas extends string, TElement extends LayoutElement> = {\n  as?: TElement;\n  className?: string;\n  style?: React.CSSProperties;\n  /** Mapping of grid area name to the rendered node. */\n  areas: Partial<Record<TAreas, React.ReactNode>>;\n  /** Named template area definition. */\n  template: GridTemplate<TAreas>;\n  /** Gap between rows and columns, defaults to the layout spacing token. */\n  gap?: SpacingToken;\n  /** Overrides the row gap while preserving the column gap. */\n  rowGap?: SpacingToken;\n  /** Overrides the column gap while preserving the row gap. */\n  columnGap?: SpacingToken;\n  /** Custom value for `grid-template-columns`. */\n  columns?: React.CSSProperties[\"gridTemplateColumns\"];\n  /** Custom value for `grid-template-rows`. */\n  rows?: React.CSSProperties[\"gridTemplateRows\"];\n  /** Custom value for `grid-auto-flow`. */\n  flow?: React.CSSProperties[\"gridAutoFlow\"];\n  /** Aligns items inside the grid. */\n  alignItems?: React.CSSProperties[\"alignItems\"];\n  /** Aligns columns horizontally. */\n  justifyItems?: React.CSSProperties[\"justifyItems\"];\n  /**\n   * Collapse the template into a single column when the container width drops\n   * below this measurement. Defaults to `64ch`.\n   */\n  collapseBelow?: string;\n  /** Switches responsive collapse behaviour off when set to `\"none\"`. */\n  collapse?: GridCollapseMode;\n  children?: React.ReactNode;\n};\n\nexport type GridProps<\n  TAreas extends string,\n  TElement extends LayoutElement = \"div\",\n> = GridOwnProps<TAreas, TElement> &\n  Omit<React.ComponentPropsWithoutRef<TElement>, keyof GridOwnProps<TAreas, TElement>>;\n\nfunction formatTemplate<TAreas extends string>(\n  template: GridTemplate<TAreas>,\n): string {\n  return template.map((row) => `\"${row.join(\" \")}\"`).join(\" \");\n}\n\nfunction collectTemplateAreas<TAreas extends string>(\n  template: GridTemplate<TAreas>,\n): TAreas[] {\n  const seen = new Set<TAreas>();\n  const order: TAreas[] = [];\n  template.forEach((row) => {\n    row.forEach((cell) => {\n      if (cell === \".\") {\n        return;\n      }\n      if (!seen.has(cell)) {\n        seen.add(cell);\n        order.push(cell);\n      }\n    });\n  });\n  return order;\n}\n\nexport function Grid<\n  TAreas extends string,\n  TElement extends LayoutElement = \"div\",\n>({\n  as,\n  className,\n  style,\n  areas,\n  template,\n  gap,\n  rowGap,\n  columnGap,\n  columns,\n  rows,\n  flow,\n  alignItems,\n  justifyItems,\n  collapseBelow,\n  collapse = \"stack\",\n  children,\n  ...rest\n}: GridProps<TAreas, TElement>) {\n  const Component = (as ?? \"div\") as LayoutElement;\n  const templateAreas = React.useMemo(\n    () => collectTemplateAreas(template),\n    [template],\n  );\n\n  const orderedAreaKeys = React.useMemo(() => {\n    const keys = [...templateAreas];\n    Object.entries(areas).forEach(([key, content]) => {\n      if (content == null) {\n        return;\n      }\n      const typedKey = key as TAreas;\n      if (!keys.includes(typedKey)) {\n        keys.push(typedKey);\n      }\n    });\n    return keys;\n  }, [areas, templateAreas]);\n\n  const gapValue = getSpacingValue(gap);\n  const rowGapValue = getSpacingValue(rowGap);\n  const columnGapValue = getSpacingValue(columnGap);\n\n  let mergedStyle = mergeStyleVars(style, {\n    \"--grid-gap\": gapValue,\n    \"--grid-row-gap\": rowGapValue,\n    \"--grid-column-gap\": columnGapValue,\n    \"--grid-collapse\": collapseBelow,\n  });\n\n  if (alignItems) {\n    mergedStyle = { ...(mergedStyle ?? {}), alignItems };\n  }\n\n  if (justifyItems) {\n    mergedStyle = { ...(mergedStyle ?? {}), justifyItems };\n  }\n\n  if (columns) {\n    mergedStyle = { ...(mergedStyle ?? {}), gridTemplateColumns: columns };\n  }\n\n  if (rows) {\n    mergedStyle = { ...(mergedStyle ?? {}), gridTemplateRows: rows };\n  }\n\n  if (flow) {\n    mergedStyle = { ...(mergedStyle ?? {}), gridAutoFlow: flow };\n  }\n\n  const templateString = React.useMemo(\n    () => formatTemplate(template),\n    [template],\n  );\n\n  const collapsedTemplateString = React.useMemo(() => {\n    if (collapse !== \"stack\" || orderedAreaKeys.length === 0) {\n      return undefined;\n    }\n    return orderedAreaKeys.map((area) => `\"${area}\"`).join(\" \");\n  }, [collapse, orderedAreaKeys]);\n\n  const areaNodes: React.ReactElement[] = [];\n\n  templateAreas.forEach((key) => {\n    const content = areas[key];\n    if (content == null) {\n      return;\n    }\n    const definedContent = content as React.ReactNode;\n    areaNodes.push(\n      <div key={key} style={{ gridArea: key }}>\n        {definedContent}\n      </div>,\n    );\n  });\n\n  Object.entries(areas).forEach(([key, content]) => {\n    if (content == null || templateAreas.includes(key as TAreas)) {\n      return;\n    }\n    const definedContent = content as React.ReactNode;\n    areaNodes.push(\n      <div key={key} style={{ gridArea: key }}>\n        {definedContent}\n      </div>,\n    );\n  });\n\n  const finalStyle = {\n    ...(mergedStyle ?? {}),\n    \"--grid-template-areas\": templateString,\n    ...(collapsedTemplateString\n      ? { \"--grid-template-areas-collapsed\": collapsedTemplateString }\n      : undefined),\n  } as React.CSSProperties;\n\n  return (\n    <Component\n      className={cn(styles.grid, className)}\n      style={finalStyle}\n      data-collapse={collapse === \"none\" ? undefined : collapse}\n      data-flow={flow === \"column\" ? \"column\" : undefined}\n      {...rest}\n    >\n      {areaNodes}\n      {children}\n    </Component>\n  );\n}\n","import { Grid } from \"@/components/layout/Grid\";\nexport type {\n  GridCollapseMode,\n  GridProps,\n  GridTemplate,\n  GridTemplateCell,\n  GridTemplateRow,\n} from \"@/components/layout/Grid\";\nexport type { SpacingToken } from \"@/components/layout/shared\";\nexport { Grid };\n","import { Header } from '@/components/ui/layout/Header'\nimport { Hero } from '@/components/ui/layout/Hero'\nimport { PageShell } from '@/components/ui/layout/PageShell'\nimport type { ComponentProps, ReactNode } from 'react'\n\n/**\n * Props for building a page layout with a unified header, hero and main.\n */\nexport interface BasePageProps {\n  headerProps: {\n    heading: ReactNode\n    subtitle?: string\n    icon?: ReactNode\n    tabs?: Parameters<typeof Header>[0]['tabs']\n    search?: ReactNode\n    actions?: ReactNode\n  }\n  hero?: {\n    eyebrow?: string\n    title: string | ReactNode\n    subtitle?: string\n    glitch?: ComponentProps<typeof Hero>['glitch']\n    illustration?: ReactNode\n    illustrationAlt?: string\n    actions?: ReactNode\n    children?: ReactNode\n  }\n  children: ReactNode\n}\n\nexport function BasePage({ headerProps, hero, children }: BasePageProps) {\n  return (\n    <>\n      <Header\n        heading={headerProps.heading}\n        subtitle={headerProps.subtitle}\n        icon={headerProps.icon}\n        variant=\"neo\"\n        underlineTone=\"brand\"\n        tabs={headerProps.tabs}\n        search={headerProps.search}\n        actions={headerProps.actions}\n      />\n      {hero && (\n        <PageShell as=\"header\" grid className=\"py-[var(--space-7)]\">\n          <Hero\n            eyebrow={hero.eyebrow}\n            title={hero.title}\n            subtitle={hero.subtitle}\n            glitch={hero.glitch ?? 'subtle'}\n            illustration={hero.illustration}\n            illustrationAlt={hero.illustrationAlt}\n            actions={hero.actions}\n            frame\n          >\n            {hero.children}\n          </Hero>\n        </PageShell>\n      )}\n      <PageShell as=\"main\" id=\"page-main\" tabIndex={-1} className=\"py-[var(--space-6)]\">\n        {children}\n      </PageShell>\n    </>\n  )\n}\n","// src/components/ui/layout/DecorLayer.tsx\nimport { forwardRef, type HTMLAttributes } from \"react\";\n\nimport { cn } from \"@/lib/utils\";\n\nexport type DecorLayerVariant = \"grid\" | \"drip\";\n\nexport interface DecorLayerProps\n  extends Omit<HTMLAttributes<HTMLDivElement>, \"aria-hidden\"> {\n  variant: DecorLayerVariant;\n}\n\nconst DecorLayer = forwardRef<HTMLDivElement, DecorLayerProps>(\n  ({ className, variant, ...rest }, ref) => {\n    return (\n      <div\n        {...rest}\n        ref={ref}\n        aria-hidden\n        data-variant={variant}\n        className={cn(\n          \"pointer-events-none isolation-isolate z-[var(--z-decor)]\",\n          className\n        )}\n      />\n    );\n  }\n);\n\nDecorLayer.displayName = \"DecorLayer\";\nexport { DecorLayer };\n","import type * as React from \"react\";\nimport { NAV_ITEMS } from \"@/config/nav\";\n\nexport interface HeaderNavItem {\n  key: string;\n  label: React.ReactNode;\n  href?: string;\n  onClick?: (event: React.MouseEvent<HTMLAnchorElement | HTMLButtonElement>) => void;\n  active?: boolean;\n  icon?: React.ReactNode;\n}\n\nconst deriveNavKey = (href: string) => {\n  if (!href || href === \"/\") {\n    return \"home\";\n  }\n\n  return href\n    .replace(/^\\//, \"\")\n    .replace(/\\/+/g, \"-\")\n    .replace(/[^a-z0-9-]/gi, \"-\")\n    .toLowerCase();\n};\n\nconst primaryNavItems = Array.isArray(NAV_ITEMS) ? NAV_ITEMS : [];\n\nexport const PRIMARY_PAGE_NAV = primaryNavItems.map((item) => ({\n  key: deriveNavKey(item.href),\n  label: item.label,\n  href: item.href,\n})) satisfies ReadonlyArray<HeaderNavItem>;\n\nexport type PrimaryPageNavKey = (typeof PRIMARY_PAGE_NAV)[number][\"key\"];\n","export { RangeSlider as Slider } from \"./RangeSlider\";\nexport type { RangeSliderProps as SliderProps } from \"./RangeSlider\";\n","import * as React from \"react\";\n\nimport { cn } from \"@/lib/utils\";\n\nimport styles from \"./Sidebar.module.css\";\nimport {\n  getSpacingValue,\n  mergeStyleVars,\n  type LayoutElement,\n  type SpacingToken,\n} from \"./shared\";\n\ntype SidebarSide = \"start\" | \"end\";\n\ntype SidebarOwnProps<TElement extends LayoutElement> = {\n  as?: TElement;\n  className?: string;\n  style?: React.CSSProperties;\n  /** Content rendered inside the sidebar pane. */\n  sidebar: React.ReactNode;\n  gap?: SpacingToken;\n  /** Width reserved for the sidebar column on wide layouts. */\n  width?: string;\n  /** Switches the sidebar column to the opposite edge. */\n  side?: SidebarSide;\n  /** Container width that triggers the stacked layout. Defaults to `64ch`. */\n  collapseBelow?: string;\n  /** Overrides the collapsed order independent of `side`. */\n  collapseTo?: SidebarSide;\n  children?: React.ReactNode;\n};\n\nexport type SidebarProps<TElement extends LayoutElement = \"section\"> =\n  SidebarOwnProps<TElement> &\n    Omit<\n      React.ComponentPropsWithoutRef<TElement>,\n      keyof SidebarOwnProps<TElement>\n    >;\n\nexport function Sidebar<TElement extends LayoutElement = \"section\">({\n  as,\n  className,\n  style,\n  sidebar,\n  gap,\n  width,\n  side = \"start\",\n  collapseBelow,\n  collapseTo,\n  children,\n  ...rest\n}: SidebarProps<TElement>) {\n  const Component = (as ?? \"section\") as LayoutElement;\n  const gapValue = getSpacingValue(gap);\n  const collapseOrder = collapseTo ?? (side === \"start\" ? \"start\" : \"end\");\n\n  const mergedStyle = mergeStyleVars(style, {\n    \"--sidebar-gap\": gapValue,\n    \"--sidebar-width\": width,\n    \"--sidebar-breakpoint\": collapseBelow,\n  });\n\n  return (\n    <Component\n      className={cn(styles.sidebar, className)}\n      data-side={side}\n      data-collapse={collapseOrder}\n      style={mergedStyle}\n      {...rest}\n    >\n      <div className={styles.pane}>{sidebar}</div>\n      <div className={styles.content}>{children}</div>\n    </Component>\n  );\n}\n","import { Sidebar } from \"@/components/layout/Sidebar\";\nexport type { SidebarProps } from \"@/components/layout/Sidebar\";\nexport { Sidebar };\n","import * as React from \"react\";\n\nimport { cn } from \"@/lib/utils\";\n\nexport interface SkipLinkProps\n  extends Omit<React.ComponentPropsWithoutRef<\"a\">, \"href\"> {\n  /**\n   * ID of the landmark to focus when activated. A leading `#` is optional.\n   */\n  targetId: string;\n  /**\n   * Accessible label for the skip action. Defaults to \"Skip to main content\".\n   */\n  children?: React.ReactNode;\n  /**\n   * Optional href override when linking outside of the current page.\n   */\n  href?: string;\n}\n\nconst BASE_CLASSES =\n  \"fixed left-[var(--space-4)] top-[var(--space-4)] z-50 inline-flex items-center rounded-[var(--radius-lg)] bg-background px-[var(--space-4)] py-[var(--space-2)] text-ui font-medium text-foreground shadow-outline-subtle outline-none transition-all duration-motion-sm ease-out opacity-0 -translate-y-full pointer-events-none focus-visible:translate-y-0 focus-visible:opacity-100 focus-visible:pointer-events-auto focus-visible:shadow-ring focus-visible:no-underline focus-visible:outline-none hover:shadow-ring focus-visible:active:translate-y-[var(--space-1)] focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background\";\n\nconst SkipLink = React.forwardRef<HTMLAnchorElement, SkipLinkProps>(\n  (\n    {\n      targetId,\n      children = \"Skip to main content\",\n      className,\n      href,\n      ...props\n    },\n    ref,\n  ) => {\n    const normalizedTarget = targetId.startsWith(\"#\")\n      ? targetId\n      : `#${targetId}`;\n    const resolvedHref = href ?? normalizedTarget;\n\n    return (\n      <a\n        {...props}\n        ref={ref}\n        className={cn(BASE_CLASSES, className)}\n        href={resolvedHref}\n      >\n        {children}\n      </a>\n    );\n  },\n);\n\nSkipLink.displayName = \"SkipLink\";\nexport { SkipLink };\n","import * as React from \"react\";\n\nimport { cn } from \"@/lib/utils\";\n\nimport styles from \"./Stack.module.css\";\nimport {\n  getSpacingValue,\n  mergeStyleVars,\n  type LayoutElement,\n  type SpacingToken,\n} from \"./shared\";\n\ntype StackOwnProps<TElement extends LayoutElement> = {\n  as?: TElement;\n  className?: string;\n  style?: React.CSSProperties;\n  gap?: SpacingToken;\n  /** Optional larger gap applied once the container exceeds 48rem. */\n  largeGap?: SpacingToken;\n  align?: React.CSSProperties[\"alignItems\"];\n  justify?: React.CSSProperties[\"justifyContent\"];\n  children?: React.ReactNode;\n};\n\nexport type StackProps<TElement extends LayoutElement = \"div\"> =\n  StackOwnProps<TElement> &\n    Omit<\n      React.ComponentPropsWithoutRef<TElement>,\n      keyof StackOwnProps<TElement>\n    >;\n\nexport function Stack<TElement extends LayoutElement = \"div\">({\n  as,\n  className,\n  style,\n  gap,\n  largeGap,\n  align,\n  justify,\n  children,\n  ...rest\n}: StackProps<TElement>) {\n  const Component = (as ?? \"div\") as LayoutElement;\n  const gapValue = getSpacingValue(gap);\n  const largeGapValue = getSpacingValue(largeGap);\n\n  let mergedStyle = mergeStyleVars(style, {\n    \"--stack-gap\": gapValue,\n    \"--stack-gap-lg\": largeGapValue,\n  });\n\n  if (align) {\n    mergedStyle = { ...(mergedStyle ?? {}), alignItems: align };\n  }\n\n  if (justify) {\n    mergedStyle = { ...(mergedStyle ?? {}), justifyContent: justify };\n  }\n\n  return (\n    <Component\n      className={cn(styles.stack, className)}\n      style={mergedStyle}\n      {...rest}\n    >\n      {children}\n    </Component>\n  );\n}\n","import { Stack } from \"@/components/layout/Stack\";\nexport type { StackProps } from \"@/components/layout/Stack\";\nexport { Stack };\n","import * as React from \"react\";\n\nimport { cn } from \"@/lib/utils\";\n\nimport styles from \"./Switcher.module.css\";\nimport {\n  getSpacingValue,\n  mergeStyleVars,\n  type LayoutElement,\n  type SpacingToken,\n} from \"./shared\";\n\ntype SwitcherDistribution = \"fit\" | \"fill\";\n\ntype SwitcherOwnProps<TElement extends LayoutElement> = {\n  as?: TElement;\n  className?: string;\n  style?: React.CSSProperties;\n  gap?: SpacingToken;\n  align?: React.CSSProperties[\"alignItems\"];\n  /** Minimum column width before items wrap to the next row. */\n  minItemWidth?: string;\n  /** Container width at which the layout switches to columns. */\n  threshold?: string;\n  /**\n   * Controls how tracks fill the available space. `fit` uses `auto-fit`, while\n   * `fill` uses `auto-fill` to preserve empty tracks.\n   */\n  distribution?: SwitcherDistribution;\n  children?: React.ReactNode;\n};\n\nexport type SwitcherProps<TElement extends LayoutElement = \"div\"> =\n  SwitcherOwnProps<TElement> &\n    Omit<\n      React.ComponentPropsWithoutRef<TElement>,\n      keyof SwitcherOwnProps<TElement>\n    >;\n\nexport function Switcher<TElement extends LayoutElement = \"div\">({\n  as,\n  className,\n  style,\n  gap,\n  align,\n  minItemWidth,\n  threshold,\n  distribution = \"fit\",\n  children,\n  ...rest\n}: SwitcherProps<TElement>) {\n  const Component = (as ?? \"div\") as LayoutElement;\n  const gapValue = getSpacingValue(gap);\n\n  let mergedStyle = mergeStyleVars(style, {\n    \"--switcher-gap\": gapValue,\n    \"--switcher-align\": align,\n    \"--switcher-min\": minItemWidth,\n    \"--switcher-threshold\": threshold,\n  });\n\n  if (align) {\n    mergedStyle = { ...(mergedStyle ?? {}), alignItems: align };\n  }\n\n  return (\n    <Component\n      className={cn(styles.switcher, className)}\n      data-distribution={distribution === \"fill\" ? \"fill\" : undefined}\n      style={mergedStyle}\n      {...rest}\n    >\n      {children}\n    </Component>\n  );\n}\n","import { Switcher } from \"@/components/layout/Switcher\";\nexport type { SwitcherProps } from \"@/components/layout/Switcher\";\nexport { Switcher };\n","// Auto-generated by scripts/generate-ui-index.ts\n// Do not edit directly.\nexport { AIAbortButton } from \"./ai/AIAbortButton\";\nexport type { AIAbortButtonProps } from \"./ai/AIAbortButton\";\nexport { AIConfidenceHint } from \"./ai/AIConfidenceHint\";\nexport type { AIConfidenceHintProps, AIConfidenceLevel } from \"./ai/AIConfidenceHint\";\nexport { AIErrorCard } from \"./ai/AIErrorCard\";\nexport type { AIErrorCardProps } from \"./ai/AIErrorCard\";\nexport { AIExplainTooltip } from \"./ai/AIExplainTooltip\";\nexport type { AIExplainTooltipAlignment, AIExplainTooltipProps, AIExplainTooltipTone } from \"./ai/AIExplainTooltip\";\nexport { AILoadingShimmer } from \"./ai/AILoadingShimmer\";\nexport type { AILoadingShimmerProps } from \"./ai/AILoadingShimmer\";\nexport { AIOutput } from \"./ai/AIOutput\";\nexport type { AIOutputAction, AIOutputProps } from \"./ai/AIOutput\";\nexport { AIRetryErrorBubble } from \"./ai/AIRetryErrorBubble\";\nexport type { AIRetryErrorBubbleProps } from \"./ai/AIRetryErrorBubble\";\nexport { AITypingIndicator } from \"./ai/AITypingIndicator\";\nexport type { AITypingIndicatorProps } from \"./ai/AITypingIndicator\";\nexport { AnimationToggle } from \"./AnimationToggle\";\nexport { Card, CardBody, CardContent, CardDescription, CardFooter, CardHeader, cardSurfaceClassName, CardTitle } from \"./Card\";\nexport type { CardDepth, CardProps, CardStatus } from \"./Card\";\nexport { CatCompanion } from \"./CatCompanion\";\nexport { Cluster } from \"./Cluster\";\nexport type { ClusterProps } from \"./Cluster\";\nexport { Alert } from \"./feedback/Alert\";\nexport type { AlertProps } from \"./feedback/Alert\";\nexport { Progress } from \"./feedback/Progress\";\nexport { ProgressRing } from \"./feedback/ProgressRing\";\nexport type { ProgressRingProps } from \"./feedback/ProgressRing\";\nexport { Skeleton } from \"./feedback/Skeleton\";\nexport type { SkeletonProps, SkeletonRadius } from \"./feedback/Skeleton\";\nexport { Snackbar } from \"./feedback/Snackbar\";\nexport { Spinner } from \"./feedback/Spinner\";\nexport type { SpinnerSize, SpinnerTone } from \"./feedback/Spinner\";\nexport { Grid } from \"./Grid\";\nexport type { GridCollapseMode, GridProps, GridTemplate, GridTemplateCell, GridTemplateRow, SpacingToken } from \"./Grid\";\nexport { Hero } from \"./Hero\";\nexport type { HeroAction, HeroPageAccent, HeroPanelProps, HeroProps, HeroTab, HeroTabsProps, LayoutHeroProps } from \"./Hero\";\nexport { useDialogTrap } from \"./hooks/useDialogTrap\";\nexport type { UseDialogTrapOptions } from \"./hooks/useDialogTrap\";\nexport { useFloatingStyleClass } from \"./hooks/useFloatingStyleClass\";\nexport { useScopedCssVars } from \"./hooks/useScopedCssVars\";\nexport { Label } from \"./Label\";\nexport type { LabelProps } from \"./Label\";\nexport { BasePage } from \"./layout/BasePage\";\nexport type { BasePageProps } from \"./layout/BasePage\";\nexport { DecorLayer } from \"./layout/DecorLayer\";\nexport type { DecorLayerProps, DecorLayerVariant } from \"./layout/DecorLayer\";\nexport { Header, HeaderTabs } from \"./layout/Header\";\nexport type { HeaderActionsConfig, HeaderProps, HeaderTab, HeaderTabsProps } from \"./layout/Header\";\nexport { HeroGlitchStyles } from \"./layout/hero/HeroGlitchStyles\";\nexport { HeroImage } from \"./layout/hero/HeroImage\";\nexport type { HeroImageProps } from \"./layout/hero/HeroImage\";\nexport { HeroScene } from \"./layout/hero/HeroScene\";\nexport type { HeroSceneKey, HeroSceneProps } from \"./layout/hero/HeroScene\";\nexport { HeroSearchBar } from \"./layout/hero/HeroSearchBar\";\nexport type { HeroSearchBarProps } from \"./layout/hero/HeroSearchBar\";\nexport { useHeroStyles } from \"./layout/hero/useHeroStyles\";\nexport type { HeroStyleOptions, HeroStyleResult } from \"./layout/hero/useHeroStyles\";\nexport { NeomorphicFrameStyles } from \"./layout/NeomorphicFrameStyles\";\nexport { HeroCol, HeroGrid, NeomorphicHeroFrame } from \"./layout/NeomorphicHeroFrame\";\nexport type { Align, HeroColProps, HeroGridProps, HeroSlot, HeroSlotInput, HeroSlots, HeroVariant, NeomorphicHeroFrameProps } from \"./layout/NeomorphicHeroFrame\";\nexport { layoutGridClassName, PageShell } from \"./layout/PageShell\";\nexport type { PageShellElement, PageShellOwnProps, PageShellProps } from \"./layout/PageShell\";\nexport { PRIMARY_PAGE_NAV } from \"./layout/primary-nav\";\nexport type { HeaderNavItem, PrimaryPageNavKey } from \"./layout/primary-nav\";\nexport { SectionCard, SectionCardBody, SectionCardHeader } from \"./layout/SectionCard\";\nexport type { SectionCardHeaderProps } from \"./layout/SectionCard\";\nexport { Split } from \"./layout/Split\";\nexport { TabBar } from \"./layout/TabBar\";\nexport type { TabBarA11yProps, TabBarProps, TabElementProps, TabItem, TabRenderContext } from \"./layout/TabBar\";\nexport { TitleBar } from \"./layout/TitleBar\";\nexport { NoiseOverlay } from \"./patterns/NoiseOverlay\";\nexport type { NoiseLevel, NoiseOverlayProps } from \"./patterns/NoiseOverlay\";\nexport { AvatarFrame } from \"./primitives/AvatarFrame\";\nexport type { AvatarFrameProps } from \"./primitives/AvatarFrame\";\nexport { Badge } from \"./primitives/Badge\";\nexport type { BadgeProps } from \"./primitives/Badge\";\nexport { BlobContainer } from \"./primitives/BlobContainer\";\nexport type { BlobContainerProps, GlitchNoiseToken, GlitchOverlayToken } from \"./primitives/BlobContainer\";\nexport { Button, BUTTON_VARIANTS, buttonSizes, colorVar, toneClasses, variants } from \"./primitives/Button\";\nexport type { ButtonProps, ButtonSize, ButtonVariant } from \"./primitives/Button\";\nexport { DripEdge } from \"./primitives/DripEdge\";\nexport type { DripEdgeProps } from \"./primitives/DripEdge\";\nexport { Field, FieldInput, FieldRoot, FieldSearch, FieldSelect, FieldTextarea } from \"./primitives/Field\";\nexport type { FieldHeight, FieldInputProps, FieldRootProps, FieldSearchProps, FieldSelectProps, FieldTextareaProps, FieldVariant } from \"./primitives/Field\";\nexport { GlitchProgress } from \"./primitives/GlitchProgress\";\nexport type { GlitchProgressProps, GlitchProgressSize } from \"./primitives/GlitchProgress\";\nexport { GlitchSegmentedButton } from \"./primitives/GlitchSegmentedButton\";\nexport type { GlitchSegmentedButtonProps } from \"./primitives/GlitchSegmentedButton\";\nexport { GlitchSegmentedGroup } from \"./primitives/GlitchSegmentedGroup\";\nexport type { GlitchSegmentedGroupProps } from \"./primitives/GlitchSegmentedGroup\";\nexport { ICON_BUTTON_VARIANTS, IconButton } from \"./primitives/IconButton\";\nexport type { IconButtonProps, IconButtonSize, IconButtonVariant } from \"./primitives/IconButton\";\nexport { Input } from \"./primitives/Input\";\nexport type { InputProps, InputRingTone, InputSize } from \"./primitives/Input\";\nexport { InsetRow } from \"./primitives/InsetRow\";\nexport type { InsetRowProps } from \"./primitives/InsetRow\";\nexport { IssueBadge } from \"./primitives/IssueBadge\";\nexport type { IssueBadgeProps, IssueBadgeSeverity } from \"./primitives/IssueBadge\";\nexport { Modal } from \"./primitives/Modal\";\nexport type { ModalProps } from \"./primitives/Modal\";\nexport { neuInset, neuRaised } from \"./primitives/Neu\";\nexport { RangeSlider } from \"./primitives/RangeSlider\";\nexport type { RangeSliderProps } from \"./primitives/RangeSlider\";\nexport { SearchBar } from \"./primitives/SearchBar\";\nexport type { SearchBarProps } from \"./primitives/SearchBar\";\nexport { SegmentedButton } from \"./primitives/SegmentedButton\";\nexport type { SegmentedButtonDepth, SegmentedButtonProps } from \"./primitives/SegmentedButton\";\nexport { SegmentedControl } from \"./primitives/SegmentedControl\";\nexport type { SegmentedControlOption, SegmentedControlProps, SegmentedOption } from \"./primitives/SegmentedControl\";\nexport { Slider } from \"./primitives/Slider\";\nexport type { SliderProps } from \"./primitives/Slider\";\nexport { TabList, TabPanel, Tabs } from \"./primitives/Tabs\";\nexport type { TabListItem, TabListProps, TabPanelProps, TabsProps } from \"./primitives/Tabs\";\nexport { TagInput } from \"./primitives/TagInput\";\nexport type { TagInputProps } from \"./primitives/TagInput\";\nexport { Textarea } from \"./primitives/Textarea\";\nexport type { TextareaProps } from \"./primitives/Textarea\";\nexport { VirtualizedList, VirtualizedSpacer } from \"./primitives/VirtualizedList\";\nexport type { RenderSpacer, VirtualizedSpacerRenderProps } from \"./primitives/VirtualizedList\";\nexport { RadioIconGroup } from \"./radio/RadioIconGroup\";\nexport type { RadioIconGroupOption, RadioIconGroupProps, RadioIconGroupSize, RadioIconGroupTone } from \"./radio/RadioIconGroup\";\nexport { radioIconGroupToneClasses } from \"./radio/tone\";\nexport type { RadioIconGroupToneStyles } from \"./radio/tone\";\nexport { AnimatedSelect, NativeSelect, Select } from \"./Select\";\nexport { AnimatedSelectList } from \"./select/AnimatedSelectList\";\nexport { AnimatedSelectTrigger } from \"./select/AnimatedSelectTrigger\";\nexport { isNativeSelect } from \"./select/shared\";\nexport type { AnimatedSelectProps, NativeSelectProps, SelectItem, SelectProps, SelectRef } from \"./select/shared\";\nexport { useAnimatedSelect } from \"./select/useAnimatedSelect\";\nexport type { UseAnimatedSelectArgs, UseAnimatedSelectReturn } from \"./select/useAnimatedSelect\";\nexport { Sheet } from \"./Sheet\";\nexport type { SheetProps } from \"./Sheet\";\nexport { Sidebar } from \"./Sidebar\";\nexport type { SidebarProps } from \"./Sidebar\";\nexport { SkipLink } from \"./SkipLink\";\nexport type { SkipLinkProps } from \"./SkipLink\";\nexport { Stack } from \"./Stack\";\nexport type { StackProps } from \"./Stack\";\nexport { Switcher } from \"./Switcher\";\nexport type { SwitcherProps } from \"./Switcher\";\nexport { BackgroundPicker } from \"./theme/BackgroundPicker\";\nexport type { BackgroundPickerProps } from \"./theme/BackgroundPicker\";\nexport { getAccentColors } from \"./theme/getAccentColors\";\nexport type { AccentColors, AccentTone } from \"./theme/getAccentColors\";\nexport { SettingsSelect } from \"./theme/SettingsSelect\";\nexport type { SettingsSelectProps } from \"./theme/SettingsSelect\";\nexport { ThemePicker } from \"./theme/ThemePicker\";\nexport type { ThemePickerProps } from \"./theme/ThemePicker\";\nexport { ThemeSelector } from \"./theme/ThemeSelector\";\nexport type { ThemeSelectorProps } from \"./theme/ThemeSelector\";\nexport { ThemeToggle } from \"./theme/ThemeToggle\";\nexport { Toast } from \"./Toast\";\nexport type { ToastProps } from \"./Toast\";\nexport { CheckCircle } from \"./toggles/CheckCircle\";\nexport { NeonGlowWrap, NeonIcon } from \"./toggles/NeonIcon\";\nexport { Toggle } from \"./toggles/Toggle\";\nexport { CONTROL_VARIANT_ALIASES, CONTROL_VARIANTS, normalizeControlVariant, normalizeUIVariant, resolveControlVariant, resolveUIVariant, UI_VARIANT_ALIASES, UI_VARIANTS } from \"./variants\";\nexport type { AnyControlVariant, AnyUIVariant, ControlVariant, DeprecatedControlVariant, DeprecatedUIVariant, UIVariant } from \"./variants\";\nexport { LabelGallery } from \"./Label.gallery\";\nexport { HeaderGallery } from \"./layout/Header.gallery\";\nexport { TabBarGallery } from \"./layout/TabBar.gallery\";\nexport { BadgeGallery } from \"./primitives/Badge.gallery\";\nexport { BUTTON_STATE_SPECS, ButtonGallery } from \"./primitives/Button.gallery\";\nexport type { ButtonStateSpec } from \"./primitives/Button.gallery\";\nexport { FIELD_STATE_SPECS, FieldGallery } from \"./primitives/Field.gallery\";\nexport type { FieldStateSpec } from \"./primitives/Field.gallery\";\nexport { ICON_BUTTON_STATE_SPECS, IconButtonGallery } from \"./primitives/IconButton.gallery\";\nexport type { IconButtonStateSpec } from \"./primitives/IconButton.gallery\";\nexport { INPUT_STATE_SPECS, InputGallery } from \"./primitives/Input.gallery\";\nexport type { InputStateSpec } from \"./primitives/Input.gallery\";\nexport { SearchBarGallery } from \"./primitives/SearchBar.gallery\";\nexport { SEGMENTED_BUTTON_STATE_SPECS, SegmentedButtonGallery } from \"./primitives/SegmentedButton.gallery\";\nexport type { SegmentedButtonStateSpec } from \"./primitives/SegmentedButton.gallery\";\nexport { TabsGallery } from \"./primitives/Tabs.gallery\";\nexport { TextareaGallery } from \"./primitives/Textarea.gallery\";\nexport { RADIO_ICON_GROUP_DEMO_OPTIONS, RADIO_ICON_GROUP_SIZES, RADIO_ICON_GROUP_STATE_SPECS, RADIO_ICON_GROUP_TONES, RadioIconGroupGallery } from \"./radio/RadioIconGroup.gallery\";\nexport type { RadioIconGroupStateSpec } from \"./radio/RadioIconGroup.gallery\";\nexport { SelectGallery } from \"./Select.gallery\";\nexport { NeonIconGallery } from \"./toggles/NeonIcon.gallery\";\nexport { ToggleGallery } from \"./toggles/Toggle.gallery\";\n","\"use client\";\n\nimport * as React from \"react\";\n\nexport type RovingTabItem<Key extends string> = {\n  key: Key;\n  disabled?: boolean;\n};\n\nexport interface UseRovingTabStateOptions<\n  Key extends string,\n  Item extends RovingTabItem<Key>,\n> {\n  items: Item[];\n  value?: Key;\n  defaultValue?: Key;\n  onValueChange?: (key: Key) => void;\n}\n\nexport interface UseRovingTabStateResult<Key extends string> {\n  activeKey: Key;\n  isControlled: boolean;\n  setActiveValue: (key: Key) => void;\n  focusTab: (key: Key) => void;\n  registerTab: (key: Key, node: HTMLElement | null) => void;\n  onKeyDown: (event: React.KeyboardEvent<HTMLElement>) => void;\n}\n\n/**\n * Shared roving tabindex logic for horizontal tab lists.\n */\nexport function useRovingTabState<\n  Key extends string,\n  Item extends RovingTabItem<Key>,\n>({ items, value, defaultValue, onValueChange }: UseRovingTabStateOptions<Key, Item>): UseRovingTabStateResult<Key> {\n  const isControlled = value !== undefined;\n  const [internal, setInternal] = React.useState<Key>(() => {\n    if (value !== undefined) return value;\n    if (defaultValue !== undefined) return defaultValue;\n    const fallback = items.find((item) => !item.disabled)?.key ?? items[0]?.key;\n    return (fallback ?? \"\") as Key;\n  });\n\n  const activeKey = (isControlled ? value : internal) as Key;\n\n  const setActiveValue = React.useCallback(\n    (next: Key) => {\n      if (!isControlled) {\n        setInternal(next);\n      }\n      onValueChange?.(next);\n    },\n    [isControlled, onValueChange],\n  );\n\n  const tabRefs = React.useRef<Partial<Record<Key, HTMLElement | null>>>({});\n\n  const registerTab = React.useCallback(\n    (key: Key, node: HTMLElement | null) => {\n      tabRefs.current[key] = node;\n    },\n    [],\n  );\n\n  const focusTab = React.useCallback((key: Key) => {\n    const target = tabRefs.current[key];\n    target?.focus();\n  }, []);\n\n  const setAndFocus = React.useCallback(\n    (next: Key) => {\n      setActiveValue(next);\n      focusTab(next);\n    },\n    [focusTab, setActiveValue],\n  );\n\n  const onKeyDown = React.useCallback(\n    (event: React.KeyboardEvent<HTMLElement>) => {\n      const key = event.key;\n      if (key !== \"ArrowLeft\" && key !== \"ArrowRight\" && key !== \"Home\" && key !== \"End\") {\n        return;\n      }\n\n      event.preventDefault();\n\n      const enabled = items.filter((item) => !item.disabled);\n      if (enabled.length === 0) return;\n\n      const currentIndex = enabled.findIndex((item) => item.key === activeKey);\n\n      if (key === \"Home\") {\n        setAndFocus(enabled[0].key);\n        return;\n      }\n\n      if (key === \"End\") {\n        setAndFocus(enabled[enabled.length - 1].key);\n        return;\n      }\n\n      if (key === \"ArrowLeft\") {\n        const nextIndex = currentIndex <= 0 ? enabled.length - 1 : currentIndex - 1;\n        setAndFocus(enabled[nextIndex].key);\n        return;\n      }\n\n      if (key === \"ArrowRight\") {\n        const nextIndex = currentIndex >= enabled.length - 1 ? 0 : currentIndex + 1;\n        setAndFocus(enabled[nextIndex].key);\n      }\n    },\n    [activeKey, items, setAndFocus],\n  );\n\n  return {\n    activeKey,\n    isControlled,\n    setActiveValue,\n    focusTab,\n    registerTab,\n    onKeyDown,\n  };\n}\n","\"use client\";\n\nimport * as React from \"react\";\nimport type { SelectItem } from \"@/components/ui\";\nimport { BG_CLASSES, Background } from \"@/lib/theme\";\nimport { cn } from \"@/lib/utils\";\nimport { SettingsSelect } from \"./SettingsSelect\";\n\nconst BG_NAMES = [\"Default\", \"Alt 1\", \"Alt 2\", \"VHS\", \"Streak\"];\n\nfunction Swatch({ className }: { className: string }) {\n  return (\n    <div\n      className={cn(\n        \"flex items-center gap-[var(--space-1)] rounded-full p-[var(--space-1)]\",\n        className,\n      )}\n    >\n      <span className=\"h-[var(--space-3)] w-[var(--space-3)] rounded-full bg-background\" />\n      <span className=\"h-[var(--space-3)] w-[var(--space-3)] rounded-full bg-card\" />\n      <span className=\"h-[var(--space-3)] w-[var(--space-3)] rounded-full bg-gradient-to-br from-accent to-accent-2\" />\n    </div>\n  );\n}\n\nexport type BackgroundPickerProps = {\n  bg: Background;\n  onBgChange: (bg: Background) => void;\n  className?: string;\n  buttonClassName?: string;\n  disabled?: boolean;\n  loadingBackground?: Background | null;\n};\n\nexport function BackgroundPicker({\n  bg,\n  onBgChange,\n  className = \"\",\n  buttonClassName,\n  disabled = false,\n  loadingBackground = null,\n}: BackgroundPickerProps) {\n  const items: SelectItem[] = React.useMemo(\n    () =>\n      BG_CLASSES.map((cls, idx) => {\n        const background = idx as Background;\n        return {\n          value: String(idx),\n          label: (\n            <div className=\"flex items-center gap-[var(--space-2)]\">\n              <Swatch className={cls} />\n              <span>{BG_NAMES[idx]}</span>\n            </div>\n          ),\n          loading: loadingBackground === background,\n        } satisfies SelectItem;\n      }),\n    [loadingBackground],\n  );\n  return (\n    <SettingsSelect\n      ariaLabel=\"Background\"\n      prefixLabel=\"Background\"\n      items={items}\n      value={String(bg)}\n      onChange={(v) => onBgChange(Number(v) as Background)}\n      className={className}\n      buttonClassName={buttonClassName}\n      disabled={disabled}\n    />\n  );\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"defaultTablist\":\"TabBar_defaultTablist__WB4oJ\",\"defaultTab\":\"TabBar_defaultTab__eo6Ar\",\"neoTablist\":\"TabBar_neoTablist__raOs3\"};","\"use client\";\n\nimport * as React from \"react\";\n\nexport default function useMounted(): boolean {\n  const [mounted, setMounted] = React.useState(false);\n\n  React.useEffect(() => {\n    setMounted(true);\n  }, []);\n\n  return mounted;\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"Button_root__Fuu5G\",\"organicControl\":\"Button_organicControl__NSKlH\",\"neonInteractive\":\"Button_neonInteractive__oVg5o\",\"pulse-neon\":\"Button_pulse-neon__1Av7C\"};","\"use client\";\n\nimport * as React from \"react\";\nimport { Zap, ZapOff } from \"lucide-react\";\nimport { Spinner } from \"./feedback/Spinner\";\nimport { usePersistentState, readLocal, writeLocal } from \"@/lib/db\";\nimport { cn } from \"@/lib/utils\";\nimport { usePrefersReducedMotion } from \"@/lib/useReducedMotion\";\n\nconst KEY = \"ui:animations\";\n\nexport function AnimationToggle({\n  loading = false,\n}: {\n  loading?: boolean;\n}) {\n  const [enabled, setEnabled] = usePersistentState<boolean>(KEY, true);\n  const reduceMotion = usePrefersReducedMotion();\n  const appliedByToggleRef = React.useRef(false);\n  const latestEnabledRef = React.useRef(enabled);\n  latestEnabledRef.current = enabled;\n\n  React.useEffect(() => {\n    if (readLocal<boolean>(KEY) === null && reduceMotion) {\n      setEnabled(false);\n      writeLocal(KEY, false);\n    }\n  }, [reduceMotion, setEnabled]);\n\n  React.useEffect(() => {\n    const root = document.documentElement;\n\n    if (!enabled) {\n      if (!root.classList.contains(\"no-animations\")) {\n        root.classList.add(\"no-animations\");\n      }\n      appliedByToggleRef.current = true;\n    }\n\n    return () => {\n      if (appliedByToggleRef.current) {\n        root.classList.remove(\"no-animations\");\n        appliedByToggleRef.current = false;\n      }\n    };\n  }, [enabled]);\n\n  function toggle() {\n    const next = !enabled;\n    setEnabled(next);\n  }\n\n  return (\n    <div className=\"flex items-center gap-[var(--space-2)]\">\n      <button\n        type=\"button\"\n        aria-pressed={enabled}\n        aria-label={enabled ? \"Disable animations\" : \"Enable animations\"}\n        onClick={toggle}\n        aria-busy={loading}\n        disabled={loading}\n        className={cn(\n          \"inline-flex h-[var(--control-h-sm)] w-[var(--control-h-sm)] shrink-0 items-center justify-center rounded-[var(--control-radius)]\",\n          \"border border-border bg-card shadow-[var(--shadow-control)]\",\n          \"hover:shadow-[var(--shadow-control-hover)]\",\n          \"focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring\",\n          \"active:bg-surface\",\n          \"disabled:opacity-disabled disabled:pointer-events-none disabled:cursor-not-allowed\",\n        )}\n      >\n        {loading ? (\n          <Spinner size=\"sm\" />\n        ) : enabled ? (\n          <Zap className=\"h-[var(--space-4)] w-[var(--space-4)]\" />\n        ) : (\n          <ZapOff className=\"h-[var(--space-4)] w-[var(--space-4)]\" />\n        )}\n      </button>\n    </div>\n  );\n}\n","// src/components/ui/layout/TabBar.tsx\n\"use client\";\n\n/**\n * TabBar  segmented pills with soft depth\n * - Inset shadow segments; active uses accent gradient with glow.\n * - Keyboard:   Home End; role=\"tablist\".\n * - Panels should set `aria-labelledby` to the controlling tab id.\n */\n\nimport * as React from \"react\";\nimport { useId } from \"react\";\nimport { cn } from \"@/lib/utils\";\nimport { useRovingTabState } from \"@/components/tabs/useRovingTabState\";\nimport styles from \"./TabBar.module.css\";\nimport segmentedButtonStyles from \"../primitives/SegmentedButton.module.css\";\nimport { resolveUIVariant, type UIVariant } from \"@/components/ui/variants\";\n\nexport type TabItem<K extends string = string> = {\n  key: K;\n  label: React.ReactNode;\n  icon?: React.ReactNode;\n  disabled?: boolean;\n  loading?: boolean;\n  badge?: React.ReactNode;\n  className?: string;\n  /** Optional explicit id for the tab button; defaults to `${key}-tab`. */\n  id?: string;\n  /** Optional override for associated panel id; defaults to `${key}-panel`. */\n  controls?: string;\n};\n\ntype Align = \"start\" | \"center\" | \"end\" | \"between\";\ntype Size = \"sm\" | \"md\" | \"lg\";\nconst TAB_BAR_VARIANTS = [\"default\", \"neo\", \"glitch\"] as const satisfies readonly UIVariant[];\ntype TabBarVariant = (typeof TAB_BAR_VARIANTS)[number];\n\ntype WithExtras<\n  K extends string,\n  Extra extends Record<string, unknown> | undefined,\n> = Extra extends Record<string, unknown> ? TabItem<K> & Extra : TabItem<K>;\n\nexport type TabElementProps = React.HTMLAttributes<HTMLElement> & {\n  role: \"tab\";\n  tabIndex: number;\n  \"aria-selected\": boolean;\n  \"aria-controls\"?: string;\n  \"aria-disabled\"?: boolean;\n  \"aria-busy\"?: boolean;\n  \"data-active\"?: boolean;\n  \"data-loading\"?: boolean;\n  \"data-disabled\"?: boolean;\n  \"data-variant\"?: TabBarVariant;\n  \"data-selected\"?: string;\n  \"data-glitch\"?: string;\n  \"data-depth\"?: string;\n};\n\nexport type TabRenderContext<\n  K extends string = string,\n  Item extends TabItem<K> = TabItem<K>,\n> = {\n  item: Item;\n  active: boolean;\n  disabled: boolean;\n  loading: boolean;\n  select: () => void;\n  ref: React.RefCallback<HTMLElement>;\n  props: TabElementProps;\n  defaultChildren: React.ReactNode;\n  size: Size;\n  variant: TabBarVariant;\n};\n\nexport type TabBarA11yProps =\n  | {\n      ariaLabel: string;\n      ariaLabelledBy?: string;\n    }\n  | {\n      ariaLabel?: string;\n      ariaLabelledBy: string;\n    };\n\ntype TabBarBaseProps<\n  K extends string = string,\n  Extra extends Record<string, unknown> | undefined = undefined,\n> = {\n  items: Array<WithExtras<K, Extra>>;\n  value?: K;\n  defaultValue?: K;\n  onValueChange?: (key: K) => void;\n  size?: Size;\n  align?: Align;\n  className?: string;\n  right?: React.ReactNode;\n  showBaseline?: boolean;\n  linkPanels?: boolean;\n  variant?: TabBarVariant;\n  tablistClassName?: string;\n  renderItem?: (\n    context: TabRenderContext<K, WithExtras<K, Extra>>,\n  ) => React.ReactNode;\n  /**\n   * Base string applied to tab and panel ids when linking panels.\n   * Defaults to an auto-generated React id to ensure uniqueness.\n   */\n  idBase?: string;\n};\n\nexport type TabBarProps<\n  K extends string = string,\n  Extra extends Record<string, unknown> | undefined = undefined,\n> = TabBarBaseProps<K, Extra> & TabBarA11yProps;\n\nconst sizeMap: Record<Size, { h: string; px: string; text: string }> = {\n  sm: {\n    h: \"h-[var(--control-h-sm)]\",\n    px: \"px-[var(--space-3)]\",\n    text: \"text-ui\",\n  },\n  md: {\n    h: \"h-[var(--control-h-md)]\",\n    px: \"px-[var(--space-4)]\",\n    text: \"text-ui\",\n  },\n  lg: {\n    h: \"h-[var(--control-h-lg)]\",\n    px: \"px-[var(--space-8)]\",\n    text: \"text-body\",\n  },\n};\n\nexport function TabBar<\n  K extends string = string,\n  Extra extends Record<string, unknown> | undefined = undefined,\n>({\n  items,\n  value,\n  defaultValue,\n  onValueChange,\n  size = \"md\",\n  align = \"start\",\n  className,\n  right,\n  ariaLabel,\n  ariaLabelledBy,\n  showBaseline = false,\n  linkPanels = true,\n  variant = \"default\",\n  tablistClassName,\n  renderItem,\n  idBase,\n}: TabBarProps<K, Extra>) {\n  const ariaLabelAttr =\n    typeof ariaLabel === \"string\" && ariaLabel.trim().length > 0\n      ? ariaLabel.trim()\n      : undefined;\n  const ariaLabelledByAttr =\n    typeof ariaLabelledBy === \"string\" && ariaLabelledBy.trim().length > 0\n      ? ariaLabelledBy.trim()\n      : undefined;\n\n  React.useEffect(() => {\n    if (process.env.NODE_ENV !== \"production\") {\n      if (!ariaLabelAttr && !ariaLabelledByAttr) {\n        console.warn(\n          \"TabBar requires an ariaLabel or ariaLabelledBy prop to describe the tablist.\",\n        );\n      }\n    }\n  }, [ariaLabelAttr, ariaLabelledByAttr]);\n\n  const uid = useId();\n  const baseId = idBase ?? uid;\n  const { activeKey, setActiveValue, registerTab, onKeyDown } =\n    useRovingTabState({\n      items,\n      value,\n      defaultValue,\n      onValueChange,\n    });\n\n  const justify = {\n    start: \"justify-start\",\n    center: \"justify-center\",\n    end: \"justify-end\",\n    between: \"justify-between\",\n  }[align];\n\n  const s = sizeMap[size];\n  const resolvedVariant = resolveUIVariant<TabBarVariant>(variant, {\n    allowed: TAB_BAR_VARIANTS,\n    fallback: \"default\",\n  });\n  const isNeo = resolvedVariant === \"neo\";\n  const isGlitch = resolvedVariant === \"glitch\";\n\n  const neoVariantClassName = isNeo ? styles.neoTablist : undefined;\n  const defaultVariantClassName = !isNeo && !isGlitch ? styles.defaultTablist : undefined;\n\n  const containerVariant = isNeo\n    ? \"hero2-frame border-border/45 bg-[var(--neo-tablist-bg)] shadow-[var(--neo-tablist-shadow)] [--hover:var(--neo-tab-bg)] [--active:var(--neo-tab-bg)] [--focus:var(--theme-ring)]\"\n    : \"[--focus:var(--theme-ring)]\";\n\n  const containerClasses = cn(\n    \"inline-flex max-w-full items-center overflow-x-auto\",\n    isGlitch\n      ? \"gap-[var(--space-2)] py-[var(--space-2)]\"\n      : \"gap-[var(--space-1)] rounded-card r-card-md border p-[var(--space-1)]\",\n    containerVariant,\n    tablistClassName,\n  );\n\n  const tabVariant = isNeo\n    ? \"bg-[var(--neo-tab-bg)] shadow-[var(--shadow-raised)] hover:shadow-[var(--shadow-raised-hover,var(--shadow-raised))] active:shadow-[var(--shadow-inset)] data-[active=true]:shadow-[var(--shadow-inset)] data-[active=true]:hover:shadow-[var(--shadow-inset)] data-[active=true]:active:shadow-[var(--shadow-inset)] data-[active=true]:ring-1 data-[active=true]:ring-ring/60\"\n    : isGlitch\n      ? \"\"\n      : styles.defaultTab;\n\n  return (\n    <div className={cn(\"relative w-full min-w-0\", className)}>\n      <div\n        className={cn(\n          \"flex min-w-0 items-center\",\n          justify,\n          \"gap-[var(--space-3)]\",\n        )}\n      >\n        {/* Tabs group */}\n        <div\n          role=\"tablist\"\n          aria-label={ariaLabelAttr}\n          aria-labelledby={ariaLabelledByAttr}\n          aria-orientation=\"horizontal\"\n          onKeyDown={onKeyDown}\n          data-variant={resolvedVariant}\n          className={cn(containerClasses, neoVariantClassName, defaultVariantClassName)}\n        >\n          {items.map((item) => {\n            const active = item.key === activeKey;\n            const tabId = `${baseId}-${item.id ?? `${item.key}-tab`}`;\n            const panelId = `${baseId}-${item.controls ?? `${item.key}-panel`}`;\n            const isLoading = Boolean(item.loading);\n            const isDisabled = Boolean(item.disabled || isLoading);\n            const select = () => {\n              if (isDisabled) return;\n              setActiveValue(item.key);\n            };\n            const setRef: React.RefCallback<HTMLElement> = (el) => {\n              registerTab(item.key, el);\n            };\n            const defaultChildren = (\n              <>\n                {item.icon && (\n                  <span\n                    className={cn(\n                      \"mr-[var(--space-2)] grid place-items-center\",\n                      size !== \"lg\"\n                        ? \"[&>svg]:h-[var(--space-4)] [&>svg]:w-[var(--space-4)]\"\n                        : \"[&>svg]:h-[var(--space-5)] [&>svg]:w-[var(--space-5)]\",\n                    )}\n                  >\n                    {item.icon}\n                  </span>\n                )}\n                <span className={cn(\"truncate\", isGlitch && \"relative z-10\")}>{\n                  item.label\n                }</span>\n                {item.badge != null && (\n                  <span className=\"ml-[var(--space-2)] inline-flex items-center justify-center rounded-full px-[var(--space-2)] py-[var(--space-1)] text-label leading-none bg-primary-soft text-foreground\">\n                    {item.badge}\n                  </span>\n                )}\n              </>\n            );\n\n            const baseClass = isGlitch\n              ? cn(\n                  segmentedButtonStyles.root,\n                  \"font-mono text-ui\",\n                  size === \"lg\" ? \"text-body\" : \"text-ui\",\n                  active && segmentedButtonStyles.glitch,\n                  active && \"glitch-wrapper group/glitch is-active\",\n                  isDisabled && \"pointer-events-none opacity-disabled\",\n                  item.className,\n                )\n              : cn(\n                  \"relative inline-flex items-center justify-center select-none rounded-card r-card-md transition-[background,box-shadow,color] duration-motion-sm ease-out\",\n                  s.h,\n                  s.px,\n                  s.text,\n                  size === \"lg\" ? \"font-medium\" : \"font-normal\",\n                  \"text-foreground/85 hover:text-foreground hover:bg-[--hover] active:bg-[--active]\",\n                  tabVariant,\n                  \"focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background focus-visible:shadow-[var(--shadow-glow-md)]\",\n                  \"data-[active=true]:text-foreground data-[active=true]:bg-[var(--seg-active-grad)] data-[active=true]:hover:bg-[var(--seg-active-grad)] data-[active=true]:active:bg-[var(--seg-active-grad)]\",\n                  \"disabled:opacity-disabled disabled:pointer-events-none\",\n                  \"data-[loading=true]:opacity-loading data-[loading=true]:pointer-events-none\",\n                  item.className,\n                );\n\n            const tabProps: TabElementProps = {\n              id: linkPanels ? tabId : undefined,\n              role: \"tab\",\n              \"aria-selected\": active,\n              \"aria-disabled\": isDisabled || undefined,\n              \"aria-busy\": isLoading || undefined,\n              \"aria-controls\": linkPanels ? panelId : undefined,\n              tabIndex: isDisabled ? -1 : active ? 0 : -1,\n              \"data-active\": active || undefined,\n              \"data-loading\": isLoading || undefined,\n              \"data-disabled\": isDisabled || undefined,\n              \"data-variant\": resolvedVariant,\n              \"data-selected\": active ? \"true\" : undefined,\n              \"data-glitch\": isGlitch && active ? \"true\" : undefined,\n              \"data-depth\": isGlitch ? \"raised\" : undefined,\n              className: baseClass,\n              onClick: (event) => {\n                if (isDisabled) {\n                  event.preventDefault();\n                  event.stopPropagation();\n                  return;\n                }\n                select();\n              },\n            };\n\n            const context: TabRenderContext<K, WithExtras<K, Extra>> = {\n              item,\n              active,\n              disabled: isDisabled,\n              loading: isLoading,\n              select,\n              ref: setRef,\n              props: tabProps,\n              defaultChildren,\n              size,\n              variant: resolvedVariant,\n            };\n\n            const customNode = renderItem?.(context);\n            if (customNode != null) {\n              return <React.Fragment key={item.key}>{customNode}</React.Fragment>;\n            }\n\n            return (\n              <button\n                key={item.key}\n                type=\"button\"\n                disabled={isDisabled}\n                {...tabProps}\n                ref={setRef as React.Ref<HTMLButtonElement>}\n              >\n                {defaultChildren}\n              </button>\n            );\n          })}\n        </div>\n\n        {/* Right slot */}\n        {right && (\n          <div className=\"ml-auto flex items-center gap-[var(--space-2)]\">{right}</div>\n        )}\n      </div>\n\n      {/* Optional baseline divider */}\n      {showBaseline && (\n        <div\n          aria-hidden\n          className=\"absolute -bottom-2.5 left-0 right-0 h-px opacity-70 [background:linear-gradient(90deg,transparent,hsla(var(--ring),0.5),transparent)]\"\n        />\n      )}\n    </div>\n  );\n}\n","// src/components/ui/layout/NeomorphicHeroFrame.tsx\n\"use client\";\n\nimport * as React from \"react\";\n\nimport { cn } from \"@/lib/utils\";\n\nimport { NeomorphicFrameStyles } from \"./NeomorphicFrameStyles\";\n\ntype FrameElement = Extract<\n  keyof React.JSX.IntrinsicElements,\n  \"div\" | \"header\" | \"section\" | \"nav\" | \"article\" | \"aside\" | \"main\"\n>;\n\nexport type HeroVariant = \"default\" | \"compact\" | \"dense\" | \"unstyled\";\nexport type Align = \"start\" | \"center\" | \"end\" | \"between\";\n\nconst heroSlotOrder = [\"tabs\", \"search\", \"actions\"] as const;\ntype HeroSlotKey = (typeof heroSlotOrder)[number];\ntype NormalizedHeroSlots = Partial<Record<HeroSlotKey, HeroSlot>>;\n\nexport interface HeroSlot {\n  node: React.ReactNode;\n  className?: string;\n  label?: string;\n  labelledById?: string;\n  unstyled?: boolean;\n}\n\nexport type HeroSlotInput = React.ReactNode | HeroSlot;\n\nexport type HeroSlots = Partial<Record<HeroSlotKey, HeroSlotInput>>;\n\nexport interface NeomorphicHeroFrameProps\n  extends Omit<React.HTMLAttributes<HTMLElement>, \"style\"> {\n  as?: FrameElement;\n  variant?: HeroVariant;\n  align?: Align;\n  label?: string;\n  labelledById?: string;\n  slots?: HeroSlots | null;\n  children?: React.ReactNode;\n  \"data-hero-divider-tint\"?: \"primary\" | \"life\";\n  \"data-hero-slot-shadow\"?: \"soft\" | \"strong\" | \"none\";\n}\n\ntype VariantSlotConfig = {\n  marginTop: string;\n  paddingTop: string;\n  gapY: string;\n  gapMd: string;\n  single: {\n    marginTop: string;\n    paddingTop: string;\n  };\n};\n\ntype VariantConfig = {\n  radius: string;\n  padding: string;\n  contentSpacing: string;\n  slot: VariantSlotConfig;\n};\n\nconst variantMap: Record<Exclude<HeroVariant, \"unstyled\">, VariantConfig> = {\n  default: {\n    radius: \"rounded-card r-card-lg\",\n    padding:\n      \"px-[var(--space-6)] py-[var(--space-6)] md:px-[var(--space-7)] md:py-[var(--space-7)] lg:px-[var(--space-8)] lg:py-[var(--space-8)]\",\n    contentSpacing:\n      \"space-y-[var(--space-5)] md:space-y-[var(--space-6)]\",\n    slot: {\n      marginTop: \"mt-[var(--space-6)] md:mt-[var(--space-7)]\",\n      paddingTop: \"pt-[var(--space-5)] md:pt-[var(--space-6)]\",\n      gapY: \"gap-[var(--space-3)]\",\n      gapMd: \"md:gap-[var(--space-4)]\",\n      single: {\n        marginTop: \"mt-[var(--space-4)] md:mt-[var(--space-5)]\",\n        paddingTop: \"pt-[var(--space-4)] md:pt-[var(--space-5)]\",\n      },\n    },\n  },\n  compact: {\n    radius: \"rounded-card r-card-md\",\n    padding:\n      \"px-[var(--space-4)] py-[var(--space-4)] md:px-[var(--space-5)] md:py-[var(--space-5)] lg:px-[var(--space-6)] lg:py-[var(--space-6)]\",\n    contentSpacing:\n      \"space-y-[var(--space-4)] md:space-y-[var(--space-5)]\",\n    slot: {\n      marginTop: \"mt-[var(--space-5)]\",\n      paddingTop: \"pt-[var(--space-4)] md:pt-[var(--space-5)]\",\n      gapY: \"gap-[var(--space-3)]\",\n      gapMd: \"md:gap-[var(--space-3)]\",\n      single: {\n        marginTop: \"mt-[var(--space-4)]\",\n        paddingTop: \"pt-[var(--space-3)] md:pt-[var(--space-4)]\",\n      },\n    },\n  },\n  dense: {\n    radius: \"rounded-card r-card-md\",\n    padding:\n      \"px-[var(--space-3)] py-[var(--space-3)] md:px-[var(--space-4)] md:py-[var(--space-4)] lg:px-[var(--space-5)] lg:py-[var(--space-5)]\",\n    contentSpacing:\n      \"space-y-[var(--space-3)] md:space-y-[var(--space-4)]\",\n    slot: {\n      marginTop: \"mt-[var(--space-4)]\",\n      paddingTop: \"pt-[var(--space-3)] md:pt-[var(--space-4)]\",\n      gapY: \"gap-[var(--space-2)]\",\n      gapMd: \"md:gap-[var(--space-3)]\",\n      single: {\n        marginTop: \"mt-[var(--space-3)]\",\n        paddingTop: \"pt-[var(--space-2)] md:pt-[var(--space-3)]\",\n      },\n    },\n  },\n};\n\nconst alignClassMap: Record<Align, { tabs: string; search: string; actions: string }> = {\n  start: {\n    tabs: \"md:justify-self-start\",\n    search: \"md:justify-self-start\",\n    actions: \"md:justify-self-start\",\n  },\n  center: {\n    tabs: \"md:justify-self-center\",\n    search: \"md:justify-self-center\",\n    actions: \"md:justify-self-center\",\n  },\n  end: {\n    tabs: \"md:justify-self-end\",\n    search: \"md:justify-self-end\",\n    actions: \"md:justify-self-end\",\n  },\n  between: {\n    tabs: \"md:justify-self-start\",\n    search: \"md:justify-self-stretch\",\n    actions: \"md:justify-self-end\",\n  },\n};\n\nconst spanClassMap = {\n  tabs: {\n    three: \"md:col-span-5\",\n    twoWithActions: \"md:col-span-7\",\n    two: \"md:col-span-6\",\n    solo: \"md:col-span-12\",\n  },\n  search: {\n    three: \"md:col-span-4\",\n    twoWithActions: \"md:col-span-7\",\n    two: \"md:col-span-6\",\n    solo: \"md:col-span-12\",\n  },\n  actions: {\n    three: \"md:col-span-3\",\n    twoWithTabs: \"md:col-span-5\",\n    two: \"md:col-span-5\",\n    solo: \"md:col-span-12\",\n  },\n} as const satisfies Record<HeroSlotKey, Record<string, string>>;\n\ntype LayoutState = {\n  tabs?: string;\n  search?: string;\n  actions?: string;\n};\n\nfunction getSlotLayout(\n  present: Record<HeroSlotKey, boolean>,\n): LayoutState {\n  const { tabs, search, actions } = present;\n  if (tabs && search && actions) {\n    return {\n      tabs: spanClassMap.tabs.three,\n      search: spanClassMap.search.three,\n      actions: spanClassMap.actions.three,\n    };\n  }\n  if (tabs && search) {\n    return {\n      tabs: spanClassMap.tabs.two,\n      search: spanClassMap.search.two,\n      actions: spanClassMap.actions.solo,\n    };\n  }\n  if (tabs && actions) {\n    return {\n      tabs: spanClassMap.tabs.twoWithActions,\n      search: spanClassMap.search.solo,\n      actions: spanClassMap.actions.twoWithTabs,\n    };\n  }\n  if (search && actions) {\n    return {\n      tabs: spanClassMap.tabs.solo,\n      search: spanClassMap.search.twoWithActions,\n      actions: spanClassMap.actions.two,\n    };\n  }\n  return {\n    tabs: spanClassMap.tabs.solo,\n    search: spanClassMap.search.solo,\n    actions: spanClassMap.actions.solo,\n  };\n}\n\nfunction isSlotConfig(value: HeroSlotInput | undefined): value is HeroSlot {\n  return (\n    typeof value === \"object\" &&\n    value !== null &&\n    !React.isValidElement(value) &&\n    Object.prototype.hasOwnProperty.call(value, \"node\")\n  );\n}\n\nfunction normalizeSlot(value: HeroSlotInput | undefined): HeroSlot | null {\n  if (value === null || value === undefined) {\n    return null;\n  }\n  if (isSlotConfig(value)) {\n    return value.node === null || value.node === undefined\n      ? null\n      : value;\n  }\n  return { node: value };\n}\n\nconst slotWellBaseClass =\n  \"hero-slot-well group/hero-slot relative isolate flex min-w-0 flex-col gap-[var(--space-2)] overflow-hidden rounded-card r-card-md bg-card/75 px-[var(--space-3)] py-[var(--space-2)] [--neo-inset-shadow:var(--depth-shadow-inner)] neo-inset hero-focus transition-[box-shadow,transform] duration-motion-md ease-out motion-reduce:transform-none motion-reduce:transition-none focus-within:ring-1 focus-within:ring-ring/60 before:pointer-events-none before:absolute before:inset-0 before:z-0 before:content-[''] before:rounded-[inherit] before:bg-hero-slot-highlight before:opacity-70 before:mix-blend-screen after:pointer-events-none after:absolute after:inset-0 after:z-0 after:content-[''] after:rounded-[inherit] after:translate-x-[calc(var(--space-1)/2)] after:translate-y-[calc(var(--space-1)/2)] after:bg-hero-slot-shadow after:shadow-[var(--hero-slot-shadow,var(--depth-shadow-soft))] after:opacity-65 hover:[--neo-inset-shadow:var(--depth-shadow-soft)] focus-visible:[--neo-inset-shadow:var(--depth-shadow-soft)] focus-within:[--neo-inset-shadow:var(--depth-shadow-soft)] hover:-translate-y-[var(--hairline-w)] focus-visible:-translate-y-[var(--hairline-w)] focus-within:-translate-y-[var(--hairline-w)]\";\n\nconst slotBareBaseClass =\n  \"group/hero-slot relative isolate flex min-w-0 flex-col\";\n\nconst slotContentClass = \"relative z-[1] flex w-full min-w-0 flex-col\";\n\nconst heroGridGaps: Record<Exclude<HeroVariant, \"unstyled\">, string> = {\n  default: \"gap-[var(--space-4)] md:gap-[var(--space-5)]\",\n  compact: \"gap-[var(--space-3)] md:gap-[var(--space-5)]\",\n  dense: \"gap-[var(--space-2)] md:gap-[var(--space-3)]\",\n};\n\nexport interface HeroGridProps extends React.HTMLAttributes<HTMLDivElement> {\n  variant?: Exclude<HeroVariant, \"unstyled\">;\n}\n\nexport const HeroGrid = React.forwardRef<HTMLDivElement, HeroGridProps>(\n  ({ variant = \"default\", className, ...rest }, ref) => {\n    return (\n      <div\n        ref={ref}\n        className={cn(\n          \"grid grid-cols-1 md:grid-cols-12\",\n          heroGridGaps[variant],\n          className,\n        )}\n        {...rest}\n      />\n    );\n  },\n);\n\nHeroGrid.displayName = \"HeroGrid\";\n\nconst heroColSpanClasses = {\n  1: \"md:col-span-1\",\n  2: \"md:col-span-2\",\n  3: \"md:col-span-3\",\n  4: \"md:col-span-4\",\n  5: \"md:col-span-5\",\n  6: \"md:col-span-6\",\n  7: \"md:col-span-7\",\n  8: \"md:col-span-8\",\n  9: \"md:col-span-9\",\n  10: \"md:col-span-10\",\n  11: \"md:col-span-11\",\n  12: \"md:col-span-12\",\n} as const;\n\nconst heroColSpanLgClasses = {\n  1: \"lg:col-span-1\",\n  2: \"lg:col-span-2\",\n  3: \"lg:col-span-3\",\n  4: \"lg:col-span-4\",\n  5: \"lg:col-span-5\",\n  6: \"lg:col-span-6\",\n  7: \"lg:col-span-7\",\n  8: \"lg:col-span-8\",\n  9: \"lg:col-span-9\",\n  10: \"lg:col-span-10\",\n  11: \"lg:col-span-11\",\n  12: \"lg:col-span-12\",\n} as const;\n\nexport interface HeroColProps extends React.HTMLAttributes<HTMLDivElement> {\n  span?: keyof typeof heroColSpanClasses;\n  spanLg?: keyof typeof heroColSpanLgClasses;\n}\n\nexport const HeroCol = React.forwardRef<HTMLDivElement, HeroColProps>(\n  ({ span = 12, spanLg, className, ...rest }, ref) => {\n    return (\n      <div\n        ref={ref}\n        className={cn(\n          \"col-span-full min-w-0\",\n          heroColSpanClasses[span],\n          spanLg ? heroColSpanLgClasses[spanLg] : undefined,\n          className,\n        )}\n        {...rest}\n      />\n    );\n  },\n);\n\nHeroCol.displayName = \"HeroCol\";\n\nconst NeomorphicHeroFrame = React.forwardRef<HTMLElement, NeomorphicHeroFrameProps>(\n  (\n    {\n      as,\n      variant = \"default\",\n      align = \"between\",\n      label,\n      labelledById,\n      slots,\n      children,\n      className,\n      role: roleProp,\n      tabIndex,\n      onFocusCapture,\n      onBlurCapture,\n      ...rest\n    },\n    ref,\n  ) => {\n    const Component = (as ?? \"div\") as FrameElement;\n    const Comp = Component as React.ElementType;\n    const {\n      [\"data-hero-divider-tint\"]: heroDividerTintAttr,\n      [\"data-hero-slot-shadow\"]: heroSlotShadowAttr,\n      ...restWithoutCustomAttrs\n    } = rest;\n    const sanitizedFrameDividerTint =\n      heroDividerTintAttr === \"life\"\n        ? \"life\"\n        : heroDividerTintAttr === \"primary\"\n        ? \"primary\"\n        : undefined;\n    const frameDividerTint = sanitizedFrameDividerTint ?? \"primary\";\n    const frameSlotShadow =\n      heroSlotShadowAttr === \"soft\" ||\n      heroSlotShadowAttr === \"strong\" ||\n      heroSlotShadowAttr === \"none\"\n        ? heroSlotShadowAttr\n        : undefined;\n    const variantStyles =\n      variant !== \"unstyled\" ? variantMap[variant] : undefined;\n    const [hasFocus, setHasFocus] = React.useState(false);\n\n    const normalizedSlots = React.useMemo<\n      NormalizedHeroSlots | null | undefined\n    >(() => {\n      if (slots === null) return null;\n      if (!slots) return undefined;\n      const entries: NormalizedHeroSlots = {};\n      let hasSlot = false;\n      for (const key of heroSlotOrder) {\n        const normalized = normalizeSlot(slots[key]);\n        if (normalized) {\n          entries[key] = normalized;\n          hasSlot = true;\n        }\n      }\n      return hasSlot ? entries : undefined;\n    }, [slots]);\n\n    const hasTabs = Boolean(normalizedSlots?.tabs);\n    const hasSearch = Boolean(normalizedSlots?.search);\n    const hasActions = Boolean(normalizedSlots?.actions);\n    const slotCount = Number(hasTabs) + Number(hasSearch) + Number(hasActions);\n\n    const layout = React.useMemo(\n      () =>\n        normalizedSlots\n          ? getSlotLayout({\n              tabs: hasTabs,\n              search: hasSearch,\n              actions: hasActions,\n            })\n          : undefined,\n      [normalizedSlots, hasTabs, hasSearch, hasActions],\n    );\n\n    const aligns = alignClassMap[align];\n\n    const handleFocusCapture = React.useCallback(\n      (event: React.FocusEvent<HTMLElement>) => {\n        setHasFocus(true);\n        onFocusCapture?.(event);\n      },\n      [onFocusCapture],\n    );\n\n    const handleBlurCapture = React.useCallback(\n      (event: React.FocusEvent<HTMLElement>) => {\n        const nextTarget = event.relatedTarget as Node | null;\n        if (nextTarget && event.currentTarget.contains(nextTarget)) {\n          onBlurCapture?.(event);\n          return;\n        }\n        setHasFocus(false);\n        onBlurCapture?.(event);\n      },\n      [onBlurCapture],\n    );\n\n    const roleFromElement =\n      as === \"header\"\n        ? \"banner\"\n        : as === \"nav\"\n        ? \"navigation\"\n        : undefined;\n\n    const resolvedChildren = variantStyles ? (\n      <div\n        className={cn(\n          \"relative z-[1]\",\n          variantStyles.contentSpacing,\n        )}\n      >\n        {children}\n      </div>\n    ) : (\n      children\n    );\n\n    const slotMarginTopClass =\n      slotCount === 1\n        ? variantStyles?.slot.single.marginTop ?? variantStyles?.slot.marginTop\n        : variantStyles?.slot.marginTop;\n    const slotPaddingTopClass =\n      slotCount === 1\n        ? variantStyles?.slot.single.paddingTop ?? variantStyles?.slot.paddingTop\n        : variantStyles?.slot.paddingTop;\n\n    const slotArea = normalizedSlots ? (\n      <div\n        role=\"group\"\n        className={cn(\n          \"group/hero-slots relative z-[1] isolate w-full grid grid-cols-1\",\n          slotMarginTopClass,\n          slotPaddingTopClass,\n          variantStyles?.slot.gapY,\n          variantStyles?.slot.gapMd,\n          \"md:grid-cols-12\",\n          \"before:pointer-events-none before:absolute before:inset-x-0 before:top-0 before:h-px before:bg-[hsl(var(--hero-slot-divider,var(--ring)))] before:opacity-60 before:content-['']\",\n          \"after:pointer-events-none after:absolute after:inset-x-0 after:top-0 after:h-px after:bg-[hsl(var(--hero-slot-divider,var(--ring)))] after:opacity-40 after:[filter:blur(var(--hero-divider-blur,calc(var(--spacing-1)*1.5)))] after:shadow-[var(--hero-slot-divider-shadow,0_0_0_calc(var(--hairline-w)*3)_hsl(var(--ring)/0.45))] after:content-['']\",\n        )}\n        data-align={align}\n      >\n        {heroSlotOrder.map((key) => {\n          const slot = normalizedSlots[key];\n          if (!slot) return null;\n          const slotLabel =\n            typeof slot.label === \"string\" && slot.label.trim().length > 0\n              ? slot.label.trim()\n              : undefined;\n          const slotLabelledById =\n            typeof slot.labelledById === \"string\" &&\n            slot.labelledById.trim().length > 0\n              ? slot.labelledById.trim()\n              : undefined;\n          return (\n            <div\n              key={key}\n              data-slot={key}\n              className={cn(\n                slot.unstyled ? slotBareBaseClass : slotWellBaseClass,\n                layout?.[key],\n                aligns[key],\n                slot.className,\n              )}\n              role=\"group\"\n              aria-label={slotLabel}\n              aria-labelledby={slotLabelledById}\n            >\n              <div className={slotContentClass}>{slot.node}</div>\n            </div>\n          );\n        })}\n      </div>\n    ) : null;\n\n    const haloClasses =\n      \"before:pointer-events-none before:absolute before:inset-0 before:-z-10 before:rounded-[inherit] before:transition before:duration-motion-lg before:ease-out before:content-[''] motion-reduce:before:transition-none\";\n\n    return (\n      <>\n        {variant !== \"unstyled\" ? <NeomorphicFrameStyles /> : null}\n        <Comp\n          ref={ref}\n          {...restWithoutCustomAttrs}\n          className={cn(\n            \"group/hero-frame relative z-0 isolate flex flex-col overflow-visible hero-focus\",\n            variantStyles\n              ? cn(\n                  \"border border-border/55 veil-soft text-foreground shadow-outline-subtle hero2-frame hero2-neomorph\",\n                  haloClasses,\n                  \"has-[:focus-visible]:before:[--hero2-focus-ring:var(--hero2-focus-ring-active)]\",\n                  \"data-[has-focus=true]:before:[--hero2-focus-ring:var(--hero2-focus-ring-active)]\",\n                  variantStyles.radius,\n                  variantStyles.padding,\n                )\n              : undefined,\n            className,\n          )}\n          data-has-focus={hasFocus ? \"true\" : undefined}\n          data-variant={variant}\n          role={roleProp ?? roleFromElement}\n          aria-label={label}\n          aria-labelledby={labelledById}\n          tabIndex={tabIndex ?? -1}\n          onFocusCapture={handleFocusCapture}\n          onBlurCapture={handleBlurCapture}\n          data-hero-divider-tint={frameDividerTint}\n          data-hero-slot-shadow={frameSlotShadow}\n        >\n          {resolvedChildren}\n          {slotArea}\n        </Comp>\n      </>\n    );\n  },\n);\n\nNeomorphicHeroFrame.displayName = \"NeomorphicHeroFrame\";\nexport { NeomorphicHeroFrame };\n","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"DripEdge_root__AjLe_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"switcher\":\"Switcher_switcher__GzljL\"};","\"use client\";\n\nimport * as React from \"react\";\nimport { StopCircle } from \"lucide-react\";\n\nimport { Button, type ButtonProps } from \"@/components/ui\";\nimport { cn } from \"@/lib/utils\";\n\ntype ButtonElementProps = Extract<ButtonProps, { asChild?: false; href?: undefined }>;\n\nexport interface AIAbortButtonProps\n  extends Omit<ButtonElementProps, \"onClick\" | \"children\"> {\n  readonly onAbort: () => void;\n  readonly label?: string;\n  readonly busy?: boolean;\n  readonly children?: React.ReactNode;\n  readonly icon?: React.ReactNode;\n}\n\nconst DEFAULT_LABEL = \"Stop generation\";\n\nconst AIAbortButton = React.forwardRef<HTMLButtonElement, AIAbortButtonProps>(\n  (\n    { onAbort, label = DEFAULT_LABEL, busy = false, icon, className, children, disabled, ...props },\n    ref,\n  ) => {\n    const resolvedDisabled = disabled ?? !busy;\n\n    return (\n      <Button\n        ref={ref}\n        type=\"button\"\n        size=\"sm\"\n        tone=\"danger\"\n        variant=\"quiet\"\n        onClick={onAbort}\n        disabled={resolvedDisabled}\n        data-busy={busy ? \"true\" : undefined}\n        className={cn(\n          \"gap-[var(--space-2)] px-[var(--space-3)] text-label font-medium\",\n          className,\n        )}\n        aria-label={children ? undefined : label}\n        aria-live=\"polite\"\n        {...props}\n      >\n        <span aria-hidden className=\"inline-flex items-center\">\n          {icon ?? <StopCircle className=\"size-[var(--space-4)]\" aria-hidden />}\n        </span>\n        <span className=\"sr-only sm:not-sr-only\">{children ?? label}</span>\n      </Button>\n    );\n  },\n);\n\nAIAbortButton.displayName = \"AIAbortButton\";\nexport { AIAbortButton };\n","import { readClientEnv } from '@env'\n\nconst {\n  NEXT_PUBLIC_FEATURE_SVG_NUMERIC_FILTERS: rawSvgNumericFilters,\n  NEXT_PUBLIC_DEPTH_THEME: rawDepthTheme,\n  NEXT_PUBLIC_ORGANIC_DEPTH: rawOrganicDepth,\n  NEXT_PUBLIC_FEATURE_GLITCH_LANDING: rawFeatureGlitchLanding,\n  NEXT_PUBLIC_UI_GLITCH_LANDING: rawLegacyGlitchLanding,\n  NEXT_PUBLIC_SAFE_MODE: rawSafeMode,\n} = readClientEnv();\n\nconst enabledValues = new Set([\"1\", \"true\", \"on\", \"yes\"]);\nconst disabledValues = new Set([\"0\", \"false\", \"off\", \"no\"]);\n\nfunction parseBooleanFlag(raw: string | undefined, fallback: boolean): boolean {\n  if (typeof raw !== \"string\") {\n    return fallback;\n  }\n\n  const normalized = raw.trim().toLowerCase();\n\n  if (enabledValues.has(normalized)) {\n    return true;\n  }\n\n  if (disabledValues.has(normalized)) {\n    return false;\n  }\n\n  return fallback;\n}\n\nconst svgNumericFilters = parseBooleanFlag(rawSvgNumericFilters, true);\nconst depthThemeEnabled = parseBooleanFlag(rawDepthTheme, false);\nconst organicDepthEnabled = parseBooleanFlag(rawOrganicDepth, false);\nconst glitchLandingRaw =\n  rawFeatureGlitchLanding !== undefined\n    ? rawFeatureGlitchLanding\n    : rawLegacyGlitchLanding;\nconst glitchLandingEnabled = parseBooleanFlag(glitchLandingRaw, true);\nconst safeModeEnabled = parseBooleanFlag(rawSafeMode, true);\n\nexport function isSafeModeEnabled(): boolean {\n  return safeModeEnabled;\n}\n\nexport {\n  depthThemeEnabled,\n  glitchLandingEnabled,\n  organicDepthEnabled,\n  safeModeEnabled,\n  svgNumericFilters,\n};\n","\"use client\";\n\nimport * as React from \"react\";\n\nimport { createGalleryPreview, defineGallerySection } from \"@/components/gallery/registry\";\n\nimport { SegmentedButton } from \"./SegmentedButton\";\n\nconst SEGMENTED_BUTTON_HOVER_STATE_CLASSNAME =\n  \"[--hover:var(--seg-hover-base)] bg-[--hover] text-[hsl(var(--foreground))] [text-shadow:0_0_calc(var(--space-2)-var(--spacing-0-5))_hsl(var(--accent-1)/0.25)]\";\n\nconst SEGMENTED_BUTTON_FOCUS_VISIBLE_STATE_CLASSNAME =\n  \"ring-2 ring-[--theme-ring] ring-offset-0 outline-none\";\n\nexport type SegmentedButtonStateSpec = {\n  id: string;\n  name: string;\n  props: React.ComponentProps<typeof SegmentedButton>;\n  code?: string;\n};\n\nconst SEGMENTED_BUTTON_STATES: readonly SegmentedButtonStateSpec[] = [\n  {\n    id: \"default\",\n    name: \"Default\",\n    props: { children: \"Default\" },\n    code: \"<SegmentedButton>Default</SegmentedButton>\",\n  },\n  {\n    id: \"hover\",\n    name: \"Hover\",\n    props: {\n      children: \"Hover\",\n      className: SEGMENTED_BUTTON_HOVER_STATE_CLASSNAME,\n    },\n    code: `<SegmentedButton className=\"${SEGMENTED_BUTTON_HOVER_STATE_CLASSNAME}\">Hover</SegmentedButton>`,\n  },\n  {\n    id: \"active\",\n    name: \"Active\",\n    props: { children: \"Active\", selected: true },\n    code: \"<SegmentedButton selected>Active</SegmentedButton>\",\n  },\n  {\n    id: \"focus-visible\",\n    name: \"Focus-visible\",\n    props: {\n      children: \"Focus-visible\",\n      className: SEGMENTED_BUTTON_FOCUS_VISIBLE_STATE_CLASSNAME,\n    },\n    code: `<SegmentedButton className=\"${SEGMENTED_BUTTON_FOCUS_VISIBLE_STATE_CLASSNAME}\">Focus-visible</SegmentedButton>`,\n  },\n  {\n    id: \"disabled\",\n    name: \"Disabled\",\n    props: { children: \"Disabled\", disabled: true },\n    code: \"<SegmentedButton disabled>Disabled</SegmentedButton>\",\n  },\n  {\n    id: \"disabled-link\",\n    name: \"Disabled link\",\n    props: { as: \"a\", href: \"#\", children: \"Disabled link\", disabled: true },\n    code: \"<SegmentedButton as=\\\"a\\\" href=\\\"#\\\" disabled>Disabled link</SegmentedButton>\",\n  },\n  {\n    id: \"loading\",\n    name: \"Loading\",\n    props: { children: \"Loading\", loading: true },\n    code: \"<SegmentedButton loading>Loading</SegmentedButton>\",\n  },\n  {\n    id: \"static\",\n    name: \"Static overlay\",\n    props: { children: \"Static overlay\", glitch: false },\n    code: \"<SegmentedButton glitch={false}>Static overlay</SegmentedButton>\",\n  },\n];\n\nexport const SEGMENTED_BUTTON_STATE_SPECS: readonly SegmentedButtonStateSpec[] =\n  SEGMENTED_BUTTON_STATES;\n\nfunction SegmentedButtonStatePreview({\n  state,\n}: {\n  state: SegmentedButtonStateSpec;\n}) {\n  return <SegmentedButton {...state.props} />;\n}\n\nfunction SegmentedButtonGalleryPreview() {\n  return (\n    <div className=\"flex flex-wrap gap-[var(--space-2)]\">\n      {SEGMENTED_BUTTON_STATES.map((state) => (\n        <SegmentedButtonStatePreview key={state.id} state={state} />\n      ))}\n    </div>\n  );\n}\n\nexport const SegmentedButtonGallery = defineGallerySection({\n  id: \"buttons\",\n  entries: [\n    {\n      id: \"segmented-button\",\n      name: \"SegmentedButton\",\n      description: \"Inline segmented action with pressed and loading states\",\n      kind: \"primitive\",\n      tags: [\"button\", \"segmented\"],\n      props: [\n        { name: \"as\", type: \"React.ElementType\" },\n        { name: \"href\", type: \"string\" },\n        { name: \"selected\", type: \"boolean\", defaultValue: \"false\" },\n        { name: \"loading\", type: \"boolean\", defaultValue: \"false\" },\n        { name: \"disabled\", type: \"boolean\", defaultValue: \"false\" },\n        { name: \"glitch\", type: \"boolean\", defaultValue: \"true\" },\n      ],\n      axes: [\n        {\n          id: \"state\",\n          label: \"State\",\n          type: \"state\",\n          values: SEGMENTED_BUTTON_STATES.map(({ name }) => ({ value: name })),\n        },\n      ],\n      preview: createGalleryPreview({\n        id: \"ui:segmented-button:states\",\n        render: () => <SegmentedButtonGalleryPreview />,\n      }),\n      states: SEGMENTED_BUTTON_STATES.map((state) => ({\n        id: state.id,\n        name: state.name,\n        code: state.code,\n        preview: createGalleryPreview({\n          id: `ui:segmented-button:state:${state.id}`,\n          render: () => <SegmentedButtonStatePreview state={state} />,\n        }),\n      })),\n      code: `<div className=\"flex flex-wrap gap-[var(--space-2)]\">\n  <SegmentedButton>Default</SegmentedButton>\n  <SegmentedButton className=\"${SEGMENTED_BUTTON_HOVER_STATE_CLASSNAME}\">Hover</SegmentedButton>\n  <SegmentedButton selected>Active</SegmentedButton>\n  <SegmentedButton className=\"${SEGMENTED_BUTTON_FOCUS_VISIBLE_STATE_CLASSNAME}\">Focus-visible</SegmentedButton>\n  <SegmentedButton disabled>Disabled</SegmentedButton>\n  <SegmentedButton as=\"a\" href=\"#\" disabled>Disabled link</SegmentedButton>\n  <SegmentedButton loading>Loading</SegmentedButton>\n  <SegmentedButton glitch={false}>Static overlay</SegmentedButton>\n</div>`,\n    },\n  ],\n})\n\nexport default SegmentedButtonGallery\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"IconButton_root___50oR\",\"glitch\":\"IconButton_glitch__0ihCU\"};","\"use client\";\n\nimport * as React from \"react\";\n\nimport { createGalleryPreview, defineGallerySection } from \"@/components/gallery/registry\";\nimport { cn } from \"@/lib/utils\";\n\nimport { Select } from \"./Select\";\nimport type { AnimatedSelectProps } from \"./select/shared\";\n\ntype SelectStateSpec = {\n  id: string;\n  name: string;\n  buttonClassName?: string;\n  className?: string;\n  props?:\n    | (Partial<Omit<AnimatedSelectProps, \"items\">> & {\n        items?: AnimatedSelectProps[\"items\"];\n      })\n    | undefined;\n  code?: string;\n};\n\nconst SELECT_STATES: readonly SelectStateSpec[] = [\n  {\n    id: \"default\",\n    name: \"Default\",\n    code: \"<Select placeholder=\\\"Animated select\\\" items={items} />\",\n  },\n  {\n    id: \"hover\",\n    name: \"Hover\",\n    buttonClassName: \"bg-[--hover]\",\n    code: \"<Select buttonClassName=\\\"bg-[--hover]\\\" placeholder=\\\"Hover\\\" items={items} />\",\n  },\n  {\n    id: \"focus-visible\",\n    name: \"Focus-visible\",\n    className:\n      \"rounded-[var(--control-radius)] ring-2 ring-[hsl(var(--ring))] ring-offset-0\",\n    code: \"<Select className=\\\"rounded-[var(--control-radius)] ring-2 ring-[hsl(var(--ring))] ring-offset-0\\\" placeholder=\\\"Focus-visible\\\" items={items} />\",\n  },\n  {\n    id: \"active\",\n    name: \"Active\",\n    buttonClassName: \"bg-[--active]\",\n    code: \"<Select buttonClassName=\\\"bg-[--active]\\\" placeholder=\\\"Active\\\" items={items} />\",\n  },\n  {\n    id: \"disabled\",\n    name: \"Disabled\",\n    props: { disabled: true },\n    code: \"<Select placeholder=\\\"Disabled\\\" disabled items={items} />\",\n  },\n  {\n    id: \"loading\",\n    name: \"Loading\",\n    buttonClassName: \"pointer-events-none opacity-loading\",\n    code: \"<Select buttonClassName=\\\"pointer-events-none opacity-loading\\\" placeholder=\\\"Loading\\\" items={items} />\",\n  },\n];\n\nconst ITEMS = [\n  { value: \"one\", label: \"One\" },\n  { value: \"two\", label: \"Two\" },\n  { value: \"three\", label: \"Three\" },\n] as const;\n\ntype ItemValue = (typeof ITEMS)[number][\"value\"];\n\nfunction SelectStatePreview({ state }: { state: SelectStateSpec }) {\n  const { props, className, buttonClassName, name } = state;\n  const { items: stateItems, placeholder, ariaLabel, ...restProps } = props ?? {};\n  const sampleItems = stateItems ?? ITEMS;\n  const baseClassName = \"w-full sm:w-auto\";\n  const finalClassName = cn(baseClassName, className);\n\n  return (\n    <Select\n      items={[...sampleItems]}\n      placeholder={placeholder ?? name}\n      ariaLabel={ariaLabel ?? name}\n      buttonClassName={buttonClassName}\n      className={finalClassName}\n      {...restProps}\n    />\n  );\n}\n\nfunction SelectGalleryPreview() {\n  const [value, setValue] = React.useState<ItemValue>(ITEMS[0]?.value ?? \"one\");\n\n  return (\n    <div className=\"flex flex-col gap-[var(--space-4)]\">\n      <div className=\"grid grid-cols-1 gap-[var(--space-3)] sm:grid-cols-2\">\n        <Select\n          items={[...ITEMS]}\n          value={value}\n          onChange={(next) => setValue(next as ItemValue)}\n          placeholder=\"Animated select\"\n          className=\"w-full sm:w-auto\"\n        />\n        <Select\n          items={[...ITEMS]}\n          variant=\"native\"\n          value={value}\n          onChange={(next) => setValue(next as ItemValue)}\n          aria-label=\"Native select\"\n          className=\"w-full sm:w-auto\"\n        />\n      </div>\n      <div className=\"flex flex-col gap-[var(--space-2)]\">\n        <p className=\"text-caption text-muted-foreground\">States</p>\n        <div className=\"flex flex-wrap gap-[var(--space-2)]\">\n          {SELECT_STATES.map((state) => (\n            <SelectStatePreview key={state.id} state={state} />\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport const SelectGallery = defineGallerySection({\n  id: \"inputs\",\n  entries: [\n    {\n      id: \"select\",\n      name: \"Select\",\n      description: \"Animated trigger with native fallback\",\n      kind: \"primitive\",\n      tags: [\"select\", \"input\"],\n      props: [\n        {\n          name: \"items\",\n          type: \"readonly { value: string; label: React.ReactNode }[]\",\n          required: true,\n        },\n        { name: \"value\", type: \"string | undefined\" },\n        { name: \"onChange\", type: \"(value: string) => void\" },\n        { name: \"placeholder\", type: \"string\" },\n        { name: \"variant\", type: '\"animated\" | \"native\"', defaultValue: '\"animated\"' },\n        { name: \"disabled\", type: \"boolean\", defaultValue: \"false\" },\n      ],\n      axes: [\n        {\n          id: \"variant\",\n          label: \"Variant\",\n          type: \"variant\",\n          values: [\n            { value: \"Animated\" },\n            { value: \"Native\" },\n          ],\n        },\n        {\n          id: \"state\",\n          label: \"State\",\n          type: \"state\",\n          values: SELECT_STATES.map(({ name }) => ({ value: name })),\n        },\n      ],\n      preview: createGalleryPreview({\n        id: \"ui:select:variants\",\n        render: () => <SelectGalleryPreview />,\n      }),\n      states: SELECT_STATES.map((state) => ({\n        id: state.id,\n        name: state.name,\n        code: state.code,\n        preview: createGalleryPreview({\n          id: `ui:select:state:${state.id}`,\n          render: () => <SelectStatePreview state={state} />,\n        }),\n      })),\n        code: `import { cn } from \"@/lib/utils\";\n\nconst items = [\n  { value: \"one\", label: \"One\" },\n  { value: \"two\", label: \"Two\" },\n  { value: \"three\", label: \"Three\" },\n];\n\n  const SELECT_STATES = [\n    { label: \"Default\" },\n    { label: \"Hover\", buttonClassName: \"bg-[--hover]\" },\n    {\n      label: \"Focus-visible\",\n      className: \"rounded-[var(--control-radius)] ring-2 ring-[hsl(var(--ring))] ring-offset-0\",\n    },\n    { label: \"Active\", buttonClassName: \"bg-[--active]\" },\n    { label: \"Disabled\", props: { disabled: true } },\n    {\n      label: \"Loading\",\n      buttonClassName: \"pointer-events-none opacity-loading\",\n    },\n  ];\n\nconst [value, setValue] = React.useState(items[0]?.value ?? \"\");\n\n<div className=\"flex flex-col gap-[var(--space-4)]\">\n  <div className=\"grid grid-cols-1 gap-[var(--space-3)] sm:grid-cols-2\">\n    <Select\n      items={items}\n      value={value}\n      onChange={setValue}\n      placeholder=\"Animated select\"\n      className=\"w-full sm:w-auto\"\n    />\n    <Select\n      items={items}\n      variant=\"native\"\n      value={value}\n      onChange={setValue}\n      aria-label=\"Native select\"\n      className=\"w-full sm:w-auto\"\n    />\n  </div>\n  <div className=\"flex flex-col gap-[var(--space-2)]\">\n    <p className=\"text-caption text-muted-foreground\">States</p>\n    <div className=\"flex flex-wrap gap-[var(--space-2)]\">\n        {SELECT_STATES.map(({ label, buttonClassName, className, props }) => {\n          const { items: stateItems, ...restProps } = props ?? {};\n          const sampleItems = stateItems ?? items;\n          const baseClassName = \"w-full sm:w-auto\";\n          const finalClassName = cn(baseClassName, className);\n\n          return (\n            <Select\n              key={label}\n              items={[...sampleItems]}\n              placeholder={label}\n              ariaLabel={label}\n              buttonClassName={buttonClassName}\n              className={finalClassName}\n              {...restProps}\n            />\n          );\n        })}\n    </div>\n  </div>\n</div>`,\n    },\n  ],\n})\n\nexport default SelectGallery\n","\"use client\";\n\nimport * as React from \"react\";\n\nimport { createGalleryPreview, defineGallerySection } from \"@/components/gallery/registry\";\n\nimport { Card } from \"./Card\";\nimport { TabList, TabPanel, type TabListItem, Tabs } from \"./Tabs\";\n\ntype ProjectTabKey = \"overview\" | \"activity\" | \"files\";\ntype StatusTabKey = \"inbox\" | \"updates\" | \"archive\" | \"disabled\" | \"sync\";\n\nconst focusVisibleClassName = \"ring-2 ring-[var(--theme-ring)] ring-offset-0 outline-none\";\nconst hoverClassName =\n  \"text-foreground bg-[--hover] shadow-[var(--tab-shadow-hover,var(--tab-shadow))]\";\n\nconst projectTabs: TabListItem<ProjectTabKey>[] = [\n  { key: \"overview\", label: \"Overview\" },\n  { key: \"activity\", label: \"Activity\" },\n  { key: \"files\", label: \"Files\" },\n];\n\nconst statusTabs: TabListItem<StatusTabKey>[] = [\n  { key: \"inbox\", label: \"Inbox\" },\n  { key: \"updates\", label: \"Updates\", className: focusVisibleClassName },\n  { key: \"archive\", label: \"Archive\" },\n  { key: \"disabled\", label: \"Disabled\", disabled: true },\n  { key: \"sync\", label: \"Syncing\", loading: true },\n];\n\nconst statusLabels: Record<StatusTabKey, string> = {\n  inbox: \"Inbox\",\n  updates: \"Updates\",\n  archive: \"Archive\",\n  disabled: \"Disabled\",\n  sync: \"Syncing\",\n};\n\ntype PanelCardProps = {\n  title: string;\n  description: string;\n};\n\ntype TabsStateSpec = {\n  id: string;\n  name: string;\n  value: StatusTabKey;\n  items: readonly TabListItem<StatusTabKey>[];\n  code?: string;\n};\n\nconst TABS_STATE_ITEMS: Record<\n  \"active\" | \"hover\" | \"focus-visible\" | \"disabled\" | \"loading\",\n  readonly TabListItem<StatusTabKey>[]\n> = {\n  active: [\n    { key: \"inbox\", label: \"Inbox\" },\n    { key: \"updates\", label: \"Updates\" },\n  ],\n  hover: [\n    { key: \"inbox\", label: \"Inbox\" },\n    { key: \"updates\", label: \"Updates\", className: hoverClassName },\n  ],\n  \"focus-visible\": [\n    { key: \"inbox\", label: \"Inbox\" },\n    { key: \"updates\", label: \"Updates\", className: focusVisibleClassName },\n  ],\n  disabled: [\n    { key: \"inbox\", label: \"Inbox\" },\n    { key: \"disabled\", label: \"Disabled\", disabled: true },\n  ],\n  loading: [\n    { key: \"inbox\", label: \"Inbox\" },\n    { key: \"sync\", label: \"Syncing\", loading: true },\n  ],\n};\n\nconst TABS_STATES: readonly TabsStateSpec[] = [\n  {\n    id: \"active\",\n    name: \"Active\",\n    value: \"updates\",\n    items: TABS_STATE_ITEMS.active,\n    code: `<Tabs value=\"updates\" onValueChange={() => {}}>\n  <TabList\n    ariaLabel=\"Tab state preview\"\n    items={[\n      { key: \"inbox\", label: \"Inbox\" },\n      { key: \"updates\", label: \"Updates\" },\n    ]}\n    linkPanels={false}\n    showBaseline\n  />\n</Tabs>`,\n  },\n  {\n    id: \"hover\",\n    name: \"Hover\",\n    value: \"inbox\",\n    items: TABS_STATE_ITEMS.hover,\n    code: `<Tabs value=\"inbox\" onValueChange={() => {}}>\n  <TabList\n    ariaLabel=\"Tab state preview\"\n    items={[\n      { key: \"inbox\", label: \"Inbox\" },\n      {\n        key: \"updates\",\n        label: \"Updates\",\n        className: \"${hoverClassName}\",\n      },\n    ]}\n    linkPanels={false}\n    showBaseline\n  />\n</Tabs>`,\n  },\n  {\n    id: \"focus-visible\",\n    name: \"Focus-visible\",\n    value: \"inbox\",\n    items: TABS_STATE_ITEMS[\"focus-visible\"],\n    code: `<Tabs value=\"inbox\" onValueChange={() => {}}>\n  <TabList\n    ariaLabel=\"Tab state preview\"\n    items={[\n      { key: \"inbox\", label: \"Inbox\" },\n      {\n        key: \"updates\",\n        label: \"Updates\",\n        className: \"${focusVisibleClassName}\",\n      },\n    ]}\n    linkPanels={false}\n    showBaseline\n  />\n</Tabs>`,\n  },\n  {\n    id: \"disabled\",\n    name: \"Disabled\",\n    value: \"inbox\",\n    items: TABS_STATE_ITEMS.disabled,\n    code: `<Tabs value=\"inbox\" onValueChange={() => {}}>\n  <TabList\n    ariaLabel=\"Tab state preview\"\n    items={[\n      { key: \"inbox\", label: \"Inbox\" },\n      { key: \"disabled\", label: \"Disabled\", disabled: true },\n    ]}\n    linkPanels={false}\n    showBaseline\n  />\n</Tabs>`,\n  },\n  {\n    id: \"loading\",\n    name: \"Loading\",\n    value: \"inbox\",\n    items: TABS_STATE_ITEMS.loading,\n    code: `<Tabs value=\"inbox\" onValueChange={() => {}}>\n  <TabList\n    ariaLabel=\"Tab state preview\"\n    items={[\n      { key: \"inbox\", label: \"Inbox\" },\n      { key: \"sync\", label: \"Syncing\", loading: true },\n    ]}\n    linkPanels={false}\n    showBaseline\n  />\n</Tabs>`,\n  },\n];\n\nfunction PanelCard({ title, description }: PanelCardProps) {\n  return (\n    <Card className=\"space-y-[var(--space-2)]\">\n      <p className=\"text-title font-semibold tracking-[-0.01em]\">{title}</p>\n      <p className=\"text-ui text-muted-foreground\">{description}</p>\n    </Card>\n  );\n}\n\nfunction TabsGalleryPreview() {\n  const [statusTab, setStatusTab] = React.useState<StatusTabKey>(\"inbox\");\n\n  return (\n    <div className=\"flex flex-col gap-[var(--space-6)]\">\n      <Tabs defaultValue=\"overview\">\n        <div className=\"space-y-[var(--space-3)]\">\n          <TabList ariaLabel=\"Project sections\" items={projectTabs} />\n          <TabPanel value=\"overview\">\n            <PanelCard\n              title=\"Overview\"\n              description=\"Keep a high-level summary of the plan visible for the team.\"\n            />\n          </TabPanel>\n          <TabPanel value=\"activity\">\n            <PanelCard\n              title=\"Activity\"\n              description=\"Show chronological activity without leaving the workspace.\"\n            />\n          </TabPanel>\n          <TabPanel value=\"files\">\n            <PanelCard\n              title=\"Files\"\n              description=\"Store briefs, shared assets, and notes alongside the plan.\"\n            />\n          </TabPanel>\n        </div>\n      </Tabs>\n\n      <Tabs value={statusTab} onValueChange={setStatusTab}>\n        <div className=\"space-y-[var(--space-3)]\">\n          <TabList\n            ariaLabel=\"Notification filters\"\n            items={statusTabs}\n            linkPanels={false}\n            showBaseline\n          />\n          <Card className=\"text-ui text-muted-foreground\">\n            Active tab: <span className=\"font-medium text-foreground\">{statusLabels[statusTab]}</span>\n          </Card>\n        </div>\n      </Tabs>\n    </div>\n  );\n}\n\nfunction TabsStatePreview({ state }: { state: TabsStateSpec }) {\n  return (\n    <Tabs value={state.value} onValueChange={() => {}}>\n      <div className=\"space-y-[var(--space-3)]\">\n        <TabList\n          ariaLabel=\"Tab state preview\"\n          items={[...state.items]}\n          linkPanels={false}\n          showBaseline\n        />\n      </div>\n    </Tabs>\n  );\n}\n\nexport const TabsGallery = defineGallerySection({\n  id: \"toggles\",\n  entries: [\n    {\n      id: \"tabs\",\n      name: \"Tabs\",\n      description: \"Context provider that links TabList controls with TabPanel content.\",\n      kind: \"primitive\",\n      tags: [\"tabs\", \"navigation\"],\n      axes: [\n        {\n          id: \"layout\",\n          label: \"Layout\",\n          type: \"variant\",\n          values: [\n            { value: \"Panels\" },\n            { value: \"Controlled list\" },\n          ],\n        },\n        {\n          id: \"state\",\n          label: \"State\",\n          type: \"state\",\n          values: TABS_STATES.map(({ name }) => ({ value: name })),\n        },\n      ],\n      preview: createGalleryPreview({\n        id: \"ui:tabs:wiring\",\n        render: () => <TabsGalleryPreview />,\n      }),\n      states: TABS_STATES.map((state) => ({\n        id: state.id,\n        name: state.name,\n        code: state.code,\n        preview: createGalleryPreview({\n          id: `ui:tabs:state:${state.id}`,\n          render: () => <TabsStatePreview state={state} />,\n        }),\n      })),\n      code: `<Tabs defaultValue=\"overview\">\n  <div className=\"space-y-[var(--space-3)]\">\n    <TabList\n      items={[\n        { key: \"overview\", label: \"Overview\" },\n        { key: \"activity\", label: \"Activity\" },\n        { key: \"files\", label: \"Files\" },\n      ]}\n      ariaLabel=\"Project sections\"\n    />\n    <TabPanel value=\"overview\">\n      <Card className=\"space-y-[var(--space-2)]\">\n        <p className=\"text-title font-semibold tracking-[-0.01em]\">Overview</p>\n        <p className=\"text-ui text-muted-foreground\">\n          Keep a high-level summary of the plan visible for the team.\n        </p>\n      </Card>\n    </TabPanel>\n    <TabPanel value=\"activity\">\n      <Card className=\"space-y-[var(--space-2)]\">\n        <p className=\"text-title font-semibold tracking-[-0.01em]\">Activity</p>\n        <p className=\"text-ui text-muted-foreground\">\n          Show chronological activity without leaving the workspace.\n        </p>\n      </Card>\n    </TabPanel>\n    <TabPanel value=\"files\">\n      <Card className=\"space-y-[var(--space-2)]\">\n        <p className=\"text-title font-semibold tracking-[-0.01em]\">Files</p>\n        <p className=\"text-ui text-muted-foreground\">\n          Store briefs, shared assets, and notes alongside the plan.\n        </p>\n      </Card>\n    </TabPanel>\n  </div>\n</Tabs>\n\n<Tabs value=\"inbox\" onValueChange={() => {}}>\n  <div className=\"space-y-[var(--space-3)]\">\n    <TabList\n      ariaLabel=\"Notification filters\"\n      items={[\n        { key: \"inbox\", label: \"Inbox\" },\n        {\n          key: \"updates\",\n          label: \"Updates\",\n          className: \"ring-2 ring-[var(--theme-ring)] ring-offset-0 outline-none\",\n        },\n        { key: \"archive\", label: \"Archive\" },\n        { key: \"disabled\", label: \"Disabled\", disabled: true },\n        { key: \"sync\", label: \"Syncing\", loading: true },\n      ]}\n      linkPanels={false}\n      showBaseline\n    />\n    <Card className=\"text-ui text-muted-foreground\">\n      Active tab: <span className=\"font-medium text-foreground\">Inbox</span>\n    </Card>\n  </div>\n</Tabs>`,\n    },\n  ],\n})\n\nexport default TabsGallery\n","\"use client\";\n\nimport * as React from \"react\";\n\nimport { createGalleryPreview, defineGallerySection } from \"@/components/gallery/registry\";\n\nimport { Input } from \"./Input\";\n\nexport type InputStateSpec = {\n  id: string;\n  name: string;\n  className?: string;\n  props: React.ComponentProps<typeof Input>;\n  code?: string;\n};\n\nconst INPUT_STATES: readonly InputStateSpec[] = [\n  {\n    id: \"default\",\n    name: \"Default\",\n    props: { placeholder: \"Default\" },\n    code: \"<Input placeholder=\\\"Default\\\" />\",\n  },\n  {\n    id: \"hover\",\n    name: \"Hover\",\n    className: \"bg-[--hover]\",\n    props: { placeholder: \"Hover\" },\n    code: \"<Input className=\\\"bg-[--hover]\\\" placeholder=\\\"Hover\\\" />\",\n  },\n  {\n    id: \"focus\",\n    name: \"Focus\",\n    className:\n      \"ring-2 ring-ring ring-offset-2 ring-offset-background shadow-[var(--shadow-glow-md)] outline-none\",\n    props: { placeholder: \"Focus\" },\n    code:\n      \"<Input className=\\\"ring-2 ring-ring ring-offset-2 ring-offset-background shadow-[var(--shadow-glow-md)] outline-none\\\" placeholder=\\\"Focus\\\" />\",\n  },\n  {\n    id: \"active\",\n    name: \"Active\",\n    className: \"bg-[--active]\",\n    props: { placeholder: \"Active\" },\n    code: \"<Input className=\\\"bg-[--active]\\\" placeholder=\\\"Active\\\" />\",\n  },\n  {\n    id: \"disabled\",\n    name: \"Disabled\",\n    props: { placeholder: \"Disabled\", disabled: true },\n    code: \"<Input placeholder=\\\"Disabled\\\" disabled />\",\n  },\n  {\n    id: \"loading\",\n    name: \"Loading\",\n    props: { placeholder: \"Loading\", \"data-loading\": true },\n    code: \"<Input placeholder=\\\"Loading\\\" data-loading />\",\n  },\n  {\n    id: \"custom-ring\",\n    name: \"Custom ring\",\n    props: { placeholder: \"Custom ring\", ringTone: \"danger\" },\n    code: \"<Input placeholder=\\\"Custom ring\\\" ringTone=\\\"danger\\\" />\",\n  },\n  {\n    id: \"sunken\",\n    name: \"Sunken\",\n    props: {\n      placeholder: \"Sunken inset\",\n      variant: \"sunken\",\n    },\n    code: \"<Input placeholder=\\\"Sunken inset\\\" variant=\\\"sunken\\\" />\",\n  },\n  {\n    id: \"glitch\",\n    name: \"Glitch overlay\",\n    props: {\n      placeholder: \"Glitch overlay\",\n      variant: \"sunken\",\n      glitch: true,\n      glitchText: \"Summoner search\",\n    },\n    code: `<Input glitch glitchText=\"Summoner search\" placeholder=\"Glitch overlay\" variant=\"sunken\" />`,\n  },\n];\n\nexport const INPUT_STATE_SPECS: readonly InputStateSpec[] = INPUT_STATES;\n\nfunction InputStatePreview({ state }: { state: InputStateSpec }) {\n  const { className, props } = state;\n  return <Input className={className} {...props} />;\n}\n\nfunction InputGalleryPreview() {\n  const glitchState = INPUT_STATES.find((state) => state.id === \"glitch\");\n  const standardStates = INPUT_STATES.filter((state) => state.id !== \"glitch\");\n\n  return (\n    <div className=\"flex flex-col gap-[var(--space-2)]\">\n      {standardStates.map((state) => (\n        <InputStatePreview key={state.id} state={state} />\n      ))}\n      {glitchState ? (\n        <div className=\"space-y-[var(--space-1)]\">\n          <InputStatePreview state={glitchState} />\n          <p className=\"text-caption text-muted-foreground\">\n            Sunken shells use{\" \"}\n            <code className=\"mx-[var(--space-1)]\">\n              --glitch-overlay-button-opacity-reduced\n            </code>\n            so Noir and Hardstuck maintain 4.5:1 placeholder contrast while the\n            overlay animates.\n          </p>\n        </div>\n      ) : null}\n    </div>\n  );\n}\n\nexport const InputGallery = defineGallerySection({\n  id: \"inputs\",\n  entries: [\n    {\n      id: \"input\",\n      name: \"Input\",\n      description: \"Standard text input with semantic states\",\n      kind: \"primitive\",\n      tags: [\"input\", \"text\"],\n      props: [\n        { name: \"placeholder\", type: \"string\" },\n        { name: \"height\", type: '\"sm\" | \"md\" | \"lg\" | \"xl\"', defaultValue: '\"md\"' },\n        { name: \"disabled\", type: \"boolean\", defaultValue: \"false\" },\n        { name: \"data-loading\", type: \"boolean\", defaultValue: \"false\" },\n        {\n          name: \"ringTone\",\n          type: '\"accent\" | \"danger\" | \"primary\" | \"success\" | \"warning\"',\n          defaultValue: \"undefined\",\n        },\n      ],\n      axes: [\n        {\n          id: \"state\",\n          label: \"State\",\n          type: \"state\",\n          values: INPUT_STATES.map(({ name, id }) => ({\n            value: name,\n            description:\n              id === \"glitch\"\n                ? \"Glitch overlay inherits Field's reduced opacity token so Noir + Hardstuck stay above 4.5:1.\"\n                : undefined,\n          })),\n        },\n      ],\n      preview: createGalleryPreview({\n        id: \"ui:input:states\",\n        render: () => <InputGalleryPreview />,\n      }),\n      states: INPUT_STATES.map((state) => ({\n        id: state.id,\n        name: state.name,\n        code: state.code,\n        preview: createGalleryPreview({\n          id: `ui:input:state:${state.id}`,\n          render: () => <InputStatePreview state={state} />,\n        }),\n      })),\n      code: `<div className=\"flex flex-col gap-[var(--space-2)]\">\n  <Input placeholder=\"Default\" />\n  <Input placeholder=\"Hover\" className=\"bg-[--hover]\" />\n  <Input placeholder=\"Focus\" className=\"ring-2 ring-[var(--focus)]\" />\n  <Input placeholder=\"Active\" className=\"bg-[--active]\" />\n  <Input placeholder=\"Disabled\" disabled />\n  <Input placeholder=\"Loading\" data-loading />\n  <Input placeholder=\"Custom ring\" ringTone=\"danger\" />\n</div>`,\n    },\n  ],\n})\n\nexport default InputGallery\n","import * as React from \"react\";\n\nexport const hasTextContent = (node: React.ReactNode): boolean => {\n  if (node === null || node === undefined) return false;\n  if (typeof node === \"boolean\") return false;\n  if (typeof node === \"string\") return node.trim().length > 0;\n  if (typeof node === \"number\") return true;\n  if (Array.isArray(node)) return node.some((item) => hasTextContent(item));\n  if (React.isValidElement<{ children?: React.ReactNode }>(node)) {\n    return hasTextContent(node.props.children ?? null);\n  }\n  return false;\n};\n\nexport function observeMediaQuery(\n  query: string,\n  onChange: (matches: boolean, mediaQuery: MediaQueryList) => void,\n): (() => void) | undefined {\n  if (typeof window === \"undefined\" || typeof window.matchMedia !== \"function\") {\n    return undefined;\n  }\n\n  let mediaQuery: MediaQueryList;\n\n  try {\n    mediaQuery = window.matchMedia(query);\n  } catch {\n    return undefined;\n  }\n\n  const handleChange = (event: MediaQueryListEvent): void => {\n    onChange(event.matches, mediaQuery);\n  };\n\n  const handleLegacyChange = (): void => {\n    onChange(mediaQuery.matches, mediaQuery);\n  };\n\n  onChange(mediaQuery.matches, mediaQuery);\n\n  if (typeof mediaQuery.addEventListener === \"function\") {\n    mediaQuery.addEventListener(\"change\", handleChange);\n    return () => {\n      mediaQuery.removeEventListener(\"change\", handleChange);\n    };\n  }\n\n  if (typeof mediaQuery.addListener === \"function\") {\n    mediaQuery.addListener(handleLegacyChange);\n    return () => {\n      mediaQuery.removeListener(handleLegacyChange);\n    };\n  }\n\n  return undefined;\n}\n\nexport function useMatchMedia(\n  query: string,\n  getServerSnapshot?: () => boolean,\n): boolean {\n  const getMatches = React.useCallback(() => {\n    if (typeof window === \"undefined\") {\n      return typeof getServerSnapshot === \"function\" ? getServerSnapshot() : false;\n    }\n\n    if (typeof window.matchMedia !== \"function\") {\n      return false;\n    }\n\n    try {\n      return window.matchMedia(query).matches;\n    } catch {\n      return false;\n    }\n  }, [query, getServerSnapshot]);\n\n  const [matches, setMatches] = React.useState<boolean>(getMatches);\n\n  React.useEffect(() => {\n    return observeMediaQuery(query, (nextMatches) => {\n      setMatches(nextMatches);\n    });\n  }, [query]);\n\n  return matches;\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"RangeSlider_root__BV2DG\",\"label\":\"RangeSlider_label__O62du\",\"control\":\"RangeSlider_control__jFx2S\",\"track\":\"RangeSlider_track__slsKQ\",\"pulse-neon\":\"RangeSlider_pulse-neon__Rgq35\",\"boundLabel\":\"RangeSlider_boundLabel__Q69Dj\",\"description\":\"RangeSlider_description__ZCR3u\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"NeonIcon_root__KmP8I\",\"icon\":\"NeonIcon_icon__VoR9B\",\"core\":\"NeonIcon_core__00JNP\",\"aura\":\"NeonIcon_aura__T8IUm\",\"scanlines\":\"NeonIcon_scanlines__GPJRg\",\"ignite\":\"NeonIcon_ignite__RCyHE\",\"powerdown\":\"NeonIcon_powerdown__APeAj\",\"glowPrimary\":\"NeonIcon_glowPrimary__lbriQ\",\"glowAura\":\"NeonIcon_glowAura__mq4T0\",\"wrap\":\"NeonIcon_wrap__Ru8Yf\",\"wrapLit\":\"NeonIcon_wrapLit__moQ9A\",\"content\":\"NeonIcon_content___WF04\",\"coreAnimated\":\"NeonIcon_coreAnimated__IL8bR\",\"niCore\":\"NeonIcon_niCore__KO0Kb\",\"auraAnimated\":\"NeonIcon_auraAnimated__3ZcLy\",\"niAura\":\"NeonIcon_niAura__c1xgt\",\"scanlinesAnimated\":\"NeonIcon_scanlinesAnimated__utAg0\",\"niScan\":\"NeonIcon_niScan__tqGJh\",\"igniteAnimated\":\"NeonIcon_igniteAnimated__q5PZ5\",\"niIgnite\":\"NeonIcon_niIgnite__uRknm\",\"powerdownAnimated\":\"NeonIcon_powerdownAnimated__GugT4\",\"niPowerDown\":\"NeonIcon_niPowerDown__BRhM1\"};","// src/lib/telemetry.ts\n// Lightweight helpers for emitting browser telemetry events.\n\ntype Plausible = (event: string, options?: { props?: Record<string, unknown> }) => void\n\ntype Analytics = {\n  track?: (event: string, properties?: Record<string, unknown>) => void\n}\n\ntype TelemetryEmitDetail = Record<string, unknown> & {\n  dataLayer?: Record<string, unknown>\n}\n\nexport type TelemetryEventPayload = {\n  eventName: string\n  domEventName: string\n  detail: TelemetryEmitDetail\n}\n\nexport function emitTelemetryEvent({\n  eventName,\n  domEventName,\n  detail,\n}: TelemetryEventPayload): void {\n  if (typeof window === 'undefined') return\n\n  const { dataLayer: dataLayerDetail, ...eventDetail } = detail\n\n  window.dispatchEvent(\n    new CustomEvent(domEventName, {\n      detail: eventDetail,\n    }),\n  )\n\n  const plausible = (window as typeof window & { plausible?: Plausible }).plausible\n  plausible?.(eventName, { props: eventDetail })\n\n  const analytics = (window as typeof window & { analytics?: Analytics }).analytics\n  analytics?.track?.(eventName, eventDetail)\n\n  const dataLayer = (window as typeof window & { dataLayer?: unknown[] }).dataLayer\n  if (Array.isArray(dataLayer)) {\n    const payload = dataLayerDetail ?? eventDetail\n    dataLayer.push({ event: eventName, ...payload })\n  }\n}\n\nexport type PlannerIslandErrorDetail = {\n  island: string\n  digest?: string | null\n  message?: string | null\n}\n\nexport function reportPlannerIslandError(detail: PlannerIslandErrorDetail): void {\n  emitTelemetryEvent({\n    eventName: 'planner_island_error',\n    domEventName: 'planner:island-error',\n    detail: {\n      island: detail.island,\n      digest: detail.digest ?? null,\n      message: detail.message ?? null,\n      dataLayer: {\n        planner_island: detail.island,\n        planner_island_digest: detail.digest ?? null,\n      },\n    },\n  })\n}\n\n","import { cn } from \"@/lib/utils\";\n\nexport type RadioIconGroupTone =\n  | \"accent\"\n  | \"primary\"\n  | \"success\"\n  | \"warning\"\n  | \"danger\";\n\ntype ToneStyles = {\n  surface: string;\n  text: string;\n  ring: string;\n  glow: string;\n  lift: string;\n};\n\nconst baseLift = cn(\n  \"motion-safe:group-hover/radio:-translate-y-[calc(var(--space-1)/2)]\",\n  \"motion-safe:group-active/radio:translate-y-[calc(var(--space-1)/4)]\",\n  \"motion-reduce:transform-none\",\n);\n\nexport const radioIconGroupToneClasses: Record<RadioIconGroupTone, ToneStyles> = {\n  accent: {\n    surface: cn(\n      \"group-hover/radio:bg-accent/12\",\n      \"group-active/radio:bg-accent/18\",\n      \"peer-checked:border-accent/45\",\n      \"peer-checked:bg-accent/18\",\n      \"peer-checked:text-accent-foreground\",\n    ),\n    text: \"peer-checked:text-accent-foreground\",\n    ring: \"peer-focus-visible:ring-accent\",\n    glow: \"[--radio-glow:var(--accent-overlay)]\",\n    lift: baseLift,\n  },\n  primary: {\n    surface: cn(\n      \"group-hover/radio:bg-primary/12\",\n      \"group-active/radio:bg-primary/18\",\n      \"peer-checked:border-primary/45\",\n      \"peer-checked:bg-primary/18\",\n      \"peer-checked:text-primary-foreground\",\n    ),\n    text: \"peer-checked:text-primary-foreground\",\n    ring: \"peer-focus-visible:ring-primary\",\n    glow: \"[--radio-glow:var(--glow-primary)]\",\n    lift: baseLift,\n  },\n  success: {\n    surface: cn(\n      \"group-hover/radio:bg-success/12\",\n      \"group-active/radio:bg-success/18\",\n      \"peer-checked:border-success/45\",\n      \"peer-checked:bg-success/18\",\n      \"peer-checked:text-success-foreground\",\n    ),\n    text: \"peer-checked:text-success-foreground\",\n    ring: \"peer-focus-visible:ring-success\",\n    glow: \"[--radio-glow:hsl(var(--success-glow))]\",\n    lift: baseLift,\n  },\n  warning: {\n    surface: cn(\n      \"group-hover/radio:bg-warning/14\",\n      \"group-active/radio:bg-warning/18\",\n      \"peer-checked:border-warning/45\",\n      \"peer-checked:bg-warning/18\",\n      \"peer-checked:text-warning-foreground\",\n    ),\n    text: \"peer-checked:text-warning-foreground\",\n    ring: \"peer-focus-visible:ring-warning\",\n    glow: \"[--radio-glow:hsl(var(--warning-soft-strong))]\",\n    lift: baseLift,\n  },\n  danger: {\n    surface: cn(\n      \"group-hover/radio:bg-danger/12\",\n      \"group-active/radio:bg-danger/18\",\n      \"peer-checked:border-danger/45\",\n      \"peer-checked:bg-danger/18\",\n      \"peer-checked:text-danger-foreground\",\n    ),\n    text: \"peer-checked:text-danger-foreground\",\n    ring: \"peer-focus-visible:ring-danger\",\n    glow: \"[--radio-glow:hsl(var(--danger) / 0.45)]\",\n    lift: baseLift,\n  },\n};\n\nexport type RadioIconGroupToneStyles = typeof radioIconGroupToneClasses;\n","\"use client\";\n\nimport * as React from \"react\";\nimport { AlertTriangle, RotateCcw } from \"lucide-react\";\n\nimport {\n  Button,\n  Card,\n  CardContent,\n  CardDescription,\n  CardHeader,\n  CardTitle,\n} from \"@/components/ui\";\nimport { cn } from \"@/lib/utils\";\n\nexport interface AIErrorCardProps extends React.ComponentPropsWithoutRef<typeof Card> {\n  readonly title?: string;\n  readonly description: string;\n  readonly hint?: string;\n  readonly onRetry?: () => void;\n  readonly retryLabel?: string;\n  readonly actions?: React.ReactNode;\n  readonly icon?: React.ReactNode;\n}\n\nconst DEFAULT_TITLE = \"Unable to complete\";\nconst DEFAULT_RETRY_LABEL = \"Try again\";\n\nconst AIErrorCard = React.forwardRef<HTMLDivElement, AIErrorCardProps>(\n  (\n    {\n      title = DEFAULT_TITLE,\n      description,\n      hint,\n      onRetry,\n      retryLabel = DEFAULT_RETRY_LABEL,\n      actions,\n      icon,\n      className,\n      children,\n      ...props\n    },\n    ref,\n  ) => {\n    const retryAction = React.useMemo(() => {\n      if (actions) return actions;\n      if (!onRetry) return null;\n      return (\n        <Button\n          type=\"button\"\n          size=\"sm\"\n          tone=\"danger\"\n          variant=\"quiet\"\n          onClick={onRetry}\n          className=\"gap-[var(--space-2)] px-[var(--space-3)]\"\n          data-variant=\"ai-error\"\n        >\n          <RotateCcw aria-hidden className=\"size-[var(--space-4)]\" />\n          {retryLabel}\n        </Button>\n      );\n    }, [actions, onRetry, retryLabel]);\n\n    return (\n      <Card\n        ref={ref}\n        role=\"alert\"\n        aria-live=\"polite\"\n        className={cn(\n          \"border-[hsl(var(--danger)/0.45)] bg-[hsl(var(--danger)/0.12)] text-[hsl(var(--danger-foreground))] shadow-[var(--shadow-outline-subtle)] backdrop-blur-sm\",\n          \"transition-shadow duration-motion-sm ease-out\",\n          className,\n        )}\n        {...props}\n      >\n        <CardHeader className=\"flex flex-row gap-[var(--space-3)]\">\n          <span\n            aria-hidden\n            className=\"mt-[var(--space-0-5)] inline-flex size-[var(--space-8)] shrink-0 items-center justify-center rounded-full bg-[hsl(var(--danger)/0.18)] text-[hsl(var(--danger))] shadow-[var(--shadow-inset-hairline)]\"\n          >\n            {icon ?? <AlertTriangle className=\"size-[var(--space-4)]\" aria-hidden />}\n          </span>\n          <div className=\"flex flex-1 flex-col gap-[var(--space-1-5)]\">\n            <CardTitle className=\"text-ui font-semibold tracking-[-0.01em]\">\n              {title}\n            </CardTitle>\n            <CardDescription className=\"text-label text-[hsl(var(--danger-foreground)/0.85)]\">\n              {description}\n            </CardDescription>\n            {hint ? (\n              <p className=\"text-caption text-[hsl(var(--danger-foreground)/0.7)]\">\n                {hint}\n              </p>\n            ) : null}\n          </div>\n        </CardHeader>\n        <CardContent className=\"space-y-[var(--space-3)] pt-[var(--space-3)]\">\n          {children}\n          {retryAction}\n        </CardContent>\n      </Card>\n    );\n  },\n);\n\nAIErrorCard.displayName = \"AIErrorCard\";\nexport { AIErrorCard };\n","'use client';\n\nimport * as React from 'react';\n\nimport { useRovingTabState } from '@/components/tabs/useRovingTabState';\nimport { cn } from '@/lib/utils';\n\nimport { GlitchSegmentedButton } from './GlitchSegmentedButton';\nimport {\n  GlitchSegmentedGroup,\n  type GlitchSegmentedGroupProps,\n} from './GlitchSegmentedGroup';\n\nexport interface SegmentedOption<Value> {\n  value: Value;\n  label: React.ReactNode;\n}\n\nexport type SegmentedControlOption<Value extends string> = SegmentedOption<Value> & {\n  icon?: React.ReactNode;\n  badge?: React.ReactNode;\n  disabled?: boolean;\n  loading?: boolean;\n  id?: string;\n  controls?: string;\n  className?: string;\n};\n\nexport interface SegmentedControlProps<Value extends string = string>\n  extends Omit<GlitchSegmentedGroupProps, 'children' | 'onChange'> {\n  options: ReadonlyArray<SegmentedControlOption<Value>>;\n  value?: Value;\n  defaultValue?: Value;\n  onChange?: (value: Value) => void;\n  onValueChange?: (value: Value) => void;\n  idBase?: string;\n  ariaLabel?: string;\n  ariaLabelledBy?: string;\n  linkPanels?: boolean;\n}\n\nconst iconSizeMap = {\n  sm: '[&>svg]:h-[var(--space-4)] [&>svg]:w-[var(--space-4)]',\n  md: '[&>svg]:h-[var(--space-4)] [&>svg]:w-[var(--space-4)]',\n  lg: '[&>svg]:h-[var(--space-5)] [&>svg]:w-[var(--space-5)]',\n} as const;\n\nexport function SegmentedControl<Value extends string = string>({\n  options,\n  value,\n  defaultValue,\n  onChange,\n  onValueChange,\n  size = 'md',\n  align = 'start',\n  idBase,\n  ariaLabel,\n  ariaLabelledBy,\n  linkPanels = true,\n  className,\n  onKeyDown: onKeyDownProp,\n  ...rest\n}: SegmentedControlProps<Value>) {\n  const generatedId = React.useId();\n  const baseId = idBase ?? generatedId;\n\n  const { activeKey, setActiveValue, registerTab, onKeyDown } = useRovingTabState({\n    items: options.map((option) => ({\n      key: option.value,\n      disabled: option.disabled,\n    })),\n    value,\n    defaultValue,\n    onValueChange: onValueChange ?? onChange,\n  });\n\n  const handleKeyDown = React.useCallback(\n    (event: React.KeyboardEvent<HTMLDivElement>) => {\n      onKeyDown(event);\n      onKeyDownProp?.(event);\n    },\n    [onKeyDown, onKeyDownProp],\n  );\n\n  const labelProps: {\n    'aria-label'?: string;\n    'aria-labelledby'?: string;\n  } = {};\n\n  if (ariaLabelledBy) {\n    labelProps['aria-labelledby'] = ariaLabelledBy;\n    if (ariaLabel) {\n      labelProps['aria-label'] = ariaLabel;\n    }\n  } else if (ariaLabel) {\n    labelProps['aria-label'] = ariaLabel;\n  }\n\n  return (\n    <GlitchSegmentedGroup\n      role=\"tablist\"\n      aria-orientation=\"horizontal\"\n      size={size}\n      align={align}\n      className={className}\n      onKeyDown={handleKeyDown}\n      {...labelProps}\n      {...rest}\n    >\n      {options.map((option) => {\n        const isActive = option.value === activeKey;\n        const isLoading = Boolean(option.loading);\n        const isDisabled = Boolean(option.disabled) || isLoading;\n        const tabId = `${baseId}-${option.id ?? `${option.value}-tab`}`;\n        const panelId = `${baseId}-${option.controls ?? `${option.value}-panel`}`;\n\n        const setRef: React.RefCallback<HTMLElement> = (node) => {\n          registerTab(option.value, node);\n        };\n\n        return (\n          <GlitchSegmentedButton\n            key={option.value}\n            ref={setRef}\n            id={linkPanels ? tabId : undefined}\n            role=\"tab\"\n            aria-selected={isActive}\n            aria-disabled={isDisabled || undefined}\n            aria-busy={isLoading || undefined}\n            aria-controls={linkPanels ? panelId : undefined}\n            tabIndex={isDisabled ? -1 : isActive ? 0 : -1}\n            selected={isActive}\n            disabled={option.disabled}\n            loading={isLoading}\n            depth=\"raised\"\n            className={cn(\n              'group/segment inline-flex items-center justify-center font-medium tracking-[0.02em] text-ui transition-colors duration-motion-sm ease-out',\n              size === 'lg' ? 'text-body' : 'text-ui',\n              option.className,\n            )}\n            onClick={(event) => {\n              if (isDisabled) {\n                event.preventDefault();\n                event.stopPropagation();\n                return;\n              }\n              setActiveValue(option.value);\n            }}\n          >\n            {option.icon ? (\n              <span\n                className={cn(\n                  'mr-[var(--space-2)] grid place-items-center text-current',\n                  iconSizeMap[size],\n                )}\n                aria-hidden\n              >\n                {option.icon}\n              </span>\n            ) : null}\n            <span className=\"truncate\">{option.label}</span>\n            {option.badge != null ? (\n              <span className=\"ml-[var(--space-2)] inline-flex min-h-[calc(var(--space-3)*1.1)] items-center justify-center rounded-full bg-primary-soft px-[var(--space-2)] py-[calc(var(--space-1)*0.6)] text-label leading-none text-foreground\">\n                {option.badge}\n              </span>\n            ) : null}\n          </GlitchSegmentedButton>\n        );\n      })}\n    </GlitchSegmentedGroup>\n  );\n}\n","// src/components/ui/layout/hero/HeroSearchBar.tsx\n\nimport * as React from \"react\";\nimport { cn } from \"@/lib/utils\";\nimport { type SearchBarProps, SearchBar } from \"@/components/ui/primitives/SearchBar\";\n\nexport interface HeroSearchBarProps extends SearchBarProps {\n  className?: string;\n  round?: boolean;\n}\n\nexport function HeroSearchBar({\n  className,\n  round,\n  variant,\n  fieldClassName,\n  ...props\n}: HeroSearchBarProps) {\n  const resolvedVariant = variant ?? (round ? \"neo\" : undefined);\n  const isNeo = resolvedVariant === \"neo\";\n\n  return (\n    <SearchBar\n      {...props}\n      variant={resolvedVariant}\n      className={cn(\"w-full flex-1 min-w-0\", round && \"rounded-full\", className)}\n      fieldClassName={cn(\n        round && \"rounded-full [&>input]:rounded-full\",\n        isNeo && \"overflow-hidden hero2-frame\",\n        fieldClassName,\n      )}\n    />\n  );\n}\n\n","\"use client\";\n\nimport * as React from \"react\";\nimport { Circle, CircleCheck, CircleDot } from \"lucide-react\";\n\nimport { createGalleryPreview, defineGallerySection } from \"@/components/gallery/registry\";\n\nimport { type TabItem, TabBar } from \"./TabBar\";\n\nconst focusVisibleClassName =\n  \"outline-none ring-2 ring-ring ring-offset-2 ring-offset-background shadow-[var(--shadow-glow-md)]\";\nconst hoverStateClassName =\n  \"text-foreground bg-[--hover] shadow-[var(--tab-shadow-hover,var(--tab-shadow))]\";\n\nconst filterItems: TabItem<string>[] = [\n  { key: \"all\", label: \"All\", icon: <Circle aria-hidden=\"true\" /> },\n  { key: \"active\", label: \"Active\", icon: <CircleDot aria-hidden=\"true\" /> },\n  { key: \"done\", label: \"Done\", icon: <CircleCheck aria-hidden=\"true\" /> },\n  {\n    key: \"focus\",\n    label: \"Focus-visible\",\n    icon: <Circle aria-hidden=\"true\" />,\n    className: focusVisibleClassName,\n  },\n];\n\nconst defaultItems: TabItem<string>[] = [\n  { key: \"a\", label: \"A\" },\n  { key: \"b\", label: \"B\" },\n  { key: \"focus\", label: \"Focus-visible\", className: focusVisibleClassName },\n  { key: \"c\", label: \"Disabled\", disabled: true },\n  { key: \"d\", label: \"Syncing\", loading: true },\n];\n\nconst navigationItems: TabItem<string>[] = [\n  { key: \"reviews\", label: \"Reviews\" },\n  { key: \"planner\", label: \"Planner\" },\n  { key: \"goals\", label: \"Goals\" },\n  { key: \"focus\", label: \"Focus-visible\", className: focusVisibleClassName },\n];\n\ntype TabBarStateSpec = {\n  id: string;\n  name: string;\n  value: string;\n  items: TabItem<string>[];\n  code: string;\n};\n\nfunction createStateItems(stateItem: TabItem<string>): TabItem<string>[] {\n  return [\n    { key: \"today\", label: \"Today\" },\n    stateItem,\n    { key: \"backlog\", label: \"Backlog\" },\n  ];\n}\n\nconst TAB_BAR_STATES: readonly TabBarStateSpec[] = [\n  {\n    id: \"default\",\n    name: \"Default\",\n    value: \"today\",\n    items: createStateItems({ key: \"upcoming\", label: \"Upcoming\" }),\n    code: `<TabBar\n  items={[\n    { key: \"today\", label: \"Today\" },\n    { key: \"upcoming\", label: \"Upcoming\" },\n    { key: \"backlog\", label: \"Backlog\" },\n  ]}\n  value=\"today\"\n  onValueChange={() => {}}\n  ariaLabel=\"Tab state preview\"\n/>`,\n  },\n  {\n    id: \"hover\",\n    name: \"Hover\",\n    value: \"today\",\n    items: createStateItems({\n      key: \"hover\",\n      label: \"Hover\",\n      className: hoverStateClassName,\n    }),\n    code: `<TabBar\n  items={[\n    { key: \"today\", label: \"Today\" },\n    { key: \"hover\", label: \"Hover\", className: \"${hoverStateClassName}\" },\n    { key: \"backlog\", label: \"Backlog\" },\n  ]}\n  value=\"today\"\n  onValueChange={() => {}}\n  ariaLabel=\"Tab state preview\"\n/>`,\n  },\n  {\n    id: \"active\",\n    name: \"Active\",\n    value: \"active\",\n    items: createStateItems({ key: \"active\", label: \"Active\" }),\n    code: `<TabBar\n  items={[\n    { key: \"today\", label: \"Today\" },\n    { key: \"active\", label: \"Active\" },\n    { key: \"backlog\", label: \"Backlog\" },\n  ]}\n  value=\"active\"\n  onValueChange={() => {}}\n  ariaLabel=\"Tab state preview\"\n/>`,\n  },\n  {\n    id: \"focus-visible\",\n    name: \"Focus-visible\",\n    value: \"today\",\n    items: createStateItems({\n      key: \"focus\",\n      label: \"Focus-visible\",\n      className: focusVisibleClassName,\n    }),\n    code: `<TabBar\n  items={[\n    { key: \"today\", label: \"Today\" },\n    { key: \"focus\", label: \"Focus-visible\", className: \"${focusVisibleClassName}\" },\n    { key: \"backlog\", label: \"Backlog\" },\n  ]}\n  value=\"today\"\n  onValueChange={() => {}}\n  ariaLabel=\"Tab state preview\"\n/>`,\n  },\n  {\n    id: \"disabled\",\n    name: \"Disabled\",\n    value: \"today\",\n    items: createStateItems({ key: \"disabled\", label: \"Disabled\", disabled: true }),\n    code: `<TabBar\n  items={[\n    { key: \"today\", label: \"Today\" },\n    { key: \"disabled\", label: \"Disabled\", disabled: true },\n    { key: \"backlog\", label: \"Backlog\" },\n  ]}\n  value=\"today\"\n  onValueChange={() => {}}\n  ariaLabel=\"Tab state preview\"\n/>`,\n  },\n  {\n    id: \"loading\",\n    name: \"Loading\",\n    value: \"today\",\n    items: createStateItems({ key: \"loading\", label: \"Loading\", loading: true }),\n    code: `<TabBar\n  items={[\n    { key: \"today\", label: \"Today\" },\n    { key: \"loading\", label: \"Loading\", loading: true },\n    { key: \"backlog\", label: \"Backlog\" },\n  ]}\n  value=\"today\"\n  onValueChange={() => {}}\n  ariaLabel=\"Tab state preview\"\n/>`,\n  },\n];\n\nfunction TabBarStatePreview({ state }: { state: TabBarStateSpec }) {\n  return (\n    <TabBar\n      items={state.items}\n      value={state.value}\n      onValueChange={() => {}}\n      ariaLabel={`${state.name} tab state`}\n    />\n  );\n}\n\nfunction TabBarGalleryPreview() {\n  const [filterTab, setFilterTab] = React.useState<string>(filterItems[1]?.key ?? \"all\");\n  const [defaultTab, setDefaultTab] = React.useState<string>(defaultItems[0]?.key ?? \"a\");\n  const [navigationTab, setNavigationTab] = React.useState<string>(\n    navigationItems[0]?.key ?? \"reviews\",\n  );\n\n  return (\n    <div className=\"flex flex-col gap-[var(--space-4)]\">\n      <TabBar\n        items={filterItems}\n        value={filterTab}\n        onValueChange={setFilterTab}\n        ariaLabel=\"Filter goals\"\n      />\n      <TabBar\n        items={defaultItems}\n        value={defaultTab}\n        onValueChange={setDefaultTab}\n        ariaLabel=\"Example tabs\"\n      />\n      <TabBar\n        items={navigationItems}\n        value={navigationTab}\n        onValueChange={setNavigationTab}\n        ariaLabel=\"Planner areas\"\n      />\n    </div>\n  );\n}\n\nexport const TabBarGallery = defineGallerySection({\n  id: \"toggles\",\n  entries: [\n    {\n      id: \"tab-bar\",\n      name: \"TabBar\",\n      description: \"Segmented tab navigation with preset variants\",\n      kind: \"primitive\",\n      tags: [\"tabs\", \"navigation\"],\n      axes: [\n        {\n          id: \"variant\",\n          label: \"Variant\",\n          type: \"variant\",\n          values: [\n            { value: \"Filters\" },\n            { value: \"Default\" },\n            { value: \"Navigation\" },\n          ],\n        },\n        {\n          id: \"state\",\n          label: \"State\",\n          type: \"state\",\n          values: TAB_BAR_STATES.map(({ name }) => ({ value: name })),\n        },\n      ],\n      preview: createGalleryPreview({\n        id: \"ui:tab-bar:variants\",\n        render: () => <TabBarGalleryPreview />,\n      }),\n      states: TAB_BAR_STATES.map((state) => ({\n        id: state.id,\n        name: state.name,\n        code: state.code,\n        preview: createGalleryPreview({\n          id: `ui:tab-bar:state:${state.id}`,\n          render: () => <TabBarStatePreview state={state} />,\n        }),\n      })),\n      code: `<TabBar\n  items={[\n    { key: \"all\", label: \"All\", icon: <Circle aria-hidden=\"true\" /> },\n    { key: \"active\", label: \"Active\", icon: <CircleDot aria-hidden=\"true\" /> },\n    { key: \"done\", label: \"Done\", icon: <CircleCheck aria-hidden=\"true\" /> },\n    {\n      key: \"focus\",\n      label: \"Focus-visible\",\n      icon: <Circle aria-hidden=\"true\" />,\n      className: \"ring-2 ring-[var(--theme-ring)] ring-offset-0 outline-none\",\n    },\n  ]}\n  value=\"active\"\n  onValueChange={() => {}}\n  ariaLabel=\"Filter goals\"\n/>\n\n<TabBar\n  items={[\n    { key: \"a\", label: \"A\" },\n    { key: \"b\", label: \"B\" },\n    { key: \"focus\", label: \"Focus-visible\", className: \"ring-2 ring-[var(--theme-ring)] ring-offset-0 outline-none\" },\n    { key: \"c\", label: \"Disabled\", disabled: true },\n    { key: \"d\", label: \"Syncing\", loading: true },\n  ]}\n  value=\"a\"\n  onValueChange={() => {}}\n  ariaLabel=\"Example tabs\"\n/>\n\n<TabBar\n  items={[\n    { key: \"reviews\", label: \"Reviews\" },\n    { key: \"planner\", label: \"Planner\" },\n    { key: \"goals\", label: \"Goals\" },\n    { key: \"focus\", label: \"Focus-visible\", className: \"ring-2 ring-[var(--theme-ring)] ring-offset-0 outline-none\" },\n  ]}\n  value=\"reviews\"\n  onValueChange={() => {}}\n  ariaLabel=\"Planner areas\"\n/>`,\n    },\n  ],\n})\n\nexport default TabBarGallery\n","import { z } from \"zod\";\n\nexport const SAFE_MODE_FALLBACK = \"true\";\n\nconst createSafeModeSchema = (envVar: string) =>\n  z\n    .string()\n    .trim()\n    .min(1, `${envVar} cannot be an empty string.`)\n    .default(SAFE_MODE_FALLBACK);\n\nconst optionalNonEmptyString = z\n  .string()\n  .trim()\n  .min(1, \"Value cannot be an empty string.\")\n  .optional();\n\nexport const clientEnvSchema = z\n  .object({\n    NEXT_PUBLIC_BASE_PATH: z.string().optional(),\n    NEXT_PUBLIC_GITHUB_PAGES: z.string().optional(),\n    NEXT_PUBLIC_DEPTH_THEME: z.string().optional(),\n    NEXT_PUBLIC_ENABLE_METRICS: z.string().optional(),\n    NEXT_PUBLIC_METRICS_ENDPOINT: z.string().optional(),\n    NEXT_PUBLIC_FEATURE_SVG_NUMERIC_FILTERS: z.string().optional(),\n    NEXT_PUBLIC_ORGANIC_DEPTH: z.string().optional(),\n    NEXT_PUBLIC_SAFE_MODE: createSafeModeSchema(\"NEXT_PUBLIC_SAFE_MODE\"),\n    NEXT_PUBLIC_SENTRY_DSN: optionalNonEmptyString,\n    NEXT_PUBLIC_SENTRY_ENVIRONMENT: optionalNonEmptyString,\n    NEXT_PUBLIC_SENTRY_TRACES_SAMPLE_RATE: optionalNonEmptyString,\n    NEXT_PUBLIC_FEATURE_GLITCH_LANDING: z.string().optional(),\n    NEXT_PUBLIC_UI_GLITCH_LANDING: z.string().optional(),\n  })\n  .superRefine((value, ctx) => {\n    const hasSentryConfig =\n      value.NEXT_PUBLIC_SENTRY_ENVIRONMENT !== undefined ||\n      value.NEXT_PUBLIC_SENTRY_TRACES_SAMPLE_RATE !== undefined;\n\n    if (!value.NEXT_PUBLIC_SENTRY_DSN && hasSentryConfig) {\n      ctx.addIssue({\n        path: [\"NEXT_PUBLIC_SENTRY_DSN\"],\n        code: z.ZodIssueCode.custom,\n        message:\n          \"NEXT_PUBLIC_SENTRY_DSN is required when configuring browser Sentry options.\",\n      });\n    }\n  });\n\nexport const serverEnvSchema = z\n  .object({\n    GITHUB_PAGES: z.string().optional(),\n    NEXT_PHASE: z.string().optional(),\n    NODE_ENV: z.enum([\"development\", \"production\", \"test\"]).default(\"development\"),\n    SAFE_MODE: createSafeModeSchema(\"SAFE_MODE\"),\n    SENTRY_DSN: optionalNonEmptyString,\n    SENTRY_ENVIRONMENT: optionalNonEmptyString,\n    SENTRY_TRACES_SAMPLE_RATE: optionalNonEmptyString,\n    SKIP_PREVIEW_STATIC: z.string().optional(),\n  })\n  .superRefine((value, ctx) => {\n    const hasSentryConfig =\n      value.SENTRY_ENVIRONMENT !== undefined ||\n      value.SENTRY_TRACES_SAMPLE_RATE !== undefined;\n\n    if (!value.SENTRY_DSN && hasSentryConfig) {\n      ctx.addIssue({\n        path: [\"SENTRY_DSN\"],\n        code: z.ZodIssueCode.custom,\n        message:\n          \"SENTRY_DSN is required when configuring server Sentry options.\",\n      });\n    }\n  });\n\nexport type ClientEnv = z.infer<typeof clientEnvSchema>;\nexport type ServerEnv = z.infer<typeof serverEnvSchema>;\n","import { SAFE_MODE_FALLBACK } from \"./schema\";\n\nconst inlineSafeMode = process.env.NEXT_PUBLIC_SAFE_MODE;\n\nexport function resolveProcessEnv(\n  source?: NodeJS.ProcessEnv,\n): NodeJS.ProcessEnv {\n  if (source) {\n    return source;\n  }\n\n  if (typeof process !== \"undefined\") {\n    return process.env as NodeJS.ProcessEnv;\n  }\n\n  return {} as NodeJS.ProcessEnv;\n}\n\nexport function ensureClientSafeMode(\n  source: NodeJS.ProcessEnv,\n): NodeJS.ProcessEnv {\n  if (source.NEXT_PUBLIC_SAFE_MODE !== undefined) {\n    return source;\n  }\n\n  const resolvedSafeMode = inlineSafeMode ?? SAFE_MODE_FALLBACK;\n\n  const setProcessEnvValue = (key: keyof NodeJS.ProcessEnv, value: string) => {\n    if (typeof process === \"undefined\") {\n      return;\n    }\n\n    Reflect.set(process.env, key, value);\n  };\n\n  const nextEnv: NodeJS.ProcessEnv = {\n    ...source,\n    NEXT_PUBLIC_SAFE_MODE: resolvedSafeMode,\n  };\n\n  const shouldMirrorSafeMode = !source.SAFE_MODE || !source.SAFE_MODE.trim();\n\n  if (shouldMirrorSafeMode) {\n    nextEnv.SAFE_MODE = resolvedSafeMode;\n  }\n\n  if (typeof process !== \"undefined\" && source === process.env) {\n    setProcessEnvValue(\"NEXT_PUBLIC_SAFE_MODE\", resolvedSafeMode);\n\n    if (shouldMirrorSafeMode) {\n      setProcessEnvValue(\"SAFE_MODE\", resolvedSafeMode);\n    }\n  }\n\n  if (\n    inlineSafeMode === undefined &&\n    typeof console !== \"undefined\" &&\n    typeof console.warn === \"function\"\n  ) {\n    console.warn(\n      '[env] NEXT_PUBLIC_SAFE_MODE was missing; defaulting to \"true\" so the runtime keeps stricter guardrails.',\n    );\n  }\n\n  return nextEnv;\n}\n","import {\n  clientEnvSchema,\n  SAFE_MODE_FALLBACK,\n  type ClientEnv,\n} from \"./schema\";\nimport { resolveProcessEnv } from \"./shared\";\n\nexport function loadClientEnv(source?: NodeJS.ProcessEnv): ClientEnv {\n  const envSource = resolveProcessEnv(source);\n  const safeMode = envSource.NEXT_PUBLIC_SAFE_MODE ?? SAFE_MODE_FALLBACK;\n\n  return clientEnvSchema.parse({\n    NEXT_PUBLIC_BASE_PATH: envSource.NEXT_PUBLIC_BASE_PATH,\n    NEXT_PUBLIC_GITHUB_PAGES: envSource.NEXT_PUBLIC_GITHUB_PAGES,\n    NEXT_PUBLIC_DEPTH_THEME: envSource.NEXT_PUBLIC_DEPTH_THEME,\n    NEXT_PUBLIC_ENABLE_METRICS: envSource.NEXT_PUBLIC_ENABLE_METRICS,\n    NEXT_PUBLIC_METRICS_ENDPOINT: envSource.NEXT_PUBLIC_METRICS_ENDPOINT,\n    NEXT_PUBLIC_FEATURE_SVG_NUMERIC_FILTERS:\n      envSource.NEXT_PUBLIC_FEATURE_SVG_NUMERIC_FILTERS,\n    NEXT_PUBLIC_ORGANIC_DEPTH: envSource.NEXT_PUBLIC_ORGANIC_DEPTH,\n    NEXT_PUBLIC_SAFE_MODE: safeMode,\n    NEXT_PUBLIC_SENTRY_DSN: envSource.NEXT_PUBLIC_SENTRY_DSN,\n    NEXT_PUBLIC_SENTRY_ENVIRONMENT: envSource.NEXT_PUBLIC_SENTRY_ENVIRONMENT,\n    NEXT_PUBLIC_SENTRY_TRACES_SAMPLE_RATE:\n      envSource.NEXT_PUBLIC_SENTRY_TRACES_SAMPLE_RATE,\n    NEXT_PUBLIC_FEATURE_GLITCH_LANDING: envSource.NEXT_PUBLIC_FEATURE_GLITCH_LANDING,\n    NEXT_PUBLIC_UI_GLITCH_LANDING: envSource.NEXT_PUBLIC_UI_GLITCH_LANDING,\n  });\n}\n\nexport default loadClientEnv;\n","import { serverEnvSchema, type ServerEnv } from \"./schema\";\nimport { ensureClientSafeMode, resolveProcessEnv } from \"./shared\";\n\nfunction withSafeModeFallback(source: NodeJS.ProcessEnv): NodeJS.ProcessEnv {\n  const envWithFallback = ensureClientSafeMode(source);\n\n  if (envWithFallback.SAFE_MODE !== undefined) {\n    return envWithFallback;\n  }\n\n  const safeModeKey = \"SAFE_MODE\";\n\n  const nextEnv: NodeJS.ProcessEnv = {\n    ...envWithFallback,\n    [safeModeKey]: envWithFallback.NEXT_PUBLIC_SAFE_MODE,\n  };\n\n  if (typeof process !== \"undefined\" && source === process.env) {\n    process.env[safeModeKey] = nextEnv[safeModeKey];\n  }\n\n  return nextEnv;\n}\n\nexport function loadServerEnv(source?: NodeJS.ProcessEnv): ServerEnv {\n  const envSource = withSafeModeFallback(resolveProcessEnv(source));\n\n  return serverEnvSchema.parse({\n    GITHUB_PAGES: envSource.GITHUB_PAGES,\n    NEXT_PHASE: envSource.NEXT_PHASE,\n    NODE_ENV: envSource.NODE_ENV,\n    SAFE_MODE: envSource.SAFE_MODE,\n    SENTRY_DSN: envSource.SENTRY_DSN,\n    SENTRY_ENVIRONMENT: envSource.SENTRY_ENVIRONMENT,\n    SENTRY_TRACES_SAMPLE_RATE: envSource.SENTRY_TRACES_SAMPLE_RATE,\n    SKIP_PREVIEW_STATIC: envSource.SKIP_PREVIEW_STATIC,\n  });\n}\n\nexport default loadServerEnv;\n","import loadClientEnvImpl from \"./client\";\nimport loadServerEnvImpl from \"./server\";\nimport {\n  SAFE_MODE_FALLBACK,\n  type ClientEnv,\n  type ServerEnv,\n} from \"./schema\";\nimport { ensureClientSafeMode, resolveProcessEnv } from \"./shared\";\n\nlet cachedClientEnv: ClientEnv | null = null;\nlet cachedServerEnv: ServerEnv | null = null;\n\nexport const loadClientEnv = loadClientEnvImpl;\nexport const loadServerEnv = loadServerEnvImpl;\nexport type { ClientEnv, ServerEnv };\n\nexport function resetClientEnvCache(): void {\n  cachedClientEnv = null;\n}\n\nexport function resetServerEnvCache(): void {\n  cachedServerEnv = null;\n}\n\nexport function readClientEnv(): ClientEnv {\n  if (cachedClientEnv) {\n    return cachedClientEnv;\n  }\n\n  const prepared = ensureClientSafeMode(resolveProcessEnv());\n\n  try {\n    cachedClientEnv = loadClientEnvImpl(prepared);\n    return cachedClientEnv;\n  } catch (error) {\n    console.error(\"[env] Failed to load client environment variables.\", error);\n\n    if (typeof process !== \"undefined\" && process.env.NODE_ENV !== \"test\") {\n      process.exitCode = 1;\n    }\n\n    throw error;\n  }\n}\n\nexport function readServerEnv(): ServerEnv {\n  if (cachedServerEnv) {\n    return cachedServerEnv;\n  }\n\n  try {\n    cachedServerEnv = loadServerEnvImpl();\n    return cachedServerEnv;\n  } catch (error) {\n    console.error(\"[env] Failed to load server environment variables.\", error);\n\n    if (typeof process !== \"undefined\" && process.env.NODE_ENV !== \"test\") {\n      process.exitCode = 1;\n    }\n\n    throw error;\n  }\n}\n\nexport { SAFE_MODE_FALLBACK };\n","\"use client\";\n\nimport * as React from \"react\";\nimport Image from \"next/image\";\nimport type { ImageProps } from \"next/image\";\nimport {\n  DEFAULT_HERO_STATE,\n  DEFAULT_HERO_VARIANT,\n  getHeroIllustration,\n  type HeroIllustrationState,\n} from \"@/data/heroImages\";\nimport { useOptionalTheme } from \"@/lib/theme-context\";\nimport type { Variant } from \"@/lib/theme\";\nimport { cn } from \"@/lib/utils\";\n\nexport interface HeroImageProps extends React.HTMLAttributes<HTMLDivElement> {\n  state?: HeroIllustrationState;\n  alt?: string;\n  themeOverride?: Variant;\n  imageProps?: Omit<ImageProps, \"src\" | \"alt\">;\n}\n\nexport function HeroImage({\n  state = DEFAULT_HERO_STATE,\n  alt,\n  themeOverride,\n  imageProps,\n  className,\n  ...rest\n}: HeroImageProps) {\n  const theme = useOptionalTheme();\n  const variant = themeOverride ?? theme?.[0].variant ?? DEFAULT_HERO_VARIANT;\n\n  const { src, alt: defaultAlt } = React.useMemo(\n    () => getHeroIllustration(variant, state),\n    [variant, state],\n  );\n\n  const normalizedAlt = React.useMemo(() => {\n    const value = typeof alt === \"string\" ? alt : defaultAlt ?? \"\";\n    return value.trim();\n  }, [alt, defaultAlt]);\n\n  const resolvedAlt = normalizedAlt.length > 0 ? normalizedAlt : \"\";\n  const ariaHidden = normalizedAlt.length === 0;\n\n  const { className: imageClassName, sizes = \"100vw\", priority = false, ...restImageProps } =\n    imageProps ?? {};\n\n  return (\n    <div\n      className={cn(\n        \"pointer-events-none absolute inset-0 overflow-hidden\",\n        className,\n      )}\n      {...rest}\n    >\n      <Image\n        src={src}\n        alt={resolvedAlt}\n        aria-hidden={ariaHidden ? true : undefined}\n        fill\n        priority={priority}\n        sizes={sizes}\n        className={cn(\n          \"object-contain object-right md:object-center\",\n          \"mix-blend-screen opacity-[var(--hero-illustration-opacity,0.8)] blur-[var(--hero-illustration-blur,0px)]\",\n          imageClassName,\n        )}\n        {...restImageProps}\n      />\n    </div>\n  );\n}\n","'use client'\n\nimport * as React from 'react'\nimport { Edit3, RefreshCcw, X } from 'lucide-react'\n\nimport {\n  Card,\n  CardContent,\n  CardDescription,\n  CardFooter,\n  CardHeader,\n  CardTitle,\n} from '@/components/ui/Card'\nimport { Button } from '@/components/ui/primitives/Button'\nimport { IconButton } from '@/components/ui/primitives/IconButton'\nimport { cn } from '@/lib/utils'\n\nexport type AIOutputAction = {\n  label: string\n  onSelect?: () => void\n  icon?: React.ReactNode\n  'aria-label'?: string\n}\n\nexport interface AIOutputProps extends React.HTMLAttributes<HTMLDivElement> {\n  title?: string\n  confidence?: number | null\n  actions?: AIOutputAction[]\n  onEdit?: () => void\n  onRetry?: () => void\n  onDismiss?: () => void\n  children: React.ReactNode\n  tone?: 'default' | 'info' | 'success' | 'danger'\n}\n\nexport function AIOutput({\n  title = 'AI suggestion',\n  confidence,\n  actions,\n  onEdit,\n  onRetry,\n  onDismiss,\n  children,\n  className,\n  tone = 'info',\n  ...rest\n}: AIOutputProps) {\n  const [dismissed, setDismissed] = React.useState(false)\n  const confidenceLabel =\n    typeof confidence === 'number'\n      ? `${confidence.toFixed(0)}% confidence`\n      : 'Confidence unknown'\n\n  const actionList = actions?.filter(Boolean) ?? []\n\n  if (dismissed) {\n    return null\n  }\n\n  const handleDismiss = () => {\n    setDismissed(true)\n    onDismiss?.()\n  }\n\n  return (\n    <Card\n      role=\"status\"\n      aria-live=\"polite\"\n      status={tone === 'danger' ? 'error' : tone === 'success' ? 'success' : 'info'}\n      className={cn('relative overflow-hidden bg-card/70', className)}\n      {...rest}\n    >\n      <CardHeader className=\"flex flex-col gap-[var(--space-2)]\">\n        <div className=\"flex items-start justify-between gap-[var(--space-3)]\">\n          <div className=\"space-y-[var(--space-1)]\">\n            <CardTitle className=\"text-lg font-semibold\">{title}</CardTitle>\n            <CardDescription className=\"flex items-center gap-[var(--space-2)] text-muted-foreground\">\n              <span aria-live=\"polite\">{confidenceLabel}</span>\n            </CardDescription>\n          </div>\n          <div className=\"flex flex-wrap items-center gap-[var(--space-2)]\" role=\"group\" aria-label=\"Suggestion controls\">\n            {onEdit ? (\n              <IconButton\n                size=\"sm\"\n                variant=\"ghost\"\n                aria-label=\"Edit suggestion\"\n                onClick={onEdit}\n              >\n                <Edit3 className=\"size-[var(--space-3)]\" />\n              </IconButton>\n            ) : null}\n            {onRetry ? (\n              <IconButton\n                size=\"sm\"\n                variant=\"ghost\"\n                aria-label=\"Retry suggestion\"\n                onClick={onRetry}\n              >\n                <RefreshCcw className=\"size-[var(--space-3)]\" />\n              </IconButton>\n            ) : null}\n            <IconButton\n              size=\"sm\"\n              variant=\"ghost\"\n              aria-label=\"Dismiss suggestion\"\n              onClick={handleDismiss}\n            >\n              <X className=\"size-[var(--space-3)]\" />\n            </IconButton>\n          </div>\n        </div>\n      </CardHeader>\n      <CardContent className=\"space-y-[var(--space-3)]\" aria-live=\"polite\">\n        {typeof children === 'string' ? <p className=\"text-body leading-relaxed\">{children}</p> : children}\n      </CardContent>\n      {actionList.length > 0 ? (\n        <CardFooter className=\"flex flex-wrap gap-[var(--space-2)]\">\n          {actionList.map((action, index) => (\n            <Button\n              key={`${action.label}-${index}`}\n              variant=\"secondary\"\n              size=\"sm\"\n              onClick={action.onSelect}\n              aria-label={action['aria-label'] ?? (typeof action.label === 'string' ? action.label : undefined)}\n              className=\"group\"\n            >\n              {action.icon ? <span className=\"mr-[var(--space-1)] inline-flex items-center\">{action.icon}</span> : null}\n              {action.label}\n            </Button>\n          ))}\n        </CardFooter>\n      ) : null}\n    </Card>\n  )\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"sidebar\":\"Sidebar_sidebar__5oZEx\",\"content\":\"Sidebar_content__yvMVv\",\"pane\":\"Sidebar_pane__uNMQt\"};"],"names":["TOGGLE_STATES","id","name","code","className","props","disabled","loading","ToggleStatePreview","state","mergedClassName","cn","Toggle","leftLabel","rightLabel","ToggleGalleryPreview","value","setValue","React","div","onChange","next","p","map","ToggleGallery","defineGallerySection","entries","description","kind","tags","type","defaultValue","axes","label","values","preview","createGalleryPreview","render","states","InsetRow","ref","labelId","labelIdProp","descriptionId","descriptionIdProp","actions","errorMessage","errorMessageId","errorMessageIdProp","contentClassName","children","rest","generatedId","undefined","describedBy","ids","push","length","join","role","aria-labelledby","aria-describedby","styles","displayName","depthShadowClasses","base","raised","sunken","hasCardOverlay","node","Array","isArray","some","child","element","Card","asChild","depth","glitch","overlay","status","restProps","baseClassName","default","info","success","error","glitchOverlay","span","aria-hidden","data-card-overlay","style","maskImage","glitchSprite","baseProps","glitchText","providedGlitchText","childCount","count","only","content","Slot","CardHeader","CardTitle","h3","CardDescription","CardContent","CardFooter","CardBody","SectionCardContext","SECTION_CARD_NOISE_STYLES","none","backgroundImage","subtle","moderate","SectionCardRoot","variant","noiseLevel","headingId","setHeadingId","contextValue","resolvedNoiseLevel","noiseStyle","variables","showNoiseBackground","variantClassName","Provider","section","data-variant","SectionCardHeader","sticky","topClassName","title","titleAs","titleClassName","autoId","hasTitle","shouldUseDefaultLayout","renderedTitle","test","headingElement","HeadingTag","SectionCardBody","context","labelledBy","SectionCard","Object","assign","Header","Body","AIRetryErrorBubble","message","hint","onRetry","retryLabel","DEFAULT_RETRY_LABEL","icon","retryAction","Button","size","tone","onClick","RotateCcw","aria-live","AlertTriangle","TONE_SET","Set","ICON_SIZE_VARS","xs","sm","md","lg","xl","NeonIcon","Icon","on","colorVar","scanlines","aura","prev","phase","setPhase","current","t","setTimeout","clearTimeout","lit","toneAttr","toTone","has","normalized","startsWith","slice","data-phase","data-size","data-tone","width","height","strokeWidth","NeonGlowWrap","Textarea","textareaClassName","resize","ariaLabel","finalId","finalName","isInvalid","useFieldIds","ariaInvalid","slugifyFallback","loadingAttr","Field","Root","invalid","readOnly","aria-label","BASE_PROPS","Zap","NEON_ICON_STATES","NeonIconStatePreview","NeonIconGalleryPreview","NeonIconGallery","ICON_BUTTON_VARIANTS","defaultIcon","toneTintTokens","primary","accent","danger","toneInteractionTokens","primaryShadowVars","secondarySurfaceTokens","baseVariantBase","quiet","primaryVariantBase","neo","variantBase","baseToneClasses","toneForegroundVar","toneClasses","IconButton","resolvedAriaLabel","iconSize","ariaLabelledBy","glitchIntensity","animationsDisabled","useAnimationsDisabled","reduceMotion","useReducedMotion","appliedIconSize","trimmedAriaLabel","trim","trimmedTitle","normalizedAriaLabel","normalizedTitle","trimmedAriaLabelledBy","normalizedAriaLabelledBy","iconOnly","hasTextContent","shouldWarn","resolvedVariant","resolveUIVariant","allowed","fallback","shouldGlitch","toneKey","variantClass","domProps","motion","button","neumorphicStyles","sizeClass","iconMap","data-loading","data-glitch","data-text","whileHover","scale","whileTap","data-reduce-motion","BlobContainer","overlayToken","DripEdge","useScopedCssVars","attribute","vars","enabled","scopeProps","cssVars","String","CatCompanionIcon","ariaHidden","focusable","svg","viewBox","fill","computedRole","computedAriaHidden","computedFocusable","path","d","CAT_COMPANION_PATH","process","EMAIL_PATTERN","PHONE_PATTERN","LOG_LEVEL_ORDER","warn","debug","CONSOLE_METHOD","payload","console","rawMinimumLevel","env","NEXT_PUBLIC_LOG_LEVEL","LOG_LEVEL","MIN_LEVEL","keys","includes","replace","redactUnknown","options","deep","seen","WeakSet","maxDepth","MAX_DEPTH","redactString","toString","Date","toISOString","Error","stack","limited","MAX_ARRAY_LENGTH","item","objectValue","add","objectEntries","limitedEntries","MAX_OBJECT_KEYS","key","entryValue","fromEntries","normalizeScope","scope","createLogMethod","level","sanitizedContext","sanitizeContext","prefixLabel","buildPrefix","details","shouldLog","sanitizedMessage","sanitizedDetails","detail","timestamp","createLogger","logMethods","suffix","childContext","persistenceLogger","rovingItems","VARIANTS","ThemeSelector","align","onValueChange","ariaLabelledby","ariaDescribedby","syncTheme","themeContext","useOptionalTheme","themeState","setThemeState","usePrefersReducedMotion","fallbackVariant","defaultTheme","initialVariantRef","internalVariant","setInternalVariant","activeVariant","handleVariantChange","previous","items","activeKey","registerTab","setActiveValue","onKeyDown","useRovingTabState","labelProps","GlitchSegmentedGroup","aria-disabled","variantId","selected","GlitchSegmentedButton","aria-checked","isDisabled","tabIndex","event","preventDefault","stopPropagation","resolveTokenVar","token","noiseToken","noiseActiveToken","animate","withNoise","overlayVar","noiseVar","activeNoiseVar","mergedStyle","overlayHoverVar","overlayTargetVar","overlayActiveVar","noiseHoverVar","noiseTargetVar","noiseActiveScaledVar","noiseActiveBaseVar","blobAnimationClass","noiseAnimationClass","buttonSizes","padding","text","gap","MotionSlot","create","MotionAnchor","a","ghostSurfaceTokens","tactile","contentClass","boxShadow","neuRaised","neuInset","variants","baseVariants","buttonProps","reduceMotionPreference","Boolean","disabledProp","isLink","href","s","spinnerSize","buttonSpinnerSizes","organicDepth","useOrganicDepthEnabled","BUTTON_VARIANTS","resolvedVariantClass","variantHover","hoverAnimation","contentClasses","providedGlitchTextRaw","renderInnerContent","Spinner","contentChildren","slotProps","anchorProps","target","rel","download","resolvedHref","trimmedHref","hasScheme","isProtocolRelative","isHash","withBasePath","resolvedRel","typeProp","RADIO_ICON_GROUP_DEMO_OPTIONS","Sun","MoonStar","Flame","ShieldHalf","firstControlSelector","hoverPreviewClassName","focusPreviewClassName","activePreviewClassName","RADIO_ICON_GROUP_STATE_SPECS","RadioIconGroupStatePreview","RadioIconGroup","RADIO_GROUP_BASE_PROPS","RadioIconGroupMatrix","instanceId","RADIO_ICON_GROUP_SIZES","RADIO_ICON_GROUP_TONES","RadioIconGroupGalleryPreview","setTone","setSize","handleValueChange","select","option","toneOption","sizeOption","RadioIconGroupGallery","required","usage","Split","left","right","headerTabs","Circle","CircleDot","CircleCheck","headerUnderlineToneExamples","underlineTone","HeaderGalleryPreview","find","tab","activeLabel","example","eyebrow","heading","subtitle","tabs","HeaderGallery","Toast","open","onOpenChange","duration","closable","showProgress","onPointerEnter","onPointerEnterProp","onPointerLeave","onPointerLeaveProp","onFocus","onFocusProp","onBlur","onBlurProp","cardProps","mounted","useMounted","timerRef","animationFrameRef","startTimeRef","startRemainingRef","remainingTimeRef","interactionCountRef","timeLeft","setTimeLeft","cancelDismissal","window","cancelAnimationFrame","tick","elapsed","performance","now","Math","max","requestAnimationFrame","scheduleDismissal","pauseDismissal","handleInteractionStart","handleInteractionEnd","progress","min","progressScopeProps","progressStyle","createPortal","previousTarget","relatedTarget","Node","currentTarget","contains","nextTarget","X","data-progress","document","body","HEIGHT_MAP","FIELD_ROOT_BASE","FieldRoot","helper","helperId","helperTone","counter","counterId","spinner","wrapperClassName","inlineStyle","heightKey","hasOwn","numericHeight","isCustomHeight","Number","isFinite","resolvedCustomHeight","resolveHeight","helperVariant","showHelper","showCounter","fieldState","customHeightStyle","isSunken","data-field-height","data-custom-height","data-field-state","data-disabled","data-invalid","data-readonly","resolvedGlitchText","aria-busy","data-slot","FieldInput","indent","hasEndSlot","input","FieldTextarea","textarea","FieldSelect","FieldSearch","forwardedRef","clearable","clearLabel","onClear","inputRef","isControlled","uncontrolledValue","setUncontrolledValue","currentValue","setRefs","handleChange","showSpinner","showClear","finalDisabled","Search","focus","Input","Select","VirtualizedSpacer","position","spacerId","useSpacerId","reactId","concat","ariaHiddenProps","blockSize","data-spacer-id","defaultRenderSpacer","VirtualizedListComponent","VirtualizedList","rowHeight","overscan","renderItem","getKey","scrollParentRef","renderSpacer","scrollTop","viewportHeight","useViewportMeasurements","setScrollTop","containerRef","setViewportHeight","frame","updateScroll","nextTop","resizeObserver","ResizeObserver","clientHeight","addEventListener","passive","observe","removeEventListener","disconnect","clampedScrollTop","clampScrollTop","itemsLength","maxScroll","startIndex","endIndex","offsetStart","offsetEnd","safeViewport","floor","itemsInView","ceil","index","widthClassNames","auto","full","toneClassNames","Snackbar","actionLabel","actionAriaLabel","onAction","toneClassName","widthClassName","NEUTRAL_TOKENS","background","cssVar","panel","surface","border","ACCENT_PRESETS","accent1","accent1Soft","accent1Contrast","accent1Foreground","accent2","accent2Foreground","accent3","glow","format","supportive","life","warning","getAccentColors","acc","descriptor","resolveToken","SegmentedButton","as","Comp","resolvedSelected","cls","isButton","shouldPrefixHref","skipForNextLink","shouldSkipBasePath","handleClick","shouldHandleClick","data-selected","data-depth","aria-pressed","aria-current","data-align","EXACT_SPACING_TOKENS","Map","toSpacingValue","get","abs","formatMultiplier","toFixed","offset","blur","negativeOffset","round","positiveOffset","blurValue","SEVERITY_CLASSNAMES","critical","IssueBadge","targetId","expanded","severity","computedId","buttonType","aria-controls","aria-expanded","data-expanded","LEVEL_CONFIG","low","ShieldAlert","medium","ShieldQuestion","high","ShieldCheck","toneBackground","toneForeground","barTone","AIConfidenceHint","score","formatScore","defaultFormat","config","scoreLabel","normalizedScore","isNaN","from","_","isActive","step","PageShell","grid","Component","baseShellClassName","layoutGridClassName","noisy","ring","isLegacyUiEnabled","LegacyPageShell","LegacyShell","CONTROL_VARIANTS","soft","ghost","minimal","plain","secondary","destructive","resolveControlVariant","normalizeControlVariant","CONTROL_VARIANT_ALIASES","mapped","QUERY","prefersReducedMotion","matchMedia","matches","useMatchMedia","reportFeatureFlagAnalytics","eventDetail","emitTelemetryEvent","eventName","domEventName","dataLayer","feature_flag","flag","feature_flag_enabled","feature_flag_state","cachedRuntimeBasePath","normalizeBasePath","segments","collectPathSegments","trimmed","split","segment","filter","twMerge","extendTailwindMerge","extend","theme","NEXT_PUBLIC_BASE_PATH","readClientEnv","NORMALIZED_BASE","normalizeRuntimeBasePath","candidate","getBasePath","runtimeBase","readRuntimeBasePath","nextWindow","runtimeRouterBase","router","basePath","attributeBase","documentElement","getAttribute","nextDataAssetPrefix","__NEXT_DATA__","assetPrefix","nextDataBasePath","runtimeConfig","ABSOLUTE_URL_PATTERN","isAbsoluteUrl","LOCALE","inputs","clsx","trimmedPath","trailingSlash","normalizedPath","resultPath","queryIndex","search","pathname","endsWith","lastSlashIndex","lastIndexOf","withoutBasePath","remainder","capitalize","toUpperCase","clamp","n","slugify","toLowerCase","HTML_ESCAPE_MAP","sanitizeText","c","radiusClasses","card","Skeleton","radius","resolvedAriaHidden","ariaHiddenAttr","ThemeContext","ThemeFeatureFlagsContext","glitchLandingEnabled","ThemeProvider","glitchLandingDefault","hydrated","setHydrated","defaultThemeValue","initialThemeState","classList","themeClass","rawVariant","variantEntry","backgroundIndex","BG_CLASSES","findIndex","bg","resolvedBackground","setTheme","usePersistentState","THEME_STORAGE_KEY","decode","decodeThemeState","defaultThemeRef","pendingPersistedSyncRef","expectedThemeClass","currentThemeClass","currentBackgroundClass","expectedBackgroundClass","defaultState","isDefaultSelection","themeClassMismatch","dataset","themePref","backgroundMismatch","applyTheme","glitchLanding","featureValue","useTheme","ctx","useUiFeatureFlags","isRight","leftId","rightId","toggle","handleKeyDown","e","defaultPrevented","STATE_TOKEN_CLASSES","data-side","data-active","toneToBorderClass","sizeToVariableClass","ICON_SIZE","LABEL_SIZE","groupId","toneClass","radioIconGroupToneClasses","resolvedLabel","optionId","checked","optionDisabled","data-state","data-part","htmlFor","lift","AILoadingShimmer","lines","showAvatar","DEFAULT_LABEL","normalizedLines","MIN_LINES","HERO_SCENES","src","alt","bob","bobDuration","tilt","objectPosition","HeroScene","scene","trimmedAlt","sceneAlt","bobAmount","data-scene","Image","sizes","priority","HERO_NOISE_STYLES","Hero","searchBar","searchConfig","barClassName","bodyClassName","barVariant","dividerTint","subTabs","illustration","illustrationState","illustrationAlt","heroHeading","headingStr","heroVariant","shouldRenderGlitchStyles","isRaisedBar","showDividerGlow","classes","useHeroStyles","iconNode","headingContent","h2","tabsNode","mapTabs","legacy","showBaseline","heroItems","linkPanels","idBase","resolvedValue","sanitizedLabel","sanitizedLabelledBy","accessibilityProps","TabBar","searchProps","heroIllustrationAlt","illustrationNode","HeroImage","HeroGlitchStyles","NeomorphicFrameStyles","shell","bar","labelCluster","raisedLabelBar","utilities","divider","data-divider-tint","dividerLine","dividerGlow","actionRow","searchWell","HeroSearchBar","actionsWell","actionCluster","BODY_DIALOG_LOCK_ATTRIBUTE","BODY_DIALOG_LOCK_VALUE","dialogLockCounts","WeakMap","useDialogTrap","onClose","focusableRef","doc","ownerDocument","previouslyActive","activeElement","restoreTabIndex","lockBody","set","updateFocusable","nodes","querySelectorAll","FOCUSABLE_SELECTORS","hasAttribute","focusElement","setAttribute","preventScroll","focusFirst","first","hasFocusable","active","isInDialog","last","shiftKey","observer","MutationObserver","subtree","childList","attributes","attributeFilter","unlockBody","delete","removeAttribute","forEach","NEXT_PUBLIC_USE_LEGACY_UI","PANEL_WRAPPER_BASE_CLASSES","PANEL_TITLE_STACK_CLASSES","PANEL_ACTION_LIST_CLASSES","PANEL_HERO_CONTAINER_CLASSES","PAGE_ACCENT_DEFAULTS","resolveActions","action","resolvedSize","PanelHero","hero","heroPlacement","headingLevel","heroClassName","actionsLabel","headingIdProp","styleProp","accentColors","accentVariables","subtitleId","actionsId","headingTag","heroNode","actionButtons","HeadingComponent","LayoutHeroWrapper","_variant","pageAccent","accentDefaults","resolvedTone","resolvedDividerTint","actionContent","LayoutHero","HeroBase","isPanelProps","image","heroVisual","HeroWithLegacy","LegacyHero","HeaderTabs","onKeyDownProp","sanitizedAriaLabel","sanitizedAriaLabelledBy","rovingKeyDown","useId","baseId","aria-orientation","tabId","panelId","controls","aria-selected","setRef","SIZE_STYLES","paddingX","caret","prefix","AnimatedSelect","dropdownClassName","buttonClassName","containerClassName","placeholder","hideLabel","matchTriggerWidth","stylesOverride","defaultStyles","sizeStyles","DEFAULT_TRIGGER_SIZE","setOpen","setTriggerRef","onTriggerKeyDown","onListKeyDown","listRef","listboxId","triggerAria","scheduleMeasure","selectByIndex","setActiveIndex","placement","fixedStyles","yOffset","motionDurationSm","useAnimatedSelect","handleToggle","AnimatedSelectTrigger","triggerRef","onToggle","AnimatedSelectList","NativeSelect","selectClassName","helperText","errorText","successId","errorId","aria-invalid","it","ChevronDown","isNativeSelect","selectStyles","parseNumericValue","rawValue","parsed","RangeSlider","minLabel","maxLabel","labelClassName","descriptionClassName","minLabelClassName","maxLabelClassName","controlClassName","trackClassName","sliderId","valueProp","inputStyle","onInput","inputProps","numericMin","numericMax","clampValue","raw","initialValue","setCurrentValue","percent","baseStyle","handleInput","toneStops","stop1","stop2","stop3","resolveToneStops","TabsContext","useTabsContext","Tabs","internal","setInternal","controlled","activeValue","typedNext","TabList","sharedProps","labelledProps","TabPanel","forceMount","hidden","shouldRender","TEXTAREA_STATES","TextareaStatePreview","TextareaGalleryPreview","TextareaGallery","useDebouncedCallback","callback","delay","latestCallback","cancel","debounced","args","SIZE","CheckCircle","btnRef","justClearedTimeoutRef","igniteTimeoutRef","clearJustClearedTimeout","clearIgniteTimeout","hovered","setHovered","focused","setFocused","justCleared","setJustCleared","markJustCleared","prevChecked","cleanup","wantsOn","retriggerIgnite","onKey","onMouseEnter","onMouseLeave","onPointerDown","data-checked","data-lit","Check","defaultContext","freeze","organicDepthEnabled","DepthThemeContext","DepthThemeProvider","organicState","depthTheme","colorTokens","diameter","spacingTokens","stroke","ringTokenMap","ringEntries","reduce","ringFallbacks","inset","getRingMetrics","overrides","tokens","diameterFallback","strokeFallback","insetFallback","readNumberToken","radiusEntries","radiusTokens","char","resolveCssNumber","computedStyle","numeric","parseFloat","lower","parseVarFunction","extracted","extractBalancedSubstring","indexOf","openIndex","inner","hasFallback","variable","nextSeen","referenced","getPropertyValue","resolved","sanitized","lowerBody","varOpen","extractedVar","resolvedVar","rawVar","calcOpen","extractedCalc","nestedValue","cleaned","result","Function","getComputedStyle","root","SIZE_CONFIG","ringSize","halo","GlitchProgress","DEFAULT_MAX","safeMax","numericValue","displayPercent","sizeConfig","metrics","dimension","ariaDescribedBy","divProps","clampedValue","ProgressRingIcon","pct","NO_ANIMATIONS_CLASS","isAnimationsDisabled","setDisabled","sync","PRIMARY_NAV_LABEL","mobileIcon","Home","BookOpen","CalendarDays","Flag","Users","PanelsTopLeft","Sparkles","isNavActive","normalizePath","normalizedHref","RING_TONE_CLASS_MAP","inputClassName","ringTone","ariaLabelStrategy","showEndSlot","placeholderText","AITypingIndicator","isTyping","dotCount","DEFAULT_DOTS","avatar","dots","constrained","MIN_DOTS","MAX_DOTS","animationDelay","animationDuration","Label","Sheet","side","dialogRef","initial","x","transition","aria-modal","SEARCH_BAR_VARIANTS","SearchBar","onSubmit","debounceMs","autoComplete","autoCorrect","spellCheck","autoCapitalize","fieldClassName","query","setQuery","resolvedId","emitValueChange","cancelValueChange","hasCustomAriaLabel","inputField","variantFieldClasses","fieldVariant","form","labelFor","HERO_ILLUSTRATION_STATES","BASE_DESCRIPTION","DEFAULT_HERO_VARIANT","VARIANT_LABELS","buildStateMap","describeState","baseIllustration","getHeroIllustration","HERO_ILLUSTRATION_LIBRARY","variantAssets","DEFAULT_HERO_STATE","HEADER_VARIANTS","cx","parts","createTabsControl","defaultLabel","defaultClassName","tabItems","tabValue","tabOnChange","tabAriaLabel","tabAriaLabelledBy","tabClassName","tabSize","tabAlign","tabRight","tabShowBaseline","tabVariant","tablistClassName","tabRenderItem","tabIdBase","tabLinkPanels","useSegmentedControl","useSegmentedControlTabs","tabDomProps","sanitizedTabAriaLabel","sanitizedTabAriaLabelledBy","sanitizedItems","mergedTabClassName","hasTabBarSpecificProps","SegmentedControl","badge","HeaderTabsControl","navItems","navItemsLabel","nav","showThemeToggle","compact","underline","isNeo","isQuiet","tabControl","subTabControl","navLabel","navNode","Link","resolvedActions","leading","trailing","themeToggleNode","ThemeToggle","utilitiesNode","hasTabs","hasSubTabs","hasActions","hasUtilities","hasSearch","hasNav","hasChildren","stickyClasses","barPadding","bodyPadding","shouldRenderNeomorphicFrameStyles","header","shouldUseTranslucentSurface","translucentSurfaceClasses","minHeightClass","h1","showRightStack","shouldRenderBody","ForwardedCard","LegacyCard","ModernCard","ModernCardHeader","ModernCardTitle","ModernCardDescription","ModernCardContent","ModernCardFooter","TagInput","draft","setDraft","removeTag","tag","focusInput","Badge","interactive","addTag","tagRaw","uniqueId","noiseFilterId","DEFAULT_RING_SIZE","ringStrokeWidth","circumference","PI","defs","RingNoiseDefs","circle","cy","r","strokeLinecap","strokeDasharray","strokeDashoffset","baseSizeMap","sizeMap","toneBorder","neutral","top","jungle","mid","bot","support","toneInteraction","isStringElement","isButtonElement","isToggleBadge","prototype","hasOwnProperty","call","isSelected","userOnKeyDown","userOnClick","typeProps","roleProps","disabledProps","mergedOnKeyDown","click","noiseOverlayOpacity","NoiseOverlay","opacityClass","data-noise-overlay","SEARCH_BAR_NOOP","SEARCH_BAR_STATES","getProps","interactiveValue","onInteractiveChange","noop","renderFiltersButton","SearchBarStatePreview","helpers","SearchBarGalleryPreview","SearchBarGallery","ThemePicker","onVariantChange","loadingVariant","v","SettingsSelect","LabelStatePreview","inputId","LabelGalleryPreview","LabelGallery","getBuffer","bufferCtor","Buffer","binaryReplacer","_key","ArrayBuffer","isView","encodeBinary","view","Uint8Array","buffer","byteOffset","byteLength","__planner_binary__","bytes","btoa","binary","i","chunkSize","fromCharCode","chunk","subarray","o","l","BYTES_PER_ELEMENT","binaryReviver","decodeBinary","base64ToBytes","atob","encoded","charCodeAt","ctor","getTypedArrayConstructor","DataView","totalLength","stringifyWithBinary","serialized","JSON","stringify","parseJSON","parse","readLocal","localStorage","getItem","STORAGE_PREFIX","OLD_STORAGE_PREFIX","VERSIONED_STORAGE_PREFIX","STORAGE_VERSION","LEGACY_VERSION_PATTERN","migrated","createStorageKey","ensureMigration","isBrowser","removals","migrations","source","separatorIndex","candidateVersion","setItem","removeItem","writeQueue","writeTimer","flushWriteQueue","k","entry","baseWriteLocal","clear","scheduleWrite","issue","clonedValue","structuredClone","storageKey","baseReadLocal","legacyValue","writeLocal","removeLocal","targets","setState","initialRef","stateRef","stateRevisionRef","lastAppliedInitialSignatureRef","decodeRef","encodeRef","encode","computeSignature","decodeValue","encodeValue","fullKeyRef","loadedRef","pendingPersistenceRef","hasHydratedRef","pendingInitialResetKeyRef","lastAppliedInitialRef","ignoreNextStorageHydrationRef","renderRevision","nextFull","previousAppliedInitial","initialChanged","is","stateMatchesAppliedInitial","referenceSignature","currentSignature","shouldUseInitial","nextInitial","fullKey","fallbackKey","fromStorage","legacyKey","shouldUpdateState","nextState","skipStorageHydration","decoded","queuedRevision","stateChangedSinceQueue","nextSignature","initialSignature","handleExternal","handler","storageArea","newValue","setPersistentState","__planner_flush_bound","visibilityState","uidCounter","uid","cryptoObj","globalThis","crypto","randomUUID","cryptoRandomSuffix","getRandomValues","byte","padStart","idProp","nameProp","useFieldNaming","namingOptions","normalizeGeneratedId","fromAria","fallbackName","shouldUseAria","normalizedInvalid","ICON_BUTTON_STATES","Plus","ICON_BUTTON_STATE_SPECS","DEFAULT_ICON_BUTTON_STATES","IconButtonStatePreview","ICON_BUTTON_SIZES","IconButtonGalleryPreview","staticState","standardIconStates","IconButtonGallery","COLOR_PALETTES","aurora","neutrals","accents","isRecord","isVariant","VARIANT_ID_SET","rawBackground","isInteger","cl","classesToRemove","BG_CLASS_SET","remove","pref","prefersDark","BG_LABELS","ariaLabelAttr","cycleDisabled","cycleLoading","aria","hasMultipleBackgrounds","isCycleDisabled","announcement","setAnnouncement","prevVariantRef","prevBgRef","initializedRef","showFallback","groupLabel","setVariantPersist","timeout","cycleBg","isCycleLoading","ImageIcon","DIMENSION_PROPERTIES","formatCssValue","property","useFloatingStyleClass","positionValue","topValue","leftValue","transformValue","transform","bottomValue","bottom","rightValue","minWidthValue","minWidth","maxHeightValue","maxHeight","widthValue","heightValue","zIndexValue","zIndex","transformOriginValue","transformOrigin","hasFixedStyles","floatingStyle","formatted","withFallback","ROLE_BADGES","SIZE_OPTIONS","BadgeGalleryPreview","BadgeGallery","glitchMode","isGlitchSubtle","isGlitchOff","isGlitchDefault","shellPadding","slotWellSurface","baseSearchWell","baseActionWell","baseActionCluster","clusterGapClass","Progress","aria-valuemin","aria-valuemax","aria-valuenow","GlitchFieldState","FIELD_STATES","DefaultFieldState","FocusVisibleFieldState","InvalidFieldState","LoadingFieldState","DisabledFieldState","FieldWithCounterState","rows","SelectFieldState","SearchFieldState","setSearch","FIELD_STATE_SPECS","FieldGalleryPreview","FieldGallery","AIExplainTooltip","triggerLabel","explanation","shortcutHint","alignment","defaultOpen","triggerProps","tooltipId","sanitizedId","uncontrolledOpen","setUncontrolledOpen","isOpen","close","handleFocus","handleBlur","handlePointerEnter","handlePointerLeave","triggerClassName","onTriggerClick","onTriggerFocus","onTriggerBlur","onTriggerPointerEnter","onTriggerPointerLeave","triggerTone","restTriggerProps","clickHandler","keyHandler","focusHandler","blurHandler","pointerEnterHandler","pointerLeaveHandler","Info","alignClassNames","start","center","end","Modal","contentRef","handleClose","Dialog","sizeClassNames","AvatarFrame","media","before","after","innerClassName","surfaceClassName","rimClassName","glowClassName","railClassName","processedMedia","coerceMedia","BUTTON_STATES","BUTTON_STATE_SPECS","BUTTON_SIZE_ORDER","BUTTON_SIZE_LABELS","ICON_VARIANTS","ButtonStatePreview","ButtonGalleryPreview","standardStates","ButtonGallery","menuPosition","activeIndex","getInitialActiveIndex","selectedIndex","isOptionFocusable","getFirstFocusableIndex","getLastFocusableIndex","getNextFocusableIndex","direction","focusItem","rect","setRect","menuWidth","setMenuWidth","valueFromCss","measure","getBoundingClientRect","rafId","nextIndex","timer","onDocPointerDown","onSelect","viewportWidth","innerWidth","innerHeight","measuredWidth","GAP_PX","maxLeft","spaceBelow","spaceAbove","openDown","fallbackSpace","availableSpace","resolvedMaxHeight","triggerCls","glitchTrigger","containerCls","caretCls","caretOpen","textCls","aria-haspopup","data-open","ChevronRight","gbIris","gbChroma","gbFlicker","gbScan","SETTINGS_SELECT_BUTTON_CLASS","SETTINGS_SELECT_CONTAINER_CLASS","gradientNoiseOpacity","numberPattern","parsedGradientNoiseOpacity","defaultSlope","defaultTable","clampNumber","parseNumbers","match","parseNumber","getComputedValue","tokensToFilter","slope","numericSlope","FILTER_SLOPE_TOKEN","table","FILTER_TABLE_TOKEN","stdDeviation","numericStdDeviation","FILTER_STD_DEVIATION_TOKEN","gradientNoiseOpacityToken","gradientNoiseOpacityCssFallback","themeVariant","themeBackground","filterValues","setFilterValues","svgNumericFilters","filterValuesAreEqual","b","every","slopeValue","y","filterUnits","colorInterpolationFilters","feTurbulence","baseFrequency","numOctaves","seed","feColorMatrix","in","feComponentTransfer","feFuncA","feBlend","in2","mode","TitleBar","idText","GALLERY_SECTION_IDS","entryId","sections","part","charAt","AnimatePresence","ul","opacity","exit","ease","li","glitchOverlays","glitchOverlayItem","disabledItem","data-index","CatCompanion","getSpacingValue","mergeStyleVars","varStyle","Cluster","rowGap","justify","wrap","collapseBelow","collapse","gapValue","rowGapValue","alignItems","justifyContent","data-nowrap","data-collapse","variantClassNames","liveRegionAttributes","off","polite","assertive","Alert","liveRegion","regionProps","resolvedRole","resolvedAriaLive","ariaLive","BASE_CLASSNAME","ProgressRing","progressClassName","cap","showNoise","ringStroke","noiseId","vectorEffect","DecorLayer","forwardRef","primaryNavItems","NAV_ITEMS","deriveNavKey","SkipLink","normalizedTarget","BASE_CLASSES","Stack","largeGap","largeGapValue","Switcher","minItemWidth","threshold","distribution","data-distribution","tabRefs","focusTab","setAndFocus","currentIndex","BG_NAMES","Swatch","BackgroundPicker","onBgChange","loadingBackground","idx","setMounted","KEY","AnimationToggle","setEnabled","appliedByToggleRef","ZapOff","TAB_BAR_VARIANTS","h","px","ariaLabelledByAttr","isGlitch","neoVariantClassName","defaultVariantClassName","containerClasses","containerVariant","between","isLoading","el","defaultChildren","baseClass","segmentedButtonStyles","tabProps","customNode","heroSlotOrder","variantMap","contentSpacing","slot","marginTop","paddingTop","gapY","gapMd","single","dense","alignClassMap","spanClassMap","three","twoWithActions","two","solo","twoWithTabs","heroGridGaps","HeroGrid","heroColSpanClasses","heroColSpanLgClasses","HeroCol","spanLg","NeomorphicHeroFrame","variantStyles","labelledById","slots","roleProp","onFocusCapture","onBlurCapture","restWithoutCustomAttrs","sanitizedFrameDividerTint","heroDividerTintAttr","hasFocus","setHasFocus","normalizedSlots","hasSlot","normalizeSlot","isSlotConfig","slotCount","layout","getSlotLayout","present","aligns","handleFocusCapture","handleBlurCapture","resolvedChildren","slotMarginTopClass","slotPaddingTopClass","slotArea","slotLabel","slotLabelledById","unstyled","slotBareBaseClass","slotWellBaseClass","slotContentClass","haloClasses","data-has-focus","roleFromElement","data-hero-divider-tint","frameDividerTint","data-hero-slot-shadow","frameSlotShadow","heroSlotShadowAttr","AIAbortButton","onAbort","busy","resolvedDisabled","data-busy","StopCircle","NEXT_PUBLIC_FEATURE_SVG_NUMERIC_FILTERS","rawSvgNumericFilters","NEXT_PUBLIC_DEPTH_THEME","rawDepthTheme","NEXT_PUBLIC_ORGANIC_DEPTH","rawOrganicDepth","NEXT_PUBLIC_FEATURE_GLITCH_LANDING","rawFeatureGlitchLanding","NEXT_PUBLIC_UI_GLITCH_LANDING","rawLegacyGlitchLanding","NEXT_PUBLIC_SAFE_MODE","rawSafeMode","enabledValues","disabledValues","parseBooleanFlag","glitchLandingRaw","safeModeEnabled","isSafeModeEnabled","SEGMENTED_BUTTON_HOVER_STATE_CLASSNAME","SEGMENTED_BUTTON_FOCUS_VISIBLE_STATE_CLASSNAME","SEGMENTED_BUTTON_STATES","SEGMENTED_BUTTON_STATE_SPECS","SegmentedButtonStatePreview","SegmentedButtonGalleryPreview","SegmentedButtonGallery","SELECT_STATES","ITEMS","SelectStatePreview","stateItems","sampleItems","finalClassName","SelectGalleryPreview","SelectGallery","focusVisibleClassName","hoverClassName","projectTabs","statusTabs","statusLabels","inbox","updates","archive","TABS_STATE_ITEMS","hover","TABS_STATES","PanelCard","TabsGalleryPreview","statusTab","setStatusTab","TabsStatePreview","TabsGallery","INPUT_STATES","INPUT_STATE_SPECS","InputStatePreview","InputGalleryPreview","glitchState","InputGallery","observeMediaQuery","mediaQuery","handleLegacyChange","addListener","removeListener","getServerSnapshot","getMatches","setMatches","nextMatches","analytics","dataLayerDetail","dispatchEvent","CustomEvent","plausible","track","reportPlannerIslandError","island","digest","planner_island","planner_island_digest","baseLift","AIErrorCard","DEFAULT_TITLE","iconSizeMap","hoverStateClassName","filterItems","defaultItems","navigationItems","createStateItems","stateItem","TAB_BAR_STATES","TabBarStatePreview","TabBarGalleryPreview","filterTab","setFilterTab","defaultTab","navigationTab","setNavigationTab","setDefaultTab","TabBarGallery","SAFE_MODE_FALLBACK","z","envVar","optionalNonEmptyString","optional","clientEnvSchema","NEXT_PUBLIC_GITHUB_PAGES","NEXT_PUBLIC_ENABLE_METRICS","NEXT_PUBLIC_METRICS_ENDPOINT","createSafeModeSchema","NEXT_PUBLIC_SENTRY_DSN","NEXT_PUBLIC_SENTRY_ENVIRONMENT","NEXT_PUBLIC_SENTRY_TRACES_SAMPLE_RATE","superRefine","hasSentryConfig","addIssue","custom","GITHUB_PAGES","NEXT_PHASE","NODE_ENV","SAFE_MODE","SENTRY_DSN","SENTRY_ENVIRONMENT","SENTRY_TRACES_SAMPLE_RATE","SKIP_PREVIEW_STATIC","inlineSafeMode","resolveProcessEnv","loadClientEnv","envSource","safeMode","cachedClientEnv","prepared","ensureClientSafeMode","setProcessEnvValue","resolvedSafeMode","Reflect","nextEnv","shouldMirrorSafeMode","loadClientEnvImpl","exitCode","themeOverride","imageProps","defaultAlt","normalizedAlt","resolvedAlt","imageClassName","restImageProps","AIOutput","confidence","onEdit","onDismiss","dismissed","setDismissed","confidenceLabel","actionList","Edit3","RefreshCcw","handleDismiss"],"sourceRoot":"","ignoreList":[]}