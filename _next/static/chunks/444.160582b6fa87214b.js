"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[444],{50444:(e,t,l)=>{l.r(t),l.d(t,{CodexPromptsTab:()=>n});var r=l(95155),a=l(12115),s=l(80948),i=l(12414),c=l(21880);let o=[{value:"ChatGPT",label:"ChatGPT"},{value:"Codex review",label:"Codex review"},{value:"Notes",label:"Notes"}],u=()=>({title:"",prompt:"",category:"Codex review"});function n(e){let{prompts:t,query:l,savePrompt:n,updatePrompt:p,deletePrompt:d}=e,m=a.useId(),x=a.useId(),v=a.useId(),[h,b]=a.useState(u),C=a.useRef(h);a.useEffect(()=>{C.current=h},[h]);let[f,g]=a.useState(null),y=a.useCallback(()=>{let e=u();C.current=e,b(e),g(null)},[]),w=a.useCallback(e=>{var t,l,r,a,s;let i=null!=(r=null==(t=e.title)?void 0:t.trim())?r:"",c=null!=(a=null==(l=e.prompt)?void 0:l.trim())?a:"";if(!i||!c)return!1;let o=null!=(s=e.category)?s:"Codex review";if(f){let e=p(f,i,c);return e&&y(),e}let u=n(i,c,o);return u&&y(),u},[f,y,n,p]),N=a.useCallback(e=>{var t,l,r;let s=null!=(t=e.title)?t:"",i=null!=(l=e.prompt)?l:"",c=null!=(r=e.category)?r:"Codex review",o=C.current;if(o.title===s&&o.prompt===i&&o.category===c)return;let u={title:s,prompt:i,category:c};a.startTransition(()=>{C.current=u,b(u)})},[]),k=a.useCallback(e=>{var t;let l={title:e.title,prompt:e.text,category:null!=(t=C.current.category)?t:"Codex review"};C.current=l,b(l),g(e.id)},[]),j=a.useCallback(e=>{d(e.id)&&f===e.id&&y()},[d,f,y]),P=a.useMemo(()=>{var e,t,l,r;let a=null!=(l=null==(e=h.title)?void 0:e.trim())?l:"",s=null!=(r=null==(t=h.prompt)?void 0:t.trim())?r:"";return 0===a.length||0===s.length},[h.prompt,h.title]),S=f?"Update":"Save";return(0,r.jsxs)("div",{className:"flex flex-col gap-[var(--space-6)]",children:[(0,r.jsxs)("section",{"aria-labelledby":m,className:"flex flex-col gap-[var(--space-3)]",children:[(0,r.jsxs)("div",{className:"space-y-[var(--space-1)]",children:[(0,r.jsx)("h3",{id:m,className:"type-title",children:"Review checklist"}),(0,r.jsx)("p",{className:"text-ui text-muted-foreground",children:"Capture Codex review prompts that help validate architecture, testing, and release notes."})]}),(0,r.jsx)(s.Ub,{className:"p-[var(--space-4)]",children:(0,r.jsx)(i.C,{id:"codex-prompts-form-".concat(v),title:"New Codex prompt",fields:[{id:"title",label:"Title",placeholder:"Audit deployment plan",required:!0},{id:"category",label:"Category",type:"select",options:o,defaultValue:"Codex review"},{id:"prompt",label:"Prompt",placeholder:"Outline review checklistâ€¦",type:"textarea",rows:6,required:!0}],initialValues:h,submitLabel:S,submitDisabled:P,onSubmit:w,onValuesChange:N})})]}),(0,r.jsxs)("section",{"aria-labelledby":x,className:"flex flex-col gap-[var(--space-3)]",children:[(0,r.jsxs)("div",{className:"space-y-[var(--space-1)]",children:[(0,r.jsx)("h3",{id:x,className:"type-title",children:"Codex prompts"}),(0,r.jsx)("p",{className:"text-ui text-muted-foreground",children:"Saved checklists appear here for quick reuse during reviews."})]}),(0,r.jsx)(c.q,{prompts:t,query:l,onSelectPrompt:k,onEditPrompt:k,onDeletePrompt:j})]})]})}}}]);
//# sourceMappingURL=444.160582b6fa87214b.js.map