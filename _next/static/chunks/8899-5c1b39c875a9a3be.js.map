{"version":3,"file":"static/chunks/8899-5c1b39c875a9a3be.js","mappings":"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","sources":["webpack://_N_E/./src/components/prompts/StateTester.tsx","webpack://_N_E/./src/components/prompts/PromptsPage.tsx","webpack://_N_E/./src/components/prompts/ChatPromptsTab.tsx","webpack://_N_E/./src/components/prompts/types.ts","webpack://_N_E/./src/components/prompts/usePromptLibrary.ts","webpack://_N_E/./src/components/prompts/useNotes.ts","webpack://_N_E/./src/components/prompts/PersonaCard.tsx","webpack://_N_E/./src/components/prompts/usePersonas.ts","webpack://_N_E/./src/components/prompts/PromptsHeader.tsx","webpack://_N_E/./src/components/prompts/useChatPrompts.ts","webpack://_N_E/./src/components/prompts/tabs.ts","webpack://_N_E/./src/components/prompts/useCodexPrompts.ts","webpack://_N_E/./src/components/prompts/PromptForm.tsx","webpack://_N_E/./src/components/prompts/PromptCard.tsx","webpack://_N_E/../../../src/icons/search-x.ts","webpack://_N_E/./src/components/prompts/SavedPromptList.tsx"],"sourcesContent":["\"use client\";\n\nimport * as React from \"react\";\n\nimport { Button } from \"@/components/ui\";\nimport { Badge } from \"@/components/ui/primitives/Badge\";\nimport { cn } from \"@/lib/utils\";\n\ntype StateTesterProps = {\n  chips: ReadonlyArray<string>;\n  selectedChip?: string;\n  onSelect: (chip: string) => void;\n  groupLabel?: string;\n  className?: string;\n};\n\nexport function StateTester({\n  chips,\n  selectedChip,\n  onSelect,\n  groupLabel = \"Prompt chip filters\",\n  className,\n}: StateTesterProps) {\n  const [open, setOpen] = React.useState(false);\n  const panelId = React.useId();\n  const toggleRef = React.useRef<HTMLButtonElement | null>(null);\n  const panelRef = React.useRef<HTMLDivElement | null>(null);\n  const shouldRestoreFocus = React.useRef(false);\n\n  const handleToggle = React.useCallback(() => {\n    if (open) {\n      shouldRestoreFocus.current = true;\n    }\n\n    setOpen((previous) => !previous);\n  }, [open]);\n\n  const handleClose = React.useCallback(() => {\n    shouldRestoreFocus.current = true;\n    setOpen(false);\n  }, []);\n\n  const focusFirstChip = React.useCallback(() => {\n    const firstChip = panelRef.current?.querySelector<HTMLElement>(\n      \"[data-state-tester-chip=true]\",\n    );\n\n    if (firstChip) {\n      firstChip.focus({ preventScroll: true });\n      return;\n    }\n\n    panelRef.current?.focus({ preventScroll: true });\n  }, []);\n\n  React.useEffect(() => {\n    if (open) {\n      const frame = requestAnimationFrame(focusFirstChip);\n\n      return () => cancelAnimationFrame(frame);\n    }\n\n    if (shouldRestoreFocus.current) {\n      toggleRef.current?.focus({ preventScroll: true });\n      shouldRestoreFocus.current = false;\n    }\n  }, [focusFirstChip, open]);\n\n  const handleKeyDown = React.useCallback(\n    (event: React.KeyboardEvent<HTMLDivElement>) => {\n      if (event.key === \"Escape\") {\n        event.preventDefault();\n        handleClose();\n      }\n    },\n    [handleClose],\n  );\n\n  return (\n    <div\n      className={cn(\n        \"flex flex-col gap-[var(--space-2)]\",\n        \"px-[var(--space-2)] sm:px-[var(--space-1)] md:px-0\",\n        className,\n      )}\n    >\n      <Button\n        ref={toggleRef}\n        variant=\"quiet\"\n        size=\"sm\"\n        aria-expanded={open}\n        aria-controls={panelId}\n        onClick={handleToggle}\n        className=\"h-auto self-start p-0 text-muted-foreground underline-offset-4 hover:text-foreground\"\n      >\n        {open ? \"Hide badge states\" : \"Show badge states\"}\n      </Button>\n\n      {open ? (\n        <div\n          id={panelId}\n          ref={panelRef}\n          role=\"group\"\n          tabIndex={-1}\n          aria-label={groupLabel}\n          onKeyDown={handleKeyDown}\n          className={cn(\n            \"flex flex-col gap-[var(--space-2)]\",\n            \"rounded-[var(--radius-lg)]\",\n            \"border border-[color-mix(in_oklab,theme('colors.border')_80%,transparent)]\",\n            \"bg-[color-mix(in_oklab,theme('colors.panel')_85%,transparent)]\",\n            \"p-[var(--space-2)] shadow-[var(--shadow-border-md)]\",\n            \"focus:outline-none focus-visible:ring-2 focus-visible:ring-[theme('colors.focus.visible')] focus-visible:ring-offset-2\",\n          )}\n        >\n          <p className=\"text-sm text-muted-foreground\">\n            Try out the badge interaction states without cluttering the hero layout.\n          </p>\n\n          <div\n            className={cn(\n              \"flex items-center gap-[var(--space-2)]\",\n              \"overflow-x-auto\",\n              \"pb-[var(--space-1)]\",\n              \"[-webkit-overflow-scrolling:touch]\",\n            )}\n          >\n            {chips.map((chip, index) => {\n              const isSelected = selectedChip === chip;\n\n              return (\n                <Badge\n                  key={chip}\n                  interactive\n                  selected={isSelected}\n                  aria-pressed={isSelected}\n                  onClick={() => onSelect(chip)}\n                  data-state-tester-chip={index === 0 ? \"true\" : undefined}\n                  tone=\"accent\"\n                  className={cn(\n                    \"[--badge-surface:transparent]\",\n                    \"border-[theme('colors.interaction.accent.surfaceHover')]\",\n                    \"text-muted-foreground\",\n                    \"hover:text-foreground\",\n                    \"focus-visible:text-foreground\",\n                    \"data-[selected=true]:!bg-[theme('colors.interaction.accent.tintActive')]\",\n                    \"data-[selected=true]:!text-on-accent\",\n                    \"data-[selected=true]:!border-[theme('colors.interaction.accent.surfaceActive')]\",\n                  )}\n                >\n                  {chip}\n                </Badge>\n              );\n            })}\n          </div>\n        </div>\n      ) : null}\n    </div>\n  );\n}\n","\"use client\";\n\nimport * as React from \"react\";\n\nimport { PageShell } from \"@/components/ui\";\nimport { usePersistentState } from \"@/lib/db\";\nimport { cn } from \"@/lib/utils\";\nimport {\n  ChatPromptsTab,\n  type ChatPromptsTabHandle,\n} from \"./ChatPromptsTab\";\nimport { PromptsHeader } from \"./PromptsHeader\";\nimport type { Persona, PromptWithTitle } from \"./types\";\nimport { useChatPrompts } from \"./useChatPrompts\";\nimport { useCodexPrompts } from \"./useCodexPrompts\";\nimport type {\n  CodexPromptsTabHandle,\n  CodexPromptsTabProps,\n} from \"./CodexPromptsTab\";\nimport { useNotes } from \"./useNotes\";\nimport type { NotesTabHandle, NotesTabProps } from \"./NotesTab\";\nimport { usePersonas } from \"./usePersonas\";\nimport {\n  PROMPTS_TAB_ID_BASE,\n  PROMPTS_TAB_ITEMS,\n  type PromptsTabKey,\n} from \"./tabs\";\n\nconst TAB_STORAGE_KEY = \"prompts.tab.v1\" as const;\n\nconst LazyCodexPromptsTab = React.lazy(async () => ({\n  default: (await import(\"./CodexPromptsTab\")).CodexPromptsTab,\n})) as React.LazyExoticComponent<\n  React.ForwardRefExoticComponent<\n    CodexPromptsTabProps & React.RefAttributes<CodexPromptsTabHandle>\n  >\n>;\n\nconst LazyNotesTab = React.lazy(async () => ({\n  default: (await import(\"./NotesTab\")).NotesTab,\n})) as React.LazyExoticComponent<\n  React.ForwardRefExoticComponent<\n    NotesTabProps & React.RefAttributes<NotesTabHandle>\n  >\n>;\n\nexport function PromptsPage() {\n  const {\n    prompts: chatPrompts,\n    query: chatQuery,\n    setQuery: setChatQuery,\n    filtered: chatFiltered,\n    save: saveChatPrompt,\n    update: updateChatPrompt,\n    remove: deleteChatPrompt,\n  } = useChatPrompts();\n  const {\n    prompts: codexPrompts,\n    query: codexQuery,\n    setQuery: setCodexQuery,\n    filtered: codexFiltered,\n    save: saveCodexPrompt,\n    update: updateCodexPrompt,\n    remove: deleteCodexPrompt,\n  } = useCodexPrompts();\n  const [personas] = usePersonas();\n  const [notes, setNotes] = useNotes();\n\n  const [activeTab, setActiveTab] = usePersistentState<PromptsTabKey>(\n    TAB_STORAGE_KEY,\n    \"chat\",\n  );\n\n  const tabCounts = React.useMemo(\n    () => ({\n      chat: chatPrompts.length,\n      codex: codexPrompts.length,\n      notes: notes.trim().length > 0 ? 1 : 0,\n    }),\n    [chatPrompts.length, codexPrompts.length, notes],\n  );\n\n  const activeQuery = React.useMemo(() => {\n    if (activeTab === \"chat\") return chatQuery;\n    if (activeTab === \"codex\") return codexQuery;\n    return \"\";\n  }, [activeTab, chatQuery, codexQuery]);\n\n  const handleQueryChange = React.useCallback(\n    (value: string) => {\n      if (activeTab === \"chat\") {\n        setChatQuery(value);\n        return;\n      }\n      if (activeTab === \"codex\") {\n        setCodexQuery(value);\n      }\n    },\n    [activeTab, setChatQuery, setCodexQuery],\n  );\n\n  const chatTabRef = React.useRef<ChatPromptsTabHandle | null>(null);\n  const codexTabRef = React.useRef<CodexPromptsTabHandle | null>(null);\n  const notesTabRef = React.useRef<NotesTabHandle | null>(null);\n  const pendingFocusRef = React.useRef<\n    | { type: \"prompt\" | \"persona\"; tab: PromptsTabKey }\n    | null\n  >(null);\n  const focusLoopRef = React.useRef<number | null>(null);\n  const activeTabRef = React.useRef(activeTab);\n\n  const tryFocus = React.useCallback(\n    (pending: { type: \"prompt\" | \"persona\"; tab: PromptsTabKey }) => {\n      if (pending.tab === \"chat\") {\n        const handle = chatTabRef.current;\n        if (!handle) return false;\n        if (pending.type === \"prompt\") {\n          handle.focusCompose();\n        } else {\n          handle.focusPersonas();\n        }\n        return true;\n      }\n      if (pending.tab === \"codex\") {\n        const handle = codexTabRef.current;\n        if (!handle) return false;\n        handle.focusCompose();\n        return true;\n      }\n      const handle = notesTabRef.current;\n      if (!handle) return false;\n      handle.focusScratchpad();\n      return true;\n    },\n    [chatTabRef, codexTabRef, notesTabRef],\n  );\n\n  const ensureFocusLoop = React.useCallback(() => {\n    if (focusLoopRef.current != null) {\n      return;\n    }\n\n    const step = () => {\n      const pending = pendingFocusRef.current;\n      if (!pending) {\n        focusLoopRef.current = null;\n        return;\n      }\n\n      if (pending.tab === activeTabRef.current && tryFocus(pending)) {\n        pendingFocusRef.current = null;\n        focusLoopRef.current = null;\n        return;\n      }\n\n      focusLoopRef.current = window.requestAnimationFrame(step);\n    };\n\n    focusLoopRef.current = window.requestAnimationFrame(step);\n  }, [tryFocus]);\n\n  React.useEffect(() => {\n    activeTabRef.current = activeTab;\n    if (pendingFocusRef.current && focusLoopRef.current == null) {\n      ensureFocusLoop();\n    }\n  }, [activeTab, ensureFocusLoop]);\n\n  React.useEffect(() => {\n    return () => {\n      if (focusLoopRef.current != null) {\n        window.cancelAnimationFrame(focusLoopRef.current);\n        focusLoopRef.current = null;\n      }\n    };\n  }, []);\n\n  const handleNewPrompt = React.useCallback(() => {\n    const target: PromptsTabKey = activeTab;\n    const action = { type: \"prompt\" as const, tab: target };\n    if (tryFocus(action)) {\n      pendingFocusRef.current = null;\n      return;\n    }\n\n    pendingFocusRef.current = action;\n    ensureFocusLoop();\n  }, [activeTab, ensureFocusLoop, tryFocus]);\n\n  const handleNewPersona = React.useCallback(() => {\n    const action = { type: \"persona\" as const, tab: \"chat\" as const };\n    if (activeTab === \"chat\" && tryFocus(action)) {\n      pendingFocusRef.current = null;\n      return;\n    }\n\n    pendingFocusRef.current = action;\n    ensureFocusLoop();\n    if (activeTab !== \"chat\") {\n      setActiveTab(\"chat\");\n    }\n  }, [activeTab, ensureFocusLoop, setActiveTab, tryFocus]);\n\n  return (\n    <>\n      <PageShell as=\"header\" className=\"py-[var(--space-6)]\">\n        <PromptsHeader\n          id=\"prompts-header\"\n          query={activeQuery}\n          onQueryChange={handleQueryChange}\n          activeTab={activeTab}\n          onTabChange={setActiveTab}\n          onNewPrompt={handleNewPrompt}\n          onNewPersona={handleNewPersona}\n          tabCounts={tabCounts}\n        />\n      </PageShell>\n\n      <PageShell\n        as=\"main\"\n        id=\"page-main\"\n        tabIndex={-1}\n        className=\"space-y-[var(--space-6)] py-[var(--space-6)]\"\n        aria-labelledby=\"prompts-header\"\n      >\n        {PROMPTS_TAB_ITEMS.map((item) => {\n          const isActive = activeTab === item.key;\n          const tabId = `${PROMPTS_TAB_ID_BASE}-${item.key}-tab`;\n          const panelId = `${PROMPTS_TAB_ID_BASE}-${item.key}-panel`;\n\n          let panelContent: React.ReactNode;\n          if (item.key === \"chat\") {\n            panelContent = (\n              <ChatTabPanel\n                ref={chatTabRef}\n                prompts={chatFiltered}\n                query={chatQuery}\n                personas={personas}\n                savePrompt={saveChatPrompt}\n                updatePrompt={updateChatPrompt}\n                deletePrompt={deleteChatPrompt}\n              />\n            );\n          } else if (item.key === \"codex\") {\n            panelContent = (\n              <React.Suspense fallback={<TabFallback>Loading Codex checklist…</TabFallback>}>\n                <CodexTabPanel\n                  ref={codexTabRef}\n                  prompts={codexFiltered}\n                  query={codexQuery}\n                  savePrompt={saveCodexPrompt}\n                  updatePrompt={updateCodexPrompt}\n                  deletePrompt={deleteCodexPrompt}\n                />\n              </React.Suspense>\n            );\n          } else {\n            panelContent = (\n              <React.Suspense fallback={<TabFallback>Preparing notes…</TabFallback>}>\n                <LazyNotesTab\n                  ref={notesTabRef}\n                  value={notes}\n                  onChange={setNotes}\n                />\n              </React.Suspense>\n            );\n          }\n\n          return (\n            <div\n              key={item.key}\n              role=\"tabpanel\"\n              id={panelId}\n              aria-labelledby={tabId}\n              hidden={!isActive}\n              tabIndex={isActive ? 0 : -1}\n              data-state={isActive ? \"active\" : \"inactive\"}\n              className={cn(\n                \"focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background focus-visible:shadow-[var(--shadow-glow-md)]\",\n                \"pb-[var(--space-8)]\",\n              )}\n            >\n              {isActive ? panelContent : null}\n            </div>\n          );\n        })}\n      </PageShell>\n    </>\n  );\n}\n\ninterface ChatTabPanelProps {\n  prompts: PromptWithTitle[];\n  query: string;\n  personas: Persona[];\n  savePrompt: (title: string, text: string, category: string) => boolean;\n  updatePrompt: (\n    id: string,\n    title: string,\n    text: string,\n    category: string,\n  ) => boolean;\n  deletePrompt: (id: string) => boolean;\n}\n\nconst ChatTabPanel = React.forwardRef<\n  ChatPromptsTabHandle,\n  ChatTabPanelProps\n>(function ChatTabPanel(\n  { prompts, query, personas, savePrompt, updatePrompt, deletePrompt },\n  ref,\n) {\n  const handleSave = React.useCallback(\n    (title: string, text: string, category: string) =>\n      savePrompt(title, text, category),\n    [savePrompt],\n  );\n\n  return (\n    <ChatPromptsTab\n      ref={ref}\n      prompts={prompts}\n      query={query}\n      personas={personas}\n      savePrompt={handleSave}\n      updatePrompt={updatePrompt}\n      deletePrompt={deletePrompt}\n    />\n  );\n});\n\nChatTabPanel.displayName = \"ChatTabPanel\";\n\ninterface CodexTabPanelProps {\n  prompts: PromptWithTitle[];\n  query: string;\n  savePrompt: (title: string, text: string, category: string) => boolean;\n  updatePrompt: (\n    id: string,\n    title: string,\n    text: string,\n    category: string,\n  ) => boolean;\n  deletePrompt: (id: string) => boolean;\n}\n\nconst CodexTabPanel = React.forwardRef<\n  CodexPromptsTabHandle,\n  CodexTabPanelProps\n>(function CodexTabPanel(\n  { prompts, query, savePrompt, updatePrompt, deletePrompt },\n  ref,\n) {\n  const handleSave = React.useCallback(\n    (title: string, text: string, category: string) =>\n      savePrompt(title, text, category),\n    [savePrompt],\n  );\n\n  return (\n    <LazyCodexPromptsTab\n      ref={ref}\n      prompts={prompts}\n      query={query}\n      savePrompt={handleSave}\n      updatePrompt={updatePrompt}\n      deletePrompt={deletePrompt}\n    />\n  );\n});\n\nCodexTabPanel.displayName = \"CodexTabPanel\";\n\nfunction TabFallback({ children }: { children: React.ReactNode }) {\n  return (\n    <div\n      role=\"status\"\n      aria-live=\"polite\"\n      className=\"rounded-[var(--radius-md)] border border-dashed border-border bg-muted/30 p-[var(--space-4)] text-center text-ui text-muted-foreground\"\n    >\n      {children}\n    </div>\n  );\n}\n\n","\"use client\";\n\nimport * as React from \"react\";\nimport { Sparkles } from \"lucide-react\";\n\nimport { Card, cardSurfaceClassName } from \"@/components/ui\";\nimport { PersonaCard } from \"./PersonaCard\";\nimport { SavedPromptList } from \"./SavedPromptList\";\nimport {\n  PromptForm,\n  type PromptFormHandle,\n  type PromptFormOption,\n  type PromptFormValues,\n} from \"./PromptForm\";\nimport type { Persona, PromptWithTitle } from \"./types\";\n\nconst PROMPT_CATEGORY_OPTIONS = [\n  { value: \"ChatGPT\", label: \"ChatGPT\" },\n  { value: \"Codex review\", label: \"Codex review\" },\n  { value: \"Notes\", label: \"Notes\" },\n] satisfies ReadonlyArray<PromptFormOption>;\n\nexport interface ChatPromptsTabHandle {\n  focusCompose: (options?: FocusOptions) => void;\n  focusPersonas: (options?: FocusOptions) => void;\n}\n\ninterface ChatPromptsTabProps {\n  prompts: PromptWithTitle[];\n  query: string;\n  personas: Persona[];\n  savePrompt: (title: string, text: string, category: string) => boolean;\n  updatePrompt: (\n    id: string,\n    title: string,\n    text: string,\n    category: string,\n  ) => boolean;\n  deletePrompt: (id: string) => boolean;\n}\n\nconst createChatComposeDefaults = (): PromptFormValues => ({\n  title: \"\",\n  prompt: \"\",\n  category: \"ChatGPT\",\n});\n\nexport const ChatPromptsTab = React.forwardRef<\n  ChatPromptsTabHandle,\n  ChatPromptsTabProps\n>(function ChatPromptsTab(\n  { prompts, query, personas, savePrompt, updatePrompt, deletePrompt },\n  ref,\n) {\n  const composeHeadingId = React.useId();\n  const personasHeadingId = React.useId();\n  const libraryHeadingId = React.useId();\n  const formId = React.useId();\n  const [composeValues, setComposeValues] = React.useState<PromptFormValues>(\n    createChatComposeDefaults,\n  );\n  const composeValuesRef = React.useRef(composeValues);\n  React.useEffect(() => {\n    composeValuesRef.current = composeValues;\n  }, [composeValues]);\n  const [editingPromptId, setEditingPromptId] = React.useState<string | null>(\n    null,\n  );\n  const composeFormRef = React.useRef<PromptFormHandle | null>(null);\n  const personasHeadingRef = React.useRef<HTMLHeadingElement | null>(null);\n\n  const resetComposeValues = React.useCallback(() => {\n    const nextState = createChatComposeDefaults();\n    composeValuesRef.current = nextState;\n    setComposeValues(nextState);\n    setEditingPromptId(null);\n  }, []);\n\n  const handleSave = React.useCallback(\n    (values: PromptFormValues) => {\n      const title = values.title?.trim() ?? \"\";\n      const prompt = values.prompt?.trim() ?? \"\";\n      if (!title || !prompt) {\n        return false;\n      }\n\n      const category = values.category ?? \"ChatGPT\";\n      if (editingPromptId) {\n        const success = updatePrompt(editingPromptId, title, prompt, category);\n        if (success) {\n          resetComposeValues();\n        }\n        return success;\n      }\n      const success = savePrompt(title, prompt, category);\n      if (success) {\n        resetComposeValues();\n      }\n      return success;\n    },\n    [editingPromptId, resetComposeValues, savePrompt, updatePrompt],\n  );\n\n  const handleValuesChange = React.useCallback((values: PromptFormValues) => {\n    const nextTitle = values.title ?? \"\";\n    const nextPrompt = values.prompt ?? \"\";\n    const nextCategory = values.category ?? \"ChatGPT\";\n\n    const previous = composeValuesRef.current;\n    if (\n      previous.title === nextTitle &&\n      previous.prompt === nextPrompt &&\n      previous.category === nextCategory\n    ) {\n      return;\n    }\n\n    const nextState = {\n      title: nextTitle,\n      prompt: nextPrompt,\n      category: nextCategory,\n    } satisfies PromptFormValues;\n\n    React.startTransition(() => {\n      composeValuesRef.current = nextState;\n      setComposeValues(nextState);\n    });\n  }, []);\n\n  const handleEditPrompt = React.useCallback(\n    (prompt: PromptWithTitle) => {\n      const nextState = {\n        title: prompt.title,\n        prompt: prompt.text,\n        category: prompt.category ?? \"ChatGPT\",\n      } satisfies PromptFormValues;\n      composeValuesRef.current = nextState;\n      setComposeValues(nextState);\n      setEditingPromptId(prompt.id);\n    },\n    [],\n  );\n\n  const handleDeletePrompt = React.useCallback(\n    (prompt: PromptWithTitle) => {\n      const didDelete = deletePrompt(prompt.id);\n      if (didDelete && editingPromptId === prompt.id) {\n        resetComposeValues();\n      }\n    },\n    [deletePrompt, editingPromptId, resetComposeValues],\n  );\n\n  const submitDisabled = React.useMemo(() => {\n    const title = composeValues.title?.trim() ?? \"\";\n    const prompt = composeValues.prompt?.trim() ?? \"\";\n    return title.length === 0 || prompt.length === 0;\n  }, [composeValues.prompt, composeValues.title]);\n\n  const submitLabel = editingPromptId ? \"Update\" : \"Save\";\n\n  React.useImperativeHandle(\n    ref,\n    () => ({\n      focusCompose: (options) => {\n        composeFormRef.current?.focus(options);\n      },\n      focusPersonas: () => {\n        personasHeadingRef.current?.focus();\n      },\n    }),\n    [],\n  );\n\n  return (\n    <div className=\"flex flex-col gap-[var(--space-6)]\">\n      <section\n        aria-labelledby={composeHeadingId}\n        className=\"flex flex-col gap-[var(--space-3)]\"\n      >\n        <div className=\"space-y-[var(--space-1)]\">\n          <h3 id={composeHeadingId} className=\"type-title\">\n            Compose prompt\n          </h3>\n          <p className=\"text-ui text-muted-foreground\">\n            Draft a ChatGPT request and save it for future reuse.\n          </p>\n        </div>\n        <Card depth=\"raised\" glitch className={cardSurfaceClassName}>\n          <PromptForm\n            id={`chat-prompts-form-${formId}`}\n            ref={composeFormRef}\n            title=\"New ChatGPT prompt\"\n            submitLabel={submitLabel}\n            submitDisabled={submitDisabled}\n            values={composeValues}\n            categories={PROMPT_CATEGORY_OPTIONS}\n            onSubmit={handleSave}\n            onChange={handleValuesChange}\n          />\n        </Card>\n      </section>\n\n      <section\n        aria-labelledby={personasHeadingId}\n        className=\"flex flex-col gap-[var(--space-3)]\"\n      >\n        <div className=\"space-y-[var(--space-1)]\">\n          <h3\n            id={personasHeadingId}\n            ref={personasHeadingRef}\n            className=\"type-title\"\n            tabIndex={-1}\n          >\n            Personas\n          </h3>\n          <p className=\"text-ui text-muted-foreground\">\n            Keep tailored introductions to quickly set tone and context.\n          </p>\n        </div>\n        {personas.length > 0 ? (\n          <ul className=\"grid gap-[var(--space-3)] md:grid-cols-2\">\n            {personas.map((persona) => (\n              <li key={persona.id}>\n                <PersonaCard persona={persona} />\n              </li>\n            ))}\n          </ul>\n        ) : (\n          <PersonaEmptyStateCard />\n        )}\n      </section>\n\n      <section\n        aria-labelledby={libraryHeadingId}\n        className=\"flex flex-col gap-[var(--space-3)]\"\n      >\n        <div className=\"space-y-[var(--space-1)]\">\n          <h3 id={libraryHeadingId} className=\"type-title\">\n            Reusable prompts\n          </h3>\n          <p className=\"text-ui text-muted-foreground\">\n            Saved ChatGPT prompts appear here with newest first.\n          </p>\n        </div>\n        <SavedPromptList\n          prompts={prompts}\n          query={query}\n          onSelectPrompt={handleEditPrompt}\n          onEditPrompt={handleEditPrompt}\n          onDeletePrompt={handleDeletePrompt}\n        />\n      </section>\n    </div>\n  );\n});\n\nChatPromptsTab.displayName = \"ChatPromptsTab\";\n\nfunction PersonaEmptyStateCard() {\n  return (\n    <Card\n      aria-live=\"polite\"\n      className=\"relative isolate flex items-start gap-[var(--space-3)] overflow-hidden border border-dashed border-border/70 bg-card/70 p-[var(--space-4)] shadow-neo-soft before:absolute before:inset-0 before:-z-10 before:bg-gradient-to-br before:from-primary/5 before:via-transparent before:to-accent/5\"\n    >\n      <div className=\"flex items-center justify-center rounded-full bg-card/80 p-[var(--space-3)] ring-1 ring-inset ring-border/50\">\n        <Sparkles aria-hidden className=\"size-[var(--space-6)] text-primary\" />\n      </div>\n      <div className=\"space-y-[var(--space-2)]\">\n        <div className=\"space-y-[var(--space-1)]\">\n          <p className=\"text-body font-semibold text-card-foreground\">\n            Start your first persona\n          </p>\n          <p className=\"text-ui text-muted-foreground\">\n            Capture tone-setting instructions you want to reuse at the start of chats.\n          </p>\n        </div>\n        <ul className=\"list-inside list-disc space-y-[var(--space-1)] text-ui text-muted-foreground\">\n          <li>Name the persona and give a short description.</li>\n          <li>Save the prompt text you want to drop into new conversations.</li>\n        </ul>\n      </div>\n    </Card>\n  );\n}\n","export type Prompt = {\n  id: string;\n  title?: string;\n  text: string;\n  createdAt: number;\n  category?: string;\n};\n\nexport type PromptWithTitle = Prompt & { title: string };\n\nexport type Persona = {\n  id: string;\n  name: string;\n  prompt: string;\n  description?: string;\n  createdAt: number;\n};\n\nexport function derivePromptTitle(prompt: Prompt): string {\n  if (prompt.title && prompt.title.trim()) return prompt.title.trim();\n  const firstLine = (prompt.text || \"\")\n    .split(/\\r?\\n/)\n    .find((line) => line.trim())?.trim();\n  return firstLine || \"Untitled\";\n}\n","\"use client\";\n\nimport * as React from \"react\";\nimport type Fuse from \"fuse.js\";\nimport { usePersistentState, uid } from \"@/lib/db\";\nimport {\n  derivePromptTitle,\n  type Prompt,\n  type PromptWithTitle,\n} from \"./types\";\n\nfunction isRecord(value: unknown): value is Record<string, unknown> {\n  return typeof value === \"object\" && value !== null && !Array.isArray(value);\n}\n\nfunction decodePrompt(value: unknown): Prompt | null {\n  if (!isRecord(value)) return null;\n  const id = value[\"id\"];\n  const text = value[\"text\"];\n  const createdAt = value[\"createdAt\"];\n  if (typeof id !== \"string\") return null;\n  if (typeof text !== \"string\") return null;\n  if (typeof createdAt !== \"number\" || !Number.isFinite(createdAt)) return null;\n  const prompt: Prompt = { id, text, createdAt };\n  const title = value[\"title\"];\n  if (typeof title === \"string\") {\n    prompt.title = title;\n  }\n  const category = value[\"category\"];\n  if (typeof category === \"string\") {\n    prompt.category = category;\n  }\n  return prompt;\n}\n\nexport function decodePrompts(value: unknown): Prompt[] | null {\n  if (!Array.isArray(value)) return null;\n  const result: Prompt[] = [];\n  for (const entry of value) {\n    const prompt = decodePrompt(entry);\n    if (prompt) result.push(prompt);\n  }\n  return result;\n}\n\nconst EMPTY_PROMPT_LIST: Prompt[] = [];\n\nexport function usePromptLibrary(storageKey: string) {\n  const [prompts, setPrompts] = usePersistentState<Prompt[]>(\n    storageKey,\n    EMPTY_PROMPT_LIST,\n    {\n      decode: decodePrompts,\n    },\n  );\n  const [query, setQuery] = React.useState(\"\");\n\n  const withTitles = React.useMemo(\n    () => prompts.map((prompt) => ({ ...prompt, title: derivePromptTitle(prompt) })),\n    [prompts],\n  );\n\n  const fuseModulePromiseRef = React.useRef<Promise<typeof import(\"fuse.js\")> | null>(null);\n  const fuseRef = React.useRef<Fuse<PromptWithTitle> | null>(null);\n\n  const [filtered, setFiltered] = React.useState<PromptWithTitle[]>(withTitles);\n\n  const ensureFuse = React.useCallback(async () => {\n    if (!fuseModulePromiseRef.current) {\n      fuseModulePromiseRef.current = import(\"fuse.js\");\n    }\n    const { default: FuseModule } = await fuseModulePromiseRef.current;\n    if (fuseRef.current) {\n      fuseRef.current.setCollection(withTitles);\n      return fuseRef.current;\n    }\n    const instance = new FuseModule<PromptWithTitle>(withTitles, {\n      keys: [\"title\", \"text\", \"category\"],\n      threshold: 0.3,\n    });\n    fuseRef.current = instance;\n    return instance;\n  }, [withTitles]);\n\n  React.useEffect(() => {\n    const trimmed = query.trim();\n    if (!trimmed) {\n      setFiltered(withTitles);\n      return;\n    }\n\n    let cancelled = false;\n\n    if (!fuseRef.current) {\n      const lowered = trimmed.toLowerCase();\n      setFiltered(\n        withTitles.filter((prompt) => {\n          return (\n            prompt.title.toLowerCase().includes(lowered) ||\n            prompt.text.toLowerCase().includes(lowered)\n          );\n        }),\n      );\n    }\n\n    const runSearch = async () => {\n      const fuse = await ensureFuse();\n      if (cancelled) return;\n      const results = fuse.search(trimmed);\n      if (cancelled) return;\n      setFiltered(results.map((res) => res.item));\n    };\n\n    void runSearch();\n\n    return () => {\n      cancelled = true;\n    };\n  }, [ensureFuse, query, withTitles]);\n\n  const save = React.useCallback(\n    (titleDraft: string, textDraft: string, category?: string) => {\n      const text = textDraft.trim();\n      const title =\n        titleDraft.trim() || text.split(/\\r?\\n/)[0]?.trim() || \"Untitled\";\n      if (!text && !titleDraft.trim()) return false;\n      const categoryValue = category?.trim();\n      const next: Prompt = {\n        id: uid(\"p\"),\n        title,\n        text,\n        createdAt: Date.now(),\n        category: categoryValue || undefined,\n      };\n      setPrompts((prev) => [next, ...prev]);\n      return true;\n    },\n    [setPrompts],\n  );\n\n  const update = React.useCallback(\n    (id: string, titleDraft: string, textDraft: string, category?: string) => {\n      const text = textDraft.trim();\n      const title =\n        titleDraft.trim() || text.split(/\\r?\\n/)[0]?.trim() || \"Untitled\";\n      if (!text && !titleDraft.trim()) return false;\n      const categoryValue = category?.trim();\n      let didUpdate = false;\n      setPrompts((prev) =>\n        prev.map((prompt) => {\n          if (prompt.id !== id) return prompt;\n          didUpdate = true;\n          return {\n            ...prompt,\n            title,\n            text,\n            category: categoryValue || prompt.category,\n          } satisfies Prompt;\n        }),\n      );\n      return didUpdate;\n    },\n    [setPrompts],\n  );\n\n  const remove = React.useCallback(\n    (id: string) => {\n      let didRemove = false;\n      setPrompts((prev) => {\n        const next = prev.filter((prompt) => {\n          const keep = prompt.id !== id;\n          if (!keep) {\n            didRemove = true;\n          }\n          return keep;\n        });\n        return next;\n      });\n      return didRemove;\n    },\n    [setPrompts],\n  );\n\n  return { prompts, query, setQuery, filtered, save, update, remove } as const;\n}\n","\"use client\";\n\nimport { usePersistentState } from \"@/lib/db\";\n\nexport const PROMPT_NOTES_STORAGE_KEY = \"prompts.notes.v1\" as const;\n\nexport function useNotes() {\n  return usePersistentState<string>(PROMPT_NOTES_STORAGE_KEY, \"\");\n}\n","\"use client\";\n\nimport * as React from \"react\";\n\nimport { Card } from \"@/components/ui\";\nimport { cn, LOCALE } from \"@/lib/utils\";\nimport type { Persona } from \"./types\";\n\nexport interface PersonaCardProps {\n  persona: Persona;\n  onSelect?: (persona: Persona) => void;\n  actions?: React.ReactNode;\n  className?: string;\n}\n\nexport function PersonaCard({\n  persona,\n  onSelect,\n  actions,\n  className,\n}: PersonaCardProps) {\n  const handleSelect = React.useCallback(() => {\n    onSelect?.(persona);\n  }, [onSelect, persona]);\n\n  const handleKeyDown: React.KeyboardEventHandler<HTMLDivElement> = (\n    event,\n  ) => {\n    if (!onSelect) return;\n    if (event.key === \"Enter\" || event.key === \" \") {\n      event.preventDefault();\n      onSelect(persona);\n    }\n  };\n\n  const createdAt = React.useMemo(\n    () => new Date(persona.createdAt),\n    [persona.createdAt],\n  );\n\n  return (\n    <Card\n      role={onSelect ? \"button\" : undefined}\n      tabIndex={onSelect ? 0 : undefined}\n      onClick={onSelect ? handleSelect : undefined}\n      onKeyDown={handleKeyDown}\n      className={cn(\n        \"group relative isolate flex h-full flex-col gap-[var(--space-3)] overflow-hidden\",\n        \"border border-border/70 bg-card/80 p-[var(--space-4)] shadow-neo-soft transition-all\",\n        \"focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background\",\n        onSelect &&\n          \"cursor-pointer hover:ring-2 hover:ring-ring hover:ring-offset-2 hover:ring-offset-background\",\n        className,\n      )}\n    >\n      <div\n        aria-hidden\n        className=\"pointer-events-none absolute inset-0 -z-10 rounded-[inherit] bg-gradient-blob-accent opacity-0 blur-[var(--space-4)] transition-opacity duration-motion-sm ease-out motion-reduce:animate-none motion-safe:animate-blob-drift group-hover:opacity-[var(--glitch-overlay-opacity-card,0.08)] group-focus-visible:opacity-[var(--glitch-overlay-opacity-card,0.08)] group-focus-within:opacity-[var(--glitch-overlay-opacity-card,0.08)]\"\n      />\n      <div\n        aria-hidden\n        className=\"absolute inset-x-[var(--space-4)] top-0 -z-10 h-px bg-gradient-to-r from-transparent via-border/80 to-transparent\"\n      />\n\n      <header className=\"flex items-start justify-between gap-[var(--space-3)]\">\n        <div className=\"min-w-0 space-y-[var(--space-1-5)]\">\n          <h4 className=\"truncate font-semibold text-body\">{persona.name}</h4>\n          {persona.description ? (\n            <p className=\"line-clamp-2 text-ui text-muted-foreground\">\n              {persona.description}\n            </p>\n          ) : null}\n          <time\n            dateTime={createdAt.toISOString()}\n            className=\"flex items-center gap-[var(--space-1)] text-label text-muted-foreground\"\n          >\n            <span\n              aria-hidden\n              className=\"block size-[var(--space-2)] rounded-full bg-primary/70\"\n            />\n            Added {createdAt.toLocaleString(LOCALE)}\n          </time>\n        </div>\n        {actions ? (\n          <div className=\"flex shrink-0 items-center gap-[var(--space-1-5)]\">\n            {actions}\n          </div>\n        ) : null}\n      </header>\n\n      {persona.prompt ? (\n        <p className=\"line-clamp-5 whitespace-pre-wrap rounded-[var(--radius-md)] bg-card/70 px-[var(--space-3)] py-[var(--space-2-5)] text-ui ring-1 ring-inset ring-border/40\">\n          {persona.prompt}\n        </p>\n      ) : null}\n    </Card>\n  );\n}\n","\"use client\";\n\nimport { usePersistentState } from \"@/lib/db\";\nimport type { Persona } from \"./types\";\n\nexport const PROMPT_PERSONAS_STORAGE_KEY = \"prompts.personas.v1\" as const;\nconst EMPTY_PERSONA_LIST: Persona[] = [];\n\nexport function usePersonas() {\n  return usePersistentState<Persona[]>(\n    PROMPT_PERSONAS_STORAGE_KEY,\n    EMPTY_PERSONA_LIST,\n  );\n}\n","\"use client\";\n\nimport * as React from \"react\";\nimport { Button, Hero } from \"@/components/ui\";\nimport { cn } from \"@/lib/utils\";\nimport {\n  PROMPTS_TAB_ID_BASE,\n  PROMPTS_TAB_ITEMS,\n  type PromptsTabKey,\n} from \"./tabs\";\nimport { StateTester } from \"./StateTester\";\n\nconst chips = [\"hover\", \"focus\", \"active\", \"disabled\", \"loading\"];\n\ninterface PromptsHeaderProps {\n  id?: string;\n  query: string;\n  onQueryChange: (value: string) => void;\n  activeTab: PromptsTabKey;\n  onTabChange: (tab: PromptsTabKey) => void;\n  onNewPrompt: () => void;\n  onNewPersona: () => void;\n  tabCounts?: Partial<Record<PromptsTabKey, number>>;\n}\n\nexport function PromptsHeader({\n  id = \"prompts-header\",\n  query,\n  onQueryChange,\n  activeTab,\n  onTabChange,\n  onNewPrompt,\n  onNewPersona,\n  tabCounts,\n}: PromptsHeaderProps) {\n  const tabs = React.useMemo(() => {\n    return PROMPTS_TAB_ITEMS.map((item) => {\n      const badge = tabCounts?.[item.key];\n      return {\n        key: item.key,\n        label: item.label,\n        badge: badge && badge > 0 ? badge : undefined,\n      };\n    });\n  }, [tabCounts]);\n\n  const handleChip = React.useCallback(\n    (chip: string) => {\n      const nextQuery = query === chip ? \"\" : chip;\n      onQueryChange(nextQuery);\n    },\n    [onQueryChange, query],\n  );\n\n  const searchId = `${id}-search`;\n\n  return (\n    <Hero\n      id={id}\n      className=\"col-span-full\"\n      title=\"Prompts\"\n      subtitle=\"Compose, save, and reuse AI prompts.\"\n      sticky={false}\n      frame={false}\n      tone=\"heroic\"\n      padding=\"none\"\n      barClassName=\"flex flex-col items-start gap-[var(--space-2)] sm:flex-row sm:items-center sm:justify-between\"\n      tabs={{\n        items: tabs,\n        value: activeTab,\n        onChange: onTabChange,\n        ariaLabel: \"Prompt workspaces\",\n        idBase: PROMPTS_TAB_ID_BASE,\n      }}\n      actions={\n        <div className=\"flex flex-wrap items-center gap-[var(--space-2)]\">\n          <Button size=\"sm\" onClick={onNewPrompt}>\n            New prompt\n          </Button>\n          <Button size=\"sm\" variant=\"quiet\" onClick={onNewPersona}>\n            New persona\n          </Button>\n        </div>\n      }\n      bodyClassName=\"px-[var(--space-2)] sm:px-[var(--space-1)] md:px-0\"\n      searchBar={{\n        id: searchId,\n        value: query,\n        onValueChange: onQueryChange,\n        debounceMs: 300,\n        placeholder: \"Search prompts…\",\n        \"aria-label\": \"Search prompts\",\n        variant: \"neo\",\n        round: true,\n      }}\n    >\n      <StateTester\n        chips={chips}\n        selectedChip={query}\n        onSelect={handleChip}\n        className={cn(\"-mx-[var(--space-2)] sm:-mx-[var(--space-1)] md:mx-0\")}\n      />\n    </Hero>\n  );\n}\n\n","\"use client\";\n\nimport { usePromptLibrary } from \"./usePromptLibrary\";\n\nexport const CHAT_PROMPTS_STORAGE_KEY = \"prompts.chat.v1\" as const;\n\nexport function useChatPrompts() {\n  return usePromptLibrary(CHAT_PROMPTS_STORAGE_KEY);\n}\n","export const PROMPTS_TAB_ITEMS = [\n  { key: \"chat\", label: \"ChatGPT\" },\n  { key: \"codex\", label: \"Codex review\" },\n  { key: \"notes\", label: \"Notes\" },\n] as const;\n\nexport type PromptsTabKey = (typeof PROMPTS_TAB_ITEMS)[number][\"key\"];\n\nexport const PROMPTS_TAB_ID_BASE = \"prompts-tabs\" as const;\n","\"use client\";\n\nimport { usePromptLibrary } from \"./usePromptLibrary\";\n\nexport const CODEX_PROMPTS_STORAGE_KEY = \"prompts.codex.v1\" as const;\n\nexport function useCodexPrompts() {\n  return usePromptLibrary(CODEX_PROMPTS_STORAGE_KEY);\n}\n","\"use client\";\n\nimport * as React from \"react\";\nimport { ChevronDown } from \"lucide-react\";\n\nimport { Button, Field, Input, type InputProps } from \"@/components/ui\";\nimport { cn } from \"@/lib/utils\";\n\nexport interface PromptFormValues {\n  title: string;\n  category: string;\n  prompt: string;\n}\n\nexport interface PromptFormOption {\n  label: string;\n  value: string;\n}\n\nexport interface PromptFormProps {\n  id?: string;\n  title?: React.ReactNode;\n  description?: React.ReactNode;\n  submitLabel?: string;\n  submitDisabled?: boolean;\n  disabled?: boolean;\n  isSubmitting?: boolean;\n  values: PromptFormValues;\n  categories: ReadonlyArray<PromptFormOption>;\n  onChange: (values: PromptFormValues) => void;\n  onSubmit?: (values: PromptFormValues) => boolean | Promise<boolean>;\n}\n\nexport interface PromptFormHandle {\n  focus: (options?: FocusOptions) => void;\n}\n\ntype PromptFormErrors = Partial<Record<keyof PromptFormValues, string>>;\n\nconst InsetInput = React.forwardRef<HTMLInputElement, InputProps>(\n  ({ className, ...props }, ref) => (\n    <Input\n      ref={ref}\n      variant=\"sunken\"\n      className={cn(\"bg-card/60\", className)}\n      {...props}\n    />\n  ),\n);\n\nInsetInput.displayName = \"InsetInput\";\n\nconst InsetSelect = React.forwardRef<\n  HTMLSelectElement,\n  React.SelectHTMLAttributes<HTMLSelectElement>\n>(function InsetSelect({ className, children, ...props }, ref) {\n  return (\n    <Field.Root variant=\"sunken\" className=\"bg-card/60\">\n      <Field.Select\n        ref={ref}\n        className={cn(\n          \"appearance-none pr-[calc(var(--space-6)+var(--space-2))]\",\n          className,\n        )}\n        {...props}\n      >\n        {children}\n      </Field.Select>\n      <ChevronDown className=\"pointer-events-none absolute right-[var(--space-4)] size-[var(--space-4)] text-muted-foreground\" />\n    </Field.Root>\n  );\n});\n\nconst InsetTextarea = React.forwardRef<\n  HTMLTextAreaElement,\n  React.TextareaHTMLAttributes<HTMLTextAreaElement>\n>(function InsetTextarea({ className, ...props }, ref) {\n  return (\n    <Field.Root\n      variant=\"sunken\"\n      className={cn(\"bg-card/60 items-start\", className)}\n    >\n      <Field.Textarea ref={ref} {...props} />\n    </Field.Root>\n  );\n});\n\nconst DEFAULT_SUBMIT_LABEL = \"Save\";\n\nconst REQUIRED_MESSAGES: Record<keyof PromptFormValues, string> = {\n  title: \"Title is required\",\n  category: \"Category is required\",\n  prompt: \"Prompt is required\",\n};\n\nfunction validatePrompt(values: PromptFormValues): PromptFormErrors {\n  const errors: PromptFormErrors = {};\n  if (!values.title.trim()) {\n    errors.title = REQUIRED_MESSAGES.title;\n  }\n  if (!values.category) {\n    errors.category = REQUIRED_MESSAGES.category;\n  }\n  if (!values.prompt.trim()) {\n    errors.prompt = REQUIRED_MESSAGES.prompt;\n  }\n  return errors;\n}\n\nexport const PromptForm = React.forwardRef<PromptFormHandle, PromptFormProps>(\n  (\n    {\n      id,\n      title,\n      description,\n      submitLabel = DEFAULT_SUBMIT_LABEL,\n      submitDisabled,\n      disabled,\n      isSubmitting,\n      values,\n      categories,\n      onChange,\n      onSubmit,\n    },\n    ref,\n  ) => {\n    const formId = React.useId();\n    const resolvedId = id ?? formId;\n\n    const [errors, setErrors] = React.useState<PromptFormErrors>({});\n    const [touched, setTouched] = React.useState<\n      Partial<Record<keyof PromptFormValues, boolean>>\n    >({});\n    const [liveMessage, setLiveMessage] = React.useState<string>(\"\");\n\n    const titleId = React.useId();\n    const categoryId = React.useId();\n    const promptId = React.useId();\n\n    const titleRef = React.useRef<HTMLInputElement | null>(null);\n    const categoryRef = React.useRef<HTMLSelectElement | null>(null);\n    const promptRef = React.useRef<HTMLTextAreaElement | null>(null);\n\n    React.useImperativeHandle(\n      ref,\n      () => ({\n        focus: (options) => {\n          titleRef.current?.focus(options);\n        },\n      }),\n      [],\n    );\n\n    React.useEffect(() => {\n      if (!Object.values(errors).length) {\n        setLiveMessage(\"\");\n        return;\n      }\n      setLiveMessage(Object.values(errors).filter(Boolean).join(\" \"));\n    }, [errors]);\n\n    React.useEffect(() => {\n      setErrors((prev) => {\n        if (!Object.keys(prev).length) {\n          return prev;\n        }\n\n        const nextValidation = validatePrompt(values);\n        let hasChanged = false;\n        const nextErrors: PromptFormErrors = {};\n\n        (Object.keys(prev) as (keyof PromptFormValues)[]).forEach((field) => {\n          const nextError = nextValidation[field];\n          nextErrors[field] = nextError;\n          if (prev[field] !== nextError) {\n            hasChanged = true;\n          }\n        });\n\n        return hasChanged ? nextErrors : prev;\n      });\n    }, [values]);\n\n    const handleFieldChange = React.useCallback(\n      <Field extends keyof PromptFormValues>(field: Field) =>\n        (\n          event:\n            | React.ChangeEvent<HTMLInputElement>\n            | React.ChangeEvent<HTMLTextAreaElement>\n            | React.ChangeEvent<HTMLSelectElement>,\n        ) => {\n          const nextValue = event.target.value;\n          const nextValues: PromptFormValues = {\n            ...values,\n            [field]: nextValue,\n          } as PromptFormValues;\n          onChange(nextValues);\n\n          if (touched[field]) {\n            setErrors((prev) => ({\n              ...prev,\n              [field]: validatePrompt(nextValues)[field],\n            }));\n          }\n        },\n      [onChange, touched, values],\n    );\n\n    const handleBlur = React.useCallback(\n      (field: keyof PromptFormValues) => () => {\n        setTouched((prev) => ({ ...prev, [field]: true }));\n        setErrors((prev) => ({\n          ...prev,\n          [field]: validatePrompt(values)[field],\n        }));\n      },\n      [values],\n    );\n\n    const handleSubmit = React.useCallback(\n      async (event: React.FormEvent<HTMLFormElement>) => {\n        event.preventDefault();\n        const validationErrors = validatePrompt(values);\n        setErrors(validationErrors);\n        setTouched({ title: true, category: true, prompt: true });\n\n        if (Object.keys(validationErrors).length > 0) {\n          if (validationErrors.title) {\n            titleRef.current?.focus();\n          } else if (validationErrors.category) {\n            categoryRef.current?.focus();\n          } else if (validationErrors.prompt) {\n            promptRef.current?.focus();\n          }\n          return;\n        }\n\n        if (!onSubmit) {\n          return;\n        }\n\n        const result = await onSubmit(values);\n        if (result !== false) {\n          setErrors({});\n          setTouched({});\n          setLiveMessage(\"Form saved\");\n        }\n      },\n      [onSubmit, values],\n    );\n\n    const disableSubmit = disabled || isSubmitting || submitDisabled;\n\n    return (\n      <form\n        id={resolvedId}\n        onSubmit={handleSubmit}\n        className=\"flex flex-col gap-[var(--space-4)]\"\n      >\n        {(title || description) && (\n          <header className=\"space-y-[var(--space-2)]\">\n            {title ? (\n              <h4 className=\"text-title font-semibold tracking-[-0.01em]\">\n                {title}\n              </h4>\n            ) : null}\n            {description ? (\n              <p className=\"text-ui text-muted-foreground\">{description}</p>\n            ) : null}\n          </header>\n        )}\n\n        <div className=\"space-y-[var(--space-2)]\">\n          <label htmlFor={titleId} className=\"text-ui font-medium text-foreground\">\n            Title\n          </label>\n          <InsetInput\n            id={titleId}\n            ref={titleRef}\n            placeholder=\"Review macro calls\"\n            value={values.title}\n            onChange={handleFieldChange(\"title\")}\n            onBlur={handleBlur(\"title\")}\n            aria-invalid={errors.title ? \"true\" : undefined}\n            aria-describedby={errors.title ? `${titleId}-error` : undefined}\n            disabled={disabled}\n            required\n          />\n          {errors.title ? (\n            <p\n              id={`${titleId}-error`}\n              className=\"text-label font-medium text-danger\"\n              role=\"status\"\n            >\n              {errors.title}\n            </p>\n          ) : null}\n        </div>\n\n        <div className=\"space-y-[var(--space-2)]\">\n          <label\n            htmlFor={categoryId}\n            className=\"text-ui font-medium text-foreground\"\n          >\n            Category\n          </label>\n          <InsetSelect\n            id={categoryId}\n            ref={categoryRef}\n            value={values.category}\n            onChange={handleFieldChange(\"category\")}\n            onBlur={handleBlur(\"category\")}\n            aria-invalid={errors.category ? \"true\" : undefined}\n            aria-describedby={\n              errors.category ? `${categoryId}-error` : undefined\n            }\n            disabled={disabled}\n            required\n          >\n            <option value=\"\" disabled hidden>\n              Select category\n            </option>\n            {categories.map((option) => (\n              <option key={option.value} value={option.value}>\n                {option.label}\n              </option>\n            ))}\n          </InsetSelect>\n          {errors.category ? (\n            <p\n              id={`${categoryId}-error`}\n              className=\"text-label font-medium text-danger\"\n              role=\"status\"\n            >\n              {errors.category}\n            </p>\n          ) : null}\n        </div>\n\n        <div className=\"space-y-[var(--space-2)]\">\n          <label\n            htmlFor={promptId}\n            className=\"text-ui font-medium text-foreground\"\n          >\n            Prompt\n          </label>\n          <InsetTextarea\n            id={promptId}\n            ref={promptRef}\n            placeholder=\"Write your prompt or snippet…\"\n            value={values.prompt}\n            onChange={handleFieldChange(\"prompt\")}\n            onBlur={handleBlur(\"prompt\")}\n            rows={6}\n            aria-invalid={errors.prompt ? \"true\" : undefined}\n            aria-describedby={errors.prompt ? `${promptId}-error` : undefined}\n            disabled={disabled}\n            required\n          />\n          {errors.prompt ? (\n            <p\n              id={`${promptId}-error`}\n              className=\"text-label font-medium text-danger\"\n              role=\"status\"\n            >\n              {errors.prompt}\n            </p>\n          ) : null}\n        </div>\n\n        <div className=\"flex justify-end\">\n          <Button type=\"submit\" size=\"sm\" disabled={disableSubmit}>\n            {isSubmitting ? \"Saving…\" : submitLabel}\n          </Button>\n        </div>\n\n        <p aria-live=\"polite\" role=\"status\" className=\"sr-only\">\n          {liveMessage}\n        </p>\n      </form>\n    );\n  },\n);\n\nPromptForm.displayName = \"PromptForm\";\n","\"use client\";\n\nimport * as React from \"react\";\nimport { Pencil, Trash2 } from \"lucide-react\";\n\nimport { Card, IconButton } from \"@/components/ui\";\nimport { Badge } from \"@/components/ui/primitives/Badge\";\nimport { cn } from \"@/lib/utils\";\nimport type { PromptWithTitle } from \"./types\";\n\nexport type PromptCardData = PromptWithTitle & {\n  createdAtDateTime: string;\n  createdAtLabel: string;\n};\n\nexport interface PromptCardProps {\n  prompt: PromptCardData;\n  statusBadge?: React.ReactNode;\n  onSelect?: (prompt: PromptCardData) => void;\n  onEdit?: (prompt: PromptCardData) => void;\n  onDelete?: (prompt: PromptCardData) => void;\n  className?: string;\n}\n\nexport function PromptCard({\n  prompt,\n  statusBadge,\n  onSelect,\n  onEdit,\n  onDelete,\n  className,\n}: PromptCardProps) {\n  const handleSelect = React.useCallback(() => {\n    onSelect?.(prompt);\n  }, [onSelect, prompt]);\n\n  const handleKeyDown: React.KeyboardEventHandler<HTMLDivElement> = (\n    event,\n  ) => {\n    if (!onSelect) return;\n    if (event.key === \"Enter\" || event.key === \" \") {\n      event.preventDefault();\n      onSelect(prompt);\n    }\n  };\n\n  const handleEditClick: React.MouseEventHandler<HTMLButtonElement> = (\n    event,\n  ) => {\n    event.stopPropagation();\n    onEdit?.(prompt);\n  };\n\n  const handleDeleteClick: React.MouseEventHandler<HTMLButtonElement> = (\n    event,\n  ) => {\n    event.stopPropagation();\n    onDelete?.(prompt);\n  };\n\n  return (\n    <Card\n      role={onSelect ? \"button\" : undefined}\n      tabIndex={onSelect ? 0 : undefined}\n      onClick={onSelect ? handleSelect : undefined}\n      onKeyDown={handleKeyDown}\n      className={cn(\n        \"group relative isolate flex flex-col gap-[var(--space-3)] overflow-hidden\",\n        \"border border-border/70 bg-card/80 p-[var(--space-4)] shadow-neo-soft transition-all\",\n        \"focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background\",\n        onSelect &&\n          \"cursor-pointer hover:ring-2 hover:ring-ring hover:ring-offset-2 hover:ring-offset-background\",\n        className,\n      )}\n    >\n      <div\n        aria-hidden\n        className=\"pointer-events-none absolute inset-0 -z-10 rounded-[inherit] bg-gradient-blob-primary opacity-0 blur-[var(--space-4)] transition-opacity duration-motion-sm ease-out motion-reduce:animate-none motion-safe:animate-blob-drift group-hover:opacity-[var(--glitch-overlay-opacity-card,0.08)] group-focus-visible:opacity-[var(--glitch-overlay-opacity-card,0.08)] group-focus-within:opacity-[var(--glitch-overlay-opacity-card,0.08)]\"\n      />\n      <div\n        aria-hidden\n        className=\"absolute inset-x-[var(--space-4)] top-0 -z-10 h-px bg-gradient-to-r from-transparent via-border/80 to-transparent\"\n      />\n\n      <header className=\"flex items-start justify-between gap-[var(--space-3)]\">\n        <div className=\"min-w-0 space-y-[var(--space-1-5)]\">\n          <div className=\"flex items-center gap-[var(--space-2)]\">\n            <h3 className=\"truncate font-semibold text-body\">{prompt.title}</h3>\n            {statusBadge}\n          </div>\n          {prompt.category ? (\n            <Badge tone=\"neutral\" size=\"sm\">\n              {prompt.category}\n            </Badge>\n          ) : null}\n          <time\n            dateTime={prompt.createdAtDateTime}\n            className=\"flex items-center gap-[var(--space-1)] text-label text-muted-foreground\"\n          >\n            <span\n              aria-hidden\n              className=\"block size-[var(--space-2)] rounded-full bg-primary/70\"\n            />\n            Saved {prompt.createdAtLabel}\n          </time>\n        </div>\n        <div className=\"flex shrink-0 items-center gap-[var(--space-1-5)]\">\n          <IconButton\n            aria-label={`Edit ${prompt.title}`}\n            size=\"sm\"\n            variant=\"quiet\"\n            tone=\"primary\"\n            onClick={handleEditClick}\n          >\n            <Pencil aria-hidden=\"true\" />\n          </IconButton>\n          <IconButton\n            aria-label={`Delete ${prompt.title}`}\n            size=\"sm\"\n            variant=\"quiet\"\n            tone=\"danger\"\n            onClick={handleDeleteClick}\n          >\n            <Trash2 aria-hidden=\"true\" />\n          </IconButton>\n        </div>\n      </header>\n\n      {prompt.text ? (\n        <p className=\"line-clamp-3 whitespace-pre-line rounded-[var(--radius-md)] bg-card/70 px-[var(--space-3)] py-[var(--space-2-5)] text-ui text-muted-foreground ring-1 ring-inset ring-border/40\">\n          {prompt.text}\n        </p>\n      ) : null}\n    </Card>\n  );\n}\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'm13.5 8.5-5 5', key: '1cs55j' }],\n  ['path', { d: 'm8.5 8.5 5 5', key: 'a8mexj' }],\n  ['circle', { cx: '11', cy: '11', r: '8', key: '4ej97u' }],\n  ['path', { d: 'm21 21-4.3-4.3', key: '1qie3q' }],\n];\n\n/**\n * @component @name SearchX\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtMTMuNSA4LjUtNSA1IiAvPgogIDxwYXRoIGQ9Im04LjUgOC41IDUgNSIgLz4KICA8Y2lyY2xlIGN4PSIxMSIgY3k9IjExIiByPSI4IiAvPgogIDxwYXRoIGQ9Im0yMSAyMS00LjMtNC4zIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/search-x\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst SearchX = createLucideIcon('search-x', __iconNode);\n\nexport default SearchX;\n","\"use client\";\n\nimport * as React from \"react\";\nimport { SearchX, Sparkles } from \"lucide-react\";\n\nimport { GenericList } from \"@/components/lists/GenericList\";\nimport { Card } from \"@/components/ui\";\nimport { Badge } from \"@/components/ui/primitives/Badge\";\nimport { cn, LOCALE } from \"@/lib/utils\";\nimport type { PromptWithTitle } from \"./types\";\nimport { PromptCard, type PromptCardData } from \"./PromptCard\";\n\nexport interface SavedPromptListProps {\n  prompts: PromptWithTitle[];\n  query: string;\n  onSelectPrompt?: (prompt: PromptWithTitle) => void;\n  onEditPrompt?: (prompt: PromptWithTitle) => void;\n  onDeletePrompt?: (prompt: PromptWithTitle) => void;\n}\n\nexport function SavedPromptList({\n  prompts,\n  query,\n  onSelectPrompt,\n  onEditPrompt,\n  onDeletePrompt,\n}: SavedPromptListProps) {\n  const trimmedQuery = query.trim();\n\n  const formattedPrompts = React.useMemo<PromptCardData[]>(\n    () =>\n      prompts.map((prompt) => {\n        const createdAt = new Date(prompt.createdAt);\n        return {\n          ...prompt,\n          createdAtDateTime: createdAt.toISOString(),\n          createdAtLabel: createdAt.toLocaleString(LOCALE),\n        } satisfies PromptCardData;\n      }),\n    [prompts],\n  );\n\n  const renderEmptyState = React.useCallback(() => {\n    if (formattedPrompts.length > 0) return null;\n    return <SavedPromptEmptyState query={trimmedQuery} />;\n  }, [formattedPrompts.length, trimmedQuery]);\n\n  const emptyState = renderEmptyState();\n  if (emptyState) {\n    return <div className=\"mt-[var(--space-4)]\">{emptyState}</div>;\n  }\n\n  return (\n    <GenericList\n      items={formattedPrompts}\n      getKey={(prompt) => prompt.id}\n      listClassName=\"mt-[var(--space-4)] space-y-[var(--space-3)]\"\n      renderItem={(prompt, { statusBadge }) => (\n        <PromptCard\n          prompt={prompt}\n          statusBadge={statusBadge}\n          onSelect={onSelectPrompt ? () => onSelectPrompt(prompt) : undefined}\n          onEdit={onEditPrompt ? () => onEditPrompt(prompt) : undefined}\n          onDelete={onDeletePrompt ? () => onDeletePrompt(prompt) : undefined}\n        />\n      )}\n    />\n  );\n}\n\nfunction SavedPromptEmptyState({ query }: { query: string }) {\n  const trimmed = query.trim();\n  const isFiltered = trimmed.length > 0;\n\n  return (\n    <Card\n      className={cn(\n        \"relative isolate flex items-start gap-[var(--space-3)] overflow-hidden border border-dashed border-border/70 bg-card/70 p-[var(--space-4)] shadow-neo-soft\",\n        \"before:absolute before:inset-0 before:-z-10 before:bg-gradient-to-br before:from-primary/5 before:via-transparent before:to-accent/5\",\n      )}\n      aria-live=\"polite\"\n    >\n      <div className=\"flex items-center justify-center rounded-full bg-card/80 p-[var(--space-3)] ring-1 ring-inset ring-border/50\">\n        {isFiltered ? (\n          <SearchX aria-hidden className=\"size-[var(--space-6)] text-muted-foreground\" />\n        ) : (\n          <Sparkles aria-hidden className=\"size-[var(--space-6)] text-primary\" />\n        )}\n      </div>\n      <div className=\"space-y-[var(--space-2)]\">\n        <div className=\"space-y-[var(--space-1)]\">\n          <p className=\"text-body font-semibold text-card-foreground\">\n            {isFiltered ? \"No prompts match\" : \"Save your first prompt\"}\n          </p>\n          <p className=\"text-ui text-muted-foreground\">\n            {isFiltered\n              ? \"Try different keywords or clear the search filter.\"\n              : \"Keep favorite instructions ready to reuse whenever inspiration hits.\"}\n          </p>\n        </div>\n        {isFiltered ? (\n          <div className=\"flex flex-wrap items-center gap-[var(--space-1)]\">\n            <span className=\"text-label text-muted-foreground\">Searching for</span>\n            <Badge size=\"sm\" tone=\"neutral\">\n              {trimmed}\n            </Badge>\n          </div>\n        ) : (\n          <ul className=\"list-inside list-disc space-y-[var(--space-1)] text-ui text-muted-foreground\">\n            <li>Give your prompt a clear title so it is easy to scan.</li>\n            <li>Include the full text you want to reuse, then hit Save.</li>\n          </ul>\n        )}\n      </div>\n    </Card>\n  );\n}\n"],"names":["StateTester","chips","selectedChip","onSelect","groupLabel","className","open","setOpen","React","panelId","toggleRef","panelRef","shouldRestoreFocus","handleToggle","previous","handleClose","current","focusFirstChip","firstChip","querySelector","focus","preventScroll","frame","requestAnimationFrame","cancelAnimationFrame","handleKeyDown","event","key","preventDefault","div","cn","Button","ref","variant","size","aria-expanded","aria-controls","onClick","id","role","tabIndex","aria-label","onKeyDown","p","map","chip","index","isSelected","Badge","interactive","selected","aria-pressed","data-state-tester-chip","undefined","tone","LazyCodexPromptsTab","default","CodexPromptsTab","LazyNotesTab","NotesTab","PromptsPage","prompts","chatPrompts","query","chatQuery","setQuery","setChatQuery","filtered","chatFiltered","save","saveChatPrompt","update","updateChatPrompt","remove","deleteChatPrompt","useChatPrompts","codexPrompts","codexQuery","setCodexQuery","codexFiltered","saveCodexPrompt","updateCodexPrompt","deleteCodexPrompt","useCodexPrompts","personas","usePersonas","notes","setNotes","useNotes","activeTab","setActiveTab","usePersistentState","TAB_STORAGE_KEY","tabCounts","chat","length","codex","trim","activeQuery","handleQueryChange","value","chatTabRef","codexTabRef","notesTabRef","pendingFocusRef","focusLoopRef","activeTabRef","tryFocus","pending","tab","handle","type","focusCompose","focusPersonas","focusScratchpad","ensureFocusLoop","step","window","handleNewPrompt","action","target","handleNewPersona","PageShell","as","PromptsHeader","onQueryChange","onTabChange","onNewPrompt","onNewPersona","aria-labelledby","PROMPTS_TAB_ITEMS","item","panelContent","isActive","tabId","PROMPTS_TAB_ID_BASE","ChatTabPanel","savePrompt","updatePrompt","deletePrompt","fallback","TabFallback","CodexTabPanel","onChange","hidden","data-state","handleSave","title","text","category","ChatPromptsTab","displayName","children","aria-live","PROMPT_CATEGORY_OPTIONS","label","createChatComposeDefaults","prompt","composeHeadingId","personasHeadingId","libraryHeadingId","formId","composeValues","setComposeValues","composeValuesRef","editingPromptId","setEditingPromptId","composeFormRef","personasHeadingRef","resetComposeValues","nextState","values","success","handleValuesChange","nextTitle","nextPrompt","nextCategory","handleEditPrompt","handleDeletePrompt","submitDisabled","submitLabel","options","section","h3","Card","depth","glitch","cardSurfaceClassName","PromptForm","categories","onSubmit","ul","li","PersonaCard","persona","PersonaEmptyStateCard","SavedPromptList","onSelectPrompt","onEditPrompt","onDeletePrompt","Sparkles","aria-hidden","decodePrompts","Array","isArray","result","entry","decodePrompt","createdAt","Number","isFinite","push","EMPTY_PROMPT_LIST","usePromptLibrary","storageKey","setPrompts","decode","withTitles","derivePromptTitle","firstLine","split","find","line","fuseModulePromiseRef","fuseRef","setFiltered","ensureFuse","FuseModule","setCollection","instance","keys","threshold","trimmed","cancelled","lowered","toLowerCase","filter","includes","runSearch","fuse","results","search","res","titleDraft","textDraft","categoryValue","next","uid","Date","now","prev","didUpdate","didRemove","keep","actions","handleSelect","header","h4","name","description","time","dateTime","toISOString","span","toLocaleString","LOCALE","EMPTY_PERSONA_LIST","PROMPT_PERSONAS_STORAGE_KEY","tabs","badge","handleChip","nextQuery","searchId","Hero","subtitle","sticky","padding","barClassName","items","ariaLabel","idBase","bodyClassName","searchBar","onValueChange","debounceMs","placeholder","round","CODEX_PROMPTS_STORAGE_KEY","InsetInput","props","Input","InsetSelect","Field","Root","Select","ChevronDown","InsetTextarea","Textarea","REQUIRED_MESSAGES","validatePrompt","errors","DEFAULT_SUBMIT_LABEL","disabled","isSubmitting","setErrors","touched","setTouched","liveMessage","setLiveMessage","titleId","categoryId","promptId","titleRef","categoryRef","promptRef","Object","Boolean","join","nextValidation","hasChanged","nextErrors","forEach","nextError","field","handleFieldChange","nextValue","nextValues","handleBlur","handleSubmit","validationErrors","disableSubmit","form","resolvedId","htmlFor","onBlur","aria-invalid","aria-describedby","required","option","rows","PromptCard","statusBadge","onEdit","onDelete","createdAtDateTime","createdAtLabel","IconButton","handleEditClick","stopPropagation","Pencil","handleDeleteClick","Trash2","trimmedQuery","formattedPrompts","emptyState","SavedPromptEmptyState","GenericList","getKey","listClassName","renderItem","isFiltered","SearchX"],"sourceRoot":"","ignoreList":[]}