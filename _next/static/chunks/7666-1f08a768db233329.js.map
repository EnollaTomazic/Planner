{"version":3,"file":"static/chunks/7666-1f08a768db233329.js","mappings":"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","sources":["webpack://_N_E/../../../src/icons/shapes.ts","webpack://_N_E/../../../src/icons/workflow.ts","webpack://_N_E/../../../src/icons/layout-panel-left.ts","webpack://_N_E/./src/components/gallery-page/useComponentsGalleryState.ts","webpack://_N_E/./src/components/gallery-page/ComponentsPageClient.tsx","webpack://_N_E/./src/lib/theme-hooks.ts"],"sourcesContent":["import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M8.3 10a.7.7 0 0 1-.626-1.079L11.4 3a.7.7 0 0 1 1.198-.043L16.3 8.9a.7.7 0 0 1-.572 1.1Z',\n      key: '1bo67w',\n    },\n  ],\n  ['rect', { x: '3', y: '14', width: '7', height: '7', rx: '1', key: '1bkyp8' }],\n  ['circle', { cx: '17.5', cy: '17.5', r: '3.5', key: 'w3z12y' }],\n];\n\n/**\n * @component @name Shapes\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNOC4zIDEwYS43LjcgMCAwIDEtLjYyNi0xLjA3OUwxMS40IDNhLjcuNyAwIDAgMSAxLjE5OC0uMDQzTDE2LjMgOC45YS43LjcgMCAwIDEtLjU3MiAxLjFaIiAvPgogIDxyZWN0IHg9IjMiIHk9IjE0IiB3aWR0aD0iNyIgaGVpZ2h0PSI3IiByeD0iMSIgLz4KICA8Y2lyY2xlIGN4PSIxNy41IiBjeT0iMTcuNSIgcj0iMy41IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/shapes\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Shapes = createLucideIcon('shapes', __iconNode);\n\nexport default Shapes;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['rect', { width: '8', height: '8', x: '3', y: '3', rx: '2', key: 'by2w9f' }],\n  ['path', { d: 'M7 11v4a2 2 0 0 0 2 2h4', key: 'xkn7yn' }],\n  ['rect', { width: '8', height: '8', x: '13', y: '13', rx: '2', key: '1cgmvn' }],\n];\n\n/**\n * @component @name Workflow\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cmVjdCB3aWR0aD0iOCIgaGVpZ2h0PSI4IiB4PSIzIiB5PSIzIiByeD0iMiIgLz4KICA8cGF0aCBkPSJNNyAxMXY0YTIgMiAwIDAgMCAyIDJoNCIgLz4KICA8cmVjdCB3aWR0aD0iOCIgaGVpZ2h0PSI4IiB4PSIxMyIgeT0iMTMiIHJ4PSIyIiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/workflow\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Workflow = createLucideIcon('workflow', __iconNode);\n\nexport default Workflow;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['rect', { width: '7', height: '18', x: '3', y: '3', rx: '1', key: '2obqm' }],\n  ['rect', { width: '7', height: '7', x: '14', y: '3', rx: '1', key: '6d4xhi' }],\n  ['rect', { width: '7', height: '7', x: '14', y: '14', rx: '1', key: 'nxv5o0' }],\n];\n\n/**\n * @component @name LayoutPanelLeft\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cmVjdCB3aWR0aD0iNyIgaGVpZ2h0PSIxOCIgeD0iMyIgeT0iMyIgcng9IjEiIC8+CiAgPHJlY3Qgd2lkdGg9IjciIGhlaWdodD0iNyIgeD0iMTQiIHk9IjMiIHJ4PSIxIiAvPgogIDxyZWN0IHdpZHRoPSI3IiBoZWlnaHQ9IjciIHg9IjE0IiB5PSIxNCIgcng9IjEiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/layout-panel-left\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst LayoutPanelLeft = createLucideIcon('layout-panel-left', __iconNode);\n\nexport default LayoutPanelLeft;\n","\"use client\";\n\nimport * as React from \"react\";\nimport { useRouter, useSearchParams } from \"next/navigation\";\n\nimport { getGallerySectionEntries } from \"@/components/prompts/constants\";\nimport {\n  type GalleryHeroCopy,\n  type GalleryNavigationData,\n  type GalleryNavigationSection,\n  type GallerySectionGroupKey,\n} from \"@/components/gallery/types\";\nimport { formatGallerySectionLabel } from \"@/components/gallery/registry\";\nimport type { GallerySerializableEntry } from \"@/components/gallery/registry\";\nimport { usePersistentState } from \"@/lib/db\";\n\nexport type Section = GalleryNavigationSection[\"id\"];\nexport type ComponentsView = GallerySectionGroupKey;\n\nexport const COMPONENTS_VIEW_TAB_ID_BASE = \"components\";\nexport const COMPONENTS_PANEL_ID = `${COMPONENTS_VIEW_TAB_ID_BASE}-components-panel`;\nexport const COMPONENTS_PANEL_HASH = `#${COMPONENTS_PANEL_ID}`;\nexport const COMPONENTS_SECTION_TAB_ID_BASE = COMPONENTS_VIEW_TAB_ID_BASE;\nexport const COMPONENTS_PANEL_CONTROLS_ID = COMPONENTS_PANEL_ID.replace(\n  `${COMPONENTS_VIEW_TAB_ID_BASE}-`,\n  \"\",\n);\n\nfunction matchesEntryQuery(\n  entry: GallerySerializableEntry,\n  normalizedQuery: string,\n): boolean {\n  if (entry.name.toLowerCase().includes(normalizedQuery)) {\n    return true;\n  }\n\n  if (\n    typeof entry.description === \"string\" &&\n    entry.description.toLowerCase().includes(normalizedQuery)\n  ) {\n    return true;\n  }\n\n  if (\n    Array.isArray(entry.tags) &&\n    entry.tags.some((tag) => tag.toLowerCase().includes(normalizedQuery))\n  ) {\n    return true;\n  }\n\n  if (\n    Array.isArray(entry.props) &&\n    entry.props.some((prop) => {\n      return (\n        prop.name.toLowerCase().includes(normalizedQuery) ||\n        prop.type.toLowerCase().includes(normalizedQuery)\n      );\n    })\n  ) {\n    return true;\n  }\n\n  return false;\n}\n\nfunction extractSpecCategory(\n  spec: GallerySerializableEntry,\n  section: Section,\n  fallbackLabel: string,\n): {\n  readonly key: string;\n  readonly label: string;\n  readonly emptyCopy?: string;\n} {\n  const rawCategory = (spec as { category?: unknown }).category;\n  const fallbackKey = `section:${section}`;\n\n  if (!rawCategory) {\n    return { key: fallbackKey, label: fallbackLabel };\n  }\n\n  if (typeof rawCategory === \"string\") {\n    const trimmed = rawCategory.trim();\n    if (!trimmed) {\n      return { key: fallbackKey, label: fallbackLabel };\n    }\n    return { key: trimmed, label: trimmed };\n  }\n\n  if (typeof rawCategory === \"object\") {\n    const { key, label, emptyCopy } = rawCategory as RawSpecCategory;\n    const trimmedKey =\n      typeof key === \"string\" && key.trim().length > 0 ? key.trim() : \"\";\n    const trimmedLabel =\n      typeof label === \"string\" && label.trim().length > 0\n        ? label.trim()\n        : \"\";\n    const trimmedEmptyCopy =\n      typeof emptyCopy === \"string\" && emptyCopy.trim().length > 0\n        ? emptyCopy.trim()\n        : undefined;\n\n    const resolvedKey = trimmedKey || trimmedLabel || fallbackKey;\n    const resolvedLabel = trimmedLabel || trimmedKey || fallbackLabel;\n\n    return {\n      key: resolvedKey,\n      label: resolvedLabel,\n      emptyCopy: trimmedEmptyCopy,\n    };\n  }\n\n  return { key: fallbackKey, label: fallbackLabel };\n}\n\ninterface TabItem {\n  readonly key: string;\n  readonly label: string;\n  readonly controls: string;\n}\n\ninterface InPageNavigationItem {\n  readonly id: ComponentsView;\n  readonly label: string;\n  readonly href: string;\n}\n\nexport interface ComponentsSectionLink {\n  readonly id: Section\n  readonly label: string\n  readonly href: string\n  readonly active: boolean\n}\n\ninterface RawSpecCategory {\n  readonly key?: unknown;\n  readonly label?: unknown;\n  readonly emptyCopy?: unknown;\n}\n\nexport interface ComponentsGalleryCategoryGroup {\n  readonly key: string;\n  readonly label: string;\n  readonly filteredSpecs: readonly GallerySerializableEntry[];\n  readonly filteredCount: number;\n  readonly totalCount: number;\n  readonly emptyCopy?: string;\n}\n\ninterface UseComponentsGalleryStateParams {\n  readonly navigation: GalleryNavigationData;\n}\n\nexport interface ComponentsGalleryState {\n  readonly view: ComponentsView;\n  readonly section: Section;\n  readonly query: string;\n  readonly setQuery: React.Dispatch<React.SetStateAction<string>>;\n  readonly heroCopy: GalleryHeroCopy;\n  readonly heroTabs: TabItem[];\n  readonly viewTabs: TabItem[];\n  readonly inPageNavigation: readonly InPageNavigationItem[];\n  readonly showSectionTabs: boolean;\n  readonly searchLabel: string;\n  readonly searchPlaceholder: string;\n  readonly filteredSpecs: readonly GallerySerializableEntry[];\n  readonly categoryGroups: readonly ComponentsGalleryCategoryGroup[];\n  readonly sectionLabel: string;\n  readonly countLabel: string;\n  readonly countDescriptionId: string;\n  readonly sectionLinks: readonly ComponentsSectionLink[];\n  readonly componentsPanelLabelledBy: string;\n  readonly handleViewChange: (key: string | number) => void;\n  readonly handleSectionChange: (key: string | number) => void;\n  readonly componentsPanelRef: React.Ref<HTMLDivElement>;\n  readonly tokensPanelRef: React.Ref<HTMLDivElement>;\n}\n\nconst DEFAULT_FALLBACK_COPY: GalleryHeroCopy = {\n  eyebrow: \"Gallery\",\n  heading: \"Planner component gallery\",\n  subtitle: \"Browse Planner UI building blocks by category.\",\n};\n\nfunction isKeyboardFocusVisible(element: HTMLElement): boolean {\n  try {\n    if (element.matches(\":focus-visible\")) {\n      return true;\n    }\n  } catch {\n    // Ignore selector support errors and fall back to class/attribute detection.\n  }\n\n  return (\n    element.classList.contains(\"focus-visible\") ||\n    element.classList.contains(\"is-focus-visible\") ||\n    element.hasAttribute(\"data-focus-visible-added\") ||\n    element.dataset.focusVisible === \"true\"\n  );\n}\n\nexport function formatQueryWithHash(\n  queryString: string,\n  hash: string | undefined,\n): string {\n  const hasQuery = queryString.length > 0;\n  const queryPrefix = hasQuery ? `?${queryString}` : \"\";\n  if (!hash) {\n    return queryPrefix;\n  }\n  if (!hasQuery) {\n    return hash;\n  }\n  return `${queryPrefix}${hash}`;\n}\n\nexport function useComponentsGalleryState({\n  navigation,\n}: UseComponentsGalleryStateParams): ComponentsGalleryState {\n  const router = useRouter();\n  const searchParams = useSearchParams();\n  const paramsString = searchParams.toString();\n  const sectionParam = searchParams.get(\"section\");\n  const queryParam = searchParams.get(\"q\");\n  const viewParam = searchParams.get(\"view\");\n  const [, startTransition] = React.useTransition();\n  const [query, setQuery] = usePersistentState(\"components-query\", \"\");\n\n  const groups = navigation.groups;\n\n  const viewOrder = React.useMemo<ComponentsView[]>(() => {\n    const ids = groups.map((group) => group.id as ComponentsView);\n    return ids.includes(\"tokens\") ? ids : [...ids, \"tokens\"];\n  }, [groups]);\n\n  const defaultView = React.useMemo<ComponentsView>(\n    () => (viewOrder[0] ?? \"primitives\") as ComponentsView,\n    [viewOrder],\n  );\n\n  const mapView = React.useCallback(\n    (raw: string | null): ComponentsView | null => {\n      if (!raw) {\n        return null;\n      }\n      const normalized = raw.trim().toLowerCase();\n      if (!normalized) {\n        return null;\n      }\n      if (normalized === \"elements\") {\n        return \"primitives\";\n      }\n      if (normalized === \"styles\" || normalized === \"colors\") {\n        return \"tokens\";\n      }\n      if (normalized === \"tokens\") {\n        return \"tokens\";\n      }\n      if (normalized === \"components\") {\n        return \"patterns\";\n      }\n      if (normalized === \"complex\") {\n        return \"layouts\";\n      }\n      if ((viewOrder as readonly string[]).includes(normalized as ComponentsView)) {\n        return normalized as ComponentsView;\n      }\n      return null;\n    },\n    [viewOrder],\n  );\n\n  const navSectionEntries = React.useMemo(\n    () => groups.flatMap((group) => group.sections),\n    [groups],\n  );\n\n  const sectionMap = React.useMemo(() => {\n    const map = new Map<Section, GalleryNavigationSection>();\n    for (const section of navSectionEntries) {\n      map.set(section.id, section);\n    }\n    return map;\n  }, [navSectionEntries]);\n\n  const sectionGroupMap = React.useMemo(() => {\n    const map = new Map<Section, ComponentsView>();\n    for (const group of groups) {\n      for (const section of group.sections) {\n        map.set(section.id, group.id);\n      }\n    }\n    return map;\n  }, [groups]);\n\n  const groupSectionIds = React.useMemo(() => {\n    const map = new Map<ComponentsView, Set<Section>>();\n    for (const group of groups) {\n      map.set(\n        group.id,\n        new Set(group.sections.map((section) => section.id)),\n      );\n    }\n    return map;\n  }, [groups]);\n\n  const getDefaultSectionForView = React.useCallback(\n    (viewValue: ComponentsView | null | undefined): Section => {\n      if (viewValue) {\n        const viewGroup = groups.find((group) => group.id === viewValue);\n        const firstSection = viewGroup?.sections[0];\n        if (firstSection) {\n          return firstSection.id;\n        }\n      }\n      const fallbackSection = navSectionEntries[0]?.id;\n      if (fallbackSection) {\n        return fallbackSection;\n      }\n      return \"buttons\" as Section;\n    },\n    [groups, navSectionEntries],\n  );\n\n  const shouldAllowCrossView = React.useCallback(\n    (rawView: string | null) => {\n      if (rawView === null) {\n        return true;\n      }\n      return mapView(rawView) === null;\n    },\n    [mapView],\n  );\n\n  const fallbackCopy = React.useMemo<GalleryHeroCopy>(() => {\n    const firstSection = navSectionEntries[0];\n    if (firstSection) {\n      return firstSection.copy;\n    }\n    const firstGroup = groups[0];\n    if (firstGroup) {\n      return firstGroup.copy;\n    }\n    return DEFAULT_FALLBACK_COPY;\n  }, [groups, navSectionEntries]);\n\n  const normalizeView = React.useCallback(\n    (value: string | null): ComponentsView => {\n      const mapped = mapView(value);\n      if (mapped) {\n        return mapped;\n      }\n      return defaultView;\n    },\n    [defaultView, mapView],\n  );\n\n  const normalizeSection = React.useCallback(\n    (\n      value: string | null,\n      viewValue: ComponentsView,\n      options: { allowCrossView?: boolean } = {},\n    ): Section => {\n      const allowCrossView = options.allowCrossView ?? false;\n      if (value && sectionMap.has(value as Section)) {\n        const owner = sectionGroupMap.get(value as Section);\n        if (!owner || owner === viewValue || allowCrossView) {\n          return value as Section;\n        }\n      }\n      return getDefaultSectionForView(viewValue);\n    },\n    [getDefaultSectionForView, sectionGroupMap, sectionMap],\n  );\n\n  const [view, setView] = React.useState<ComponentsView>(() =>\n    normalizeView(viewParam),\n  );\n  const [section, setSection] = React.useState<Section>(() =>\n    normalizeSection(sectionParam, normalizeView(viewParam), {\n      allowCrossView: shouldAllowCrossView(viewParam),\n    }),\n  );\n\n  const previousSectionParamRef = React.useRef<string | null | undefined>(\n    undefined,\n  );\n  const previousViewParamRef = React.useRef<string | null | undefined>(\n    undefined,\n  );\n  const previousQueryParamRef = React.useRef<string | null | undefined>(\n    undefined,\n  );\n\n  const componentsPanelRef = React.useRef<HTMLDivElement>(null);\n  const tokensPanelRef = React.useRef<HTMLDivElement>(null);\n  const previousViewRef = React.useRef<ComponentsView | null>(null);\n  const lastInteractionRef = React.useRef<\"pointer\" | \"keyboard\" | null>(null);\n  const supportsPreventScrollRef = React.useRef<boolean | null>(null);\n  const lastSyncedSectionRef = React.useRef<Section | null>(null);\n  const shouldFocusPanel = React.useCallback(\n    (panel: HTMLElement | null) => {\n      if (typeof document === \"undefined\" || !panel) {\n        return false;\n      }\n      if (lastInteractionRef.current === \"pointer\") {\n        return false;\n      }\n      const activeElement = document.activeElement;\n      if (!activeElement || !(activeElement instanceof HTMLElement)) {\n        return false;\n      }\n      if (activeElement.getAttribute(\"role\") !== \"tab\") {\n        return false;\n      }\n      if (panel.id) {\n        const controls = activeElement.getAttribute(\"aria-controls\");\n        if (!controls || controls !== panel.id) {\n          return false;\n        }\n      }\n      if (!isKeyboardFocusVisible(activeElement)) {\n        return false;\n      }\n      return true;\n    },\n    [lastInteractionRef],\n  );\n  const focusPanel = React.useCallback(\n    (panel: HTMLElement | null) => {\n      if (!panel || !shouldFocusPanel(panel)) {\n        return;\n      }\n      if (supportsPreventScrollRef.current === true) {\n        panel.focus({ preventScroll: true });\n        return;\n      }\n      if (supportsPreventScrollRef.current === false) {\n        panel.focus();\n        return;\n      }\n      try {\n        panel.focus({\n          get preventScroll() {\n            supportsPreventScrollRef.current = true;\n            return true;\n          },\n        } as FocusOptions);\n      } catch {\n        supportsPreventScrollRef.current = false;\n        panel.focus();\n      }\n    },\n    [shouldFocusPanel],\n  );\n\n  const currentGroup = React.useMemo(\n    () => groups.find((group) => group.id === view) ?? null,\n    [groups, view],\n  );\n\n  const heroTabs = React.useMemo<TabItem[]>(\n    () =>\n      currentGroup\n        ? currentGroup.sections.map((section) => ({\n            key: section.id,\n            label: section.label,\n            controls: COMPONENTS_PANEL_CONTROLS_ID,\n          }))\n        : [],\n    [currentGroup],\n  );\n\n  const resolvedSection = React.useMemo<Section>(() => {\n    if (heroTabs.some((tab) => tab.key === section)) {\n      return section;\n    }\n    const fallbackSection = heroTabs[0]?.key;\n    if (fallbackSection) {\n      return fallbackSection as Section;\n    }\n    return section;\n  }, [heroTabs, section]);\n\n  const sectionMeta = React.useMemo(() => {\n    const groupSection = currentGroup?.sections.find(\n      (groupSectionEntry) => groupSectionEntry.id === resolvedSection,\n    );\n    if (groupSection) {\n      return groupSection;\n    }\n    return sectionMap.get(resolvedSection) ?? null;\n  }, [currentGroup, resolvedSection, sectionMap]);\n\n  const currentGroupLabel = currentGroup?.label ?? \"\";\n  const activeSectionLabel = sectionMeta?.label ?? \"\";\n  const sectionMetaLabel = sectionMeta?.label;\n\n  const sectionLabel = React.useMemo(() => {\n    if (sectionMetaLabel) {\n      return sectionMetaLabel;\n    }\n    return formatGallerySectionLabel(resolvedSection);\n  }, [resolvedSection, sectionMetaLabel]);\n\n  const sectionSpecs = React.useMemo<readonly GallerySerializableEntry[]>(\n    () => getGallerySectionEntries(resolvedSection),\n    [resolvedSection],\n  );\n\n  const categoryGroups = React.useMemo<ComponentsGalleryCategoryGroup[]>(() => {\n    const fallbackLabel = sectionLabel;\n    const categories = new Map<\n      string,\n      { label: string; emptyCopy?: string; specs: GallerySerializableEntry[] }\n    >();\n\n    for (const spec of sectionSpecs) {\n      const category = extractSpecCategory(spec, resolvedSection, fallbackLabel);\n      const existing = categories.get(category.key);\n      if (existing) {\n        existing.specs.push(spec);\n        if (!existing.emptyCopy && category.emptyCopy) {\n          existing.emptyCopy = category.emptyCopy;\n        }\n        if (category.label && existing.label !== category.label) {\n          existing.label = category.label;\n        }\n      } else {\n        categories.set(category.key, {\n          label: category.label,\n          emptyCopy: category.emptyCopy,\n          specs: [spec],\n        });\n      }\n    }\n\n    if (categories.size === 0) {\n      return [\n        {\n          key: `section:${resolvedSection}`,\n          label: fallbackLabel,\n          filteredSpecs: [],\n          filteredCount: 0,\n          totalCount: 0,\n        },\n      ];\n    }\n\n    const normalizedQuery = query.trim().toLowerCase();\n    const hasQuery = normalizedQuery.length > 0;\n    const matches = hasQuery\n      ? (spec: GallerySerializableEntry) => matchesEntryQuery(spec, normalizedQuery)\n      : () => true;\n\n    return Array.from(categories.entries(), ([key, value]) => {\n      const filtered = value.specs.filter(matches);\n      return {\n        key,\n        label: value.label,\n        emptyCopy: value.emptyCopy,\n        filteredSpecs: filtered,\n        filteredCount: filtered.length,\n        totalCount: value.specs.length,\n      } satisfies ComponentsGalleryCategoryGroup;\n    });\n  }, [query, resolvedSection, sectionLabel, sectionSpecs]);\n\n  const filteredSpecs = React.useMemo(\n    () => categoryGroups.flatMap((group) => group.filteredSpecs),\n    [categoryGroups],\n  );\n\n  const filteredCount = filteredSpecs.length;\n\n  const countLabel = React.useMemo(() => {\n    const suffix = filteredCount === 1 ? \"spec\" : \"specs\";\n    return `${filteredCount} ${sectionLabel.toLowerCase()} ${suffix}`;\n  }, [filteredCount, sectionLabel]);\n\n  const countDescriptionId = React.useId();\n\n  const heroCopy = React.useMemo(() => {\n    if (view === \"tokens\") {\n      return currentGroup?.copy ?? fallbackCopy;\n    }\n    if (sectionMeta) {\n      return sectionMeta.copy;\n    }\n    return currentGroup?.copy ?? fallbackCopy;\n  }, [currentGroup, fallbackCopy, sectionMeta, view]);\n\n  const sectionCopy = React.useMemo(() => {\n    if (sectionMeta) {\n      return sectionMeta.copy;\n    }\n    if (currentGroup && view !== \"tokens\") {\n      return currentGroup.copy;\n    }\n    return heroCopy;\n  }, [currentGroup, heroCopy, sectionMeta, view]);\n\n  const searchLabel = React.useMemo(\n    () => `Search ${sectionCopy.heading}`,\n    [sectionCopy.heading],\n  );\n\n  const searchPlaceholder = React.useMemo(() => {\n    const baseLabel = activeSectionLabel || currentGroupLabel || \"gallery\";\n    return `Search ${baseLabel.toLowerCase()} specsâ€¦`;\n  }, [activeSectionLabel, currentGroupLabel]);\n\n  const viewTabs = React.useMemo<TabItem[]>(() => {\n    const groupTabs = groups.map((group) => ({\n      key: group.id,\n      label: group.label,\n      controls: COMPONENTS_PANEL_CONTROLS_ID,\n    }));\n    return [\n      ...groupTabs,\n      {\n        key: \"tokens\",\n        label: \"Tokens\",\n        controls: \"tokens-panel\",\n      },\n    ];\n  }, [groups]);\n\n  const inPageNavigation = React.useMemo<readonly InPageNavigationItem[]>(\n    () =>\n      groups.map((group) => ({\n        id: group.id as ComponentsView,\n        label: group.label,\n        href: `#components-${group.id}`,\n      })),\n    [groups],\n  );\n\n  const sectionLinks = React.useMemo<readonly ComponentsSectionLink[]>(\n    () =>\n      heroTabs.map((tab) => {\n        const params = new URLSearchParams();\n        params.set(\"view\", view);\n        params.set(\"section\", String(tab.key));\n        const normalizedQuery = query.trim();\n        if (normalizedQuery) {\n          params.set(\"q\", normalizedQuery);\n        }\n        return {\n          id: tab.key as Section,\n          label: tab.label,\n          href: `/components${formatQueryWithHash(params.toString(), COMPONENTS_PANEL_HASH)}`,\n          active: tab.key === resolvedSection,\n        } satisfies ComponentsSectionLink;\n      }),\n    [heroTabs, query, resolvedSection, view],\n  );\n\n  const componentsPanelLabelledBy = React.useMemo(() => {\n    const viewTabId = `${COMPONENTS_VIEW_TAB_ID_BASE}-${view}-tab`;\n    if (heroTabs.length > 0) {\n      const sectionTabId = `${COMPONENTS_SECTION_TAB_ID_BASE}-${resolvedSection}-tab`;\n      return `${viewTabId} ${sectionTabId}`;\n    }\n    return viewTabId;\n  }, [heroTabs.length, resolvedSection, view]);\n\n  const handleViewChange = React.useCallback(\n    (key: string | number) => {\n      const rawValue = typeof key === \"string\" ? key : String(key);\n      const nextView = normalizeView(rawValue);\n      if (nextView === view) {\n        return;\n      }\n      setView(nextView);\n      if (nextView === \"tokens\") {\n        return;\n      }\n      const allowedSections = groupSectionIds.get(nextView);\n      if (allowedSections?.has(section)) {\n        return;\n      }\n      const fallbackSection = getDefaultSectionForView(nextView);\n      if (fallbackSection !== section) {\n        setSection(fallbackSection);\n      }\n    },\n    [\n      getDefaultSectionForView,\n      groupSectionIds,\n      normalizeView,\n      section,\n      view,\n    ],\n  );\n\n  const handleSectionChange = React.useCallback(\n    (key: string | number) => {\n      const rawValue = typeof key === \"string\" ? key : String(key);\n      setSection(normalizeSection(rawValue, view));\n    },\n    [normalizeSection, view],\n  );\n\n  React.useEffect(() => {\n    if (previousSectionParamRef.current === sectionParam) {\n      return;\n    }\n    previousSectionParamRef.current = sectionParam;\n    const normalizedViewFromParams = normalizeView(viewParam);\n    const next = normalizeSection(sectionParam, normalizedViewFromParams, {\n      allowCrossView: shouldAllowCrossView(viewParam),\n    });\n    setSection((prev) => (prev === next ? prev : next));\n  }, [\n    normalizeSection,\n    normalizeView,\n    sectionParam,\n    shouldAllowCrossView,\n    viewParam,\n  ]);\n\n  React.useEffect(() => {\n    if (previousViewParamRef.current === viewParam) {\n      return;\n    }\n    previousViewParamRef.current = viewParam;\n    const next = normalizeView(viewParam);\n    setView((prev) => (prev === next ? prev : next));\n  }, [normalizeView, viewParam]);\n\n  React.useEffect(() => {\n    if (previousQueryParamRef.current === queryParam) {\n      return;\n    }\n    previousQueryParamRef.current = queryParam;\n    const next = queryParam ?? \"\";\n    if (next !== query) {\n      setQuery(next);\n    }\n  }, [queryParam, query, setQuery]);\n\n  React.useEffect(() => {\n    if (typeof window === \"undefined\") {\n      return;\n    }\n    const handlePointerDown = () => {\n      lastInteractionRef.current = \"pointer\";\n    };\n    const handleKeyDown = (event: KeyboardEvent) => {\n      if (event.altKey || event.ctrlKey || event.metaKey) {\n        return;\n      }\n      lastInteractionRef.current = \"keyboard\";\n    };\n    window.addEventListener(\"pointerdown\", handlePointerDown, true);\n    window.addEventListener(\"keydown\", handleKeyDown, true);\n    return () => {\n      window.removeEventListener(\"pointerdown\", handlePointerDown, true);\n      window.removeEventListener(\"keydown\", handleKeyDown, true);\n    };\n  }, [lastInteractionRef]);\n\n  const buildQueryWithHash = React.useCallback((next: URLSearchParams) => {\n    const queryString = next.toString();\n    const hash = typeof window === \"undefined\" ? undefined : window.location.hash;\n    if (queryString.length === 0) {\n      return hash ?? \"\";\n    }\n    return formatQueryWithHash(queryString, hash);\n  }, []);\n\n  React.useEffect(() => {\n    const current = sectionParam ?? \"\";\n    if (current === resolvedSection) {\n      lastSyncedSectionRef.current = resolvedSection;\n      return;\n    }\n    if (lastSyncedSectionRef.current === resolvedSection) {\n      return;\n    }\n    lastSyncedSectionRef.current = resolvedSection;\n    const next = new URLSearchParams(paramsString);\n    next.set(\"section\", resolvedSection);\n    startTransition(() => {\n      router.replace(buildQueryWithHash(next), { scroll: false });\n    });\n  }, [\n    buildQueryWithHash,\n    paramsString,\n    resolvedSection,\n    router,\n    sectionParam,\n    startTransition,\n  ]);\n\n  React.useEffect(() => {\n    const current = normalizeView(viewParam);\n    if (current === view) return;\n    const next = new URLSearchParams(paramsString);\n    if (view === defaultView) {\n      next.delete(\"view\");\n    } else {\n      next.set(\"view\", view);\n    }\n    startTransition(() => {\n      router.replace(buildQueryWithHash(next), { scroll: false });\n    });\n  }, [\n    buildQueryWithHash,\n    defaultView,\n    normalizeView,\n    paramsString,\n    router,\n    startTransition,\n    view,\n    viewParam,\n  ]);\n\n  React.useEffect(() => {\n    const current = queryParam ?? \"\";\n    if (current === query) return;\n    const next = new URLSearchParams(paramsString);\n    if (query) {\n      next.set(\"q\", query);\n    } else {\n      next.delete(\"q\");\n    }\n    startTransition(() => {\n      router.replace(buildQueryWithHash(next), { scroll: false });\n    });\n  }, [buildQueryWithHash, paramsString, query, queryParam, router, startTransition]);\n\n  React.useEffect(() => {\n    if (view === \"tokens\") {\n      return;\n    }\n    const allowed = groupSectionIds.get(view);\n    if (!allowed || allowed.size === 0) {\n      return;\n    }\n    if (!allowed.has(section)) {\n      const fallback = getDefaultSectionForView(view);\n      if (fallback !== section) {\n        setSection(fallback);\n      }\n    }\n  }, [getDefaultSectionForView, groupSectionIds, section, view]);\n\n  React.useEffect(() => {\n    if (view === \"tokens\") {\n      return;\n    }\n    const owner = sectionGroupMap.get(section);\n    if (!owner) {\n      return;\n    }\n    if (owner === view) {\n      return;\n    }\n    const allowed = groupSectionIds.get(view);\n    if (allowed?.has(section)) {\n      return;\n    }\n    setView(owner);\n  }, [groupSectionIds, section, sectionGroupMap, view]);\n\n  React.useEffect(() => {\n    const previousView = previousViewRef.current;\n    if (view !== \"tokens\" && previousView === \"tokens\") {\n      focusPanel(componentsPanelRef.current);\n    }\n    previousViewRef.current = view;\n  }, [focusPanel, view]);\n\n  React.useEffect(() => {\n    if (view !== \"tokens\") {\n      return;\n    }\n    focusPanel(tokensPanelRef.current);\n  }, [focusPanel, view]);\n\n  const showSectionTabs = heroTabs.length > 0 && view !== \"tokens\";\n\n  return {\n    view,\n    section: resolvedSection,\n    query,\n    setQuery,\n    heroCopy,\n    heroTabs,\n    viewTabs,\n    inPageNavigation,\n    showSectionTabs,\n    searchLabel,\n    searchPlaceholder,\n    filteredSpecs,\n    categoryGroups,\n    sectionLabel,\n    countLabel,\n    countDescriptionId,\n    sectionLinks,\n    componentsPanelLabelledBy,\n    handleViewChange,\n    handleSectionChange,\n    componentsPanelRef,\n    tokensPanelRef,\n  };\n}\n","\"use client\";\n\nimport * as React from \"react\";\nimport Link from \"next/link\";\nimport {\n  LayoutPanelLeft,\n  Palette,\n  Shapes,\n  Workflow,\n  type LucideIcon,\n} from \"lucide-react\";\n\nimport type { DesignTokenGroup, GalleryNavigationData } from \"@/components/gallery/types\";\nimport { ColorsView } from \"@/components/prompts/ColorsView\";\nimport { ComponentsView as ComponentSpecView } from \"@/components/prompts/ComponentsView\";\nimport {\n  Hero,\n  type HeroTab,\n  PageShell,\n  SegmentedControl,\n  type SegmentedControlOption,\n  Card,\n  CardContent,\n} from \"@/components/ui\";\nimport { Badge } from \"@/components/ui/primitives/Badge\";\nimport { cn } from \"@/lib/utils\";\nimport { VARIANTS, type Variant } from \"@/lib/theme\";\nimport { useTheme } from \"@/lib/theme-context\";\nimport { useThemeQuerySync } from \"@/lib/theme-hooks\";\n\nimport {\n  COMPONENTS_PANEL_ID,\n  COMPONENTS_PANEL_CONTROLS_ID,\n  COMPONENTS_SECTION_TAB_ID_BASE,\n  COMPONENTS_VIEW_TAB_ID_BASE,\n  type ComponentsView,\n  useComponentsGalleryState,\n} from \"./useComponentsGalleryState\";\n\nconst SECTION_TABLIST_CLASSES = [\n  \"data-[variant=neo]:rounded-card\",\n  \"data-[variant=neo]:r-card-lg\",\n  \"data-[variant=neo]:border data-[variant=neo]:border-card-hairline-60\",\n  \"data-[variant=neo]:px-[var(--space-2)]\",\n  \"data-[variant=neo]:py-[var(--space-2)]\",\n  \"data-[variant=neo]:shadow-depth-outer\",\n  \"data-[variant=neo]:[--neo-tablist-bg:hsl(var(--surface-3)/0.82)]\",\n  \"data-[variant=neo]:[--neo-tab-bg:hsl(var(--surface-1)/0.96)]\",\n  \"data-[variant=neo]:[--neo-tablist-shadow:var(--shadow-depth-outer-soft)]\",\n  \"data-[variant=neo]:hover:shadow-depth-soft\",\n].join(\" \");\n\nconst CATEGORY_META = {\n  primitives: {\n    icon: Shapes,\n    description: \"Core interface primitives and triggers.\",\n  },\n  patterns: {\n    icon: Workflow,\n    description: \"Reusable flows and guidance surfaces.\",\n  },\n  layouts: {\n    icon: LayoutPanelLeft,\n    description: \"Multi-column scaffolds and responsive frames.\",\n  },\n  tokens: {\n    icon: Palette,\n    description: \"Color, typography, and elevation tokens.\",\n  },\n} satisfies Record<ComponentsView, { icon: LucideIcon; description: string }>;\n\nfunction formatCategoryHeadingId(key: string, index: number): string {\n  const normalized = key\n    .toLowerCase()\n    .replace(/[^a-z0-9]+/g, \"-\")\n    .replace(/^-+|-+$/g, \"\");\n\n  if (normalized) {\n    return `components-category-${normalized}`;\n  }\n\n  return `components-category-${index}`;\n}\n\ninterface CategoryCardDefinition {\n  id: ComponentsView;\n  label: string;\n  href: string;\n  icon: LucideIcon;\n  description: string;\n}\n\ninterface ComponentsPageClientProps {\n  readonly navigation: GalleryNavigationData;\n  readonly tokenGroups: readonly DesignTokenGroup[];\n}\n\nexport function ComponentsPageClient({\n  navigation,\n  tokenGroups,\n}: ComponentsPageClientProps) {\n  const {\n    view,\n    section,\n    query,\n    setQuery,\n    heroTabs,\n    viewTabs,\n    inPageNavigation,\n    showSectionTabs,\n    searchLabel,\n    searchPlaceholder,\n    categoryGroups,\n    sectionLabel,\n    countLabel,\n    countDescriptionId,\n    sectionLinks,\n    componentsPanelLabelledBy,\n    componentsPanelRef,\n    tokensPanelRef,\n    handleViewChange,\n    handleSectionChange,\n  } = useComponentsGalleryState({ navigation });\n\n  const categoryCards = React.useMemo<readonly CategoryCardDefinition[]>(() => {\n    const tokensLabel =\n      viewTabs.find((tab) => tab.key === \"tokens\")?.label ?? \"Tokens\";\n\n    const groups = inPageNavigation.map((item) => {\n      const meta = CATEGORY_META[item.id];\n      return {\n        id: item.id,\n        label: item.label,\n        href: item.href,\n        icon: meta.icon,\n        description: meta.description,\n      } satisfies CategoryCardDefinition;\n    });\n\n    return [\n      ...groups,\n      {\n        id: \"tokens\",\n        label: tokensLabel,\n        href: \"#components-tokens\",\n        icon: CATEGORY_META.tokens.icon,\n        description: CATEGORY_META.tokens.description,\n      },\n    ];\n  }, [inPageNavigation, viewTabs]);\n\n  const categoryLabelIds = React.useMemo(\n    () =>\n      new Map<ComponentsView, string>(\n        categoryCards.map((card) => [card.id, `components-category-${card.id}`]),\n      ),\n    [categoryCards],\n  );\n\n  const activePanelLabelledBy = React.useMemo(() => {\n    const ids = [\"components-header\"];\n    const categoryId = categoryLabelIds.get(view);\n    if (categoryId) {\n      ids.push(categoryId);\n    }\n    ids.push(componentsPanelLabelledBy);\n    return ids.join(\" \");\n  }, [categoryLabelIds, componentsPanelLabelledBy, view]);\n\n  const tokensPanelLabelledBy = React.useMemo(() => {\n    const ids = [\"components-header\"];\n    const categoryId = categoryLabelIds.get(\"tokens\");\n    if (categoryId) {\n      ids.push(categoryId);\n    }\n    return ids.join(\" \");\n  }, [categoryLabelIds]);\n\n  const heroPrimaryTabItems = React.useMemo<HeroTab<ComponentsView>[]>(\n    () =>\n      categoryCards.map((card) => {\n        const Icon = card.icon;\n        return {\n          key: card.id,\n          label: card.label,\n          icon: <Icon className=\"size-[var(--space-4)]\" aria-hidden />,\n          id: `category-${card.id}`,\n          controls:\n            card.id === \"tokens\" ? \"tokens-panel\" : COMPONENTS_PANEL_CONTROLS_ID,\n          className: \"min-w-[calc(var(--space-8)*3.5)]\",\n        } satisfies HeroTab<ComponentsView>;\n      }),\n    [categoryCards],\n  );\n\n  const activeCategoryMeta = React.useMemo(() => {\n    const match = categoryCards.find((card) => card.id === view);\n    if (!match) {\n      return null;\n    }\n    return { icon: match.icon, description: match.description };\n  }, [categoryCards, view]);\n\n  const ActiveCategoryIcon = activeCategoryMeta?.icon;\n\n  const [theme, setTheme] = useTheme();\n  useThemeQuerySync();\n\n  const themeOptions = React.useMemo<\n    readonly SegmentedControlOption<Variant>[]\n  >(() => {\n    return VARIANTS.map((variant) => ({\n      value: variant.id,\n      label: variant.label,\n    }));\n  }, []);\n\n  const handleThemeChange = React.useCallback(\n    (nextVariant: Variant) => {\n      setTheme((current) => {\n        if (current.variant === nextVariant) {\n          return current;\n        }\n        return { ...current, variant: nextVariant };\n      });\n    },\n    [setTheme],\n  );\n\n  const themeControlLabelId = React.useId();\n  const navLabelId = React.useId();\n  const isTokensView = view === \"tokens\";\n  const fallbackSectionLabel = sectionLabel || \"gallery\";\n  const hasCategoryGroups = categoryGroups.length > 0;\n\n  return (\n    <>\n      <PageShell\n        as=\"header\"\n        grid\n        className=\"py-[var(--space-6)] md:py-[var(--space-7)] lg:py-[var(--space-8)]\"\n      >\n        <Hero\n          className=\"col-span-full md:col-span-12\"\n          sticky={false}\n          glitch=\"subtle\"\n          pageAccent=\"primary\"\n          title={\n            <span\n              id=\"components-header\"\n              className=\"inline-flex items-center gap-[var(--space-2)]\"\n            >\n              Components\n            </span>\n          }\n          subtitle={\n            <span id=\"components-header-subtitle\">\n              Explore the building blocks of the Planner.\n            </span>\n          }\n          actions={\n            <div className=\"flex flex-col items-stretch gap-[var(--space-2)] text-right sm:flex-row sm:items-center sm:justify-end\">\n              <span id={themeControlLabelId} className=\"sr-only\">\n                Select a preview theme\n              </span>\n              <SegmentedControl<Variant>\n                options={themeOptions}\n                value={theme.variant}\n                onValueChange={handleThemeChange}\n                ariaLabel=\"Select a preview theme\"\n                ariaLabelledBy={themeControlLabelId}\n                size=\"sm\"\n                align=\"end\"\n                linkPanels={false}\n                className=\"w-full sm:w-auto\"\n              />\n            </div>\n          }\n        tabs={{\n          items: heroPrimaryTabItems,\n          value: view,\n          onChange: (nextView) => handleViewChange(nextView),\n          ariaLabel: \"Component categories\",\n          idBase: COMPONENTS_VIEW_TAB_ID_BASE,\n          linkPanels: true,\n          variant: \"neo\",\n          align: \"end\",\n          className: \"w-full md:w-auto\",\n        }}\n        subTabs={\n          showSectionTabs\n            ? {\n                items: heroTabs.map((tab) => ({\n                  key: tab.key,\n                  label: tab.label,\n                  controls: COMPONENTS_PANEL_CONTROLS_ID,\n                })),\n                value: section,\n                onChange: (nextSection) => handleSectionChange(nextSection),\n                ariaLabel: \"Component sections\",\n                idBase: COMPONENTS_VIEW_TAB_ID_BASE,\n                linkPanels: true,\n                size: \"sm\",\n                variant: \"neo\",\n                className: \"w-full\",\n                tablistClassName: cn(SECTION_TABLIST_CLASSES, \"w-full\"),\n              }\n            : undefined\n        }\n        searchBar={{\n          id: \"components-search\",\n          value: query,\n          onValueChange: setQuery,\n          debounceMs: 300,\n          label: searchLabel,\n          placeholder: searchPlaceholder,\n          round: true,\n          fieldClassName: cn(\n            \"bg-[hsl(var(--surface-3)/0.82)]\",\n            \"border border-card-hairline-60\",\n            \"shadow-depth-soft\",\n            \"focus-within:shadow-depth-soft\",\n          ),\n        }}\n      >\n          {activeCategoryMeta ? (\n            <div className=\"flex items-start gap-[var(--space-3)] text-muted-foreground\">\n              {ActiveCategoryIcon ? (\n                <ActiveCategoryIcon\n                  aria-hidden\n                  className=\"mt-[var(--space-1)] size-[var(--space-5)] shrink-0\"\n                />\n              ) : null}\n              <p className=\"max-w-2xl text-pretty text-ui md:text-body\">\n                {activeCategoryMeta.description}\n              </p>\n            </div>\n          ) : null}\n        </Hero>\n      </PageShell>\n\n      <PageShell\n        as=\"main\"\n        id=\"page-main\"\n        tabIndex={-1}\n        data-view={view}\n        grid\n        aria-labelledby=\"components-header\"\n        className=\"scroll-mt-[calc(env(safe-area-inset-top)+var(--header-stack)+var(--space-2))] py-[var(--space-6)] md:py-[var(--space-7)] lg:py-[var(--space-8)]\"\n        contentClassName=\"gap-y-[var(--space-6)] md:gap-y-[var(--space-7)] lg:gap-y-[var(--space-8)]\"\n      >\n        <div id={`components-${view}`} className=\"space-y-[var(--space-6)]\">\n          <div\n            id={COMPONENTS_PANEL_ID}\n            role=\"tabpanel\"\n            aria-labelledby={activePanelLabelledBy}\n            tabIndex={isTokensView ? -1 : 0}\n            ref={componentsPanelRef}\n            hidden={isTokensView}\n            aria-hidden={isTokensView}\n            className=\"focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background\"\n          >\n            <div\n            className=\"grid gap-[var(--space-6)] lg:grid-cols-[minmax(0,18rem)_minmax(0,1fr)_minmax(0,18rem)]\"\n            aria-describedby={countDescriptionId}\n          >\n            <aside className=\"space-y-[var(--space-4)]\">\n                <header className=\"space-y-[var(--space-2)]\">\n                  <div className=\"flex flex-wrap items-center justify-between gap-[var(--space-3)]\">\n                    <h2 className=\"text-[var(--font-title)] font-semibold tracking-[-0.01em] text-muted-foreground\">\n                      {sectionLabel} specs\n                    </h2>\n                    <Badge\n                      id={countDescriptionId}\n                      tone=\"support\"\n                      size=\"md\"\n                      className=\"text-muted-foreground\"\n                    >\n                      {countLabel}\n                    </Badge>\n                  </div>\n                  <p id={navLabelId} className=\"text-caption text-muted-foreground\">\n                    Jump to a category\n                  </p>\n                </header>\n                <nav aria-labelledby={navLabelId} className=\"space-y-[var(--space-3)]\">\n                  {hasCategoryGroups ? (\n                    <ul className=\"flex flex-col gap-[var(--space-2)]\">\n                      {categoryGroups.map((group, index) => {\n                        const headingId = formatCategoryHeadingId(group.key, index);\n                        const badgeLabel = `${group.filteredCount} ${\n                          group.filteredCount === 1 ? \"spec\" : \"specs\"\n                        }`;\n                        return (\n                          <li key={group.key}>\n                            <a\n                              href={`#${headingId}`}\n                              className=\"flex items-center justify-between gap-[var(--space-2)] rounded-card border border-card-hairline-60 bg-[hsl(var(--surface-2)/0.65)] px-[var(--space-3)] py-[var(--space-2)] text-label text-muted-foreground transition-colors hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background\"\n                            >\n                              <span className=\"truncate\">{group.label}</span>\n                              <Badge tone=\"support\" size=\"sm\" className=\"shrink-0 text-muted-foreground\">\n                                {badgeLabel}\n                              </Badge>\n                            </a>\n                          </li>\n                        );\n                      })}\n                    </ul>\n                  ) : (\n                    <p className=\"text-label text-muted-foreground\">\n                      No categories available.\n                    </p>\n                  )}\n                </nav>\n              </aside>\n              <section className=\"space-y-[var(--space-6)] lg:space-y-[var(--space-7)]\">\n                {hasCategoryGroups ? (\n                  categoryGroups.map((group, index) => {\n                    const headingId = formatCategoryHeadingId(group.key, index);\n                    const badgeLabel = `${group.filteredCount} ${\n                      group.filteredCount === 1 ? \"spec\" : \"specs\"\n                    }`;\n                    const showEmpty = group.filteredCount === 0;\n                    const labelForEmptyState = group.label || fallbackSectionLabel;\n                    const emptyCopy =\n                      group.emptyCopy ??\n                      `No ${labelForEmptyState.toLowerCase()} specs match this search.`;\n\n                    return (\n                      <section\n                        key={group.key}\n                        aria-labelledby={headingId}\n                        className={cn(\n                          \"space-y-[var(--space-4)]\",\n                          index > 0 &&\n                            \"border-t border-card-hairline-60 pt-[var(--space-5)]\",\n                        )}\n                      >\n                        <header className=\"flex flex-wrap items-center justify-between gap-[var(--space-3)]\">\n                          <h3\n                            id={headingId}\n                            className=\"text-base font-semibold tracking-[-0.01em] text-muted-foreground\"\n                          >\n                            {group.label}\n                          </h3>\n                          <Badge tone=\"support\" size=\"sm\" className=\"text-muted-foreground\">\n                            {badgeLabel}\n                          </Badge>\n                        </header>\n                        {showEmpty ? (\n                          <Card>\n                            <CardContent className=\"text-base text-muted-foreground\">\n                              {emptyCopy}\n                            </CardContent>\n                          </Card>\n                        ) : (\n                          <div className=\"grid gap-[var(--space-6)]\">\n                            {group.filteredSpecs.map((spec) => (\n                              <ComponentSpecView key={spec.id} entry={spec} />\n                            ))}\n                          </div>\n                        )}\n                      </section>\n                    );\n                  })\n                ) : (\n                  <Card>\n                    <CardContent className=\"text-base text-muted-foreground\">\n                      No {fallbackSectionLabel.toLowerCase()} specs available.\n                    </CardContent>\n                  </Card>\n                )}\n              </section>\n              {sectionLinks.length > 0 ? (\n                <aside className=\"hidden lg:block lg:space-y-[var(--space-3)]\">\n                  <header className=\"space-y-[var(--space-1)]\">\n                    <h3 className=\"text-[var(--font-title-sm)] font-semibold tracking-[-0.01em] text-muted-foreground\">\n                      Quick reference\n                    </h3>\n                    <p className=\"text-caption text-muted-foreground\">\n                      Jump directly to a section anchor.\n                    </p>\n                  </header>\n                  <nav aria-label=\"Quick reference\">\n                    <ul className=\"flex flex-col gap-[var(--space-2)]\">\n                      {sectionLinks.map((link) => (\n                        <li key={link.id}>\n                          <Link\n                            href={link.href}\n                            className={cn(\n                              \"flex items-center justify-between gap-[var(--space-2)] rounded-card border px-[var(--space-3)] py-[var(--space-2)] text-label transition\",\n                              link.active\n                                ? \"border-accent text-accent\"\n                                : \"border-card-hairline-60 text-muted-foreground hover:text-foreground\",\n                              \"focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background\",\n                            )}\n                          >\n                            <span className=\"truncate\">{link.label}</span>\n                            {link.active ? (\n                              <Badge tone=\"support\" size=\"sm\" className=\"text-muted-foreground\">\n                                Active\n                              </Badge>\n                            ) : null}\n                          </Link>\n                        </li>\n                      ))}\n                    </ul>\n                  </nav>\n                </aside>\n              ) : null}\n            </div>\n          </div>\n          <div\n            id={`${COMPONENTS_VIEW_TAB_ID_BASE}-tokens-panel`}\n            role=\"tabpanel\"\n            aria-labelledby={tokensPanelLabelledBy}\n            tabIndex={isTokensView ? 0 : -1}\n            ref={tokensPanelRef}\n            hidden={!isTokensView}\n            aria-hidden={!isTokensView}\n            className=\"focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background\"\n          >\n            <ColorsView groups={tokenGroups} />\n          </div>\n        </div>\n      </PageShell>\n    </>\n  );\n}\n","\"use client\";\n\nimport * as React from \"react\";\nimport { useRouter, usePathname, useSearchParams } from \"next/navigation\";\nimport { useTheme } from \"@/lib/theme-context\";\nimport {\n  VARIANTS,\n  BG_CLASSES,\n  type Variant,\n  type Background,\n} from \"@/lib/theme\";\nimport { withoutBasePath } from \"@/lib/utils\";\n\nconst normalizePathForComparison = (path: string): string => {\n  if (!path) {\n    return \"/\";\n  }\n\n  const trimmed = path.endsWith(\"/\") && path !== \"/\"\n    ? path.replace(/\\/+$/, \"\")\n    : path;\n\n  return trimmed.length > 0 ? trimmed : \"/\";\n};\n\nexport function useThemeQuerySync(): void {\n  const router = useRouter();\n  const pathname = usePathname();\n  const searchParams = useSearchParams();\n  const paramsKey = searchParams.toString();\n  const params = React.useMemo(\n    () => new URLSearchParams(paramsKey),\n    [paramsKey],\n  );\n  const [theme, setTheme] = useTheme();\n\n  React.useEffect(() => {\n    if (typeof window === \"undefined\") return;\n    const themeParam = params.get(\"theme\");\n    const bgParam = params.get(\"bg\");\n    setTheme((prev) => {\n      const next = { ...prev };\n      if (themeParam && VARIANTS.some((v) => v.id === themeParam)) {\n        next.variant = themeParam as Variant;\n      }\n      if (bgParam) {\n        const idx = Number(bgParam);\n        if (!Number.isNaN(idx) && idx >= 0 && idx < BG_CLASSES.length) {\n          next.bg = idx as Background;\n        }\n      }\n      if (next.variant === prev.variant && next.bg === prev.bg) {\n        return prev;\n      }\n      return next;\n    });\n  }, [params, setTheme]);\n\n  React.useEffect(() => {\n    const currentTheme = params.get(\"theme\");\n    const currentBg = params.get(\"bg\");\n    if (currentTheme === theme.variant && currentBg === String(theme.bg)) {\n      return;\n    }\n\n    if (typeof window === \"undefined\") {\n      return;\n    }\n\n    const activePath = normalizePathForComparison(\n      withoutBasePath(pathname || \"/\"),\n    );\n    const locationPath = normalizePathForComparison(\n      withoutBasePath(window.location.pathname || \"/\"),\n    );\n\n    if (locationPath !== activePath) {\n      return;\n    }\n\n    let timeout: number | null = null;\n\n    timeout = window.setTimeout(() => {\n      const currentPath = normalizePathForComparison(\n        withoutBasePath(window.location.pathname || \"/\"),\n      );\n\n      if (currentPath !== activePath) {\n        return;\n      }\n\n      const nextParams = new URLSearchParams(params);\n      nextParams.set(\"theme\", theme.variant);\n      nextParams.set(\"bg\", String(theme.bg));\n\n      const queryString = nextParams.toString();\n      const hashFragment = window.location.hash ?? \"\";\n      const basePathAwarePath = window.location.pathname || \"/\";\n      const nextUrl = queryString\n        ? `${basePathAwarePath}?${queryString}`\n        : basePathAwarePath;\n\n      router.replace(`${nextUrl}${hashFragment}`, { scroll: false });\n    }, 50);\n\n    return () => {\n      if (timeout !== null) {\n        window.clearTimeout(timeout);\n      }\n    };\n  }, [theme, router, pathname, params]);\n}\n"],"names":["COMPONENTS_VIEW_TAB_ID_BASE","COMPONENTS_PANEL_ID","COMPONENTS_PANEL_CONTROLS_ID","replace","eyebrow","heading","subtitle","formatQueryWithHash","queryString","hash","hasQuery","length","queryPrefix","CATEGORY_META","primitives","icon","Shapes","description","patterns","Workflow","layouts","LayoutPanelLeft","tokens","Palette","formatCategoryHeadingId","key","index","normalized","toLowerCase","ComponentsPageClient","navigation","tokenGroups","view","section","query","setQuery","heroTabs","viewTabs","inPageNavigation","showSectionTabs","searchLabel","searchPlaceholder","categoryGroups","sectionLabel","countLabel","countDescriptionId","sectionLinks","componentsPanelLabelledBy","componentsPanelRef","tokensPanelRef","handleViewChange","handleSectionChange","useComponentsGalleryState","currentGroup","sectionMeta","router","useRouter","searchParams","useSearchParams","paramsString","toString","sectionParam","get","queryParam","viewParam","startTransition","React","usePersistentState","groups","viewOrder","ids","map","group","id","includes","defaultView","mapView","raw","trim","navSectionEntries","flatMap","sections","sectionMap","Map","set","sectionGroupMap","groupSectionIds","Set","getDefaultSectionForView","viewValue","viewGroup","find","firstSection","fallbackSection","shouldAllowCrossView","rawView","fallbackCopy","copy","firstGroup","DEFAULT_FALLBACK_COPY","normalizeView","mapped","value","normalizeSection","options","allowCrossView","has","owner","setView","setSection","previousSectionParamRef","undefined","previousViewParamRef","previousQueryParamRef","previousViewRef","lastInteractionRef","supportsPreventScrollRef","lastSyncedSectionRef","shouldFocusPanel","document","panel","current","activeElement","HTMLElement","getAttribute","controls","isKeyboardFocusVisible","element","matches","classList","contains","hasAttribute","dataset","focusVisible","focusPanel","focus","preventScroll","label","resolvedSection","some","tab","groupSection","groupSectionEntry","currentGroupLabel","activeSectionLabel","sectionMetaLabel","formatGallerySectionLabel","sectionSpecs","getGallerySectionEntries","categories","spec","category","extractSpecCategory","fallbackLabel","rawCategory","fallbackKey","trimmed","emptyCopy","trimmedKey","trimmedLabel","resolvedKey","resolvedLabel","trimmedEmptyCopy","existing","specs","push","size","filteredSpecs","filteredCount","totalCount","normalizedQuery","entry","matchesEntryQuery","name","Array","isArray","tags","tag","props","prop","type","from","entries","filtered","filter","suffix","heroCopy","sectionCopy","baseLabel","href","params","URLSearchParams","String","COMPONENTS_PANEL_HASH","active","viewTabId","sectionTabId","nextView","rawValue","allowedSections","next","normalizedViewFromParams","prev","handlePointerDown","handleKeyDown","event","altKey","ctrlKey","metaKey","window","addEventListener","removeEventListener","buildQueryWithHash","location","scroll","delete","allowed","fallback","previousView","categoryCards","tokensLabel","meta","item","categoryLabelIds","card","activePanelLabelledBy","categoryId","join","tokensPanelLabelledBy","heroPrimaryTabItems","Icon","className","aria-hidden","activeCategoryMeta","match","ActiveCategoryIcon","theme","setTheme","useTheme","useThemeQuerySync","themeOptions","VARIANTS","variant","handleThemeChange","nextVariant","themeControlLabelId","navLabelId","isTokensView","fallbackSectionLabel","hasCategoryGroups","PageShell","as","grid","Hero","sticky","glitch","pageAccent","title","span","actions","div","SegmentedControl","onValueChange","ariaLabel","ariaLabelledBy","align","linkPanels","tabs","items","onChange","idBase","subTabs","nextSection","tablistClassName","cn","SECTION_TABLIST_CLASSES","searchBar","debounceMs","placeholder","round","fieldClassName","p","tabIndex","data-view","aria-labelledby","contentClassName","role","ref","hidden","aria-describedby","aside","header","h2","Badge","tone","nav","ul","headingId","badgeLabel","li","a","showEmpty","labelForEmptyState","h3","Card","CardContent","ComponentSpecView","aria-label","Link","link","ColorsView","normalizePathForComparison","path","endsWith","pathname","usePathname","paramsKey","themeParam","bgParam","v","idx","Number","isNaN","BG_CLASSES","bg","currentTheme","currentBg","activePath","withoutBasePath","timeout","setTimeout","nextParams","hashFragment","basePathAwarePath","nextUrl","clearTimeout"],"sourceRoot":"","ignoreList":[]}