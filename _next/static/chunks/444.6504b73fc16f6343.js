"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[444],{50444:(e,t,l)=>{l.r(t),l.d(t,{CodexPromptsTab:()=>n});var r=l(95155),a=l(12115),s=l(78584),i=l(72525),c=l(69189);let o=[{value:"ChatGPT",label:"ChatGPT"},{value:"Codex review",label:"Codex review"},{value:"Notes",label:"Notes"}],u=()=>({title:"",prompt:"",category:"Codex review"}),n=a.forwardRef(function(e,t){let{prompts:l,query:n,savePrompt:p,updatePrompt:d,deletePrompt:m}=e,v=a.useId(),x=a.useId(),h=a.useId(),[f,C]=a.useState(u),b=a.useRef(f);a.useEffect(()=>{b.current=f},[f]);let[g,N]=a.useState(null),y=a.useRef(null),w=a.useCallback(()=>{let e=u();b.current=e,C(e),N(null)},[]),j=a.useCallback(e=>{var t,l,r,a,s;let i=null!=(r=null==(t=e.title)?void 0:t.trim())?r:"",c=null!=(a=null==(l=e.prompt)?void 0:l.trim())?a:"";if(!i||!c)return!1;let o=null!=(s=e.category)?s:"Codex review";if(g){let e=d(g,i,c,o);return e&&w(),e}let u=p(i,c,o);return u&&w(),u},[g,w,p,d]),k=a.useCallback(e=>{var t,l,r;let s=null!=(t=e.title)?t:"",i=null!=(l=e.prompt)?l:"",c=null!=(r=e.category)?r:"Codex review",o=b.current;if(o.title===s&&o.prompt===i&&o.category===c)return;let u={title:s,prompt:i,category:c};a.startTransition(()=>{b.current=u,C(u)})},[]),P=a.useCallback(e=>{var t;let l={title:e.title,prompt:e.text,category:null!=(t=e.category)?t:"Codex review"};b.current=l,C(l),N(e.id)},[]),S=a.useCallback(e=>{m(e.id)&&g===e.id&&w()},[m,g,w]),T=a.useMemo(()=>{var e,t,l,r;let a=null!=(l=null==(e=f.title)?void 0:e.trim())?l:"",s=null!=(r=null==(t=f.prompt)?void 0:t.trim())?r:"";return 0===a.length||0===s.length},[f.prompt,f.title]),E=g?"Update":"Save";return a.useImperativeHandle(t,()=>({focusCompose:e=>{var t;null==(t=y.current)||t.focus(e)}}),[]),(0,r.jsxs)("div",{className:"flex flex-col gap-[var(--space-6)]",children:[(0,r.jsxs)("section",{"aria-labelledby":v,className:"flex flex-col gap-[var(--space-3)]",children:[(0,r.jsxs)("div",{className:"space-y-[var(--space-1)]",children:[(0,r.jsx)("h3",{id:v,className:"type-title",children:"Review checklist"}),(0,r.jsx)("p",{className:"text-ui text-muted-foreground",children:"Capture Codex review prompts that help validate architecture, testing, and release notes."})]}),(0,r.jsx)(s.Zp,{depth:"raised",glitch:!0,className:s.Lf,children:(0,r.jsx)(c.B,{id:"codex-prompts-form-".concat(h),ref:y,title:"New Codex prompt",submitLabel:E,submitDisabled:T,values:f,categories:o,onSubmit:j,onChange:k})})]}),(0,r.jsxs)("section",{"aria-labelledby":x,className:"flex flex-col gap-[var(--space-3)]",children:[(0,r.jsxs)("div",{className:"space-y-[var(--space-1)]",children:[(0,r.jsx)("h3",{id:x,className:"type-title",children:"Codex prompts"}),(0,r.jsx)("p",{className:"text-ui text-muted-foreground",children:"Saved checklists appear here for quick reuse during reviews."})]}),(0,r.jsx)(i.q,{prompts:l,query:n,onSelectPrompt:P,onEditPrompt:P,onDeletePrompt:S})]})]})});n.displayName="CodexPromptsTab"}}]);
//# sourceMappingURL=444.6504b73fc16f6343.js.map