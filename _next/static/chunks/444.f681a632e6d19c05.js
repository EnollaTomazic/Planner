"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[444],{50444:(e,l,t)=>{t.r(l),t.d(l,{CodexPromptsTab:()=>n});var r=t(95155),a=t(12115),s=t(88985),i=t(12414),o=t(21880);let u=[{value:"ChatGPT",label:"ChatGPT"},{value:"Codex review",label:"Codex review"},{value:"Notes",label:"Notes"}],c=()=>({title:"",prompt:"",category:"Codex review"}),n=a.forwardRef(function(e,l){let{prompts:t,query:n,savePrompt:p,updatePrompt:d,deletePrompt:m}=e,v=a.useId(),x=a.useId(),h=a.useId(),[f,C]=a.useState(c),b=a.useRef(f);a.useEffect(()=>{b.current=f},[f]);let[y,g]=a.useState(null),w=a.useRef(null),N=a.useCallback(()=>{let e=c();b.current=e,C(e),g(null)},[]),k=a.useCallback(e=>{var l,t,r,a,s;let i=null!=(r=null==(l=e.title)?void 0:l.trim())?r:"",o=null!=(a=null==(t=e.prompt)?void 0:t.trim())?a:"";if(!i||!o)return!1;let u=null!=(s=e.category)?s:"Codex review";if(y){let e=d(y,i,o);return e&&N(),e}let c=p(i,o,u);return c&&N(),c},[y,N,p,d]),j=a.useCallback(e=>{var l,t,r;let s=null!=(l=e.title)?l:"",i=null!=(t=e.prompt)?t:"",o=null!=(r=e.category)?r:"Codex review",u=b.current;if(u.title===s&&u.prompt===i&&u.category===o)return;let c={title:s,prompt:i,category:o};a.startTransition(()=>{b.current=c,C(c)})},[]),P=a.useCallback(e=>{var l;let t={title:e.title,prompt:e.text,category:null!=(l=b.current.category)?l:"Codex review"};b.current=t,C(t),g(e.id)},[]),S=a.useCallback(e=>{m(e.id)&&y===e.id&&N()},[m,y,N]),T=a.useMemo(()=>{var e,l,t,r;let a=null!=(t=null==(e=f.title)?void 0:e.trim())?t:"",s=null!=(r=null==(l=f.prompt)?void 0:l.trim())?r:"";return 0===a.length||0===s.length},[f.prompt,f.title]),q=y?"Update":"Save";return a.useImperativeHandle(l,()=>({focusCompose:e=>{var l;null==(l=w.current)||l.focus(e)}}),[]),(0,r.jsxs)("div",{className:"flex flex-col gap-[var(--space-6)]",children:[(0,r.jsxs)("section",{"aria-labelledby":v,className:"flex flex-col gap-[var(--space-3)]",children:[(0,r.jsxs)("div",{className:"space-y-[var(--space-1)]",children:[(0,r.jsx)("h3",{id:v,className:"type-title",children:"Review checklist"}),(0,r.jsx)("p",{className:"text-ui text-muted-foreground",children:"Capture Codex review prompts that help validate architecture, testing, and release notes."})]}),(0,r.jsx)(s.Ub,{className:"p-[var(--space-4)]",children:(0,r.jsx)(i.C,{id:"codex-prompts-form-".concat(h),title:"New Codex prompt",ref:w,fields:[{id:"title",label:"Title",placeholder:"Audit deployment plan",required:!0},{id:"category",label:"Category",type:"select",options:u,defaultValue:"Codex review"},{id:"prompt",label:"Prompt",placeholder:"Outline review checklistâ€¦",type:"textarea",rows:6,required:!0}],initialValues:f,submitLabel:q,submitDisabled:T,onSubmit:k,onValuesChange:j})})]}),(0,r.jsxs)("section",{"aria-labelledby":x,className:"flex flex-col gap-[var(--space-3)]",children:[(0,r.jsxs)("div",{className:"space-y-[var(--space-1)]",children:[(0,r.jsx)("h3",{id:x,className:"type-title",children:"Codex prompts"}),(0,r.jsx)("p",{className:"text-ui text-muted-foreground",children:"Saved checklists appear here for quick reuse during reviews."})]}),(0,r.jsx)(o.q,{prompts:t,query:n,onSelectPrompt:P,onEditPrompt:P,onDeletePrompt:S})]})]})});n.displayName="CodexPromptsTab"}}]);
//# sourceMappingURL=444.f681a632e6d19c05.js.map