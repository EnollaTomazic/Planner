(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3652],{4864:(e,a,r)=>{"use strict";r.d(a,{ReviewEditor:()=>k});var s=r(95155),t=r(38373),l=r(87074),n=r(3278),i=r(55712),o=r(88296),c=r(48573),d=r(12115),u=r(61920),m=r(4069),p=r(7040),v=r(58563),f=r(71360),h=r(5917),g=r(27566),x=r(67419),b=r(48959),y=r(81976),w=r(49559),j=r(24233),N=r(21886);function k(e){var a,r,k,C,A,S,R,M,E,I,L;let{review:z,onChangeNotes:T,onChangeTags:_,onRename:D,onChangeMeta:F,onDone:P,onDelete:O,className:B=""}=e,[H,q]=d.useState(null!=(a=z.notes)?a:""),[K,W]=d.useState(Array.isArray(z.tags)?z.tags:[]),U=d.useRef(null),$=d.useRef(null),V=d.useRef(null),G=d.useRef(null),Y=d.useRef(null),Q=d.useRef(null),J=d.useId(),Z=d.useId(),X=d.useId(),[ee,ea]=(0,x.ud)(b.A,"MID"),[er,es]=d.useState(null!=(k=null!=(r=z.role)?r:ee)?k:"MID"),[et,el]=d.useState(!!z.focusOn),[en,ei]=d.useState(Number.isFinite(null!=(C=z.focus)?C:NaN)?Number(z.focus):5);d.useEffect(()=>{var e;q(null!=(e=z.notes)?e:"")},[z.id,z.notes]),d.useEffect(()=>{W(Array.isArray(z.tags)?z.tags:[])},[z.id,z.tags]),d.useEffect(()=>{var e,a;let r=null!=(a=null!=(e=z.role)?e:ee)?a:"MID";es(r),null==z.role&&(null==F||F({role:r}))},[ee,F,z.id,z.role]),d.useEffect(()=>{var e;el(!!z.focusOn),ei(Number.isFinite(null!=(e=z.focus)?e:NaN)?Number(z.focus):5)},[z.focus,z.focusOn,z.id]);let eo=e=>null==F?void 0:F(e),ec=()=>null==T?void 0:T(H);function ed(){var e,a,r,s;null==(e=$.current)||e.save(),null==(a=V.current)||a.save(),null==(r=G.current)||r.save(),null==(s=Y.current)||s.save(),ec(),null==_||_(K)}let eu=d.useRef(ed);eu.current=ed,d.useEffect(()=>{function e(e){U.current&&(U.current.contains(e.target)||(eu.current(),null==P||P()))}return document.addEventListener("pointerdown",e),()=>document.removeEventListener("pointerdown",e)},[P]);let em=d.useCallback(e=>{W(e),null==_||_(e)},[_]),ep=(0,b.o9)(String(null!=(A=z.id)?A:"seed-focus")+String(en),10),ev=(null!=(S=b.fA[en])?S:b.fA[5])[ep%10];return(0,s.jsxs)(n.SectionCard,{ref:U,variant:"plain",className:(0,g.cn)("transition-none shadow-none",B),children:[(0,s.jsx)("div",{className:"section-h sticky",children:(0,s.jsxs)("div",{className:"grid w-full grid-cols-[1fr_auto] items-center gap-[var(--space-4)]",children:[(0,s.jsxs)("div",{className:"min-w-0",children:[(0,s.jsxs)("div",{className:"mb-[var(--space-2)]",children:[(0,s.jsx)(l.e,{id:J,children:"Lane"}),(0,s.jsx)(t.QT,{value:er,onChange:function(e){es(e),ea(e),eo({role:e})},ariaLabelledby:J})]}),(0,s.jsx)(y.LaneOpponentForm,{ref:$,lane:null!=(M=null!=(R=z.lane)?R:z.title)?M:"",opponent:null!=(E=z.opponent)?E:"",commitMeta:eo,onRename:D,onOpponentEnter:()=>{var e;return null==(e=V.current)?void 0:e.focusResult()}})]}),(0,s.jsxs)("div",{className:"ml-[var(--space-2)] flex shrink-0 items-center justify-end gap-[var(--space-2)] self-start",children:[O?(0,s.jsx)(p.IconButton,{"aria-label":"Delete review",title:"Delete review",size:"lg",iconSize:"md",variant:"quiet",onClick:O,children:(0,s.jsx)(f.A,{})}):null,P?(0,s.jsx)(p.IconButton,{"aria-label":"Done",title:"Save and close",size:"lg",iconSize:"md",variant:"quiet",onClick:()=>{ed(),null==P||P()},children:(0,s.jsx)(h.A,{})}):null]})]})}),(0,s.jsxs)("div",{className:"section-b ds-card-pad space-y-[var(--space-6)]",children:[(0,s.jsx)(w.ResultScoreSection,{ref:V,result:null!=(I=z.result)?I:"Win",score:Number.isFinite(null!=(L=z.score)?L:NaN)?Number(z.score):5,commitMeta:eo,onScoreEnter:()=>{var e;return null==(e=Y.current)?void 0:e.focusTime()}}),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"flex items-center gap-[var(--space-3)]",children:(0,s.jsx)(p.IconButton,{"aria-label":et?"Brain light on":"Brain light off",title:et?"Brain light on":"Brain light off","aria-pressed":et,size:"xl",variant:"quiet",tone:"primary",onClick:()=>{var e;let a=!et;el(a),eo({focusOn:a}),a&&(null==(e=Q.current)||e.focus())},children:(0,s.jsx)(i.NeonIcon,{kind:"brain",on:et,size:"xl"})})}),et&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(o.u,{className:"mt-[var(--space-3)] group relative h-[var(--space-7)]",padding:"inline",focusWithin:!0,children:[(0,s.jsx)("input",{ref:Q,type:"range",min:0,max:10,step:1,value:en,onChange:e=>{let a=Number(e.target.value);ei(a),eo({focus:a})},className:"absolute inset-0 z-10 cursor-pointer rounded-card r-card-lg opacity-0 [appearance:none]","aria-label":"Focus from 0 to 10"}),(0,s.jsx)(c.l,{value:en,tone:"focus",variant:"input"})]}),(0,s.jsxs)("div",{className:"mt-[var(--space-1)] flex items-center gap-[var(--space-2)] text-ui text-muted-foreground",children:[(0,s.jsxs)(u.Badge,{as:"span",size:"md",className:"font-mono tabular-nums text-ui",children:[en,"/10"]}),(0,s.jsx)("span",{children:ev})]})]})]}),(0,s.jsx)(j.PillarsSelector,{ref:G,pillars:Array.isArray(z.pillars)?z.pillars:[],commitMeta:eo}),(0,s.jsx)(N.TimestampMarkers,{ref:Y,markers:Array.isArray(z.markers)?z.markers:[],commitMeta:eo}),(0,s.jsxs)("div",{children:[(0,s.jsx)(l.e,{id:Z,children:"Tags"}),(0,s.jsx)(v.TagInput,{className:"mt-[var(--space-1)]",value:K,onChange:em,placeholder:"Add tag and press Enter",ariaLabelledby:Z,helper:"Press Enter to add a tag; click a tag to remove it."})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(l.e,{id:X,children:"Notes"}),(0,s.jsx)(m.Textarea,{value:H,onChange:e=>q(e.target.value),onBlur:ec,placeholder:"Key moments, mistakes to fix, drills to run…",className:"rounded-[var(--control-radius)]",resize:"resize-y",textareaClassName:"min-h-[calc(var(--space-8)*3_-_var(--space-3))] leading-relaxed","aria-labelledby":X})]})]})]})}},6545:(e,a,r)=>{"use strict";r.d(a,{ReviewSummary:()=>v});var s=r(95155);r(12115);var t=r(27566),l=r(48959),n=r(80881),i=r(7040),o=r(18514),c=r(3278),d=r(36097),u=r(43592),m=r(39214),p=r(8724);function v(e){var a,r,v,f,h,g;let{review:x,onEdit:b,className:y}=e,w=x.role,j=x.result,N=Number.isFinite(x.score)?Number(x.score):5,k=Math.max(0,Math.min(10,Math.round(N))),C=!!x.focusOn,A=Number.isFinite(x.focus)?Number(x.focus):5,S=Math.max(0,Math.min(10,Math.round(A))),R=Array.isArray(x.markers)?x.markers:[],M=null!=(r=null!=(a=x.lane)?a:x.title)?r:"",E=null!=(v=l.fF[k])?v:l.fF[5],I=(0,l.o9)(String(null!=(f=x.id)?f:"seed")+k,E.length),L=E[I%E.length],{Icon:z,cls:T}=(0,l.Om)(k),_=null!=(h=l.fA[S])?h:l.fA[5],D=(0,l.o9)(String(null!=(g=x.id)?g:"seed-focus")+S,_.length),F=_[D%_.length],P=l._y.find(e=>e.value===w),O=null==P?void 0:P.Icon,B=null==P?void 0:P.label,H=j&&(0,s.jsx)("span",{className:(0,t.cn)("inline-flex h-[var(--control-h-md)] items-center rounded-card r-card-lg border px-[var(--space-3)] text-ui font-medium","border-border bg-card","Win"===j?"shadow-[0_0_0_var(--hairline-w)_hsl(var(--ring)/.35)_inset] [background-image:var(--review-result-win-gradient)]":"[background-image:var(--review-result-loss-gradient)]"),"aria-label":"Result: ".concat(j),title:"Result: ".concat(j),children:j}),q=B||H,K=b?(0,s.jsx)(i.IconButton,{variant:"quiet",size:"md","aria-label":"Edit review",title:"Edit review",onClick:b,children:(0,s.jsx)(o.A,{className:"h-[var(--icon-size-sm)] w-[var(--icon-size-sm)]"})}):null;return(0,s.jsxs)(c.SectionCard,{variant:"plain",className:(0,t.cn)("transition-none shadow-none",y),children:[(0,s.jsx)(n.lq,{variant:"panel",as:"header",className:"section-h sticky",title:M||"Untitled review",subtitle:B,headingLevel:2,actions:K,accent:"accent",children:q?(0,s.jsxs)("div",{className:"flex flex-wrap items-center gap-[var(--space-2)]",children:[B?(0,s.jsxs)("span",{className:(0,t.cn)("inline-flex h-[var(--control-h-md)] items-center gap-[var(--space-2)] rounded-card r-card-lg border border-border","bg-card px-[var(--space-3)] text-ui font-medium"),title:B,children:[O?(0,s.jsx)(O,{className:"h-[var(--icon-size-sm)] w-[var(--icon-size-sm)]"}):null,B]}):null,H]}):null}),(0,s.jsx)(d.j,{score:N,msg:L,ScoreIcon:z,scoreIconCls:T,focusOn:C,focus:A,focusMsg:F}),(0,s.jsx)(u.g,{pillars:x.pillars}),(0,s.jsx)(m.g,{markers:R}),x.notes?(0,s.jsx)(p.U,{notes:x.notes}):null]})}},8724:(e,a,r)=>{"use strict";r.d(a,{U:()=>n});var s=r(95155);r(12115);var t=r(87074),l=r(88296);function n(e){let{notes:a}=e;return(0,s.jsxs)("div",{children:[(0,s.jsx)(t.e,{children:"Notes"}),(0,s.jsx)(l.u,{padding:"md",tone:"muted",children:(0,s.jsx)("div",{className:"text-ui leading-6 text-foreground/70",children:a})})]})}},20762:(e,a,r)=>{"use strict";r.d(a,{ReviewListItem:()=>u});var s=r(95155),t=r(12115),l=r(80881),n=r(61920),i=r(27566);let o=(0,i.cn)("flex flex-col gap-[var(--space-3)] rounded-card r-card-lg border border-border/35 bg-card/70 p-[var(--space-4)]","motion-safe:animate-pulse motion-reduce:animate-none"),c="h-[var(--space-3)] rounded-card bg-muted",d=(0,i.cn)("px-[var(--space-2)] py-[var(--space-1)] rounded-full text-ui leading-none font-medium","text-accent-2-foreground ring-1 ring-[theme('colors.interaction.info.surfaceActive')] bg-accent-2","hover:ring-[theme('colors.interaction.info.surfaceHover')]","focus-visible:ring-[theme('colors.interaction.info.surfaceHover')]","active:ring-[theme('colors.interaction.info.surfaceActive')]"),u=t.forwardRef((e,a)=>{var r,u,m,p,v;let{review:f,selected:h=!1,loading:g=!1,className:x,disabled:b=!1,onSelect:y,onRename:w,onDelete:j,...N}=e,k=(null==f||null==(r=f.title)?void 0:r.trim())||"Untitled Review",C=!(null==f||null==(u=f.title)?void 0:u.trim()),A=(null==f||null==(m=f.matchup)?void 0:m.trim())||"",S=null==f?void 0:f.score,R=null==f?void 0:f.role,M=null==f?void 0:f.result,E=(null==f?void 0:f.side)?"".concat(f.side," side"):null,I=[E,(null==f||null==(p=f.opponent)?void 0:p.trim())?"vs ".concat(f.opponent.trim()):null,(null==f||null==(v=f.lane)?void 0:v.trim())||null].filter(Boolean).join(" • "),L=t.useMemo(()=>{if(!(null==f?void 0:f.createdAt))return"";let e=new Date(f.createdAt);if(Number.isNaN(e.getTime()))return"";try{return e.toLocaleDateString(i.ne,{year:"numeric",month:"short",day:"numeric"})}catch(a){return e.toLocaleDateString()}},[null==f?void 0:f.createdAt]),z=t.useMemo(()=>{var e;let a=null==f||null==(e=f.notes)?void 0:e.trim();if(!a)return"";let r=a.replace(/\s+/g," ").trim();return r.length<=160?r:"".concat(r.slice(0,160).trimEnd(),"…")},[null==f?void 0:f.notes]),T=t.useCallback(e=>{!b&&!e.defaultPrevented&&(e.target instanceof HTMLElement&&e.target.closest("[data-review-item-action='true']")||null==y||y())},[b,y]),_=t.useCallback(e=>{b||e.defaultPrevented||e.currentTarget===e.target&&("Enter"===e.key||" "===e.key||"Spacebar"===e.key)&&(e.preventDefault(),null==y||y())},[b,y]),D=t.useCallback(()=>{if(b||!w||!f)return;let e=window.prompt("Rename review",k);null!==e&&w(e)},[b,w,f,k]);if(g)return(0,s.jsxs)("div",{"data-scope":"reviews",className:o,children:[(0,s.jsx)("div",{className:(0,i.cn)(c,"w-3/5 mb-[var(--space-3)]")}),(0,s.jsx)("div",{className:(0,i.cn)(c,"w-2/5")})]});let F=(0,i.cn)("group relative flex flex-col gap-[var(--space-3)] transition-colors","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-0",!b&&"cursor-pointer hover:bg-card/75 active:bg-card/85 focus-visible:bg-card/80",b&&"opacity-disabled",h&&"bg-[theme('colors.interaction.accent.tintActive')] ring-2 ring-[theme('colors.interaction.accent.surfaceActive')]",x);return(0,s.jsxs)(l.Zp,{ref:a,"data-scope":"reviews",tabIndex:b?-1:0,role:"button","aria-label":"Open review: ".concat(k),"aria-current":h?"true":void 0,"aria-disabled":b||void 0,"data-disabled":b?"true":void 0,"data-selected":h?"true":void 0,depth:h?"raised":"base",className:F,onClick:T,onKeyDown:_,...N,children:[(0,s.jsxs)("div",{className:"flex items-start justify-between gap-[var(--space-3)]",children:[(0,s.jsxs)("div",{className:"flex flex-col gap-[var(--space-1)]",children:[(0,s.jsx)("span",{className:(0,i.cn)("text-body font-medium text-card-foreground",C&&"text-muted-foreground/80"),"aria-label":C?"Untitled Review":void 0,children:k}),(0,s.jsxs)("div",{className:"flex flex-wrap items-center gap-x-[var(--space-2)] gap-y-[var(--space-1)] text-label text-muted-foreground",children:[L?(0,s.jsx)("span",{children:L}):null,I?(0,s.jsx)("span",{children:I}):null,A?(0,s.jsx)("span",{children:A}):null]})]}),"number"==typeof S?(0,s.jsxs)("span",{className:d,"aria-label":"Rating ".concat(S," out of 10"),children:[S,"/10"]}):null]}),(0,s.jsxs)("div",{className:"flex flex-wrap items-center gap-[var(--space-2)] text-label text-muted-foreground",children:[(0,s.jsx)("span",{"aria-hidden":!0,className:(0,i.cn)("h-[var(--space-2)] w-[var(--space-2)] rounded-full ring-2","motion-safe:animate-[blink_1s_steps(2)_infinite] motion-reduce:animate-none","Win"===M?"bg-success ring-success":"Loss"===M?"bg-danger ring-danger":"bg-muted-foreground ring-muted-foreground",(null==f?void 0:f.status)==="new"&&"motion-safe:animate-[pulse_2s_ease-in-out_infinite] motion-reduce:animate-none")}),M?(0,s.jsx)("span",{className:"font-medium text-card-foreground",children:M}):null,R?(0,s.jsx)(n.Badge,{size:"sm",tone:"neutral",className:"px-[var(--space-1)]",children:R}):null]}),z?(0,s.jsx)("p",{className:"line-clamp-3 text-ui text-muted-foreground",children:z}):null,(w||j)&&(0,s.jsxs)("div",{className:"flex items-center justify-end gap-[var(--space-2)]","data-review-item-action":"true",children:[w?(0,s.jsx)(l.$n,{type:"button",size:"sm",variant:"quiet",disabled:b,onClick:e=>{e.stopPropagation(),D()},children:"Edit"}):null,j?(0,s.jsx)(l.$n,{type:"button",size:"sm",variant:"quiet",tone:"danger",disabled:b,onClick:e=>{e.stopPropagation(),j()},children:"Delete"}):null]})]})});u.displayName="ReviewListItem"},21886:(e,a,r)=>{"use strict";r.d(a,{TimestampMarkers:()=>x});var s=r(95155),t=r(12115),l=r(87074),n=r(55712),i=r(52105),o=r(7040),c=r(61920),d=r(89715),u=r(6191),m=r(71360),p=r(67419),v=r(84804),f=r(48959),h=r(88296);function g(e){var a;let r="string"==typeof e.id?e.id:(0,p.uid)("mark"),s="number"==typeof e.seconds?e.seconds:"string"==typeof e.time&&null!=(a=(0,v.Md)(e.time))?a:0,t="string"==typeof e.time?e.time:(0,v.wg)(s);return{id:r,seconds:s,time:t,note:"string"==typeof e.note?e.note:"",noteOnly:!!e.noteOnly}}let x=t.forwardRef(function(e,a){let{markers:r=[],commitMeta:x}=e,[b,y]=(0,p.ud)(f.Kj,!0),[w,j]=(0,p.ud)(f.u2,""),[N,k]=t.useState(Array.isArray(r)?r.map(g):[]),[C,A]=t.useState(b),[S,R]=t.useState(w),[M,E]=t.useState("");t.useEffect(()=>{k(Array.isArray(r)?r.map(g):[])},[r]);let I=t.useRef(null),L=t.useRef(null),z=(0,v.Md)(S),T=C&&null===z,_=(!C||null!==z)&&M.trim().length>0,D=t.useMemo(()=>[...N].sort((e,a)=>e.seconds-a.seconds),[N]),F=t.useCallback(()=>{var e;let a=C?z:0,r=[...N,{id:(0,p.uid)("mark"),time:C&&S.trim()||"00:00",seconds:null===a?0:a,note:M.trim(),noteOnly:!C}];k(r),x({markers:r}),R(""),E(""),null==(e=(C?I:L).current)||e.focus()},[C,z,S,M,N,x]),P=t.useCallback(e=>{let a=N.filter(a=>a.id!==e);k(a),x({markers:a})},[N,x]),O=t.useCallback(()=>{x({markers:N})},[N,x]);return t.useImperativeHandle(a,()=>({save:O,focusTime:()=>{var e;return null==(e=I.current)?void 0:e.focus()}}),[O]),(0,s.jsxs)("div",{children:[(0,s.jsx)(l.e,{children:"Timestamps"}),(0,s.jsxs)("div",{className:"mt-[var(--space-1)] flex items-center gap-[var(--space-2)]",children:[(0,s.jsx)(o.IconButton,{"aria-label":"Use timestamp",title:"Timestamp mode","aria-pressed":C,size:"xl",variant:"quiet",tone:"primary",onClick:()=>{A(!0),y(!0),R(w)},children:(0,s.jsx)(n.NeonIcon,{kind:"clock",on:C,size:"xl"})}),(0,s.jsx)(o.IconButton,{"aria-label":"Use note only",title:"Note-only mode","aria-pressed":!C,size:"xl",variant:"quiet",tone:"accent",onClick:()=>{A(!1),y(!1)},children:(0,s.jsx)(n.NeonIcon,{kind:"file",on:!C,size:"xl"})})]}),(0,s.jsxs)("div",{className:"mt-[var(--space-3)] grid gap-[var(--space-2)]",children:[(0,s.jsxs)("div",{className:"grid grid-cols-[auto_1fr_auto] items-center gap-[var(--space-2)]",children:[C?(0,s.jsx)(i.Input,{ref:I,name:"timestamp-time",value:S,onChange:e=>{R(e.target.value),j(e.target.value)},placeholder:"00:00",className:"text-center font-mono tabular-nums min-w-[calc(5ch+var(--space-5)+(var(--space-1)*4/5))] max-w-[calc(5ch+var(--space-5)+(var(--space-1)*4/5))]","aria-label":"Timestamp time in mm:ss",inputMode:"numeric",pattern:"^[0-9]?\\d:[0-5]\\d$","aria-invalid":T?"true":void 0,"aria-describedby":T?"tTime-error":void 0,onKeyDown:e=>{"Enter"===e.key&&_&&(e.preventDefault(),F())}}):(0,s.jsx)(c.Badge,{as:"span",size:"md",className:"min-w-[var(--space-8)] justify-center text-ui",children:(0,s.jsx)(d.A,{"aria-hidden":!0,className:"icon-xs opacity-80"})}),(0,s.jsx)(i.Input,{ref:L,name:"timestamp-note",value:M,onChange:e=>E(e.target.value),placeholder:"Quick note",className:"flex-1",onKeyDown:e=>{"Enter"===e.key&&_&&(e.preventDefault(),F())},"aria-label":"Timestamp note"}),(0,s.jsx)(o.IconButton,{"aria-label":"Add timestamp",title:_?"Add timestamp":"Enter details",size:"md",iconSize:"sm",variant:"default",disabled:!_,onClick:F,children:(0,s.jsx)(u.A,{})})]}),T&&(0,s.jsx)("p",{id:"tTime-error",className:"mt-[var(--space-1)] text-ui text-danger",children:"Enter time as mm:ss"}),0===D.length?(0,s.jsx)("div",{className:"mt-[var(--space-2)] text-ui text-muted-foreground",children:"No timestamps yet."}):(0,s.jsx)("ul",{className:"mt-[var(--space-3)] space-y-[var(--space-2)]",children:D.map(e=>(0,s.jsxs)(h.u,{as:"li",padding:"sm",className:"grid grid-cols-[auto_1fr_auto] items-center gap-[var(--space-2)]",children:[e.noteOnly?(0,s.jsx)(c.Badge,{as:"span",size:"md",className:"min-w-[var(--space-8)] justify-center text-ui",children:(0,s.jsx)(d.A,{"aria-hidden":!0,className:"icon-xs opacity-80"})}):(0,s.jsx)(c.Badge,{as:"span",size:"md",className:"min-w-[var(--space-8)] justify-center font-mono tabular-nums text-ui",children:e.time}),(0,s.jsx)("span",{className:"truncate text-ui",children:e.note}),(0,s.jsx)(o.IconButton,{"aria-label":"Delete timestamp",title:"Delete timestamp",size:"sm",iconSize:"sm",variant:"quiet",onClick:()=>P(e.id),children:(0,s.jsx)(m.A,{})})]},e.id))})]})]})});x.displayName="TimestampMarkers"},24233:(e,a,r)=>{"use strict";r.d(a,{PillarsSelector:()=>u});var s=r(95155),t=r(12115),l=r(5917),n=r(65229),i=r(87074),o=r(80881),c=r(48959),d=r(92586);let u=t.forwardRef(function(e,a){let{pillars:r=[],commitMeta:u}=e,[m,p]=t.useState(r);t.useEffect(()=>{p(Array.isArray(r)?[...r]:[])},[r]);let v=t.useCallback(e=>{p(a=>{let r=a.includes(e)?a.filter(a=>a!==e):a.concat(e);return u({pillars:r}),r})},[u]),f=t.useCallback(()=>{u({pillars:m})},[m,u]);t.useImperativeHandle(a,()=>({save:f}),[f]);let h=t.useCallback(e=>{c.K$.includes(e)&&v(e)},[v]),g=t.useMemo(()=>c.K$.map(e=>{let a=d.Se[e],r=m.includes(e);return{value:e,label:(0,s.jsxs)("span",{className:"flex w-full items-center gap-[var(--space-2)]",children:[(0,s.jsx)(a,{"aria-hidden":!0,className:"h-[var(--space-4)] w-[var(--space-4)] text-muted-foreground"}),(0,s.jsx)("span",{className:"flex-1 text-left",children:(0,d.mf)(e)}),r?(0,s.jsx)(l.A,{"aria-hidden":!0,className:"h-[var(--space-4)] w-[var(--space-4)] text-accent"}):null]})}}),[m]),x=m.length>0?m:null;return(0,s.jsxs)("div",{children:[(0,s.jsx)(i.e,{children:"Pillars"}),(0,s.jsx)(o.Cq,{items:g,value:null==x?void 0:x[0],onChange:h,placeholder:"Add or remove pillars",ariaLabel:"Select pillars",matchTriggerWidth:!0}),(0,s.jsx)("div",{className:"mt-[var(--space-3)] flex flex-wrap gap-[var(--space-2)]",children:x?x.map(e=>{let a=d.Se[e];return(0,s.jsxs)(o.Ex,{className:"gap-[var(--space-1)] bg-card/70",children:[(0,s.jsx)(a,{"aria-hidden":!0,className:"h-[var(--space-4)] w-[var(--space-4)] text-muted-foreground"}),(0,s.jsx)("span",{children:(0,d.mf)(e)}),(0,s.jsx)(o.K0,{size:"sm",iconSize:"sm",variant:"quiet","aria-label":"Remove ".concat((0,d.mf)(e)),onClick:()=>v(e),className:"-mr-[var(--space-2)] text-muted-foreground hover:text-foreground",children:(0,s.jsx)(n.A,{"aria-hidden":!0,className:"h-[var(--space-3)] w-[var(--space-3)]"})})]},e)}):(0,s.jsx)("div",{className:"text-ui text-muted-foreground",children:"No pillars selected."})})]})});u.displayName="PillarsSelector"},36097:(e,a,r)=>{"use strict";r.d(a,{j:()=>i});var s=r(95155);r(12115);var t=r(27566),l=r(55712),n=r(38882);function i(e){let{score:a,msg:r,ScoreIcon:i,scoreIconCls:o,focusOn:c,focus:d,focusMsg:u}=e;return(0,s.jsxs)("div",{children:[(0,s.jsx)(n.y,{label:"Score",value:a,tone:"score",trackProps:{className:"px-[var(--space-3)]"},detail:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i,{className:(0,t.cn)("h-[var(--space-4)] w-[var(--space-4)]",o)}),(0,s.jsx)("span",{children:r})]})}),c&&"number"==typeof d&&u&&(0,s.jsxs)("div",{className:"mt-[var(--space-4)] space-y-[var(--space-2)]",children:[(0,s.jsxs)("div",{className:"mb-[var(--space-2)] flex items-center gap-[var(--space-2)]","aria-label":"Focus",children:[(0,s.jsx)(l.NeonIcon,{kind:"brain",on:!0,size:"xl",staticGlow:!0}),(0,s.jsx)("div",{className:"h-[var(--hairline-w)] flex-1 bg-gradient-to-r from-foreground/20 via-foreground/5 to-transparent"})]}),(0,s.jsx)(n.y,{value:d,tone:"focus",trackProps:{className:"px-[var(--space-3)]"},detail:(0,s.jsx)("span",{children:u})})]})]})}},36462:(e,a,r)=>{"use strict";r.d(a,{p:()=>t});var s=r(20063);function t(e,a){var r;let t=(0,s.useSearchParams)();return null!=(r=null==t?void 0:t.get(e))?r:a}},36574:(e,a,r)=>{"use strict";r.d(a,{ReviewPage:()=>c});var s=r(95155),t=r(12115),l=r(67419),n=r(56187),i=r(96415),o=r(77959);function c(){let{reviews:e,setReviews:a,isHydrated:r}=(0,o.useReviews)(),[c,d]=(0,t.useState)(null);(0,t.useEffect)(()=>{!c&&e.length>0&&d(e[0].id)},[e,c]),(0,t.useEffect)(()=>{if(c&&!e.some(e=>e.id===c)){var a,r;d(null!=(r=null==(a=e[0])?void 0:a.id)?r:null)}},[e,c]);let u=(0,t.useCallback)(()=>{let e=Date.now(),r={id:(0,l.uid)("rev"),title:"Untitled Review",opponent:"",lane:"",side:"Blue",patch:"",duration:"",matchup:"",tags:[],pillars:[],markers:[],notes:"",createdAt:e};(0,i.k)(r),a(e=>[r,...e]),d(r.id)},[a]),m=(0,t.useCallback)(e=>d(e),[]),p=(0,t.useCallback)((e,r)=>{a(a=>a.map(a=>a.id===e?(0,i.k)({...a,...r}):a))},[a]),v=(0,t.useCallback)((e,a)=>{p(e,{title:(a||"").trim()||"Untitled Review"})},[p]),f=(0,t.useCallback)(e=>{a(a=>a.filter(a=>a.id!==e)),d(a=>a===e?null:a)},[a]),h=(0,t.useCallback)((e,a)=>{p(e,{notes:a})},[p]),g=(0,t.useCallback)((e,a)=>{p(e,{tags:a})},[p]),x=(0,t.useCallback)((e,a)=>{p(e,a)},[p]),b=(0,t.useMemo)(()=>e.some(e=>e.id===c)?c:null,[e,c]);return(0,s.jsx)(n.ReviewsPage,{reviews:e,loading:!r,selectedId:b,onSelect:m,onCreate:u,onRename:v,onDelete:f,onChangeNotes:h,onChangeTags:g,onChangeMeta:x})}},38373:(e,a,r)=>{"use strict";r.d(a,{AL:()=>c.LaneOpponentForm,Bd:()=>l.ReviewSummary,DV:()=>s.ReviewList,QT:()=>n.RoleSelector,SP:()=>m.TimestampMarkers,fM:()=>u.PillarsSelector,hc:()=>d.ResultScoreSection,lN:()=>v.l,m7:()=>o.useReviewFilter,ug:()=>p.u,v1:()=>h.useReviews,w2:()=>t.ReviewListItem,xQ:()=>i.x,y1:()=>f.y}),r(36574),r(56187),r(4864);var s=r(76475),t=r(20762),l=r(6545);r(36097),r(43592),r(39214),r(8724);var n=r(60320),i=r(64331);r(55712);var o=r(49592),c=r(81976),d=r(49559),u=r(24233),m=r(21886),p=r(88296),v=r(48573),f=r(38882),h=r(77959)},38882:(e,a,r)=>{"use strict";r.d(a,{y:()=>c});var s=r(95155),t=r(12115),l=r(87074),n=r(27566),i=r(88296),o=r(48573);function c(e){let{value:a,label:r,tone:c="score",variant:d="display",detail:u,control:m,className:p,surfaceProps:v,trackProps:f,valueFormatter:h}=e,{className:g,padding:x="inline",...b}=null!=v?v:{},{className:y,...w}=null!=f?f:{},j=t.useId(),N=m;if(r&&t.isValidElement(m)){let e=m.props["aria-labelledby"],a=["string"==typeof e?e:void 0,j].filter(Boolean).join(" ");N=t.cloneElement(m,{"aria-labelledby":a})}return(0,s.jsxs)("div",{className:p,children:[r?(0,s.jsx)(l.e,{id:j,children:r}):null,(0,s.jsxs)(i.u,{padding:x,...b,className:(0,n.cn)("relative h-[var(--space-7)]","input"===d&&"group",g),children:[N,(0,s.jsx)(o.l,{value:a,tone:c,variant:d,...w,className:(0,n.cn)(y)})]}),(0,s.jsxs)("div",{className:"mt-[var(--space-1)] flex items-center gap-[var(--space-2)] text-ui text-muted-foreground",children:[(0,s.jsx)("span",{className:"pill h-[var(--space-5)] px-[var(--space-2)] text-ui",children:(null!=h?h:e=>"".concat(e,"/10"))(a)}),u]})]})}},39214:(e,a,r)=>{"use strict";r.d(a,{g:()=>o});var s=r(95155),t=r(12115),l=r(55712),n=r(88296),i=r(89715);function o(e){let{markers:a}=e,{sortedMarkers:r,hasTimed:o,hasNoteOnly:c}=t.useMemo(()=>{if(0===a.length)return{sortedMarkers:[],hasTimed:!1,hasNoteOnly:!1};let e=!1;for(let r of a)if(!r.noteOnly){e=!0;break}return{sortedMarkers:a.length>1?[...a].sort((e,a)=>e.seconds-a.seconds):[...a],hasTimed:e,hasNoteOnly:!e}},[a]);return(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"mb-[var(--space-2)] flex items-center gap-[var(--space-2)]","aria-label":"Timestamps",children:[(0,s.jsx)(l.NeonIcon,{kind:"clock",on:!!o,size:"xl",staticGlow:!0}),(0,s.jsx)(l.NeonIcon,{kind:"file",on:!!c,size:"xl",staticGlow:!0}),(0,s.jsx)("div",{className:"h-[var(--hairline-w)] flex-1 bg-gradient-to-r from-foreground/20 via-foreground/5 to-transparent"})]}),r.length?(0,s.jsx)("ul",{className:"space-y-[var(--space-2)]",children:r.map(e=>{var a;return(0,s.jsxs)(n.u,{as:"li",padding:"sm",className:"grid grid-cols-[auto_1fr] items-center gap-[var(--space-2)]",children:[e.noteOnly?(0,s.jsx)("span",{className:"pill flex h-[var(--space-6)] w-[calc(var(--space-6)+var(--space-2))] items-center justify-center px-0",title:"Note","aria-label":"Note",children:(0,s.jsx)(i.A,{"aria-hidden":!0,className:"icon-xs opacity-80"})}):(0,s.jsx)("span",{className:"pill h-[var(--space-6)] px-[var(--space-3)] text-ui font-mono tabular-nums leading-none",children:null!=(a=e.time)?a:"00:00"}),(0,s.jsx)("span",{className:"truncate text-ui",children:e.note||"—"})]},e.id)})}):(0,s.jsx)("div",{className:"text-ui text-muted-foreground",children:"No timestamps yet."})]})}},43592:(e,a,r)=>{"use strict";r.d(a,{g:()=>o});var s=r(95155);r(12115);var t=r(87074),l=r(80881),n=r(92586);function i(e){let{children:a}=e;return(0,s.jsxs)("span",{className:"relative inline-flex",children:[(0,s.jsx)("span",{"aria-hidden":!0,className:"pointer-events-none absolute inset-0 rounded-card r-card-lg bg-gradient-to-r from-accent to-primary opacity-40 blur"}),(0,s.jsx)("span",{"aria-hidden":!0,className:"pointer-events-none absolute inset-0 rounded-card r-card-lg ring-1 ring-ring/35"}),(0,s.jsx)("span",{className:"relative z-10",children:a})]})}function o(e){let{pillars:a}=e;return(0,s.jsxs)("div",{children:[(0,s.jsx)(t.e,{children:"Pillars"}),Array.isArray(a)&&a.length>0?(0,s.jsx)("div",{className:"flex flex-wrap gap-[var(--space-2)]",children:a.map(e=>{let a=n.Se[e];return(0,s.jsx)(i,{children:(0,s.jsxs)(l.Ex,{className:"gap-[var(--space-1)] bg-card/70",children:[(0,s.jsx)(a,{"aria-hidden":!0,className:"h-[var(--space-4)] w-[var(--space-4)] text-muted-foreground"}),(0,s.jsx)("span",{children:(0,n.mf)(e)})]})},e)})}):(0,s.jsx)("div",{className:"text-ui text-muted-foreground",children:"No pillars selected."})]})}},48346:(e,a,r)=>{"use strict";r.d(a,{G:()=>l});var s=r(95155);r(12115);var t=r(27566);function l(e){let{items:a,renderItem:r,emptyState:l,header:n,className:i}=e;return(0,s.jsxs)("div",{className:(0,t.cn)("space-y-[var(--space-2)]",i),children:[n&&(0,s.jsx)("div",{className:"text-label text-muted-foreground",children:n}),0===a.length?null!=l?l:(0,s.jsx)("div",{className:"rounded-[var(--radius-md)] border border-card-hairline bg-[hsl(var(--surface-2))] p-[var(--space-4)] text-center text-muted-foreground shadow-neo",children:"Nothing here yet."}):(0,s.jsx)("ul",{className:"space-y-[var(--space-1)]",children:a.map((e,a)=>(0,s.jsx)("li",{children:r(e,a)},a))})]})}},48573:(e,a,r)=>{"use strict";r.d(a,{l:()=>c});var s=r(95155),t=r(27566);r(12115);var l=r(88726),n=r.n(l);let i={score:"[--slider-fill-tint:hsl(var(--accent-1)/0.35)] [--slider-fill-tint-hover:hsl(var(--accent-1)/0.45)] [--slider-fill-tint-active:hsl(var(--accent-1)/0.55)] [--slider-focus-ring:var(--ring-contrast)] [--slider-knob-hover-surface:hsl(var(--accent-1)/0.28)] [--slider-knob-active-surface:hsl(var(--accent-1)/0.36)] [--slider-knob-focus-ring:var(--ring-contrast)]",focus:"[--slider-fill-tint:hsl(var(--focus)/0.35)] [--slider-fill-tint-hover:hsl(var(--focus)/0.45)] [--slider-fill-tint-active:hsl(var(--focus)/0.55)] [--slider-focus-ring:var(--ring-contrast)] [--slider-knob-hover-surface:hsl(var(--focus)/0.3)] [--slider-knob-active-surface:hsl(var(--focus)/0.4)] [--slider-knob-focus-ring:var(--ring-contrast)]"},o={display:"h-[calc(var(--space-4)+var(--space-1))] w-[calc(var(--space-4)+var(--space-1))] -translate-x-1/2",input:"h-[calc(var(--space-4)+var(--space-1))] w-[calc(var(--space-4)+var(--space-1))]"},c=e=>{let{value:a,tone:r="score",variant:l="input",className:c,trackClassName:d,fillClassName:u,knobClassName:m,glitch:p=!1}=e,v=Math.round(Math.min(10,Math.max(0,a))),f="input"===l;return(0,s.jsx)("div",{className:(0,t.cn)("group/slider absolute left-[var(--space-4)] right-[var(--space-4)] top-1/2 -translate-y-1/2","[--slider-fill-background:var(--edge-iris)]",p&&n().glitch,i[r],n().root,c),"data-tone":r,"data-variant":l,"data-value":v,"data-glitch":p?"true":void 0,children:(0,s.jsxs)("div",{className:(0,t.cn)("relative h-[var(--space-2)] w-full overflow-hidden rounded-full bg-muted shadow-[var(--slider-track-shadow)]","before:pointer-events-none before:absolute before:inset-0 before:rounded-full before:bg-[var(--card-overlay-scanlines)] before:opacity-0 before:transition-opacity before:duration-motion-sm before:ease-out",f?"group-hover/slider:before:opacity-70 group-active/slider:before:opacity-90 group-focus-visible/slider:before:opacity-80":void 0,d),children:[(0,s.jsx)("div",{className:(0,t.cn)("absolute left-0 top-0 h-[var(--space-2)] rounded-full [background:var(--slider-fill-background)] shadow-[var(--slider-fill-shadow)]","after:pointer-events-none after:absolute after:inset-0 after:rounded-full after:bg-[--slider-fill-tint] after:opacity-80 after:transition-colors after:duration-motion-sm after:ease-out","display"===l?"progress-fill":void 0,n().fill,f&&(0,t.cn)("ring-1 ring-transparent transition-[box-shadow,opacity] duration-motion-sm ease-out","group-hover/slider:[--slider-fill-shadow:var(--slider-fill-shadow-hover)] group-active/slider:[--slider-fill-shadow:var(--slider-fill-shadow-active)]","group-hover/slider:after:bg-[--slider-fill-tint-hover] group-active/slider:after:bg-[--slider-fill-tint-active]","group-focus-visible/slider:ring-[var(--slider-focus-ring)]"),u)}),(0,s.jsx)("div",{className:(0,t.cn)("absolute top-1/2 -translate-y-1/2 rounded-full border border-border bg-card shadow-[var(--slider-knob-shadow)]",o[l],n().knob,f&&(0,t.cn)("transition-[background-color,border-color,box-shadow] duration-motion-sm ease-out","group-hover/slider:bg-[--slider-knob-hover-surface] group-active/slider:bg-[--slider-knob-active-surface] group-hover/slider:border-transparent group-active/slider:border-transparent","group-hover/slider:[--slider-knob-shadow:var(--slider-knob-shadow-hover)] group-active/slider:[--slider-knob-shadow:var(--slider-knob-shadow-active)]","group-focus-visible/slider:ring-2 group-focus-visible/slider:ring-[var(--slider-knob-focus-ring)] group-focus-visible/slider:shadow-[var(--slider-knob-shadow-active)]"),m)})]})})}},48959:(e,a,r)=>{"use strict";r.d(a,{A:()=>m,K$:()=>f,Kj:()=>p,Om:()=>x,_y:()=>h,fA:()=>y,fF:()=>b,o9:()=>g,u2:()=>v});var s=r(24589),t=r(21873),l=r(30814),n=r(26145),i=r(17910),o=r(54868),c=r(90007),d=r(6613),u=r(40725);let m="last_role",p="last_marker_mode",v="last_marker_time",f=["Wave","Trading","Vision","Tempo","Positioning","Comms"],h=[{value:"TOP",label:"Top",Icon:s.A},{value:"JUNGLE",label:"Jungle",Icon:t.A},{value:"MID",label:"Mid",Icon:l.A},{value:"BOT",label:"Bot",Icon:n.A},{value:"SUPPORT",label:"Support",Icon:i.A}];function g(e,a){let r=0x811c9dc5;for(let a=0;a<e.length;a++)r^=e.charCodeAt(a),r=Math.imul(r,0x1000193);return Math.abs(r)%Math.max(1,a)}function x(e){return e<=3?{Icon:o.A,cls:"text-danger"}:e<=6?{Icon:c.A,cls:"text-warning"}:e>=9?{Icon:d.A,cls:"text-success"}:{Icon:u.A,cls:"text-success/80"}}let b={0:["The minions deserved better.","Gameplay was a rumor.","Clicked everything but enemies.","Ward diff, player diff, life diff.","Report the mouse."],1:["Bot stood for Accidentally Donated CS.","Bought items, forgot purpose.","Reinvented throwing.","Hands on cooldown.","Tutorial island energy."],2:["Bronze with ambitions.","Lane? Optional curriculum.","You dodged responsibility.","Macro via astrology.","Teamfight interpretive dance."],3:["A for effort, C- for results.","Mechanics doing jazz.","Outplayed by minions twice.","You pinged, then prayed.","Drafted regrets."],4:["Almost warmed up.","Half-commit legend.","Vision? Soon.","Clicks had ideas.","Tempo decided later."],5:["Fine is fine.","Macro microwave-safe.","Minimap every other beat.","You and wave negotiated.","Serviceable decisions."],6:["Solid lane brain.","Reads landing.","Cooldowns mostly tracked.","Pressure was real.","No tilt tax paid."],7:["Calm hands, sharp reads.","Plates with purpose.","Camera was a weapon.","Punished habits on sight.","Macro had receipts."],8:["Gamer zen detected.","Tempo conductor arc.","You were the pressure.","Plays predicted Twitch chat.","Crisp fundamentals."],9:["Hyperlocked menace.","Three moves ahead.","Teamfight librarian.","Objective whisperer.","Clean, clinical, cold."],10:["Coach took notes.","Patch notes feared you.","Main-character episode.","Fourth monitor: sixth sense.","Perfection speedrun."]},y={0:["Alt-tabbed to Narnia.","Monitor was a mirror.","Clicked grass for CS.","AFK but spiritually.","Pinged, then vanished.","Brain.exe not found.","Eyes open, mind closed.","Full spectator mode.","AFK farming excuses.","Controller unplugged vibes."],1:["Goldfish memory arc.","UI: on. Brain: off.","Pressed S to think.","Coffee said no.","Mini-map lore only.","Mind on cooldown.","Focus DLC locked.","Alt-tab speedrun.","Micro naps mid-fight.","Tunnel vision tutorial."],2:["Half-baked reads.","Right-click regrets.","Macro by horoscope.","Hovering IRL.","Lane? Optional.","Notifications won.","Pinged danger for vibes.","Daydream jungling.","Cait traps for d\xe9cor.","Focus at 144p."],3:["Almost warmed up.","Focus in beta.","Dodged one skill. Pride.","Cursor sightseeing.","Minions juked you.","Reading chat like gospel.","Brain ping 200ms.","Micro went macro wrong.","Side questing mid-lane.","Alt key main character."],4:["Some thoughts detected.","Map glanced, not seen.","Skillshots negotiated.","Clicked intentions, not targets.","Focus: trial version.","Decision cache missed.","Macro-ish.","Half-commit legend.","Drafting excuses.","Ping roulette winner."],5:["Baseline gamer focus.","Eyes on lane, mostly.","Okay reads, okay clicks.","Focus medium rare.","Mini-map every other beat.","Solid bronze halo.","Mid fight TED talk.","Microwave meal macro.","You and wave had a chat.","Cursor behaved… sometimes."],6:["Dialing in.","Reads landing.","Third eye buffering.","Good timers, better patience.","Focus with flavor.","Map pings with purpose.","Respectable clarity.","CS and thoughts aligned.","Cooldown tracking-ish.","Pretty clean lane brain."],7:["Locked but humane.","Reads ahead of time.","Map sense online.","No doomscrolling micro.","Camera was a weapon.","Win-ready focus.","Plate math in head.","You saw the turn.","Jukes with intent.","Calm hands, sharp clicks."],8:["Gamer zen achieved.","Plays predicted chat.","Minimap whisperer.","Cooldown librarian.","Focus speedrun PB.","Macro clairvoyance.","Pressure chef’s kiss.","No tilt tax today.","Reads wrote themselves.","Mechanics obeyed brain."],9:["Hyperlocked menace.","Saw three plays ahead.","Mini-map was your HUD.","Eyes like ward bots.","Tempo conductor.","Punished everything.","You were the macro.","Frame-perfect habits.","Clutch tax refunded.","Clicked with prophecy."],10:["Main-character focus.","E-sports cam ready.","Chess while others drew circles.","Third eye 4K HDR.","Perfect tempo pilgrim.","Predicted the patch notes.","You were the objective.","Focus over 9000.","Reads so crisp they hurt.","Coach took notes."]}},49559:(e,a,r)=>{"use strict";r.d(a,{ResultScoreSection:()=>d});var s=r(95155),t=r(12115),l=r(87074),n=r(27566),i=r(48959),o=r(43381),c=r(32740);let d=t.forwardRef(function(e,a){var r;let{result:d="Win",score:u=5,commitMeta:m,onScoreEnter:p}=e,[v,f]=t.useState(d),[h,g]=t.useState(u),x=t.useRef(null),b=t.useRef(null),y=t.useId(),w=t.useId();t.useEffect(()=>{f(d)},[d]),t.useEffect(()=>{g(u)},[u]);let j=t.useCallback(()=>{m({result:v,score:h})},[v,h,m]);t.useImperativeHandle(a,()=>({save:j,focusResult:()=>{var e;return null==(e=x.current)?void 0:e.focus()}}),[j]);let N=(0,i.o9)(String(h),5),k=(null!=(r=i.fF[h])?r:i.fF[5])[N],{Icon:C,cls:A}=(0,i.Om)(h);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(l.e,{id:y,children:"Result"}),(0,s.jsx)(c.Toggle,{ref:x,ariaLabelledBy:y,leftLabel:"Win",rightLabel:"Loss",value:"Win"===v?"Left":"Right",onChange:e=>{let a="Left"===e?"Win":"Loss";f(a),m({result:a})},onKeyDown:e=>{if("Enter"===e.key){var a;null==(a=b.current)||a.focus()}},className:"w-full max-w-[calc(var(--space-8)*4)]","aria-label":"Toggle Win or Loss"})]}),(0,s.jsxs)("div",{className:"space-y-[var(--space-2)]",children:[(0,s.jsx)(l.e,{id:w,children:"Score"}),(0,s.jsx)(o.RangeSlider,{ref:b,min:0,max:10,step:1,value:h,"aria-labelledby":w,"aria-label":"Score from 0 to 10",controlClassName:"rounded-card r-card-lg",trackClassName:"cursor-pointer",onChange:e=>{let a=Number(e.target.value);g(a),m({score:a})},onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),null==p||p())}}),(0,s.jsxs)("div",{className:"flex items-center gap-[var(--space-2)] text-ui text-muted-foreground","aria-live":"polite",children:[(0,s.jsx)(C,{className:(0,n.cn)("h-[var(--space-4)] w-[var(--space-4)]",A)}),(0,s.jsx)("span",{children:k})]})]})]})});d.displayName="ResultScoreSection"},49592:(e,a,r)=>{"use strict";r.d(a,{useReviewFilter:()=>n});var s=r(12115),t=r(84804),l=r(96415);function n(e,a,r){return(0,s.useMemo)(()=>{let s=a.trim().toLowerCase(),n=0===s.length?[...e]:e.filter(e=>(0,l.U)(e).includes(s));return"newest"===r&&n.sort((e,a)=>(0,t.ts)(null==a?void 0:a.createdAt)-(0,t.ts)(null==e?void 0:e.createdAt)),"oldest"===r&&n.sort((e,a)=>(0,t.ts)(null==e?void 0:e.createdAt)-(0,t.ts)(null==a?void 0:a.createdAt)),"title"===r&&n.sort((e,a)=>((null==e?void 0:e.title)||"").localeCompare((null==a?void 0:a.title)||"",void 0,{sensitivity:"base"})),n},[e,a,r])}},55712:(e,a,r)=>{"use strict";r.r(a),r.d(a,{NeonIcon:()=>o});var s=r(95155);r(12115);var t=r(26983),l=r(1473),n=r(89715),i=r(80881);function o(e){let{kind:a,on:r,size:o="md",className:c,title:d,staticGlow:u=!1}=e,m="clock"===a?t.A:"brain"===a?l.A:n.A;return(0,s.jsx)(i.Qr,{icon:m,on:r,size:o,colorVar:"clock"===a?"--accent-1":"brain"===a?"--primary":"--ring",className:c,title:d},u?"".concat(a,"-").concat(r):void 0)}},56187:(e,a,r)=>{"use strict";r.d(a,{ReviewsPage:()=>g});var s=r(95155),t=r(12115),l=r(15239),n=r(27566),i=r(38373),o=r(76475),c=r(4864),d=r(6545),u=r(64331),m=r(47937),p=r(6191),v=r(40182),f=r(80881),h=r(36462);function g(e){var a;let{reviews:r,loading:g,error:x=null,onRetry:b=null,selectedId:y,onSelect:w,onCreate:j,onRename:N,onDelete:k,onChangeNotes:C,onChangeTags:A,onChangeMeta:S}=e,R=(0,h.p)("intent",""),[M,E]=t.useState(""),[I,L]=t.useState("newest"),[z,T]=t.useState("summary"),[_,D]=t.useState(!1),[F,P]=t.useState(null),O=(null!=g?g:void 0===r)===!0,B=t.useMemo(()=>{if(x instanceof Error){var e;let a=null==(e=x.message)?void 0:e.trim();if(null==a?void 0:a.length)return a}if("string"==typeof x){let e=x.trim();if(e.length>0)return e}return x&&"object"!=typeof x?String(x):null===r?"We couldn’t load your reviews.":null},[x,r]),H=!!B,q=!O&&!H,K=t.useCallback(()=>{E(""),L("newest"),T("edit"),j()},[j]),W=t.useCallback(()=>!!q&&(K(),!0),[q,K]);t.useEffect(()=>{if("create-review"===R){!_&&W()&&D(!0);return}_&&D(!1)},[R,_,W]);let U=t.useMemo(()=>Array.isArray(r)?r:[],[r]),$=(0,i.m7)(U,M,I),V=U.length,G=q?$:[],Y=q?$.length:0,Q=q&&V>0,J=t.useMemo(()=>{var e;return null!=(e=U.find(e=>e.id===F))?e:null},[U,F]),Z=t.useCallback(e=>{k&&P(e)},[k]),X=t.useCallback(()=>{F&&k&&k(F),P(null)},[F,k]),ee=t.useCallback(()=>{P(null)},[]),ea=t.useMemo(()=>{var e;return q&&null!=(e=U.find(e=>e.id===y))?e:null},[q,U,y]),er="mx-auto",es=ea?"review-".concat(ea.id):"review-detail",et=t.useId(),el=t.useId(),en=t.useId(),ei=t.useId(),eo=t.useMemo(()=>[{value:"newest",label:"Newest"},{value:"oldest",label:"Oldest"},{value:"title",label:"Title"}],[]),ec=(null==J||null==(a=J.title)?void 0:a.trim())||"this review",ed=q&&0===V,[eu,em]=t.useState(!1),ep=t.useCallback(()=>{em(!1)},[]),ev=t.useCallback(()=>{ed&&em(!0)},[ed]),ef=t.useCallback(()=>{ev()},[ev]),eh=t.useCallback(()=>{ep()},[ep]),eg=t.useCallback(()=>{ev()},[ev]),ex=t.useCallback(e=>{let a=e.currentTarget;a instanceof HTMLElement&&a===document.activeElement||ep()},[ep]),eb=t.useCallback(e=>{("Escape"===e.key||"Esc"===e.key)&&ep()},[ep]);t.useEffect(()=>{if(!ed)return void em(!1);if(!eu)return;let e=e=>{("Escape"===e.key||"Esc"===e.key)&&ep()};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[ed,eu,ep]);let ey=O||H?"Search reviews (temporarily unavailable)":Q?"Search reviews":"Search reviews (add a review to start searching)",ew=t.useMemo(()=>{let e=[];return ed&&e.push(ei),Q||e.push(en),e.length>0?e.join(" "):void 0},[ed,ei,Q,en]),ej=!q,eN=ed?(0,s.jsx)("div",{id:ei,role:"tooltip",className:(0,n.cn)("pointer-events-none absolute left-1/2 top-full z-20 w-max max-w-[min(22rem,calc(100vw-var(--space-6)))] -translate-x-1/2","rounded-[var(--radius-lg)] border border-card-hairline bg-[hsl(var(--surface-2))] px-[var(--space-3)] py-[var(--space-2)]","text-label font-medium text-foreground shadow-depth-soft","transition-[opacity,transform] duration-motion-sm ease-out motion-reduce:transition-none motion-reduce:transform-none",eu?"opacity-100 translate-y-[var(--space-2)]":"pointer-events-none opacity-0 -translate-y-[var(--space-1)]"),"aria-hidden":eu?void 0:"true",children:(0,s.jsx)("span",{className:"block text-balance text-center leading-tight",children:"Add a review to search."})}):null;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(f.qK,{as:"header",grid:!0,"aria-labelledby":et,className:"py-[var(--space-6)]",children:(0,s.jsx)(f.lq,{as:"section",className:"col-span-full md:col-span-12",topClassName:"top-[var(--header-stack)]",title:(0,s.jsx)("span",{id:et,children:"Reviews"}),subtitle:"Capture and learn from your past sprints.",glitch:"default",frame:!0,icon:(0,s.jsx)(m.A,{className:"opacity-80"}),search:{value:M,onValueChange:E,placeholder:"Search reviews...","aria-label":ey,"aria-describedby":ew,height:"lg",debounceMs:300,variant:"sunken",loading:O,disabled:ej,className:ed?"relative":void 0,right:null!=eN?eN:void 0,onFocus:ed?ef:void 0,onBlur:ed?eh:void 0,onMouseEnter:ed?eg:void 0,onMouseLeave:ed?ex:void 0,onKeyDown:ed?eb:void 0},actions:(0,s.jsxs)(f.$n,{type:"button",variant:"default",size:"md",className:(0,n.cn)("btn-glitch","whitespace-nowrap"),onClick:K,disabled:!q,children:[(0,s.jsx)(p.A,{}),(0,s.jsx)("span",{children:"New review"})]}),illustration:(0,s.jsx)(l.default,{src:"/images/agnes.svg",alt:"Agnes watching over review browsing",fill:!0,sizes:"(min-width: 1280px) 38vw, (min-width: 768px) 56vw, 100vw",priority:!1,className:"object-contain object-right md:object-center"})})}),(0,s.jsxs)(f.qK,{as:"main",id:"page-main",tabIndex:-1,grid:!0,className:"py-[var(--space-6)]",contentClassName:"gap-y-[var(--space-6)]","aria-labelledby":et,children:[(0,s.jsx)("div",{className:"col-span-full",children:O?(0,s.jsx)("div",{className:"flex flex-col gap-[var(--space-3)] sm:gap-[var(--space-4)] md:flex-row md:items-end md:justify-end",children:(0,s.jsx)(f.EA,{ariaHidden:!1,role:"status","aria-label":"Loading sort control",className:"h-[var(--control-h-lg)] w-full md:w-[16rem]",radius:"md"})}):H?(0,s.jsxs)("div",{className:"space-y-[var(--space-3)]",children:[(0,s.jsx)("div",{className:"flex flex-col gap-[var(--space-3)] sm:gap-[var(--space-4)] md:flex-row md:items-end md:justify-end",children:(0,s.jsxs)("div",{className:"flex w-full flex-col gap-[var(--space-1)] text-left md:w-[16rem]","aria-labelledby":el,children:[(0,s.jsx)("span",{id:el,className:"text-ui font-medium text-muted-foreground",children:"Sort"}),(0,s.jsx)(f.l6,{variant:"animated",label:"Sort reviews",hideLabel:!0,value:I,onChange:e=>L(e),items:eo,className:"w-full",size:"lg",disabled:!0})]})}),(0,s.jsxs)("div",{className:"flex flex-wrap items-center gap-[var(--space-2)]",children:[(0,s.jsx)(f.$n,{type:"button",variant:"default",size:"md",className:(0,n.cn)("btn-glitch","whitespace-nowrap"),onClick:null!=b?b:void 0,disabled:!b,children:"Retry sync"}),(0,s.jsx)("p",{className:"text-ui text-danger",role:"alert",children:null!=B?B:"We couldn’t load your reviews. Retry to continue."})]})]}):Q?(0,s.jsx)("div",{className:"flex flex-col gap-[var(--space-3)] sm:gap-[var(--space-4)] md:flex-row md:items-end md:justify-end",children:(0,s.jsxs)("div",{className:"flex w-full flex-col gap-[var(--space-1)] text-left md:w-[16rem]","aria-labelledby":el,children:[(0,s.jsx)("span",{id:el,className:"text-ui font-medium text-muted-foreground",children:"Sort"}),(0,s.jsx)(f.l6,{variant:"animated",label:"Sort reviews",hideLabel:!0,value:I,onChange:e=>L(e),items:eo,className:"w-full",size:"lg"})]})}):(0,s.jsx)("div",{className:"space-y-[var(--space-2)]",children:(0,s.jsx)("p",{id:en,className:"text-ui text-muted-foreground",children:"Once you publish your first review, smart filters, tagging, and matchup search become available."})})}),(0,s.jsxs)("div",{className:(0,n.cn)("col-span-full","grid grid-cols-1 items-start gap-[var(--space-4)] sm:gap-[var(--space-6)] lg:gap-[var(--space-8)] md:grid-cols-6 lg:grid-cols-12"),children:[(0,s.jsx)("nav",{"aria-label":"Review list",className:"md:col-span-2 lg:col-span-4",children:(0,s.jsx)(o.ReviewList,{reviews:G,selectedId:y,loading:O,error:B,onRetry:H?b:null,onSelect:q?e=>{T("summary"),w(e)}:void 0,onRename:q?N:void 0,onDelete:q&&k?Z:void 0,className:"h-auto overflow-auto p-[var(--space-2)] md:h-[var(--content-viewport-height)]",header:q&&Y>0?"".concat(Y," shown"):void 0,hasAnyReviews:q&&V>0,onCreate:q?K:void 0,hoverRing:!0})}),(0,s.jsx)("div",{className:"md:col-span-4 lg:col-span-8",children:O?(0,s.jsxs)(u.x,{"aria-busy":"true",className:(0,n.cn)(er,"space-y-[var(--space-4)]"),children:[(0,s.jsxs)("div",{className:"space-y-[var(--space-2)]",children:[(0,s.jsx)(f.EA,{ariaHidden:!1,role:"status","aria-label":"Loading review summary",className:"h-[var(--space-6)] w-2/3",radius:"sm"}),(0,s.jsx)(f.EA,{className:"w-3/4"})]}),(0,s.jsxs)("div",{className:"grid gap-[var(--space-3)] sm:grid-cols-[var(--space-12)_1fr]",children:[(0,s.jsx)(f.EA,{ariaHidden:!1,role:"status","aria-label":"Loading review avatar",className:"h-[var(--space-12)] w-[var(--space-12)]",radius:"full"}),(0,s.jsxs)("div",{className:"space-y-[var(--space-2)]",children:[(0,s.jsx)(f.EA,{className:"w-2/3"}),(0,s.jsx)(f.EA,{className:"w-3/4"}),(0,s.jsx)(f.EA,{className:"w-full"})]})]}),(0,s.jsx)(f.EA,{ariaHidden:!1,role:"status","aria-label":"Loading review actions",className:"h-[var(--space-10)] w-full",radius:"sm"})]}):H?(0,s.jsx)(u.x,{"aria-live":"polite",className:er,children:(0,s.jsx)(f.hE,{title:"Review detail unavailable",description:null!=B?B:"We couldn’t load your review details.",hint:"Retry the sync to continue editing or summarizing your matches.",retryLabel:"Retry sync",onRetry:null!=b?b:void 0,className:"w-full border-none bg-transparent p-0 shadow-none"})}):Q?ea?(0,s.jsxs)("div",{className:"space-y-[var(--space-4)]",children:[(0,s.jsx)(f.VQ,{items:[{key:"summary",label:"Summary"},{key:"edit",label:"Edit"}],value:z,onValueChange:T,ariaLabel:"Review detail mode",idBase:es}),(0,s.jsx)("div",{id:"".concat(es,"-summary-panel"),role:"tabpanel","aria-labelledby":"".concat(es,"-summary-tab"),hidden:"summary"!==z,tabIndex:"summary"===z?0:-1,children:"summary"===z?(0,s.jsx)(u.x,{className:er,children:(0,s.jsx)(d.ReviewSummary,{review:ea,onEdit:()=>T("edit")},"summary-".concat(ea.id))}):null}),(0,s.jsx)("div",{id:"".concat(es,"-edit-panel"),role:"tabpanel","aria-labelledby":"".concat(es,"-edit-tab"),hidden:"edit"!==z,tabIndex:"edit"===z?0:-1,children:"edit"===z?(0,s.jsx)(u.x,{className:er,children:(0,s.jsx)(c.ReviewEditor,{review:ea,onChangeNotes:e=>null==C?void 0:C(ea.id,e),onChangeTags:e=>null==A?void 0:A(ea.id,e),onRename:e=>N(ea.id,e),onChangeMeta:e=>null==S?void 0:S(ea.id,e),onDone:()=>T("summary"),onDelete:k?()=>Z(ea.id):void 0},"editor-".concat(ea.id))}):null})]}):(0,s.jsxs)(u.x,{"aria-live":"polite",className:(0,n.cn)(er,"relative flex flex-col items-center justify-center gap-[var(--space-3)] overflow-hidden","text-center text-ui text-muted-foreground"),children:[(0,s.jsx)("span",{"aria-hidden":!0,className:"glitch-rail pointer-events-none absolute inset-y-[var(--space-2)] left-1/2 hidden w-[var(--spacing-1)] -translate-x-1/2 rounded-full opacity-80 mix-blend-screen sm:block"}),(0,s.jsx)("span",{"aria-hidden":!0,"data-text":"",className:"glitch-anim inline-flex items-center justify-center rounded-full border border-border/40 bg-card/70 p-[var(--space-3)] text-muted-foreground motion-reduce:animate-none",children:(0,s.jsx)(v.A,{"aria-hidden":!0,focusable:"false",className:"size-[var(--space-6)]"})}),(0,s.jsxs)("div",{className:"space-y-[var(--space-1)]",children:[(0,s.jsx)("p",{className:"text-card-foreground",children:"Select a review from the list to see its summary."}),(0,s.jsx)("p",{children:"Use New review to document another match when you’re ready."})]})]}):(0,s.jsxs)(f.Zp,{role:"status","aria-live":"polite",className:(0,n.cn)(er,"relative isolate overflow-hidden border-none bg-[hsl(var(--surface-2))] text-left shadow-neo"),depth:"raised",children:[(0,s.jsx)("span",{"aria-hidden":!0,className:"pointer-events-none absolute inset-0 -z-10 bg-gradient-to-br from-[color-mix(in_srgb,hsl(var(--surface-2))_70%,hsl(var(--primary-2))_15%)] via-[hsl(var(--surface-2))] to-[color-mix(in_srgb,hsl(var(--surface-2))_70%,hsl(var(--primary-3))_20%)]"}),(0,s.jsxs)("div",{className:"grid items-center gap-[var(--space-4)] md:grid-cols-[1.2fr_auto]",children:[(0,s.jsxs)("div",{className:"space-y-[var(--space-3)]",children:[(0,s.jsxs)(f.aR,{className:"space-y-[var(--space-2)] p-0",children:[(0,s.jsx)(f.ZB,{className:"text-balance",children:"Capture your first review"}),(0,s.jsx)(f.BT,{className:"text-pretty",children:"Agnes has a fresh page ready. Log your latest match to unlock summaries, tagging, and focus tracking."})]}),(0,s.jsx)(f.Wu,{className:"p-0",children:(0,s.jsxs)("div",{className:"flex flex-wrap items-center gap-[var(--space-2)] text-muted-foreground",children:[(0,s.jsx)("span",{className:"rounded-full bg-[hsl(var(--surface-3))] px-[var(--space-2)] py-[var(--space-1)] text-label font-medium text-foreground",children:"Guidance"}),(0,s.jsx)("span",{className:"text-ui",children:"Capture notes to see AI summaries and track what to improve next time."})]})}),(0,s.jsx)(f.wL,{className:"flex flex-wrap gap-[var(--space-2)] p-0",children:(0,s.jsx)(f.$n,{type:"button",variant:"default",size:"md",className:"btn-glitch",onClick:K,disabled:!q,children:"Capture first review"})})]}),(0,s.jsx)("div",{className:"relative mx-auto h-[min(16rem,40vw)] w-full max-w-[18rem]",children:(0,s.jsx)(l.default,{src:"/images/agnes-writing-notes.svg",alt:"Agnes writing review notes",fill:!0,sizes:"(min-width: 1024px) 18rem, 60vw",className:"object-contain",priority:!1})})]})]})})]})]}),(0,s.jsx)(f.aF,{open:!!F,onOpenChange:e=>{e||ee()},title:"Delete review?",description:"This permanently removes “".concat(ec,"” and its notes."),actions:(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(f.$n,{type:"button",size:"sm",variant:"default",tone:"danger",onClick:X,disabled:!J,children:"Delete review"}),(0,s.jsx)(f.$n,{type:"button",variant:"quiet",size:"sm",onClick:ee,children:"Cancel"})]}),children:(0,s.jsx)("p",{className:"text-ui text-muted-foreground",children:"This action can’t be undone. Export or duplicate any notes you need before deleting."})})]})}},60320:(e,a,r)=>{"use strict";r.d(a,{RoleSelector:()=>o});var s=r(95155),t=r(12115),l=r(27566),n=r(48959),i=r(80881);function o(e){let{value:a,onChange:r,className:o,ariaLabelledby:c}=e,d=n._y.length,u=Math.max(0,n._y.findIndex(e=>e.value===a)),m=t.useRef(null);return t.useEffect(()=>{var e;let{label:a}=null!=(e=n._y[u])?e:{};a&&m.current&&(m.current.textContent="".concat(a,", selected, ").concat(u+1," of ").concat(d))},[u,d]),(0,s.jsxs)("div",{className:(0,l.cn)("w-full",o),children:[(0,s.jsx)("span",{"aria-live":"polite",className:"sr-only",ref:m}),(0,s.jsx)(i.VQ,{items:n._y.map(e=>{let{value:a,Icon:r,label:t}=e;return{key:a,label:t,icon:(0,s.jsx)(r,{className:"size-[var(--icon-size-sm)]"}),className:"flex-1"}}),value:a,onValueChange:e=>r(e),ariaLabel:"Select lane/role",ariaLabelledBy:c,variant:"neo",size:"sm",className:"w-full",tablistClassName:"w-full",linkPanels:!1})]})}},64331:(e,a,r)=>{"use strict";r.d(a,{x:()=>n});var s=r(95155);r(12115);var t=r(27566),l=r(80881);function n(e){let{className:a,...r}=e;return(0,s.jsx)(l.Zp,{glitch:!0,depth:"raised",className:(0,t.cn)(l.Lf,"w-full max-w-full",a),...r})}},76475:(e,a,r)=>{"use strict";r.d(a,{ReviewList:()=>f});var s=r(95155),t=r(12115),l=r(27566),n=r(20762),i=r(80881),o=r(48346),c=r(47937),d=r(42988);let u="planner:reviews:list-scroll",m="planner:reviews:auto-load";function p(e){try{return window.sessionStorage.getItem(e)}catch(e){return null}}function v(e,a){try{window.sessionStorage.setItem(e,a)}catch(e){}}function f(e){let{reviews:a,selectedId:r,onSelect:f,className:h,header:g,hoverRing:x=!1,loading:b=!1,error:y=null,onRetry:w=null,hasAnyReviews:j=!1,onCreate:N,onRename:k,onDelete:C}=e,A=a.length,S=t.useMemo(()=>{if(!y)return null;if(y instanceof Error){var e;let a=null==(e=y.message)?void 0:e.trim();return(null==a?void 0:a.length)?a:""}if("string"==typeof y){let e=y.trim();return e.length>0?e:""}return String(y)},[y]),R=!!S,[M,E]=t.useState(()=>Math.min(40,a.length)),I=t.useMemo(()=>a.slice(0,40).map(e=>e.id).join("|"),[a]),L=t.useRef(I),[z,T]=t.useState(!0),_=t.useRef(null),D=t.useRef(null),F=t.useRef(!1),P=t.useRef(!1);t.useEffect(()=>{let e=function(e,a){let r=p(e);return null===r?a:"true"===r||"false"!==r&&a}(m,!0);T(a=>a===e?a:e)},[]),t.useEffect(()=>{let e=Math.min(40,a.length),r=L.current;L.current=I,E(s=>{if(r!==I)return s===e?s:e;let t=Math.min(s,a.length);return t===s?s:t})},[I,a.length]);let O=t.useMemo(()=>a.slice(0,M),[a,M]),B=O.length<A,H=A>40,q=Math.min(100,Math.round(100*(0===A?0:O.length/A))),K=t.useMemo(()=>H?B?"Showing ".concat(O.length," of ").concat(A):"Showing all ".concat(A):"",[A,B,H,O.length]),W=t.useCallback(()=>{E(e=>Math.min(A,e+40))},[A]),U=t.useCallback(()=>{T(e=>{let a=!e;return v(m,String(a)),a})},[]);t.useEffect(()=>{let e=_.current;if(!e)return;let a=p(u);if(!P.current&&a){let r=Number.parseInt(a,10);Number.isNaN(r)||(e.scrollTop=r)}P.current=!0;let r=0,s=()=>{r||(r=window.requestAnimationFrame(()=>{r=0,v(u,Math.round(e.scrollTop).toString())}))},t=()=>{v(u,Math.round(e.scrollTop).toString())};return e.addEventListener("scroll",s,{passive:!0}),window.addEventListener("pagehide",t),()=>{e.removeEventListener("scroll",s),window.removeEventListener("pagehide",t),r&&window.cancelAnimationFrame(r),v(u,Math.round(e.scrollTop).toString())}},[O.length]),t.useEffect(()=>{F.current=!1},[O.length]),t.useEffect(()=>{if(!z||!B)return;let e=_.current,a=D.current;if(!e||!a||!("IntersectionObserver"in window))return;let r=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&!F.current&&(F.current=!0,W())})},{root:e,rootMargin:"25% 0px"});return r.observe(a),()=>{r.disconnect()}},[z,W,B,O.length]);let $=x&&"hover:ring-2 hover:ring-[var(--theme-ring,var(--focus))] focus-within:ring-2 focus-within:ring-[var(--theme-ring,var(--focus))]",V=(0,l.cn)("w-full mx-auto rounded-card r-card-lg border border-border/35 bg-card/60 text-card-foreground shadow-outline-subtle","ds-card-pad backdrop-blur-sm transition-colors transition-shadow duration-motion-md",$,h),G=(0,l.cn)("w-full mx-auto rounded-card r-card-lg text-card-foreground","ds-card-pad backdrop-blur-sm transition-colors transition-shadow duration-motion-md","relative isolate overflow-hidden glitch-card",$,h),Y=g?(0,s.jsx)("header",{className:"mb-[var(--space-2)] text-ui text-muted-foreground",children:g}):null;if(b)return(0,s.jsxs)("section",{"data-scope":"reviews","data-state":"loading",className:V,"aria-busy":"true",children:[Y,(0,s.jsx)("ul",{className:"flex flex-col gap-[var(--space-3)]","aria-hidden":!0,children:Array.from({length:6}).map((e,a)=>(0,s.jsx)("li",{children:(0,s.jsxs)("div",{className:"space-y-[var(--space-2)] rounded-card border border-border/35 bg-card/65 p-[var(--space-3)] shadow-outline-subtle",children:[(0,s.jsx)(i.EA,{ariaHidden:!1,role:"status","aria-label":"Loading review title",className:"h-[var(--space-4)] w-2/3",radius:"sm"}),(0,s.jsx)(i.EA,{className:"w-3/4"})]})},"loading-".concat(a)))}),(0,s.jsx)(i.EA,{ariaHidden:!1,role:"status","aria-label":"Preparing review actions",className:"mt-[var(--space-4)] h-[var(--space-5)] w-1/2",radius:"full"})]});if(R)return(0,s.jsxs)("section",{"data-scope":"reviews","data-state":"error",className:G,"aria-live":"polite",children:[Y,(0,s.jsx)(i.hE,{title:"Unable to load reviews",description:null!=S?S:"We couldn’t sync your reviews.",hint:"Check your connection or retry the sync to refresh your queue.",retryLabel:"Retry sync",onRetry:null!=w?w:void 0,className:"glitch-card"})]});if(0===A){let e=(0,l.cn)("relative isolate overflow-hidden bg-card/80 text-card-foreground",$);return(0,s.jsxs)("section",{"data-scope":"reviews","data-state":"empty",className:"mx-auto w-full space-y-[var(--space-3)]","aria-live":"polite",children:[Y,j?(0,s.jsxs)(i.Zp,{depth:"raised",className:(0,l.cn)(e,h,"flex flex-col items-center justify-center gap-[var(--space-4)] text-center text-ui text-muted-foreground"),children:[(0,s.jsx)("span",{"aria-hidden":!0,className:"inline-flex items-center justify-center rounded-full border border-border/40 bg-card/70 p-[var(--space-3)] text-muted-foreground",children:(0,s.jsx)(c.A,{"aria-hidden":!0,focusable:"false",className:"size-[var(--space-6)]"})}),(0,s.jsxs)("div",{className:"space-y-[var(--space-1)]",children:[(0,s.jsx)("p",{className:"text-card-foreground",children:"No reviews match your search."}),(0,s.jsx)("p",{children:"Clear filters to see everything."})]})]}):(0,s.jsxs)(i.Zp,{depth:"raised",className:(0,l.cn)(e,h,"grid gap-[var(--space-4)] text-ui text-muted-foreground","sm:grid-cols-[minmax(0,1.25fr)_minmax(0,1fr)] sm:items-center"),children:[(0,s.jsx)("div",{className:"relative mx-auto aspect-[4/3] w-full max-w-[min(100%,var(--space-15))] overflow-hidden rounded-[calc(var(--radius-card)*0.9)] border border-border/35 bg-gradient-blob-primary/30 sm:mx-0",children:(0,s.jsx)(d.hR,{className:"rounded-[inherit]"})}),(0,s.jsxs)("div",{className:"flex flex-col items-center gap-[var(--space-3)] text-center sm:items-start sm:text-left",children:[(0,s.jsxs)("div",{className:"space-y-[var(--space-1)]",children:[(0,s.jsx)("p",{className:"text-title font-semibold tracking-[-0.01em] text-card-foreground",children:"No reviews yet."}),(0,s.jsx)("p",{className:"max-w-[28ch]",children:"Start by capturing your first match."})]}),N?(0,s.jsx)(i.$n,{type:"button",size:"lg",onClick:N,className:"w-full sm:w-auto",children:"Start a review"}):null]})]})]})}return(0,s.jsxs)("section",{"data-scope":"reviews","data-state":"ready",className:V,ref:e=>{_.current=e},children:[Y,(0,s.jsx)(o.G,{items:O,className:"[&>ul]:flex [&>ul]:flex-col [&>ul]:gap-[var(--space-3)] [&>ul]:space-y-0 [&>ul>li]:list-none",renderItem:e=>(0,s.jsx)(n.ReviewListItem,{review:e,selected:e.id===r,onSelect:f?()=>f(e.id):void 0,onRename:k?a=>k(e.id,a):void 0,onDelete:C?()=>C(e.id):void 0})}),H?(0,s.jsxs)("footer",{className:"mt-[var(--space-3)] flex flex-col gap-[var(--space-2)] text-ui text-muted-foreground",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between gap-[var(--space-3)]",children:[(0,s.jsx)("span",{"aria-live":"polite",children:K}),B?(0,s.jsxs)("div",{className:"flex items-center gap-[var(--space-2)]",children:[(0,s.jsx)(i.$n,{type:"button",size:"sm",variant:"quiet",onClick:U,className:"shrink-0","aria-pressed":z,children:z?"Pause auto-load":"Enable auto-load"}),(0,s.jsx)(i.$n,{type:"button",size:"sm",variant:"neo",onClick:W,className:"shrink-0",children:"Load more"})]}):null]}),(0,s.jsx)("div",{role:"progressbar","aria-label":"Reviews shown","aria-valuemin":0,"aria-valuemax":A,"aria-valuenow":O.length,className:"relative h-[var(--space-1)] w-full overflow-hidden rounded-full border border-border/40 bg-card/40",children:(0,s.jsx)("span",{"aria-hidden":!0,className:"absolute inset-y-0 left-0 block h-full rounded-full bg-accent/70",style:{width:"".concat(q,"%")}})})]}):null,(0,s.jsx)("div",{ref:D,"aria-hidden":!0,className:"h-px w-full"})]})}},77959:(e,a,r)=>{"use strict";r.d(a,{useReviews:()=>d});var s=r(12115),t=r(67419),l=r(26041);let n=[];function i(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)}function o(e){if(!i(e))return null;let a=e.id,r=e.time,s=e.seconds,t=e.note;if("string"!=typeof a||"string"!=typeof r||"number"!=typeof s||!Number.isFinite(s)||"string"!=typeof t)return null;let l={id:a,time:r,seconds:s,note:t};return"boolean"==typeof e.noteOnly&&(l.noteOnly=e.noteOnly),l}function c(e){if(!Array.isArray(e))return null;let a=[];for(let r of e){let e=function(e){if(!i(e))return null;let a=e.id,r=e.title,s=e.createdAt;if("string"!=typeof a||"string"!=typeof r||"number"!=typeof s||!Number.isFinite(s))return null;let t={id:a,title:r,createdAt:s,tags:function(e){if(!Array.isArray(e))return[];let a=[];for(let r of e)"string"==typeof r&&a.push(r);return a}(e.tags),pillars:function(e){if(!Array.isArray(e))return[];let a=[];for(let r of e)(0,l.J)(r)&&a.push(r);return a}(e.pillars)},n=e.opponent;"string"==typeof n&&(t.opponent=n);let c=e.lane;"string"==typeof c&&(t.lane=c);let d=e.side;(0,l.cu)(d)&&(t.side=d);let u=e.patch;"string"==typeof u&&(t.patch=u);let m=e.duration;"string"==typeof m&&(t.duration=m);let p=e.matchup;"string"==typeof p&&(t.matchup=p);let v=e.notes;"string"==typeof v&&(t.notes=v);let f=e.result;("Win"===f||"Loss"===f)&&(t.result=f);let h=e.score;"number"==typeof h&&Number.isFinite(h)&&(t.score=h);let g=e.role;(0,l.tm)(g)&&(t.role=g);let x=e.focusOn;"boolean"==typeof x&&(t.focusOn=x);let b=e.focus;"number"==typeof b&&Number.isFinite(b)&&(t.focus=b);let y=e.markers;if(Array.isArray(y)){let e=y.map(o).filter(e=>null!==e);(e.length>0||0===y.length)&&(t.markers=e)}let w=e.status;return"new"===w&&(t.status=w),t}(r);e&&a.push(e)}return a}function d(){let[e,a]=(0,t.ud)("reviews.v1",n,{decode:c}),[r,l]=s.useState(!1);s.useEffect(()=>{l(!0)},[]);let i=e.length,o=s.useMemo(()=>e.filter(e=>e.focusOn),[e]),d=o.length,u=s.useMemo(()=>[...e].sort((e,a)=>a.createdAt-e.createdAt).slice(0,3),[e]);return{reviews:e,setReviews:a,isHydrated:r,totalCount:i,flaggedReviews:o,flaggedReviewCount:d,recentReviews:u}}},81976:(e,a,r)=>{"use strict";r.d(a,{LaneOpponentForm:()=>c});var s=r(95155),t=r(12115),l=r(80881),n=r(52105),i=r(30814),o=r(17910);let c=t.forwardRef(function(e,a){let{lane:r="",opponent:c="",commitMeta:d,onRename:u,onOpponentEnter:m}=e,[p,v]=t.useState(r),[f,h]=t.useState(c),g=t.useRef(null),x=t.useRef(null),b=t.useId(),y=t.useId(),w=t.useId();t.useEffect(()=>{v(r)},[r]),t.useEffect(()=>{h(c)},[c]);let j=t.useCallback(()=>{let e=(p||"").trim();null==u||u(e),d({lane:e})},[p,d,u]),N=t.useCallback(()=>{d({opponent:(f||"").trim()})},[f,d]),k=t.useCallback(()=>{j(),N()},[j,N]);t.useImperativeHandle(a,()=>({save:k}),[k]);let C=t.useCallback(e=>{var a;null==(a=e.current)||a.focus()},[]);return(0,s.jsxs)("div",{className:"flex flex-col gap-[var(--space-2)]",children:[(0,s.jsxs)("div",{className:"mb-[var(--space-2)] space-y-[var(--space-2)]",children:[(0,s.jsx)(l.JU,{htmlFor:b,children:"Lane"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(i.A,{className:"pointer-events-none absolute left-[var(--space-4)] top-1/2 size-[var(--icon-size-sm)] -translate-y-1/2 text-muted-foreground"}),(0,s.jsx)(n.Input,{ref:g,name:"lane",id:b,value:p,onChange:e=>v(e.target.value),onBlur:j,onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),j(),C(x))},className:"pl-[var(--space-6)]",placeholder:"Ashe/Lulu"})]})]}),(0,s.jsxs)("div",{className:"space-y-[var(--space-2)]",children:[(0,s.jsxs)(l.JU,{htmlFor:y,className:"flex items-center gap-[var(--space-2)]",children:[(0,s.jsx)("span",{id:w,children:"Opponent"}),(0,s.jsx)("span",{"aria-hidden":!0,className:"h-[var(--hairline-w)] flex-1 bg-gradient-to-r from-foreground/20 via-foreground/5 to-transparent"})]}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(o.A,{className:"pointer-events-none absolute left-[var(--space-4)] top-1/2 size-[var(--icon-size-sm)] -translate-y-1/2 text-muted-foreground"}),(0,s.jsx)(n.Input,{ref:x,name:"opponent",id:y,value:f,onChange:e=>h(e.target.value),onBlur:N,onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),null==m||m())},placeholder:"Draven/Thresh",className:"pl-[var(--space-6)]","aria-labelledby":w})]})]})]})});c.displayName="LaneOpponentForm"},87074:(e,a,r)=>{"use strict";r.d(a,{e:()=>l});var s=r(95155);r(12115);var t=r(27566);function l(e){let{as:a,children:r,className:l,...n}=e;return(0,s.jsxs)("div",{className:"mb-[var(--space-2)] flex items-center gap-[var(--space-2)]",children:[(0,s.jsx)(null!=a?a:"h3",{className:(0,t.cn)("text-ui tracking-wide text-muted-foreground",l),...n,children:r}),(0,s.jsx)("div",{className:"h-[var(--hairline-w)] flex-1 bg-gradient-to-r from-foreground/20 via-foreground/5 to-transparent"})]})}},88296:(e,a,r)=>{"use strict";r.d(a,{u:()=>i});var s=r(95155);r(12115);var t=r(27566);let l={default:"border border-border bg-card",muted:"border border-border/80 bg-muted/40",translucent:"border border-border/70 veil-soft"},n={none:"",xs:"px-[var(--space-2)] py-[var(--space-1)]",sm:"px-[var(--space-3)] py-[var(--space-2)]",md:"px-[var(--space-4)] py-[var(--space-3)]",lg:"px-[var(--space-5)] py-[var(--space-4)]",inline:"px-[var(--space-4)]"};function i(e){let{tone:a="default",padding:r="md",focusWithin:i=!1,as:o,className:c,children:d,...u}=e;return(0,s.jsx)(null!=o?o:"div",{className:(0,t.cn)("rounded-card r-card-lg",l[a],n[r],i&&"focus-within:ring-2 focus-within:ring-ring",c),...u,children:d})}},88726:e=>{e.exports={root:"ReviewSliderTrack_root__q5TK_",glitch:"ReviewSliderTrack_glitch__DBxoc",fill:"ReviewSliderTrack_fill__V9rSw",knob:"ReviewSliderTrack_knob__II8X_"}},92586:(e,a,r)=>{"use strict";r.d(a,{Se:()=>d,mf:()=>u,s2:()=>c});var s=r(38271),t=r(42041),l=r(57828),n=r(39324),i=r(26145),o=r(64893);let c=["Wave","Trading","Vision","Tempo","Positioning","Comms"],d={Wave:s.A,Trading:t.A,Vision:l.A,Tempo:n.A,Positioning:i.A,Comms:o.A},u=e=>e},96415:(e,a,r)=>{"use strict";r.d(a,{U:()=>t,k:()=>l});let s=Symbol.for("planner.reviews.searchCache");function t(e){var a;let r=e[s];if(r&&(a=r.meta).title===e.title&&a.tags===e.tags&&a.tagsLength===e.tags.length&&a.pillars===e.pillars&&a.pillarsLength===e.pillars.length&&a.opponent===e.opponent&&a.lane===e.lane&&a.side===e.side&&a.result===e.result&&a.patch===e.patch&&a.duration===e.duration&&a.notes===e.notes)return r.blob;let t=(function(e){let a=[];return e.title&&a.push(e.title),Array.isArray(e.tags)&&e.tags.length&&a.push(e.tags.join(" ")),Array.isArray(e.pillars)&&e.pillars.length&&a.push(e.pillars.join(" ")),e.opponent&&a.push(e.opponent),e.lane&&a.push(e.lane),e.side&&a.push(e.side),e.result&&a.push(e.result),e.patch&&a.push(e.patch),e.duration&&a.push(e.duration),e.notes&&a.push(e.notes),a})(e).join(" "),l=t.toLowerCase();return Object.defineProperty(e,s,{value:{raw:t,blob:l,meta:{title:e.title,tags:e.tags,tagsLength:e.tags.length,pillars:e.pillars,pillarsLength:e.pillars.length,opponent:e.opponent,lane:e.lane,side:e.side,result:e.result,patch:e.patch,duration:e.duration,notes:e.notes}},configurable:!0,enumerable:!1,writable:!0}),l}function l(e){return t(e),e}}}]);
//# sourceMappingURL=3652-0ceb17d428f74d6e.js.map