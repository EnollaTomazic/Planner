{"version":3,"file":"static/chunks/8762-8e755e821ec683d8.js","mappings":"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","sources":["webpack://_N_E/./src/components/gallery-page/useComponentsGalleryState.ts","webpack://_N_E/./src/components/gallery-page/ComponentsGalleryPanels.tsx","webpack://_N_E/./src/components/gallery-page/ComponentsPageClient.tsx","webpack://_N_E/../../../src/icons/panels-top-left.ts"],"sourcesContent":["\"use client\";\n\nimport * as React from \"react\";\nimport { useRouter, useSearchParams } from \"next/navigation\";\n\nimport { getGallerySectionEntries } from \"@/components/prompts/constants\";\nimport {\n  type GalleryHeroCopy,\n  type GalleryNavigationData,\n  type GalleryNavigationSection,\n  type GallerySectionGroupKey,\n} from \"@/components/gallery/types\";\nimport { formatGallerySectionLabel } from \"@/components/gallery/registry\";\nimport type { GallerySerializableEntry } from \"@/components/gallery/registry\";\nimport { usePersistentState } from \"@/lib/db\";\n\nexport type Section = GalleryNavigationSection[\"id\"];\nexport type ComponentsView = GallerySectionGroupKey;\n\nexport const COMPONENTS_VIEW_TAB_ID_BASE = \"components\";\nexport const COMPONENTS_SECTION_TAB_ID_BASE = \"components-section\";\nexport const COMPONENTS_PANEL_ID = \"components-components-panel\";\n\nfunction matchesEntryQuery(\n  entry: GallerySerializableEntry,\n  normalizedQuery: string,\n): boolean {\n  if (entry.name.toLowerCase().includes(normalizedQuery)) {\n    return true;\n  }\n\n  if (\n    typeof entry.description === \"string\" &&\n    entry.description.toLowerCase().includes(normalizedQuery)\n  ) {\n    return true;\n  }\n\n  if (\n    Array.isArray(entry.tags) &&\n    entry.tags.some((tag) => tag.toLowerCase().includes(normalizedQuery))\n  ) {\n    return true;\n  }\n\n  if (\n    Array.isArray(entry.props) &&\n    entry.props.some((prop) => {\n      return (\n        prop.name.toLowerCase().includes(normalizedQuery) ||\n        prop.type.toLowerCase().includes(normalizedQuery)\n      );\n    })\n  ) {\n    return true;\n  }\n\n  return false;\n}\n\nfunction extractSpecCategory(\n  spec: GallerySerializableEntry,\n  section: Section,\n  fallbackLabel: string,\n): {\n  readonly key: string;\n  readonly label: string;\n  readonly emptyCopy?: string;\n} {\n  const rawCategory = (spec as { category?: unknown }).category;\n  const fallbackKey = `section:${section}`;\n\n  if (!rawCategory) {\n    return { key: fallbackKey, label: fallbackLabel };\n  }\n\n  if (typeof rawCategory === \"string\") {\n    const trimmed = rawCategory.trim();\n    if (!trimmed) {\n      return { key: fallbackKey, label: fallbackLabel };\n    }\n    return { key: trimmed, label: trimmed };\n  }\n\n  if (typeof rawCategory === \"object\") {\n    const { key, label, emptyCopy } = rawCategory as RawSpecCategory;\n    const trimmedKey =\n      typeof key === \"string\" && key.trim().length > 0 ? key.trim() : \"\";\n    const trimmedLabel =\n      typeof label === \"string\" && label.trim().length > 0\n        ? label.trim()\n        : \"\";\n    const trimmedEmptyCopy =\n      typeof emptyCopy === \"string\" && emptyCopy.trim().length > 0\n        ? emptyCopy.trim()\n        : undefined;\n\n    const resolvedKey = trimmedKey || trimmedLabel || fallbackKey;\n    const resolvedLabel = trimmedLabel || trimmedKey || fallbackLabel;\n\n    return {\n      key: resolvedKey,\n      label: resolvedLabel,\n      emptyCopy: trimmedEmptyCopy,\n    };\n  }\n\n  return { key: fallbackKey, label: fallbackLabel };\n}\n\ninterface TabItem {\n  readonly key: string;\n  readonly label: string;\n  readonly controls: string;\n}\n\ninterface InPageNavigationItem {\n  readonly id: ComponentsView;\n  readonly label: string;\n  readonly href: string;\n}\n\ninterface RawSpecCategory {\n  readonly key?: unknown;\n  readonly label?: unknown;\n  readonly emptyCopy?: unknown;\n}\n\nexport interface ComponentsGalleryCategoryGroup {\n  readonly key: string;\n  readonly label: string;\n  readonly filteredSpecs: readonly GallerySerializableEntry[];\n  readonly filteredCount: number;\n  readonly totalCount: number;\n  readonly emptyCopy?: string;\n}\n\ninterface UseComponentsGalleryStateParams {\n  readonly navigation: GalleryNavigationData;\n}\n\nexport interface ComponentsGalleryState {\n  readonly view: ComponentsView;\n  readonly section: Section;\n  readonly query: string;\n  readonly setQuery: React.Dispatch<React.SetStateAction<string>>;\n  readonly heroCopy: GalleryHeroCopy;\n  readonly heroTabs: TabItem[];\n  readonly viewTabs: TabItem[];\n  readonly inPageNavigation: readonly InPageNavigationItem[];\n  readonly showSectionTabs: boolean;\n  readonly searchLabel: string;\n  readonly searchPlaceholder: string;\n  readonly filteredSpecs: readonly GallerySerializableEntry[];\n  readonly categoryGroups: readonly ComponentsGalleryCategoryGroup[];\n  readonly sectionLabel: string;\n  readonly countLabel: string;\n  readonly countDescriptionId: string;\n  readonly componentsPanelLabelledBy: string;\n  readonly handleViewChange: (key: string | number) => void;\n  readonly handleSectionChange: (key: string | number) => void;\n  readonly componentsPanelRef: React.Ref<HTMLDivElement>;\n  readonly tokensPanelRef: React.Ref<HTMLDivElement>;\n}\n\nconst DEFAULT_FALLBACK_COPY: GalleryHeroCopy = {\n  eyebrow: \"Gallery\",\n  heading: \"Planner component gallery\",\n  subtitle: \"Browse Planner UI building blocks by category.\",\n};\n\nfunction isKeyboardFocusVisible(element: HTMLElement): boolean {\n  try {\n    if (element.matches(\":focus-visible\")) {\n      return true;\n    }\n  } catch {\n    // Ignore selector support errors and fall back to class/attribute detection.\n  }\n\n  return (\n    element.classList.contains(\"focus-visible\") ||\n    element.classList.contains(\"is-focus-visible\") ||\n    element.hasAttribute(\"data-focus-visible-added\") ||\n    element.dataset.focusVisible === \"true\"\n  );\n}\n\nexport function formatQueryWithHash(\n  queryString: string,\n  hash: string | undefined,\n): string {\n  const hasQuery = queryString.length > 0;\n  const queryPrefix = hasQuery ? `?${queryString}` : \"\";\n  if (!hash) {\n    return queryPrefix;\n  }\n  if (!hasQuery) {\n    return hash;\n  }\n  return `${queryPrefix}${hash}`;\n}\n\nexport function useComponentsGalleryState({\n  navigation,\n}: UseComponentsGalleryStateParams): ComponentsGalleryState {\n  const router = useRouter();\n  const searchParams = useSearchParams();\n  const paramsString = searchParams.toString();\n  const sectionParam = searchParams.get(\"section\");\n  const queryParam = searchParams.get(\"q\");\n  const viewParam = searchParams.get(\"view\");\n  const [, startTransition] = React.useTransition();\n  const [query, setQuery] = usePersistentState(\"components-query\", \"\");\n\n  const groups = navigation.groups;\n\n  const viewOrder = React.useMemo<ComponentsView[]>(\n    () => groups.map((group) => group.id as ComponentsView),\n    [groups],\n  );\n\n  const defaultView = React.useMemo<ComponentsView>(\n    () => (viewOrder[0] ?? \"primitives\") as ComponentsView,\n    [viewOrder],\n  );\n\n  const mapView = React.useCallback(\n    (raw: string | null): ComponentsView | null => {\n      if (!raw) {\n        return null;\n      }\n      const normalized = raw.trim().toLowerCase();\n      if (!normalized) {\n        return null;\n      }\n      if (normalized === \"elements\") {\n        return \"primitives\";\n      }\n      if (normalized === \"styles\" || normalized === \"colors\") {\n        return \"tokens\";\n      }\n      if (normalized === \"components\") {\n        return \"patterns\";\n      }\n      if (normalized === \"complex\") {\n        return \"layouts\";\n      }\n      if ((viewOrder as readonly string[]).includes(normalized as ComponentsView)) {\n        return normalized as ComponentsView;\n      }\n      return null;\n    },\n    [viewOrder],\n  );\n\n  const navSectionEntries = React.useMemo(\n    () => groups.flatMap((group) => group.sections),\n    [groups],\n  );\n\n  const sectionMap = React.useMemo(() => {\n    const map = new Map<Section, GalleryNavigationSection>();\n    for (const section of navSectionEntries) {\n      map.set(section.id, section);\n    }\n    return map;\n  }, [navSectionEntries]);\n\n  const sectionGroupMap = React.useMemo(() => {\n    const map = new Map<Section, ComponentsView>();\n    for (const group of groups) {\n      for (const section of group.sections) {\n        map.set(section.id, group.id);\n      }\n    }\n    return map;\n  }, [groups]);\n\n  const groupSectionIds = React.useMemo(() => {\n    const map = new Map<ComponentsView, Set<Section>>();\n    for (const group of groups) {\n      map.set(\n        group.id,\n        new Set(group.sections.map((section) => section.id)),\n      );\n    }\n    return map;\n  }, [groups]);\n\n  const getDefaultSectionForView = React.useCallback(\n    (viewValue: ComponentsView | null | undefined): Section => {\n      if (viewValue) {\n        const viewGroup = groups.find((group) => group.id === viewValue);\n        const firstSection = viewGroup?.sections[0];\n        if (firstSection) {\n          return firstSection.id;\n        }\n      }\n      const fallbackSection = navSectionEntries[0]?.id;\n      if (fallbackSection) {\n        return fallbackSection;\n      }\n      return \"buttons\" as Section;\n    },\n    [groups, navSectionEntries],\n  );\n\n  const shouldAllowCrossView = React.useCallback(\n    (rawView: string | null) => {\n      if (rawView === null) {\n        return true;\n      }\n      return mapView(rawView) === null;\n    },\n    [mapView],\n  );\n\n  const fallbackCopy = React.useMemo<GalleryHeroCopy>(() => {\n    const firstSection = navSectionEntries[0];\n    if (firstSection) {\n      return firstSection.copy;\n    }\n    const firstGroup = groups[0];\n    if (firstGroup) {\n      return firstGroup.copy;\n    }\n    return DEFAULT_FALLBACK_COPY;\n  }, [groups, navSectionEntries]);\n\n  const normalizeView = React.useCallback(\n    (value: string | null): ComponentsView => {\n      const mapped = mapView(value);\n      if (mapped) {\n        return mapped;\n      }\n      return defaultView;\n    },\n    [defaultView, mapView],\n  );\n\n  const normalizeSection = React.useCallback(\n    (\n      value: string | null,\n      viewValue: ComponentsView,\n      options: { allowCrossView?: boolean } = {},\n    ): Section => {\n      const allowCrossView = options.allowCrossView ?? false;\n      if (value && sectionMap.has(value as Section)) {\n        const owner = sectionGroupMap.get(value as Section);\n        if (!owner || owner === viewValue || allowCrossView) {\n          return value as Section;\n        }\n      }\n      return getDefaultSectionForView(viewValue);\n    },\n    [getDefaultSectionForView, sectionGroupMap, sectionMap],\n  );\n\n  const [view, setView] = React.useState<ComponentsView>(() =>\n    normalizeView(viewParam),\n  );\n  const [section, setSection] = React.useState<Section>(() =>\n    normalizeSection(sectionParam, normalizeView(viewParam), {\n      allowCrossView: shouldAllowCrossView(viewParam),\n    }),\n  );\n\n  const previousSectionParamRef = React.useRef<string | null | undefined>(\n    undefined,\n  );\n  const previousViewParamRef = React.useRef<string | null | undefined>(\n    undefined,\n  );\n  const previousQueryParamRef = React.useRef<string | null | undefined>(\n    undefined,\n  );\n\n  const componentsPanelRef = React.useRef<HTMLDivElement>(null);\n  const tokensPanelRef = React.useRef<HTMLDivElement>(null);\n  const previousViewRef = React.useRef<ComponentsView | null>(null);\n  const lastInteractionRef = React.useRef<\"pointer\" | \"keyboard\" | null>(null);\n  const supportsPreventScrollRef = React.useRef<boolean | null>(null);\n  const lastSyncedSectionRef = React.useRef<Section | null>(null);\n  const shouldFocusPanel = React.useCallback(\n    (panel: HTMLElement | null) => {\n      if (typeof document === \"undefined\" || !panel) {\n        return false;\n      }\n      if (lastInteractionRef.current === \"pointer\") {\n        return false;\n      }\n      const activeElement = document.activeElement;\n      if (!activeElement || !(activeElement instanceof HTMLElement)) {\n        return false;\n      }\n      if (activeElement.getAttribute(\"role\") !== \"tab\") {\n        return false;\n      }\n      if (panel.id) {\n        const controls = activeElement.getAttribute(\"aria-controls\");\n        if (!controls || controls !== panel.id) {\n          return false;\n        }\n      }\n      if (!isKeyboardFocusVisible(activeElement)) {\n        return false;\n      }\n      return true;\n    },\n    [lastInteractionRef],\n  );\n  const focusPanel = React.useCallback(\n    (panel: HTMLElement | null) => {\n      if (!panel || !shouldFocusPanel(panel)) {\n        return;\n      }\n      if (supportsPreventScrollRef.current === true) {\n        panel.focus({ preventScroll: true });\n        return;\n      }\n      if (supportsPreventScrollRef.current === false) {\n        panel.focus();\n        return;\n      }\n      try {\n        panel.focus({\n          get preventScroll() {\n            supportsPreventScrollRef.current = true;\n            return true;\n          },\n        } as FocusOptions);\n      } catch {\n        supportsPreventScrollRef.current = false;\n        panel.focus();\n      }\n    },\n    [shouldFocusPanel],\n  );\n\n  const currentGroup = React.useMemo(\n    () => groups.find((group) => group.id === view) ?? null,\n    [groups, view],\n  );\n\n  const heroTabs = React.useMemo<TabItem[]>(\n    () =>\n      currentGroup\n        ? currentGroup.sections.map((section) => ({\n            key: section.id,\n            label: section.label,\n            controls: \"components-panel\",\n          }))\n        : [],\n    [currentGroup],\n  );\n\n  const resolvedSection = React.useMemo<Section>(() => {\n    if (heroTabs.some((tab) => tab.key === section)) {\n      return section;\n    }\n    const fallbackSection = heroTabs[0]?.key;\n    if (fallbackSection) {\n      return fallbackSection as Section;\n    }\n    return section;\n  }, [heroTabs, section]);\n\n  const sectionMeta = React.useMemo(() => {\n    const groupSection = currentGroup?.sections.find(\n      (groupSectionEntry) => groupSectionEntry.id === resolvedSection,\n    );\n    if (groupSection) {\n      return groupSection;\n    }\n    return sectionMap.get(resolvedSection) ?? null;\n  }, [currentGroup, resolvedSection, sectionMap]);\n\n  const currentGroupLabel = currentGroup?.label ?? \"\";\n  const activeSectionLabel = sectionMeta?.label ?? \"\";\n  const sectionMetaLabel = sectionMeta?.label;\n\n  const sectionLabel = React.useMemo(() => {\n    if (sectionMetaLabel) {\n      return sectionMetaLabel;\n    }\n    return formatGallerySectionLabel(resolvedSection);\n  }, [resolvedSection, sectionMetaLabel]);\n\n  const sectionSpecs = React.useMemo<readonly GallerySerializableEntry[]>(\n    () => getGallerySectionEntries(resolvedSection),\n    [resolvedSection],\n  );\n\n  const categoryGroups = React.useMemo<ComponentsGalleryCategoryGroup[]>(() => {\n    const fallbackLabel = sectionLabel;\n    const categories = new Map<\n      string,\n      { label: string; emptyCopy?: string; specs: GallerySerializableEntry[] }\n    >();\n\n    for (const spec of sectionSpecs) {\n      const category = extractSpecCategory(spec, resolvedSection, fallbackLabel);\n      const existing = categories.get(category.key);\n      if (existing) {\n        existing.specs.push(spec);\n        if (!existing.emptyCopy && category.emptyCopy) {\n          existing.emptyCopy = category.emptyCopy;\n        }\n        if (category.label && existing.label !== category.label) {\n          existing.label = category.label;\n        }\n      } else {\n        categories.set(category.key, {\n          label: category.label,\n          emptyCopy: category.emptyCopy,\n          specs: [spec],\n        });\n      }\n    }\n\n    if (categories.size === 0) {\n      return [\n        {\n          key: `section:${resolvedSection}`,\n          label: fallbackLabel,\n          filteredSpecs: [],\n          filteredCount: 0,\n          totalCount: 0,\n        },\n      ];\n    }\n\n    const normalizedQuery = query.trim().toLowerCase();\n    const hasQuery = normalizedQuery.length > 0;\n    const matches = hasQuery\n      ? (spec: GallerySerializableEntry) => matchesEntryQuery(spec, normalizedQuery)\n      : () => true;\n\n    return Array.from(categories.entries(), ([key, value]) => {\n      const filtered = value.specs.filter(matches);\n      return {\n        key,\n        label: value.label,\n        emptyCopy: value.emptyCopy,\n        filteredSpecs: filtered,\n        filteredCount: filtered.length,\n        totalCount: value.specs.length,\n      } satisfies ComponentsGalleryCategoryGroup;\n    });\n  }, [query, resolvedSection, sectionLabel, sectionSpecs]);\n\n  const filteredSpecs = React.useMemo(\n    () => categoryGroups.flatMap((group) => group.filteredSpecs),\n    [categoryGroups],\n  );\n\n  const filteredCount = filteredSpecs.length;\n\n  const countLabel = React.useMemo(() => {\n    const suffix = filteredCount === 1 ? \"spec\" : \"specs\";\n    return `${filteredCount} ${sectionLabel.toLowerCase()} ${suffix}`;\n  }, [filteredCount, sectionLabel]);\n\n  const countDescriptionId = React.useId();\n\n  const heroCopy = React.useMemo(() => {\n    if (view === \"tokens\") {\n      return currentGroup?.copy ?? fallbackCopy;\n    }\n    if (sectionMeta) {\n      return sectionMeta.copy;\n    }\n    return currentGroup?.copy ?? fallbackCopy;\n  }, [currentGroup, fallbackCopy, sectionMeta, view]);\n\n  const sectionCopy = React.useMemo(() => {\n    if (sectionMeta) {\n      return sectionMeta.copy;\n    }\n    if (currentGroup && view !== \"tokens\") {\n      return currentGroup.copy;\n    }\n    return heroCopy;\n  }, [currentGroup, heroCopy, sectionMeta, view]);\n\n  const searchLabel = React.useMemo(\n    () => `Search ${sectionCopy.heading}`,\n    [sectionCopy.heading],\n  );\n\n  const searchPlaceholder = React.useMemo(() => {\n    const baseLabel = activeSectionLabel || currentGroupLabel || \"gallery\";\n    return `Search ${baseLabel.toLowerCase()} specsâ€¦`;\n  }, [activeSectionLabel, currentGroupLabel]);\n\n  const viewTabs = React.useMemo<TabItem[]>(() => {\n    const groupTabs = groups.map((group) => ({\n      key: group.id,\n      label: group.label,\n      controls: \"components-panel\",\n    }));\n    return [\n      ...groupTabs,\n      {\n        key: \"tokens\",\n        label: \"Tokens\",\n        controls: \"tokens-panel\",\n      },\n    ];\n  }, [groups]);\n\n  const inPageNavigation = React.useMemo<readonly InPageNavigationItem[]>(\n    () =>\n      groups.map((group) => ({\n        id: group.id as ComponentsView,\n        label: group.label,\n        href: `#components-${group.id}`,\n      })),\n    [groups],\n  );\n\n  const componentsPanelLabelledBy = React.useMemo(() => {\n    const viewTabId = `${COMPONENTS_VIEW_TAB_ID_BASE}-${view}-tab`;\n    if (heroTabs.length > 0) {\n      const sectionTabId = `${COMPONENTS_SECTION_TAB_ID_BASE}-${resolvedSection}-tab`;\n      return `${viewTabId} ${sectionTabId}`;\n    }\n    return viewTabId;\n  }, [heroTabs.length, resolvedSection, view]);\n\n  const handleViewChange = React.useCallback(\n    (key: string | number) => {\n      const rawValue = typeof key === \"string\" ? key : String(key);\n      const nextView = normalizeView(rawValue);\n      if (nextView === view) {\n        return;\n      }\n      setView(nextView);\n      if (nextView === \"tokens\") {\n        return;\n      }\n      const allowedSections = groupSectionIds.get(nextView);\n      if (allowedSections?.has(section)) {\n        return;\n      }\n      const fallbackSection = getDefaultSectionForView(nextView);\n      if (fallbackSection !== section) {\n        setSection(fallbackSection);\n      }\n    },\n    [\n      getDefaultSectionForView,\n      groupSectionIds,\n      normalizeView,\n      section,\n      view,\n    ],\n  );\n\n  const handleSectionChange = React.useCallback(\n    (key: string | number) => {\n      const rawValue = typeof key === \"string\" ? key : String(key);\n      setSection(normalizeSection(rawValue, view));\n    },\n    [normalizeSection, view],\n  );\n\n  React.useEffect(() => {\n    if (previousSectionParamRef.current === sectionParam) {\n      return;\n    }\n    previousSectionParamRef.current = sectionParam;\n    const normalizedViewFromParams = normalizeView(viewParam);\n    const next = normalizeSection(sectionParam, normalizedViewFromParams, {\n      allowCrossView: shouldAllowCrossView(viewParam),\n    });\n    setSection((prev) => (prev === next ? prev : next));\n  }, [\n    normalizeSection,\n    normalizeView,\n    sectionParam,\n    shouldAllowCrossView,\n    viewParam,\n  ]);\n\n  React.useEffect(() => {\n    if (previousViewParamRef.current === viewParam) {\n      return;\n    }\n    previousViewParamRef.current = viewParam;\n    const next = normalizeView(viewParam);\n    setView((prev) => (prev === next ? prev : next));\n  }, [normalizeView, viewParam]);\n\n  React.useEffect(() => {\n    if (previousQueryParamRef.current === queryParam) {\n      return;\n    }\n    previousQueryParamRef.current = queryParam;\n    const next = queryParam ?? \"\";\n    if (next !== query) {\n      setQuery(next);\n    }\n  }, [queryParam, query, setQuery]);\n\n  React.useEffect(() => {\n    if (typeof window === \"undefined\") {\n      return;\n    }\n    const handlePointerDown = () => {\n      lastInteractionRef.current = \"pointer\";\n    };\n    const handleKeyDown = (event: KeyboardEvent) => {\n      if (event.altKey || event.ctrlKey || event.metaKey) {\n        return;\n      }\n      lastInteractionRef.current = \"keyboard\";\n    };\n    window.addEventListener(\"pointerdown\", handlePointerDown, true);\n    window.addEventListener(\"keydown\", handleKeyDown, true);\n    return () => {\n      window.removeEventListener(\"pointerdown\", handlePointerDown, true);\n      window.removeEventListener(\"keydown\", handleKeyDown, true);\n    };\n  }, [lastInteractionRef]);\n\n  const buildQueryWithHash = React.useCallback((next: URLSearchParams) => {\n    const queryString = next.toString();\n    const hash = typeof window === \"undefined\" ? undefined : window.location.hash;\n    if (queryString.length === 0) {\n      return hash ?? \"\";\n    }\n    return formatQueryWithHash(queryString, hash);\n  }, []);\n\n  React.useEffect(() => {\n    const current = sectionParam ?? \"\";\n    if (current === resolvedSection) {\n      lastSyncedSectionRef.current = resolvedSection;\n      return;\n    }\n    if (lastSyncedSectionRef.current === resolvedSection) {\n      return;\n    }\n    lastSyncedSectionRef.current = resolvedSection;\n    const next = new URLSearchParams(paramsString);\n    next.set(\"section\", resolvedSection);\n    startTransition(() => {\n      router.replace(buildQueryWithHash(next), { scroll: false });\n    });\n  }, [\n    buildQueryWithHash,\n    paramsString,\n    resolvedSection,\n    router,\n    sectionParam,\n    startTransition,\n  ]);\n\n  React.useEffect(() => {\n    const current = normalizeView(viewParam);\n    if (current === view) return;\n    const next = new URLSearchParams(paramsString);\n    if (view === defaultView) {\n      next.delete(\"view\");\n    } else {\n      next.set(\"view\", view);\n    }\n    startTransition(() => {\n      router.replace(buildQueryWithHash(next), { scroll: false });\n    });\n  }, [\n    buildQueryWithHash,\n    defaultView,\n    normalizeView,\n    paramsString,\n    router,\n    startTransition,\n    view,\n    viewParam,\n  ]);\n\n  React.useEffect(() => {\n    const current = queryParam ?? \"\";\n    if (current === query) return;\n    const next = new URLSearchParams(paramsString);\n    if (query) {\n      next.set(\"q\", query);\n    } else {\n      next.delete(\"q\");\n    }\n    startTransition(() => {\n      router.replace(buildQueryWithHash(next), { scroll: false });\n    });\n  }, [buildQueryWithHash, paramsString, query, queryParam, router, startTransition]);\n\n  React.useEffect(() => {\n    if (view === \"tokens\") {\n      return;\n    }\n    const allowed = groupSectionIds.get(view);\n    if (!allowed || allowed.size === 0) {\n      return;\n    }\n    if (!allowed.has(section)) {\n      const fallback = getDefaultSectionForView(view);\n      if (fallback !== section) {\n        setSection(fallback);\n      }\n    }\n  }, [getDefaultSectionForView, groupSectionIds, section, view]);\n\n  React.useEffect(() => {\n    if (view === \"tokens\") {\n      return;\n    }\n    const owner = sectionGroupMap.get(section);\n    if (!owner) {\n      return;\n    }\n    if (owner === view) {\n      return;\n    }\n    const allowed = groupSectionIds.get(view);\n    if (allowed?.has(section)) {\n      return;\n    }\n    setView(owner);\n  }, [groupSectionIds, section, sectionGroupMap, view]);\n\n  React.useEffect(() => {\n    const previousView = previousViewRef.current;\n    if (view !== \"tokens\" && previousView === \"tokens\") {\n      focusPanel(componentsPanelRef.current);\n    }\n    previousViewRef.current = view;\n  }, [focusPanel, view]);\n\n  React.useEffect(() => {\n    if (view !== \"tokens\") {\n      return;\n    }\n    focusPanel(tokensPanelRef.current);\n  }, [focusPanel, view]);\n\n  const showSectionTabs = heroTabs.length > 0 && view !== \"tokens\";\n\n  return {\n    view,\n    section: resolvedSection,\n    query,\n    setQuery,\n    heroCopy,\n    heroTabs,\n    viewTabs,\n    inPageNavigation,\n    showSectionTabs,\n    searchLabel,\n    searchPlaceholder,\n    filteredSpecs,\n    categoryGroups,\n    sectionLabel,\n    countLabel,\n    countDescriptionId,\n    componentsPanelLabelledBy,\n    handleViewChange,\n    handleSectionChange,\n    componentsPanelRef,\n    tokensPanelRef,\n  };\n}\n","\"use client\";\n\nimport * as React from \"react\";\n\nimport { ColorsView } from \"@/components/prompts/ColorsView\";\nimport { ComponentsView as ComponentSpecView } from \"@/components/prompts/ComponentsView\";\nimport type { DesignTokenGroup } from \"@/components/gallery/types\";\nimport { Card, CardContent } from \"@/components/ui\";\nimport { Badge } from \"@/components/ui/primitives/Badge\";\nimport { cn } from \"@/lib/utils\";\n\nimport {\n  COMPONENTS_PANEL_ID,\n  COMPONENTS_VIEW_TAB_ID_BASE,\n  type ComponentsView,\n  type ComponentsGalleryCategoryGroup,\n} from \"./useComponentsGalleryState\";\n\ninterface ComponentsGalleryPanelsProps {\n  readonly view: ComponentsView;\n  readonly categoryGroups: readonly ComponentsGalleryCategoryGroup[];\n  readonly sectionLabel: string;\n  readonly countLabel: string;\n  readonly countDescriptionId: string;\n  readonly componentsPanelLabelledBy: string;\n  readonly componentsPanelRef: React.Ref<HTMLDivElement>;\n  readonly tokensPanelRef: React.Ref<HTMLDivElement>;\n  readonly tokenGroups: readonly DesignTokenGroup[];\n}\n\nfunction formatCategoryHeadingId(key: string, index: number): string {\n  const normalized = key\n    .toLowerCase()\n    .replace(/[^a-z0-9]+/g, \"-\")\n    .replace(/^-+|-+$/g, \"\");\n\n  if (normalized) {\n    return `components-category-${normalized}`;\n  }\n\n  return `components-category-${index}`;\n}\n\nexport function ComponentsGalleryPanels({\n  view,\n  categoryGroups,\n  sectionLabel,\n  countLabel,\n  countDescriptionId,\n  componentsPanelLabelledBy,\n  componentsPanelRef,\n  tokensPanelRef,\n  tokenGroups,\n}: ComponentsGalleryPanelsProps) {\n  const isTokensView = view === \"tokens\";\n  const tokensTabId = `${COMPONENTS_VIEW_TAB_ID_BASE}-tokens-tab`;\n\n  const hasCategoryGroups = categoryGroups.length > 0;\n  const fallbackSectionLabel = sectionLabel || \"gallery\";\n\n  return (\n    <section className=\"col-span-full grid gap-[var(--space-6)] md:gap-[var(--space-7)] lg:gap-[var(--space-8)]\">\n      <div\n        id={COMPONENTS_PANEL_ID}\n        role=\"tabpanel\"\n        aria-labelledby={componentsPanelLabelledBy}\n        tabIndex={isTokensView ? -1 : 0}\n        ref={componentsPanelRef}\n        hidden={isTokensView}\n        aria-hidden={isTokensView}\n        className=\"focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background\"\n      >\n        <div\n          className=\"flex flex-col gap-[var(--space-6)]\"\n          aria-describedby={countDescriptionId}\n        >\n          <header className=\"flex flex-wrap items-center justify-between gap-[var(--space-3)]\">\n            <h2 className=\"text-ui font-semibold tracking-[-0.01em] text-muted-foreground\">\n              {sectionLabel} specs\n            </h2>\n            <Badge\n              id={countDescriptionId}\n              tone=\"support\"\n              size=\"md\"\n              className=\"text-muted-foreground\"\n            >\n              {countLabel}\n            </Badge>\n          </header>\n          <div className=\"grid gap-[var(--space-6)]\">\n            {hasCategoryGroups ? (\n              categoryGroups.map((group, index) => {\n                const headingId = formatCategoryHeadingId(group.key, index);\n                const badgeLabel = `${group.filteredCount} ${\n                  group.filteredCount === 1 ? \"spec\" : \"specs\"\n                }`;\n                const showEmpty = group.filteredCount === 0;\n                const labelForEmptyState =\n                  group.label || sectionLabel || \"gallery\";\n                const emptyCopy =\n                  group.emptyCopy ??\n                  `No ${labelForEmptyState.toLowerCase()} specs match this search.`;\n\n                return (\n                  <section\n                    key={group.key}\n                    aria-labelledby={headingId}\n                    className={cn(\n                      \"space-y-[var(--space-4)]\",\n                      index > 0 &&\n                        \"border-t border-card-hairline-60 pt-[var(--space-5)]\",\n                    )}\n                  >\n                    <header className=\"flex flex-wrap items-center justify-between gap-[var(--space-3)]\">\n                      <h3\n                        id={headingId}\n                        className=\"text-ui font-semibold tracking-[-0.01em] text-muted-foreground\"\n                      >\n                        {group.label}\n                      </h3>\n                      <Badge tone=\"support\" size=\"sm\" className=\"text-muted-foreground\">\n                        {badgeLabel}\n                      </Badge>\n                    </header>\n                    {showEmpty ? (\n                      <Card>\n                        <CardContent className=\"text-ui text-muted-foreground\">\n                          {emptyCopy}\n                        </CardContent>\n                      </Card>\n                    ) : (\n                      <div className=\"grid gap-[var(--space-6)]\">\n                        {group.filteredSpecs.map((spec) => (\n                          <ComponentSpecView key={spec.id} entry={spec} />\n                        ))}\n                      </div>\n                    )}\n                  </section>\n                );\n              })\n            ) : (\n              <Card>\n                <CardContent className=\"text-ui text-muted-foreground\">\n                  No {fallbackSectionLabel.toLowerCase()} specs available.\n                </CardContent>\n              </Card>\n            )}\n          </div>\n        </div>\n      </div>\n      <div\n        id={`${COMPONENTS_VIEW_TAB_ID_BASE}-tokens-panel`}\n        role=\"tabpanel\"\n        aria-labelledby={tokensTabId}\n        tabIndex={isTokensView ? 0 : -1}\n        ref={tokensPanelRef}\n        hidden={!isTokensView}\n        aria-hidden={!isTokensView}\n        className=\"focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background\"\n      >\n        <ColorsView groups={tokenGroups} />\n      </div>\n    </section>\n  );\n}\n","\"use client\";\n\nimport * as React from \"react\";\nimport { PanelsTopLeft } from \"lucide-react\";\n\nimport type { DesignTokenGroup, GalleryNavigationData } from \"@/components/gallery/types\";\nimport { PageHeader, PageShell } from \"@/components/ui\";\nimport { cn } from \"@/lib/utils\";\n\nimport { ComponentsGalleryPanels } from \"./ComponentsGalleryPanels\";\nimport {\n  COMPONENTS_PANEL_ID,\n  COMPONENTS_SECTION_TAB_ID_BASE,\n  COMPONENTS_VIEW_TAB_ID_BASE,\n  useComponentsGalleryState,\n} from \"./useComponentsGalleryState\";\n\nconst NEO_TABLIST_SHARED_CLASSES = [\n  \"data-[variant=neo]:rounded-card\",\n  \"data-[variant=neo]:r-card-lg\",\n  \"data-[variant=neo]:gap-[var(--space-2)]\",\n  \"data-[variant=neo]:px-[var(--space-2)]\",\n  \"data-[variant=neo]:py-[var(--space-2)]\",\n  \"data-[variant=neo]:[--neo-tablist-bg:linear-gradient(135deg,hsl(var(--card)/0.9),hsl(var(--panel)/0.74))]\",\n  \"data-[variant=neo]:[--neo-tab-bg:linear-gradient(135deg,hsl(var(--card)/0.96),hsl(var(--panel)/0.82))]\",\n  \"data-[variant=neo]:shadow-depth-outer\",\n  \"data-[variant=neo]:hover:shadow-depth-soft\",\n  \"data-[variant=neo]:[&_[data-active=true]]:relative\",\n  \"data-[variant=neo]:[&_[data-active=true]::after]:content-['']\",\n  \"data-[variant=neo]:[&_[data-active=true]::after]:pointer-events-none\",\n  \"data-[variant=neo]:[&_[data-active=true]::after]:absolute\",\n  \"data-[variant=neo]:[&_[data-active=true]::after]:left-[var(--space-3)]\",\n  \"data-[variant=neo]:[&_[data-active=true]::after]:right-[var(--space-3)]\",\n  \"data-[variant=neo]:[&_[data-active=true]::after]:-bottom-[var(--space-2)]\",\n  \"data-[variant=neo]:[&_[data-active=true]::after]:h-[var(--hairline-w)]\",\n  \"data-[variant=neo]:[&_[data-active=true]::after]:rounded-full\",\n  \"data-[variant=neo]:[&_[data-active=true]::after]:underline-gradient\",\n].join(\" \");\n\nconst HEADER_FRAME_CLASSNAME = [\n  \"shadow-depth-outer\",\n  \"before:pointer-events-none before:absolute before:inset-0 before:-z-10 before:rounded-[inherit]\",\n  \"before:bg-[radial-gradient(120%_82%_at_12%_-20%,hsl(var(--accent)/0.3),transparent_65%),radial-gradient(110%_78%_at_88%_-12%,hsl(var(--ring)/0.28),transparent_70%)]\",\n  \"before:opacity-80 before:mix-blend-screen\",\n  \"after:pointer-events-none after:absolute after:inset-0 after:-z-20 after:rounded-[inherit]\",\n  \"after:bg-[linear-gradient(135deg,hsl(var(--card)/0.9),hsl(var(--panel)/0.78)),radial-gradient(120%_140%_at_50%_120%,hsl(var(--accent-2)/0.2),transparent_75%)]\",\n  \"after:opacity-70 after:mix-blend-soft-light\",\n  \"motion-reduce:before:opacity-60 motion-reduce:after:opacity-50\",\n].join(\" \");\n\ninterface ComponentsPageClientProps {\n  readonly navigation: GalleryNavigationData;\n  readonly tokenGroups: readonly DesignTokenGroup[];\n}\n\nexport function ComponentsPageClient({\n  navigation,\n  tokenGroups,\n}: ComponentsPageClientProps) {\n  const {\n    view,\n    section,\n    query,\n    setQuery,\n    heroCopy,\n    heroTabs,\n    viewTabs,\n    inPageNavigation,\n    showSectionTabs,\n    searchLabel,\n    searchPlaceholder,\n    categoryGroups,\n    sectionLabel,\n    countLabel,\n    countDescriptionId,\n    componentsPanelLabelledBy,\n    handleViewChange,\n    handleSectionChange,\n    componentsPanelRef,\n    tokensPanelRef,\n  } = useComponentsGalleryState({ navigation });\n\n  return (\n    <>\n      <PageShell\n        as=\"header\"\n        className=\"py-[var(--space-6)] md:py-[var(--space-7)] lg:py-[var(--space-8)]\"\n      >\n        <PageHeader\n          containerClassName=\"relative isolate col-span-full\"\n          header={{\n            id: \"components-header\",\n            heading: \"Component Gallery\",\n            subtitle: \"Browse Planner UI building blocks by category.\",\n            sticky: false,\n            nav:\n              inPageNavigation.length > 0\n                ? (\n                    <nav aria-label=\"Component categories\">\n                      <ul className=\"flex flex-wrap items-center gap-[var(--space-2)]\">\n                        {inPageNavigation.map((item) => {\n                          const isActive = view === item.id;\n                          return (\n                            <li key={item.id}>\n                              <a\n                                href={item.href}\n                                className={cn(\n                                  \"text-label font-medium transition-colors\",\n                                  \"text-muted-foreground hover:text-foreground focus-visible:text-foreground\",\n                                  isActive && \"text-foreground\",\n                                )}\n                                aria-current={isActive ? \"page\" : undefined}\n                                onClick={(event) => {\n                                  event.preventDefault();\n                                  if (view !== item.id) {\n                                    handleViewChange(item.id);\n                                  }\n                                  const targetHash = item.href.startsWith(\"#\")\n                                    ? item.href.slice(1)\n                                    : item.href;\n                                  if (targetHash && typeof window !== \"undefined\") {\n                                    window.location.hash = targetHash;\n                                  }\n                                }}\n                              >\n                                {item.label}\n                              </a>\n                            </li>\n                          );\n                        })}\n                      </ul>\n                    </nav>\n                  )\n                : undefined,\n            tabs: {\n              items: viewTabs,\n              value: view,\n              onChange: handleViewChange,\n              ariaLabel: \"Component gallery view\",\n              idBase: COMPONENTS_VIEW_TAB_ID_BASE,\n              linkPanels: true,\n              variant: \"neo\",\n              tablistClassName: cn(NEO_TABLIST_SHARED_CLASSES, \"w-full md:w-auto\"),\n            },\n          }}\n          frameProps={{\n            className: HEADER_FRAME_CLASSNAME,\n          }}\n          hero={{\n            frame: true,\n            sticky: false,\n            eyebrow: heroCopy.eyebrow,\n            heading: heroCopy.heading,\n            subtitle: heroCopy.subtitle,\n            icon: (\n              <span className=\"[&_svg]:size-[var(--space-6)]\">\n                <PanelsTopLeft aria-hidden />\n              </span>\n            ),\n            barClassName:\n              \"isolate overflow-hidden rounded-card r-card-lg before:pointer-events-none before:absolute before:inset-0 before:-z-10 before:bg-[radial-gradient(118%_82%_at_15%_-18%,hsl(var(--accent)/0.34),transparent_65%),radial-gradient(112%_78%_at_85%_-12%,hsl(var(--ring)/0.3),transparent_70%)] before:opacity-80 before:mix-blend-screen after:pointer-events-none after:absolute after:inset-0 after:-z-20 after:bg-[linear-gradient(135deg,hsl(var(--card)/0.9),hsl(var(--panel)/0.78)),repeating-linear-gradient(0deg,hsl(var(--ring)/0.12)_0_hsl(var(--ring)/0.12)_var(--hairline-w),transparent_var(--hairline-w),transparent_var(--space-2))] after:opacity-70 after:mix-blend-soft-light motion-reduce:after:opacity-50\",\n            subTabs: showSectionTabs\n              ? {\n                  ariaLabel: \"Component section\",\n                  items: heroTabs,\n                  value: section,\n                  onChange: handleSectionChange,\n                  idBase: COMPONENTS_SECTION_TAB_ID_BASE,\n                  linkPanels: true,\n                  size: \"sm\",\n                  variant: \"default\",\n                  showBaseline: true,\n                  tablistClassName: cn(\n                    \"max-w-full shadow-depth-inner rounded-card r-card-lg\",\n                    \"w-full md:w-auto\",\n                  ),\n                  className: \"max-w-full w-full md:w-auto\",\n                  renderItem: ({ item, props, ref, disabled }) => {\n                    const {\n                      className: baseClassName,\n                      onClick,\n                      \"aria-label\": ariaLabelProp,\n                      \"aria-labelledby\": ariaLabelledByProp,\n                      \"aria-controls\": ariaControlsProp,\n                      title: titleProp,\n                      ...restProps\n                    } = props;\n                    const handleClick: React.MouseEventHandler<HTMLElement> = (\n                      event,\n                    ) => {\n                      onClick?.(event);\n                      handleSectionChange(item.key);\n                    };\n                    const labelText =\n                      typeof item.label === \"string\" ? item.label : undefined;\n                    const computedTitle = titleProp ?? labelText;\n                    const computedAriaLabel =\n                      ariaLabelProp ??\n                      (labelText && !ariaLabelledByProp ? labelText : undefined);\n                    const computedAriaControls =\n                      ariaControlsProp != null ? COMPONENTS_PANEL_ID : undefined;\n\n                    return (\n                      <button\n                        type=\"button\"\n                        {...restProps}\n                        ref={ref as React.Ref<HTMLButtonElement>}\n                        className={cn(\n                          baseClassName,\n                          \"text-label font-normal text-muted-foreground transition-colors\",\n                          \"data-[active=true]:text-foreground data-[active=true]:font-medium\",\n                          disabled && \"pointer-events-none\",\n                        )}\n                        onClick={(event) => {\n                          if (disabled) {\n                            event.preventDefault();\n                            event.stopPropagation();\n                            return;\n                          }\n                          handleClick(event);\n                        }}\n                        disabled={disabled}\n                        aria-labelledby={ariaLabelledByProp}\n                        aria-controls={computedAriaControls}\n                        aria-label={computedAriaLabel}\n                        title={computedTitle}\n                      >\n                        <span className=\"truncate\">{item.label}</span>\n                      </button>\n                    );\n                  },\n                }\n              : undefined,\n            search:\n              showSectionTabs\n                ? {\n                    id: \"components-search\",\n                    value: query,\n                    onValueChange: setQuery,\n                    debounceMs: 300,\n                    round: true,\n                    variant: \"neo\",\n                    label: searchLabel,\n                    placeholder: searchPlaceholder,\n                    fieldClassName: cn(\n                      \"bg-[linear-gradient(135deg,hsl(var(--card)/0.95),hsl(var(--panel)/0.82))]\",\n                      \"!shadow-depth-soft\",\n                      \"hover:!shadow-depth-soft\",\n                      \"active:!shadow-depth-soft\",\n                      \"focus-within:!shadow-depth-soft\",\n                      \"focus-within:[--tw-ring-offset-width:var(--space-1)]\",\n                      \"focus-within:[--tw-ring-offset-color:hsl(var(--panel)/0.82)]\",\n                      \"motion-reduce:transition-none motion-reduce:hover:!shadow-depth-soft motion-reduce:active:!shadow-depth-soft motion-reduce:focus-within:!shadow-depth-soft\",\n                    ),\n                  }\n                : undefined,\n          }}\n        />\n      </PageShell>\n\n      <PageShell\n        as=\"section\"\n        id={`components-${view}`}\n        grid\n        aria-labelledby=\"components-header\"\n        className=\"scroll-mt-[calc(env(safe-area-inset-top)+var(--header-stack)+var(--space-2))] py-[var(--space-6)] md:py-[var(--space-7)] lg:py-[var(--space-8)]\"\n        contentClassName=\"gap-y-[var(--space-6)] md:gap-y-[var(--space-7)] lg:gap-y-[var(--space-8)]\"\n      >\n        <ComponentsGalleryPanels\n          view={view}\n          categoryGroups={categoryGroups}\n          sectionLabel={sectionLabel}\n          countLabel={countLabel}\n          countDescriptionId={countDescriptionId}\n          componentsPanelLabelledBy={componentsPanelLabelledBy}\n          componentsPanelRef={componentsPanelRef}\n          tokensPanelRef={tokensPanelRef}\n          tokenGroups={tokenGroups}\n        />\n      </PageShell>\n    </>\n  );\n}\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['rect', { width: '18', height: '18', x: '3', y: '3', rx: '2', key: 'afitv7' }],\n  ['path', { d: 'M3 9h18', key: '1pudct' }],\n  ['path', { d: 'M9 21V9', key: '1oto5p' }],\n];\n\n/**\n * @component @name PanelsTopLeft\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cmVjdCB3aWR0aD0iMTgiIGhlaWdodD0iMTgiIHg9IjMiIHk9IjMiIHJ4PSIyIiAvPgogIDxwYXRoIGQ9Ik0zIDloMTgiIC8+CiAgPHBhdGggZD0iTTkgMjFWOSIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/panels-top-left\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst PanelsTopLeft = createLucideIcon('panels-top-left', __iconNode);\n\nexport default PanelsTopLeft;\n"],"names":["COMPONENTS_VIEW_TAB_ID_BASE","COMPONENTS_SECTION_TAB_ID_BASE","COMPONENTS_PANEL_ID","eyebrow","heading","subtitle","ComponentsGalleryPanels","view","categoryGroups","sectionLabel","countLabel","countDescriptionId","componentsPanelLabelledBy","componentsPanelRef","tokensPanelRef","tokenGroups","isTokensView","hasCategoryGroups","length","fallbackSectionLabel","section","className","div","id","role","aria-labelledby","tabIndex","ref","hidden","aria-hidden","aria-describedby","header","h2","Badge","tone","size","map","group","index","headingId","formatCategoryHeadingId","normalized","key","toLowerCase","replace","badgeLabel","filteredCount","showEmpty","labelForEmptyState","label","emptyCopy","cn","h3","Card","CardContent","filteredSpecs","ComponentSpecView","entry","spec","tokensTabId","ColorsView","groups","ComponentsPageClient","navigation","query","setQuery","heroCopy","heroTabs","viewTabs","inPageNavigation","showSectionTabs","searchLabel","searchPlaceholder","handleViewChange","handleSectionChange","currentGroup","sectionMeta","useComponentsGalleryState","router","useRouter","searchParams","useSearchParams","paramsString","toString","sectionParam","get","queryParam","viewParam","startTransition","React","usePersistentState","viewOrder","defaultView","mapView","raw","trim","includes","navSectionEntries","flatMap","sections","sectionMap","Map","set","sectionGroupMap","groupSectionIds","Set","getDefaultSectionForView","viewValue","viewGroup","find","firstSection","fallbackSection","shouldAllowCrossView","rawView","fallbackCopy","copy","firstGroup","DEFAULT_FALLBACK_COPY","normalizeView","mapped","value","normalizeSection","options","allowCrossView","has","owner","setView","setSection","previousSectionParamRef","undefined","previousViewParamRef","previousQueryParamRef","previousViewRef","lastInteractionRef","supportsPreventScrollRef","lastSyncedSectionRef","shouldFocusPanel","document","panel","current","activeElement","HTMLElement","getAttribute","controls","isKeyboardFocusVisible","element","matches","classList","contains","hasAttribute","dataset","focusVisible","focusPanel","focus","preventScroll","resolvedSection","some","tab","groupSection","groupSectionEntry","currentGroupLabel","activeSectionLabel","sectionMetaLabel","formatGallerySectionLabel","sectionSpecs","getGallerySectionEntries","categories","category","extractSpecCategory","fallbackLabel","rawCategory","fallbackKey","trimmed","trimmedKey","trimmedLabel","resolvedKey","resolvedLabel","trimmedEmptyCopy","existing","specs","push","totalCount","normalizedQuery","matchesEntryQuery","name","description","Array","isArray","tags","tag","props","prop","type","from","entries","filtered","filter","suffix","sectionCopy","baseLabel","href","viewTabId","sectionTabId","nextView","rawValue","String","allowedSections","next","normalizedViewFromParams","prev","handlePointerDown","handleKeyDown","event","altKey","ctrlKey","metaKey","window","addEventListener","removeEventListener","buildQueryWithHash","queryString","hash","location","hasQuery","queryPrefix","URLSearchParams","scroll","delete","allowed","fallback","previousView","PageShell","as","PageHeader","containerClassName","sticky","nav","aria-label","ul","isActive","item","li","a","aria-current","onClick","preventDefault","targetHash","startsWith","slice","tabs","items","onChange","ariaLabel","idBase","linkPanels","variant","tablistClassName","frameProps","HEADER_FRAME_CLASSNAME","hero","frame","icon","span","PanelsTopLeft","barClassName","subTabs","showBaseline","renderItem","disabled","baseClassName","ariaLabelProp","ariaLabelledByProp","ariaControlsProp","title","titleProp","restProps","labelText","computedTitle","computedAriaLabel","button","stopPropagation","aria-controls","computedAriaControls","search","onValueChange","debounceMs","round","placeholder","fieldClassName","grid","contentClassName"],"sourceRoot":"","ignoreList":[]}