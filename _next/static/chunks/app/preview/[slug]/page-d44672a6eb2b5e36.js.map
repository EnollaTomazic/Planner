{"version":3,"file":"static/chunks/app/preview/[slug]/page-d44672a6eb2b5e36.js","mappings":"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","sources":["webpack://_N_E/./src/components/gallery/PreviewThemeClient.tsx","webpack://_N_E/?ba50","webpack://_N_E/./src/app/preview/[slug]/PreviewContentClient.tsx","webpack://_N_E/./src/lib/theme-hooks.ts"],"sourcesContent":["\"use client\";\n\nimport * as React from \"react\";\nimport { useTheme } from \"@/lib/theme-context\";\nimport { useThemeQuerySync } from \"@/lib/theme-hooks\";\nimport type { Background, Variant } from \"@/lib/theme\";\n\ninterface PreviewThemeClientProps {\n  readonly variant: Variant;\n  readonly background: Background;\n}\n\nexport default function PreviewThemeClient({\n  variant,\n  background,\n}: PreviewThemeClientProps) {\n  const [, setTheme] = useTheme();\n  useThemeQuerySync();\n\n  React.useEffect(() => {\n    setTheme((current) => {\n      if (current.variant === variant && current.bg === background) {\n        return current;\n      }\n      return { variant, bg: background };\n    });\n  }, [variant, background, setTheme]);\n\n  return null;\n}\n","import(/* webpackMode: \"eager\", webpackExports: [\"default\"] */ \"/home/runner/work/Planner/Planner/src/app/preview/[slug]/PreviewContentClient.tsx\");\n;\nimport(/* webpackMode: \"eager\", webpackExports: [\"default\"] */ \"/home/runner/work/Planner/Planner/src/components/gallery/PreviewRendererClient.tsx\");\n;\nimport(/* webpackMode: \"eager\", webpackExports: [\"PREVIEW_SURFACE_CONTAINER_CLASSNAME\"] */ \"/home/runner/work/Planner/Planner/src/components/gallery/PreviewSurfaceClient.tsx\");\n;\nimport(/* webpackMode: \"eager\", webpackExports: [\"default\"] */ \"/home/runner/work/Planner/Planner/src/components/gallery/PreviewThemeClient.tsx\");\n;\nimport(/* webpackMode: \"eager\" */ \"/home/runner/work/Planner/Planner/src/components/prompts/prompts.gallery.tsx\");\n;\nimport(/* webpackMode: \"eager\" */ \"/home/runner/work/Planner/Planner/src/components/tabs/HeaderTabs.gallery.tsx\");\n;\nimport(/* webpackMode: \"eager\", webpackExports: [\"default\"] */ \"/home/runner/work/Planner/Planner/src/components/ui/AnimationToggle.tsx\");\n;\nimport(/* webpackMode: \"eager\", webpackExports: [\"default\"] */ \"/home/runner/work/Planner/Planner/src/components/ui/feedback/Progress.tsx\");\n;\nimport(/* webpackMode: \"eager\" */ \"/home/runner/work/Planner/Planner/src/components/ui/feedback/Skeleton.tsx\");\n;\nimport(/* webpackMode: \"eager\", webpackExports: [\"default\"] */ \"/home/runner/work/Planner/Planner/src/components/ui/feedback/Snackbar.tsx\");\n;\nimport(/* webpackMode: \"eager\" */ \"/home/runner/work/Planner/Planner/src/components/ui/feedback/Spinner.tsx\");\n;\nimport(/* webpackMode: \"eager\" */ \"/home/runner/work/Planner/Planner/src/components/ui/HeroImage.tsx\");\n;\nimport(/* webpackMode: \"eager\" */ \"/home/runner/work/Planner/Planner/src/components/ui/hooks/useDialogTrap.ts\");\n;\nimport(/* webpackMode: \"eager\" */ \"/home/runner/work/Planner/Planner/src/components/ui/hooks/useFloatingStyleClass.tsx\");\n;\nimport(/* webpackMode: \"eager\" */ \"/home/runner/work/Planner/Planner/src/components/ui/hooks/useScopedCssVars.tsx\");\n;\nimport(/* webpackMode: \"eager\" */ \"/home/runner/work/Planner/Planner/src/components/ui/Label.tsx\");\n;\nimport(/* webpackMode: \"eager\" */ \"/home/runner/work/Planner/Planner/src/components/ui/layout/Header.gallery.tsx\");\n;\nimport(/* webpackMode: \"eager\" */ \"/home/runner/work/Planner/Planner/src/components/ui/layout/Header.tsx\");\n;\nimport(/* webpackMode: \"eager\" */ \"/home/runner/work/Planner/Planner/src/components/ui/layout/hero/Hero.tsx\");\n;\nimport(/* webpackMode: \"eager\" */ \"/home/runner/work/Planner/Planner/src/components/ui/layout/hero/HeroGlitchStyles.tsx\");\n;\nimport(/* webpackMode: \"eager\" */ \"/home/runner/work/Planner/Planner/src/components/ui/layout/hero/HeroImage.tsx\");\n;\nimport(/* webpackMode: \"eager\" */ \"/home/runner/work/Planner/Planner/src/components/ui/layout/hero/HeroTabs.tsx\");\n;\nimport(/* webpackMode: \"eager\" */ \"/home/runner/work/Planner/Planner/src/components/ui/layout/hero/useHeroStyles.ts\");\n;\nimport(/* webpackMode: \"eager\" */ \"/home/runner/work/Planner/Planner/src/components/ui/layout/NeomorphicFrameStyles.tsx\");\n;\nimport(/* webpackMode: \"eager\" */ \"/home/runner/work/Planner/Planner/src/components/ui/layout/NeomorphicHeroFrame.tsx\");\n;\nimport(/* webpackMode: \"eager\" */ \"/home/runner/work/Planner/Planner/src/components/ui/layout/PageHeader.tsx\");\n;\nimport(/* webpackMode: \"eager\" */ \"/home/runner/work/Planner/Planner/src/components/ui/layout/PageShell.tsx\");\n;\nimport(/* webpackMode: \"eager\" */ \"/home/runner/work/Planner/Planner/src/components/ui/layout/SectionCard.tsx\");\n;\nimport(/* webpackMode: \"eager\", webpackExports: [\"default\"] */ \"/home/runner/work/Planner/Planner/src/components/ui/layout/Split.tsx\");\n;\nimport(/* webpackMode: \"eager\" */ \"/home/runner/work/Planner/Planner/src/components/ui/layout/TabBar.gallery.tsx\");\n;\nimport(/* webpackMode: \"eager\" */ \"/home/runner/work/Planner/Planner/src/components/ui/layout/TabBar.tsx\");\n;\nimport(/* webpackMode: \"eager\", webpackExports: [\"default\"] */ \"/home/runner/work/Planner/Planner/src/components/ui/layout/TitleBar.tsx\");\n;\nimport(/* webpackMode: \"eager\", webpackExports: [\"default\"] */ \"/home/runner/work/Planner/Planner/src/components/ui/league/pillars/PillarBadge.tsx\");\n;\nimport(/* webpackMode: \"eager\", webpackExports: [\"default\"] */ \"/home/runner/work/Planner/Planner/src/components/ui/league/pillars/PillarSelector.tsx\");\n;\nimport(/* webpackMode: \"eager\" */ \"/home/runner/work/Planner/Planner/src/components/ui/league/SideSelector.tsx\");\n;\nimport(/* webpackMode: \"eager\" */ \"/home/runner/work/Planner/Planner/src/components/ui/Modal.tsx\");\n;\nimport(/* webpackMode: \"eager\" */ \"/home/runner/work/Planner/Planner/src/components/ui/primitives/Badge.tsx\");\n;\nimport(/* webpackMode: \"eager\" */ \"/home/runner/work/Planner/Planner/src/components/ui/primitives/BlobContainer.tsx\");\n;\nimport(/* webpackMode: \"eager\" */ \"/home/runner/work/Planner/Planner/src/components/ui/primitives/Button.tsx\");\n;\nimport(/* webpackMode: \"eager\" */ \"/home/runner/work/Planner/Planner/src/components/ui/primitives/Field.gallery.tsx\");\n;\nimport(/* webpackMode: \"eager\" */ \"/home/runner/work/Planner/Planner/src/components/ui/primitives/Field.tsx\");\n;\nimport(/* webpackMode: \"eager\" */ \"/home/runner/work/Planner/Planner/src/components/ui/primitives/GlitchProgress.tsx\");\n;\nimport(/* webpackMode: \"eager\" */ \"/home/runner/work/Planner/Planner/src/components/ui/primitives/GlitchSegmented.tsx\");\n;\nimport(/* webpackMode: \"eager\" */ \"/home/runner/work/Planner/Planner/src/components/ui/primitives/IconButton.tsx\");\n;\nimport(/* webpackMode: \"eager\" */ \"/home/runner/work/Planner/Planner/src/components/ui/primitives/Input.tsx\");\n;\nimport(/* webpackMode: \"eager\" */ \"/home/runner/work/Planner/Planner/src/components/ui/primitives/IssueBadge.tsx\");\n;\nimport(/* webpackMode: \"eager\" */ \"/home/runner/work/Planner/Planner/src/components/ui/primitives/SearchBar.gallery.tsx\");\n;\nimport(/* webpackMode: \"eager\" */ \"/home/runner/work/Planner/Planner/src/components/ui/primitives/SearchBar.tsx\");\n;\nimport(/* webpackMode: \"eager\" */ \"/home/runner/work/Planner/Planner/src/components/ui/primitives/SegmentedButton.tsx\");\n;\nimport(/* webpackMode: \"eager\" */ \"/home/runner/work/Planner/Planner/src/components/ui/primitives/Tabs.gallery.tsx\");\n;\nimport(/* webpackMode: \"eager\" */ \"/home/runner/work/Planner/Planner/src/components/ui/primitives/Tabs.tsx\");\n;\nimport(/* webpackMode: \"eager\" */ \"/home/runner/work/Planner/Planner/src/components/ui/primitives/Textarea.tsx\");\n;\nimport(/* webpackMode: \"eager\" */ \"/home/runner/work/Planner/Planner/src/components/ui/primitives/VirtualizedList.tsx\");\n;\nimport(/* webpackMode: \"eager\" */ \"/home/runner/work/Planner/Planner/src/components/ui/radio/RadioIconGroup.gallery.tsx\");\n;\nimport(/* webpackMode: \"eager\" */ \"/home/runner/work/Planner/Planner/src/components/ui/radio/RadioIconGroup.tsx\");\n;\nimport(/* webpackMode: \"eager\" */ \"/home/runner/work/Planner/Planner/src/components/ui/Select.gallery.tsx\");\n;\nimport(/* webpackMode: \"eager\" */ \"/home/runner/work/Planner/Planner/src/components/ui/Select.tsx\");\n;\nimport(/* webpackMode: \"eager\", webpackExports: [\"default\"] */ \"/home/runner/work/Planner/Planner/src/components/ui/select/AnimatedSelect.tsx\");\n;\nimport(/* webpackMode: \"eager\" */ \"/home/runner/work/Planner/Planner/src/components/ui/select/AnimatedSelectList.tsx\");\n;\nimport(/* webpackMode: \"eager\", webpackExports: [\"default\"] */ \"/home/runner/work/Planner/Planner/src/components/ui/select/NativeSelect.tsx\");\n;\nimport(/* webpackMode: \"eager\" */ \"/home/runner/work/Planner/Planner/src/components/ui/select/useAnimatedSelect.ts\");\n;\nimport(/* webpackMode: \"eager\" */ \"/home/runner/work/Planner/Planner/src/components/ui/Sheet.tsx\");\n;\nimport(/* webpackMode: \"eager\" */ \"/home/runner/work/Planner/Planner/src/components/ui/theme/BackgroundPicker.tsx\");\n;\nimport(/* webpackMode: \"eager\" */ \"/home/runner/work/Planner/Planner/src/components/ui/theme/SettingsSelect.tsx\");\n;\nimport(/* webpackMode: \"eager\" */ \"/home/runner/work/Planner/Planner/src/components/ui/theme/ThemePicker.tsx\");\n;\nimport(/* webpackMode: \"eager\", webpackExports: [\"default\"] */ \"/home/runner/work/Planner/Planner/src/components/ui/theme/ThemeToggle.tsx\");\n;\nimport(/* webpackMode: \"eager\" */ \"/home/runner/work/Planner/Planner/src/components/ui/Toast.tsx\");\n;\nimport(/* webpackMode: \"eager\", webpackExports: [\"default\"] */ \"/home/runner/work/Planner/Planner/src/components/ui/toggles/CheckCircle.tsx\");\n;\nimport(/* webpackMode: \"eager\" */ \"/home/runner/work/Planner/Planner/src/components/ui/toggles/NeonIcon.tsx\");\n;\nimport(/* webpackMode: \"eager\" */ \"/home/runner/work/Planner/Planner/src/components/ui/toggles/Toggle.tsx\");\n","\"use client\";\n\nimport * as React from \"react\";\nimport { Suspense } from \"react\";\n\nimport PreviewSurface, {\n  PREVIEW_SURFACE_CONTAINER_CLASSNAME,\n} from \"@/components/gallery/PreviewSurfaceClient\";\nimport PreviewThemeClient from \"@/components/gallery/PreviewThemeClient\";\nimport {\n  getGalleryPreviewAxisSummary,\n  type GalleryPreviewRoute,\n} from \"@/components/gallery\";\nimport {\n  BackgroundPicker,\n  Card,\n  Label,\n  ThemePicker,\n  Toggle,\n  Spinner,\n} from \"@/components/ui\";\nimport { usePersistentState } from \"@/lib/db\";\nimport {\n  VARIANT_LABELS,\n  decodeThemeState,\n  type Background,\n  type Variant,\n} from \"@/lib/theme\";\nimport { cn } from \"@/lib/utils\";\n\nconst BACKGROUND_LABELS: Record<Background, string> = {\n  0: \"Default\",\n  1: \"Alt 1\",\n  2: \"Alt 2\",\n  3: \"VHS\",\n  4: \"Streak\",\n};\n\nconst CONTAINER_OPTIONS = [\n  { id: \"cq-sm\", label: \"Compact\", width: \"≤320px\" },\n  { id: \"cq-md\", label: \"Comfort\", width: \"≤768px\" },\n  { id: \"cq-lg\", label: \"Full\", width: \"≤1024px\" },\n] as const;\n\ntype ContainerSize = (typeof CONTAINER_OPTIONS)[number][\"id\"];\n\ntype ControlState = {\n  variant: Variant;\n  bg: Background;\n  container: ContainerSize;\n  previewThemeEnabled: boolean;\n  previewBackgroundEnabled: boolean;\n};\n\ntype SectionKey = \"general\" | \"appearance\" | \"integrations\";\n\nfunction PreviewControlSection({\n  title,\n  description,\n  isExpanded,\n  onToggle,\n  children,\n}: {\n  title: string;\n  description?: string;\n  isExpanded: boolean;\n  onToggle: () => void;\n  children: React.ReactNode;\n}) {\n  const contentId = React.useId();\n\n  return (\n    <section>\n      <button\n        type=\"button\"\n        className=\"flex w-full items-center justify-between gap-[var(--space-3)] px-[var(--space-4)] py-[var(--space-3)] text-left transition-colors duration-motion-sm ease-out hover:text-foreground\"\n        aria-expanded={isExpanded}\n        aria-controls={contentId}\n        onClick={onToggle}\n      >\n        <div className=\"space-y-[var(--space-1)]\">\n          <p className=\"text-label font-semibold tracking-[0.08em] text-muted-foreground\">\n            {title}\n          </p>\n          {description ? (\n            <p className=\"text-caption text-muted-foreground/80\">{description}</p>\n          ) : null}\n        </div>\n        <span\n          aria-hidden\n          className=\"text-title font-semibold leading-none text-muted-foreground transition-transform duration-motion-sm ease-out\"\n        >\n          {isExpanded ? \"−\" : \"+\"}\n        </span>\n      </button>\n      <div\n        id={contentId}\n        hidden={!isExpanded}\n        aria-hidden={!isExpanded}\n        className=\"space-y-[var(--space-3)] px-[var(--space-4)] pb-[var(--space-4)] pt-[var(--space-2)]\"\n      >\n        {children}\n      </div>\n    </section>\n  );\n}\n\ninterface PreviewContentClientProps {\n  readonly route: GalleryPreviewRoute;\n}\n\nfunction isRecord(value: unknown): value is Record<string, unknown> {\n  return typeof value === \"object\" && value !== null;\n}\n\nfunction isContainerSize(value: unknown): value is ContainerSize {\n  if (typeof value !== \"string\") {\n    return false;\n  }\n  return CONTAINER_OPTIONS.some((option) => option.id === value);\n}\n\nfunction PreviewLoadingFallback({ containerSize }: { containerSize: ContainerSize }) {\n  return (\n    <section\n      aria-busy=\"true\"\n      aria-live=\"polite\"\n      className={cn(\n        PREVIEW_SURFACE_CONTAINER_CLASSNAME,\n        \"transition-[inline-size] duration-motion-sm ease-out motion-reduce:transition-none\",\n        containerSize,\n      )}\n      data-container-size={containerSize}\n      data-preview-container=\"\"\n      data-preview-ready=\"loading\"\n    >\n      <div\n        className=\"flex items-center gap-[var(--space-2)] text-label text-muted-foreground\"\n        role=\"status\"\n      >\n        <Spinner />\n        <span>Loading preview…</span>\n      </div>\n    </section>\n  );\n}\n\nexport default function PreviewContentClient({ route }: PreviewContentClientProps) {\n  const controlsHeadingId = React.useId();\n  const sliderId = React.useId();\n  const sliderDescriptionId = React.useId();\n  const sliderStatusId = React.useId();\n\n  const defaultState = React.useMemo<ControlState>(\n    () => ({\n      variant: route.themeVariant,\n      bg: route.themeBackground,\n      container: \"cq-lg\",\n      previewThemeEnabled: true,\n      previewBackgroundEnabled: true,\n    }),\n    [route.themeVariant, route.themeBackground],\n  );\n\n  const decodeControlState = React.useCallback(\n    (value: unknown): ControlState | null => {\n      if (!isRecord(value)) {\n        return null;\n      }\n\n      const themeState = decodeThemeState(value) ?? defaultState;\n      const rawContainer = value[\"container\"];\n      const container = isContainerSize(rawContainer)\n        ? rawContainer\n        : defaultState.container;\n      const previewThemeEnabled =\n        typeof value[\"previewThemeEnabled\"] === \"boolean\"\n          ? value[\"previewThemeEnabled\"]\n          : defaultState.previewThemeEnabled;\n      const previewBackgroundEnabled =\n        typeof value[\"previewBackgroundEnabled\"] === \"boolean\"\n          ? value[\"previewBackgroundEnabled\"]\n          : defaultState.previewBackgroundEnabled;\n\n      return {\n        variant: themeState.variant,\n        bg: themeState.bg,\n        container,\n        previewThemeEnabled,\n        previewBackgroundEnabled,\n      };\n    },\n    [defaultState],\n  );\n\n  const persistenceOptions = React.useMemo(\n    () => ({ decode: decodeControlState }),\n    [decodeControlState],\n  );\n\n  const [controlState, setControlState] = usePersistentState<ControlState>(\n    `preview.controls:${route.slug}`,\n    defaultState,\n    persistenceOptions,\n  );\n\n  const handleVariantChange = React.useCallback(\n    (next: Variant) => {\n      setControlState((prev) => {\n        if (prev.variant === next) {\n          return prev;\n        }\n        return { ...prev, variant: next };\n      });\n    },\n    [setControlState],\n  );\n\n  const handleBackgroundChange = React.useCallback(\n    (next: Background) => {\n      setControlState((prev) => {\n        if (prev.bg === next) {\n          return prev;\n        }\n        return { ...prev, bg: next };\n      });\n    },\n    [setControlState],\n  );\n\n  const handleContainerChange = React.useCallback(\n    (nextIndex: number) => {\n      if (!Number.isFinite(nextIndex)) {\n        return;\n      }\n      const clampedIndex = Math.min(\n        Math.max(Math.trunc(nextIndex), 0),\n        CONTAINER_OPTIONS.length - 1,\n      );\n      const option = CONTAINER_OPTIONS[clampedIndex];\n      setControlState((prev) => {\n        if (prev.container === option.id) {\n          return prev;\n        }\n        return { ...prev, container: option.id };\n      });\n    },\n    [setControlState],\n  );\n\n  const handleThemePreviewToggle = React.useCallback(\n    (nextSide: \"Left\" | \"Right\") => {\n      const nextEnabled = nextSide === \"Right\";\n      setControlState((prev) => {\n        if (prev.previewThemeEnabled === nextEnabled) {\n          return prev;\n        }\n        return { ...prev, previewThemeEnabled: nextEnabled };\n      });\n    },\n    [setControlState],\n  );\n\n  const handleBackgroundPreviewToggle = React.useCallback(\n    (nextSide: \"Left\" | \"Right\") => {\n      const nextEnabled = nextSide === \"Right\";\n      setControlState((prev) => {\n        if (prev.previewBackgroundEnabled === nextEnabled) {\n          return prev;\n        }\n        return { ...prev, previewBackgroundEnabled: nextEnabled };\n      });\n    },\n    [setControlState],\n  );\n\n  const [expandedSections, setExpandedSections] = React.useState<Record<SectionKey, boolean>>({\n    general: true,\n    appearance: false,\n    integrations: false,\n  });\n\n  const toggleSection = React.useCallback((key: SectionKey) => {\n    setExpandedSections((prev) => ({ ...prev, [key]: !prev[key] }));\n  }, []);\n\n  const currentContainerIndex = React.useMemo(() => {\n    const index = CONTAINER_OPTIONS.findIndex(\n      (option) => option.id === controlState.container,\n    );\n    if (index >= 0) {\n      return index;\n    }\n    return CONTAINER_OPTIONS.length - 1;\n  }, [controlState.container]);\n\n  const currentContainer = CONTAINER_OPTIONS[currentContainerIndex];\n  const containerProgress =\n    CONTAINER_OPTIONS.length > 1\n      ? (currentContainerIndex / (CONTAINER_OPTIONS.length - 1)) * 100\n      : 0;\n\n  const appliedVariant = controlState.previewThemeEnabled\n    ? controlState.variant\n    : defaultState.variant;\n  const appliedBackground = controlState.previewBackgroundEnabled\n    ? controlState.bg\n    : defaultState.bg;\n\n  const themeLabel = VARIANT_LABELS[appliedVariant];\n  const backgroundLabel =\n    BACKGROUND_LABELS[appliedBackground] ?? BACKGROUND_LABELS[0];\n  const backgroundSummary =\n    appliedBackground === 0 ? \"Default background\" : `${backgroundLabel} background`;\n\n  const sliderDescribedBy = `${sliderDescriptionId} ${sliderStatusId}`;\n  const stateLabel = route.stateName ? ` · ${route.stateName}` : \"\";\n  const axisSummary = React.useMemo(\n    () => getGalleryPreviewAxisSummary(route.entryId, route.stateId),\n    [route.entryId, route.stateId],\n  );\n\n  return (\n    <div\n      className=\"min-h-screen bg-background text-foreground\"\n      data-preview-entry={route.entryId}\n      data-preview-slug={route.slug}\n      data-preview-state={route.stateId ?? undefined}\n    >\n      <PreviewThemeClient variant={appliedVariant} background={appliedBackground} />\n      <div className=\"mx-auto flex min-h-screen w-full max-w-6xl flex-col gap-[var(--space-5)] px-[var(--space-5)] py-[var(--space-6)]\">\n        <header className=\"space-y-[var(--space-2)]\">\n          <p className=\"text-caption font-medium uppercase tracking-[0.2em] text-muted-foreground\">\n            Gallery preview\n          </p>\n          <h1 className=\"text-title font-semibold tracking-[-0.01em]\">\n            {route.entryName}\n            {stateLabel ? <span className=\"text-muted-foreground\">{stateLabel}</span> : null}\n          </h1>\n          <p aria-live=\"polite\" className=\"text-label text-muted-foreground\">\n            {themeLabel} · {backgroundSummary}\n          </p>\n          {axisSummary ? (\n            <p className=\"text-caption text-muted-foreground\">{axisSummary}</p>\n          ) : null}\n        </header>\n\n        <section aria-labelledby={controlsHeadingId} className=\"space-y-[var(--space-3)]\">\n          <h2\n            id={controlsHeadingId}\n            className=\"text-caption font-semibold uppercase tracking-[0.2em] text-muted-foreground\"\n          >\n            Preview controls\n          </h2>\n          <Card className=\"bg-surface/75 border border-card-hairline-55 shadow-outline-subtle backdrop-blur-sm\">\n            <div className=\"flex flex-col divide-y divide-card-hairline-40\">\n              <PreviewControlSection\n                title=\"General\"\n                description=\"Primary preview settings\"\n                isExpanded={expandedSections.general}\n                onToggle={() => toggleSection(\"general\")}\n              >\n                <div className=\"space-y-[var(--space-2)]\">\n                  <Label htmlFor={sliderId}>Container width</Label>\n                  <p\n                    id={sliderDescriptionId}\n                    className=\"text-caption text-muted-foreground\"\n                  >\n                    Snap the preview to the small, medium, or large container query breakpoints.\n                  </p>\n                  <div className=\"group/slider relative mt-[var(--space-1)] h-[var(--space-6)]\">\n                    <div\n                      className=\"pointer-events-none absolute left-0 right-0 top-1/2 h-[var(--space-1)] -translate-y-1/2 rounded-full bg-card-hairline-45 shadow-[var(--shadow-inset-hairline)]\"\n                      aria-hidden\n                    />\n                    <div\n                      className=\"pointer-events-none absolute left-0 top-1/2 h-[var(--space-1)] -translate-y-1/2 rounded-full bg-accent/60 shadow-[var(--shadow-glow-sm)] transition-[width] duration-motion-sm ease-out motion-reduce:transition-none\"\n                      style={{ width: `${containerProgress}%` }}\n                      aria-hidden\n                    />\n                    <div\n                      className=\"pointer-events-none absolute top-1/2 size-[var(--space-5)] -translate-y-1/2 -translate-x-1/2 rounded-full border border-card-hairline-60 bg-card/90 shadow-[var(--shadow-control)] transition-[left] duration-motion-sm ease-out motion-reduce:transition-none group-focus-visible/slider:ring-2 group-focus-visible/slider:ring-[var(--ring-contrast)] group-focus-visible/slider:shadow-[var(--shadow-glow-md)]\"\n                      style={{ left: `${containerProgress}%` }}\n                      aria-hidden\n                    />\n                    <input\n                      id={sliderId}\n                      type=\"range\"\n                      min={0}\n                      max={CONTAINER_OPTIONS.length - 1}\n                      step={1}\n                      value={currentContainerIndex}\n                      aria-valuetext={`${currentContainer.label} width (${currentContainer.width})`}\n                      aria-describedby={sliderDescribedBy}\n                      onChange={(event) => {\n                        const nextValue = Number(event.target.value);\n                        handleContainerChange(nextValue);\n                      }}\n                      className=\"absolute inset-0 z-10 h-full w-full cursor-pointer appearance-none rounded-[var(--control-radius)] opacity-0 focus-visible:outline-none\"\n                    />\n                  </div>\n                  <p\n                    id={sliderStatusId}\n                    aria-live=\"polite\"\n                    className=\"text-caption text-muted-foreground\"\n                  >\n                    {currentContainer.label} width · {currentContainer.width}\n                  </p>\n                  <div className=\"flex items-center justify-between text-caption text-muted-foreground\" aria-hidden>\n                    {CONTAINER_OPTIONS.map((option) => {\n                      const selected = option.id === currentContainer.id;\n                      return (\n                        <span\n                          key={option.id}\n                          className={cn(\n                            \"flex-1 text-center\",\n                            selected && \"font-semibold text-foreground\",\n                          )}\n                        >\n                          {option.label}\n                        </span>\n                      );\n                    })}\n                  </div>\n                </div>\n              </PreviewControlSection>\n\n              <PreviewControlSection\n                title=\"Appearance\"\n                description=\"Customize how the preview looks\"\n                isExpanded={expandedSections.appearance}\n                onToggle={() => toggleSection(\"appearance\")}\n              >\n                <div className=\"space-y-[var(--space-4)]\">\n                  <div className=\"space-y-[var(--space-3)]\">\n                    <div className=\"flex flex-col gap-[var(--space-3)] md:flex-row md:items-center md:justify-between\">\n                      <div className=\"space-y-[var(--space-1)]\">\n                        <p className=\"text-label font-medium\">Theme preview</p>\n                        <p className=\"text-caption text-muted-foreground\">\n                          Toggle to apply theme changes to the live preview.\n                        </p>\n                      </div>\n                      <Toggle\n                        leftLabel=\"Off\"\n                        rightLabel=\"On\"\n                        value={controlState.previewThemeEnabled ? \"Right\" : \"Left\"}\n                        onChange={handleThemePreviewToggle}\n                      />\n                    </div>\n                    <div className=\"flex flex-col gap-[var(--space-3)] md:flex-row md:items-center md:justify-between\">\n                      <div className=\"space-y-[var(--space-1)]\">\n                        <p className=\"text-label font-medium\">Background preview</p>\n                        <p className=\"text-caption text-muted-foreground\">\n                          Control whether background updates are reflected in the preview.\n                        </p>\n                      </div>\n                      <Toggle\n                        leftLabel=\"Off\"\n                        rightLabel=\"On\"\n                        value={controlState.previewBackgroundEnabled ? \"Right\" : \"Left\"}\n                        onChange={handleBackgroundPreviewToggle}\n                      />\n                    </div>\n                  </div>\n\n                  <div className=\"grid gap-[var(--space-3)] md:grid-cols-2\">\n                    <ThemePicker\n                      variant={controlState.variant}\n                      onVariantChange={handleVariantChange}\n                      className=\"w-full\"\n                      disabled={!controlState.previewThemeEnabled}\n                    />\n                    <BackgroundPicker\n                      bg={controlState.bg}\n                      onBgChange={handleBackgroundChange}\n                      className=\"w-full\"\n                      disabled={!controlState.previewBackgroundEnabled}\n                    />\n                  </div>\n                </div>\n              </PreviewControlSection>\n\n              <PreviewControlSection\n                title=\"Integrations\"\n                description=\"Connect external tooling\"\n                isExpanded={expandedSections.integrations}\n                onToggle={() => toggleSection(\"integrations\")}\n              >\n                <p className=\"text-caption text-muted-foreground\">\n                  Hook up integrations to sync preview preferences across design and development environments.\n                </p>\n              </PreviewControlSection>\n            </div>\n          </Card>\n        </section>\n\n        <div className=\"flex flex-1 items-center justify-center\">\n          <Suspense fallback={<PreviewLoadingFallback containerSize={controlState.container} />}>\n            <PreviewSurface\n              previewId={route.previewId}\n              containerSize={controlState.container}\n            />\n          </Suspense>\n        </div>\n      </div>\n    </div>\n  );\n}\n","\"use client\";\n\nimport * as React from \"react\";\nimport { useRouter, usePathname, useSearchParams } from \"next/navigation\";\nimport { useTheme } from \"@/lib/theme-context\";\nimport {\n  VARIANTS,\n  BG_CLASSES,\n  type Variant,\n  type Background,\n} from \"@/lib/theme\";\n\nexport function useThemeQuerySync() {\n  const router = useRouter();\n  const pathname = usePathname();\n  const searchParams = useSearchParams();\n  const paramsKey = searchParams.toString();\n  const params = React.useMemo(\n    () => new URLSearchParams(paramsKey),\n    [paramsKey],\n  );\n  const [theme, setTheme] = useTheme();\n\n  React.useEffect(() => {\n    if (typeof window === \"undefined\") return;\n    const themeParam = params.get(\"theme\");\n    const bgParam = params.get(\"bg\");\n    setTheme((prev) => {\n      const next = { ...prev };\n      if (themeParam && VARIANTS.some((v) => v.id === themeParam)) {\n        next.variant = themeParam as Variant;\n      }\n      if (bgParam) {\n        const idx = Number(bgParam);\n        if (!Number.isNaN(idx) && idx >= 0 && idx < BG_CLASSES.length) {\n          next.bg = idx as Background;\n        }\n      }\n      if (next.variant === prev.variant && next.bg === prev.bg) {\n        return prev;\n      }\n      return next;\n    });\n  }, [params, setTheme]);\n\n  React.useEffect(() => {\n    const currentTheme = params.get(\"theme\");\n    const currentBg = params.get(\"bg\");\n    if (currentTheme === theme.variant && currentBg === String(theme.bg)) {\n      return;\n    }\n    const nextParams = new URLSearchParams(params);\n    nextParams.set(\"theme\", theme.variant);\n    nextParams.set(\"bg\", String(theme.bg));\n    const queryString = nextParams.toString();\n    const hashFragment =\n      typeof window !== \"undefined\" ? window.location.hash ?? \"\" : \"\";\n    const nextUrl = queryString ? `${pathname}?${queryString}` : pathname;\n    router.replace(`${nextUrl}${hashFragment}`, { scroll: false });\n  }, [theme, router, pathname, params]);\n}\n"],"names":["PreviewThemeClient","variant","background","setTheme","useTheme","useThemeQuerySync","React","current","bg","BACKGROUND_LABELS","CONTAINER_OPTIONS","id","label","width","PreviewControlSection","title","description","isExpanded","onToggle","children","contentId","section","button","type","className","aria-expanded","aria-controls","onClick","div","p","span","aria-hidden","hidden","PreviewLoadingFallback","containerSize","aria-busy","aria-live","cn","PREVIEW_SURFACE_CONTAINER_CLASSNAME","data-container-size","data-preview-container","data-preview-ready","role","Spinner","PreviewContentClient","route","controlsHeadingId","sliderId","sliderDescriptionId","sliderStatusId","defaultState","themeVariant","themeBackground","container","previewThemeEnabled","previewBackgroundEnabled","decodeControlState","decodeThemeState","isRecord","value","themeState","rawContainer","some","option","persistenceOptions","decode","controlState","setControlState","usePersistentState","slug","handleVariantChange","next","prev","handleBackgroundChange","handleContainerChange","Number","isFinite","nextIndex","clampedIndex","Math","min","max","trunc","length","handleThemePreviewToggle","nextEnabled","nextSide","handleBackgroundPreviewToggle","expandedSections","setExpandedSections","general","appearance","integrations","toggleSection","key","currentContainerIndex","index","findIndex","currentContainer","containerProgress","appliedVariant","appliedBackground","themeLabel","VARIANT_LABELS","backgroundLabel","sliderDescribedBy","stateLabel","stateName","axisSummary","getGalleryPreviewAxisSummary","entryId","stateId","data-preview-entry","data-preview-slug","data-preview-state","undefined","header","h1","entryName","aria-labelledby","h2","Card","Label","htmlFor","style","left","input","step","aria-valuetext","aria-describedby","onChange","event","target","nextValue","map","selected","Toggle","leftLabel","rightLabel","ThemePicker","onVariantChange","disabled","BackgroundPicker","onBgChange","Suspense","fallback","PreviewSurface","previewId","router","useRouter","pathname","usePathname","paramsKey","useSearchParams","toString","params","URLSearchParams","theme","themeParam","get","bgParam","VARIANTS","v","idx","isNaN","BG_CLASSES","window","currentTheme","currentBg","String","nextParams","set","queryString","hashFragment","location","hash","nextUrl","replace","scroll"],"sourceRoot":"","ignoreList":[]}