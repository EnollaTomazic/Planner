{"version":3,"file":"static/chunks/app/preview/[slug]/page-a62ab6bdc6e164c4.js","mappings":"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","sources":["webpack://_N_E/./src/components/gallery/PreviewThemeClient.tsx","webpack://_N_E/./src/components/tabs/HeaderTabs.gallery.tsx","webpack://_N_E/?4d88","webpack://_N_E/./src/lib/theme-hooks.ts","webpack://_N_E/./src/components/gallery/constants.ts","webpack://_N_E/./src/components/gallery/PreviewSurfaceClient.tsx","webpack://_N_E/./src/app/preview/[slug]/PreviewContentClient.tsx"],"sourcesContent":["\"use client\";\n\nimport * as React from \"react\";\nimport { useTheme } from \"@/lib/theme-context\";\nimport { useThemeQuerySync } from \"@/lib/theme-hooks\";\nimport type { Background, Variant } from \"@/lib/theme\";\n\ninterface PreviewThemeClientProps {\n  readonly variant: Variant;\n  readonly background: Background;\n}\n\nexport function PreviewThemeClient({\n  variant,\n  background,\n}: PreviewThemeClientProps) {\n  const [, setTheme] = useTheme();\n  useThemeQuerySync();\n\n  React.useEffect(() => {\n    setTheme((current) => {\n      if (current.variant === variant && current.bg === background) {\n        return current;\n      }\n      return { variant, bg: background };\n    });\n  }, [variant, background, setTheme]);\n\n  return null;\n}\n","\"use client\";\n\nimport * as React from \"react\";\nimport { Circle, CircleCheck, CircleDot } from \"lucide-react\";\n\nimport { createGalleryPreview, defineGallerySection } from \"@/components/gallery\";\n\nimport { type HeaderTabItem, HeaderTabs } from \"./HeaderTabs\";\n\ntype ItemKey = \"plan\" | \"review\" | \"archive\";\n\nconst HEADER_TAB_FOCUS_VISIBLE_CLASSNAME =\n  \"data-[state=inactive]:shadow-[0_0_0_calc(var(--hairline-w)*3)_hsl(var(--ring)/0.55)] data-[state=inactive]:outline-none\";\n\nconst ITEMS: HeaderTabItem<ItemKey>[] = [\n  { key: \"plan\", label: \"Plan\", icon: <Circle aria-hidden=\"true\" /> },\n  {\n    key: \"review\",\n    label: \"Review\",\n    icon: <CircleDot aria-hidden=\"true\" />,\n    className: HEADER_TAB_FOCUS_VISIBLE_CLASSNAME,\n  },\n  {\n    key: \"archive\",\n    label: \"Archive\",\n    icon: <CircleCheck aria-hidden=\"true\" />,\n    disabled: true,\n  },\n];\n\nfunction HeaderTabsGalleryPreview() {\n  const [value, setValue] = React.useState<ItemKey>(\n    () => ITEMS.find((item) => !item.disabled)?.key ?? \"plan\",\n  );\n\n  return (\n    <HeaderTabs\n      items={ITEMS}\n      value={value}\n      onChange={setValue}\n      ariaLabel=\"Header tab demo\"\n      idBase=\"header-tabs-gallery\"\n    />\n  );\n}\n\nexport const HeaderTabsGallery = defineGallerySection({\n  id: \"layout\",\n  entries: [\n    {\n      id: \"header-tabs\",\n      name: \"HeaderTabs\",\n      description: \"Neomorphic segmented control used within headers\",\n      kind: \"component\",\n      tags: [\"tabs\", \"navigation\"],\n      axes: [\n        {\n          id: \"state\",\n          label: \"State\",\n          type: \"state\",\n          values: [\n            { value: \"Active\" },\n            { value: \"Inactive\" },\n            { value: \"Focus-visible\" },\n            { value: \"Disabled\" },\n          ],\n        },\n      ],\n      preview: createGalleryPreview({\n        id: \"ui:header-tabs:control\",\n        render: () => <HeaderTabsGalleryPreview />,\n      }),\n      code: `<HeaderTabs\n  items={[\n    { key: \"plan\", label: \"Plan\", icon: <Circle aria-hidden=\"true\" /> },\n    {\n      key: \"review\",\n      label: \"Review\",\n      icon: <CircleDot aria-hidden=\"true\" />,\n      className: \"${HEADER_TAB_FOCUS_VISIBLE_CLASSNAME}\",\n    },\n    {\n      key: \"archive\",\n      label: \"Archive\",\n      icon: <CircleCheck aria-hidden=\"true\" />,\n      disabled: true,\n    },\n  ]}\n  value=\"plan\"\n  onChange={() => {}}\n  ariaLabel=\"Header tab demo\"\n/>`,\n    },\n  ],\n})\n\nexport default HeaderTabsGallery\n","import(/* webpackMode: \"eager\", webpackExports: [\"default\"] */ \"/home/runner/work/Planner/Planner/src/app/preview/[slug]/PreviewContentClient.tsx\");\n;\nimport(/* webpackMode: \"eager\", webpackExports: [\"PreviewRendererClient\"] */ \"/home/runner/work/Planner/Planner/src/components/gallery/PreviewRendererClient.tsx\");\n;\nimport(/* webpackMode: \"eager\", webpackExports: [\"PreviewThemeClient\"] */ \"/home/runner/work/Planner/Planner/src/components/gallery/PreviewThemeClient.tsx\");\n;\nimport(/* webpackMode: \"eager\" */ \"/home/runner/work/Planner/Planner/src/components/prompts/prompts.gallery.tsx\");\n;\nimport(/* webpackMode: \"eager\" */ \"/home/runner/work/Planner/Planner/src/components/tabs/HeaderTabs.gallery.tsx\");\n;\nimport(/* webpackMode: \"eager\" */ \"/home/runner/work/Planner/Planner/src/components/ui/ai/AIAbortButton.tsx\");\n;\nimport(/* webpackMode: \"eager\" */ \"/home/runner/work/Planner/Planner/src/components/ui/Label.gallery.tsx\");\n;\nimport(/* webpackMode: \"eager\" */ \"/home/runner/work/Planner/Planner/src/components/ui/layout/Header.gallery.tsx\");\n;\nimport(/* webpackMode: \"eager\" */ \"/home/runner/work/Planner/Planner/src/components/ui/layout/TabBar.gallery.tsx\");\n;\nimport(/* webpackMode: \"eager\" */ \"/home/runner/work/Planner/Planner/src/components/ui/primitives/Badge.gallery.tsx\");\n;\nimport(/* webpackMode: \"eager\" */ \"/home/runner/work/Planner/Planner/src/components/ui/primitives/Button.gallery.tsx\");\n;\nimport(/* webpackMode: \"eager\" */ \"/home/runner/work/Planner/Planner/src/components/ui/primitives/Field.gallery.tsx\");\n;\nimport(/* webpackMode: \"eager\" */ \"/home/runner/work/Planner/Planner/src/components/ui/primitives/IconButton.gallery.tsx\");\n;\nimport(/* webpackMode: \"eager\" */ \"/home/runner/work/Planner/Planner/src/components/ui/primitives/Input.gallery.tsx\");\n;\nimport(/* webpackMode: \"eager\" */ \"/home/runner/work/Planner/Planner/src/components/ui/primitives/SearchBar.gallery.tsx\");\n;\nimport(/* webpackMode: \"eager\" */ \"/home/runner/work/Planner/Planner/src/components/ui/primitives/SegmentedButton.gallery.tsx\");\n;\nimport(/* webpackMode: \"eager\" */ \"/home/runner/work/Planner/Planner/src/components/ui/primitives/Tabs.gallery.tsx\");\n;\nimport(/* webpackMode: \"eager\" */ \"/home/runner/work/Planner/Planner/src/components/ui/primitives/Textarea.gallery.tsx\");\n;\nimport(/* webpackMode: \"eager\" */ \"/home/runner/work/Planner/Planner/src/components/ui/radio/RadioIconGroup.gallery.tsx\");\n;\nimport(/* webpackMode: \"eager\" */ \"/home/runner/work/Planner/Planner/src/components/ui/Select.gallery.tsx\");\n;\nimport(/* webpackMode: \"eager\" */ \"/home/runner/work/Planner/Planner/src/components/ui/toggles/NeonIcon.gallery.tsx\");\n;\nimport(/* webpackMode: \"eager\" */ \"/home/runner/work/Planner/Planner/src/components/ui/toggles/Toggle.gallery.tsx\");\n","\"use client\";\n\nimport * as React from \"react\";\nimport { useRouter, usePathname, useSearchParams } from \"next/navigation\";\nimport { useTheme } from \"@/lib/theme-context\";\nimport {\n  VARIANTS,\n  BG_CLASSES,\n  type Variant,\n  type Background,\n} from \"@/lib/theme\";\nimport { withoutBasePath } from \"@/lib/utils\";\n\nconst normalizePathForComparison = (path: string): string => {\n  if (!path) {\n    return \"/\";\n  }\n\n  const trimmed = path.endsWith(\"/\") && path !== \"/\"\n    ? path.replace(/\\/+$/, \"\")\n    : path;\n\n  return trimmed.length > 0 ? trimmed : \"/\";\n};\n\nexport function useThemeQuerySync(): void {\n  const router = useRouter();\n  const pathname = usePathname();\n  const searchParams = useSearchParams();\n  const paramsKey = searchParams.toString();\n  const params = React.useMemo(\n    () => new URLSearchParams(paramsKey),\n    [paramsKey],\n  );\n  const [theme, setTheme] = useTheme();\n\n  React.useEffect(() => {\n    if (typeof window === \"undefined\") return;\n    const themeParam = params.get(\"theme\");\n    const bgParam = params.get(\"bg\");\n    setTheme((prev) => {\n      const next = { ...prev };\n      if (themeParam && VARIANTS.some((v) => v.id === themeParam)) {\n        next.variant = themeParam as Variant;\n      }\n      if (bgParam) {\n        const idx = Number(bgParam);\n        if (!Number.isNaN(idx) && idx >= 0 && idx < BG_CLASSES.length) {\n          next.bg = idx as Background;\n        }\n      }\n      if (next.variant === prev.variant && next.bg === prev.bg) {\n        return prev;\n      }\n      return next;\n    });\n  }, [params, setTheme]);\n\n  React.useEffect(() => {\n    const currentTheme = params.get(\"theme\");\n    const currentBg = params.get(\"bg\");\n    if (currentTheme === theme.variant && currentBg === String(theme.bg)) {\n      return;\n    }\n\n    if (typeof window === \"undefined\") {\n      return;\n    }\n\n    const activePath = normalizePathForComparison(\n      withoutBasePath(pathname || \"/\"),\n    );\n    const locationPath = normalizePathForComparison(\n      withoutBasePath(window.location.pathname || \"/\"),\n    );\n\n    if (locationPath !== activePath) {\n      return;\n    }\n\n    let timeout: number | null = null;\n\n    timeout = window.setTimeout(() => {\n      const currentPath = normalizePathForComparison(\n        withoutBasePath(window.location.pathname || \"/\"),\n      );\n\n      if (currentPath !== activePath) {\n        return;\n      }\n\n      const nextParams = new URLSearchParams(params);\n      nextParams.set(\"theme\", theme.variant);\n      nextParams.set(\"bg\", String(theme.bg));\n\n      const queryString = nextParams.toString();\n      const hashFragment = window.location.hash ?? \"\";\n      const basePathAwarePath = window.location.pathname || \"/\";\n      const nextUrl = queryString\n        ? `${basePathAwarePath}?${queryString}`\n        : basePathAwarePath;\n\n      router.replace(`${nextUrl}${hashFragment}`, { scroll: false });\n    }, 50);\n\n    return () => {\n      if (timeout !== null) {\n        window.clearTimeout(timeout);\n      }\n    };\n  }, [theme, router, pathname, params]);\n}\n","// Shared class name for the preview surface wrapper so server components can\n// reuse the styling without importing client-only modules.\nexport const PREVIEW_SURFACE_CONTAINER_CLASSNAME =\n  \"relative flex w-full items-center justify-center rounded-card r-card-lg border border-card-hairline-60 bg-surface-2/70 p-[var(--space-5)] shadow-[var(--shadow-inset-hairline)]\";\n","\"use client\";\n\nimport { useCallback, useState } from \"react\";\n\nimport { cn } from \"@/lib/utils\";\n\nimport { PREVIEW_SURFACE_CONTAINER_CLASSNAME } from \"@/components/gallery/constants\";\nimport { PreviewRendererClient } from \"./PreviewRendererClient\";\n\nfunction PreviewSurfaceContainer({\n  children,\n  status,\n  className,\n  containerSize,\n}: {\n  readonly children?: React.ReactNode;\n  readonly status: \"loading\" | \"loaded\";\n  readonly className?: string;\n  readonly containerSize?: string;\n}) {\n  return (\n    <section\n      aria-busy={status === \"loading\"}\n      aria-live={status === \"loading\" ? \"polite\" : undefined}\n      className={cn(\n        PREVIEW_SURFACE_CONTAINER_CLASSNAME,\n        \"transition-[inline-size] duration-motion-sm ease-out motion-reduce:transition-none\",\n        containerSize ?? \"cq-lg\",\n        className,\n      )}\n      data-container-size={containerSize ?? \"cq-lg\"}\n      data-preview-container=\"\"\n      data-preview-ready={status}\n    >\n      {children}\n    </section>\n  );\n}\n\ninterface PreviewSurfaceProps {\n  readonly previewId: string;\n  readonly className?: string;\n  readonly containerSize?: string;\n}\n\nexport function PreviewSurface({\n  previewId,\n  className,\n  containerSize,\n}: PreviewSurfaceProps) {\n  const [status, setStatus] = useState<\"loading\" | \"loaded\">(\"loading\");\n\n  const handleReady = useCallback(() => {\n    setStatus(\"loaded\");\n  }, []);\n\n  const handleError = useCallback(() => {\n    setStatus(\"loaded\");\n  }, []);\n\n  return (\n    <PreviewSurfaceContainer\n      status={status}\n      className={className}\n      containerSize={containerSize}\n    >\n      <PreviewRendererClient\n        previewId={previewId}\n        onReady={handleReady}\n        onError={handleError}\n      />\n    </PreviewSurfaceContainer>\n  );\n}\n","\"use client\";\n\nimport * as React from \"react\";\nimport { Suspense } from \"react\";\n\nimport { PREVIEW_SURFACE_CONTAINER_CLASSNAME } from \"@/components/gallery/constants\";\nimport { PreviewSurface } from \"@/components/gallery/PreviewSurfaceClient\";\nimport { PreviewThemeClient } from \"@/components/gallery/PreviewThemeClient\";\nimport {\n  getGalleryPreviewAxisSummary,\n  type GalleryPreviewRoute,\n} from \"@/components/gallery\";\nimport {\n  BackgroundPicker,\n  Card,\n  Label,\n  ThemePicker,\n  Toggle,\n  Spinner,\n} from \"@/components/ui\";\nimport { usePersistentState } from \"@/lib/db\";\nimport {\n  VARIANT_LABELS,\n  decodeThemeState,\n  type Background,\n  type Variant,\n} from \"@/lib/theme\";\nimport { cn } from \"@/lib/utils\";\n\nconst BACKGROUND_LABELS: Record<Background, string> = {\n  0: \"Default\",\n  1: \"Alt 1\",\n  2: \"Alt 2\",\n  3: \"VHS\",\n  4: \"Streak\",\n};\n\nconst CONTAINER_OPTIONS = [\n  { id: \"cq-sm\", label: \"Compact\", width: \"≤320px\" },\n  { id: \"cq-md\", label: \"Comfort\", width: \"≤768px\" },\n  { id: \"cq-lg\", label: \"Full\", width: \"≤1024px\" },\n] as const;\n\ntype ContainerSize = (typeof CONTAINER_OPTIONS)[number][\"id\"];\n\ntype ControlState = {\n  variant: Variant;\n  bg: Background;\n  container: ContainerSize;\n  previewThemeEnabled: boolean;\n  previewBackgroundEnabled: boolean;\n};\n\ntype SectionKey = \"general\" | \"appearance\" | \"integrations\";\n\nfunction PreviewControlSection({\n  title,\n  description,\n  isExpanded,\n  onToggle,\n  children,\n}: {\n  title: string;\n  description?: string;\n  isExpanded: boolean;\n  onToggle: () => void;\n  children: React.ReactNode;\n}) {\n  const contentId = React.useId();\n\n  return (\n    <section>\n      <button\n        type=\"button\"\n        className=\"flex w-full items-center justify-between gap-[var(--space-3)] px-[var(--space-4)] py-[var(--space-3)] text-left transition-colors duration-motion-sm ease-out hover:text-foreground\"\n        aria-expanded={isExpanded}\n        aria-controls={contentId}\n        onClick={onToggle}\n      >\n        <div className=\"space-y-[var(--space-1)]\">\n          <p className=\"text-label font-semibold tracking-[0.08em] text-muted-foreground\">\n            {title}\n          </p>\n          {description ? (\n            <p className=\"text-caption text-muted-foreground/80\">{description}</p>\n          ) : null}\n        </div>\n        <span\n          aria-hidden\n          className=\"text-title font-semibold leading-none text-muted-foreground transition-transform duration-motion-sm ease-out\"\n        >\n          {isExpanded ? \"−\" : \"+\"}\n        </span>\n      </button>\n      <div\n        id={contentId}\n        hidden={!isExpanded}\n        aria-hidden={!isExpanded}\n        className=\"space-y-[var(--space-3)] px-[var(--space-4)] pb-[var(--space-4)] pt-[var(--space-2)]\"\n      >\n        {children}\n      </div>\n    </section>\n  );\n}\n\ninterface PreviewContentClientProps {\n  readonly route: GalleryPreviewRoute;\n}\n\nfunction isRecord(value: unknown): value is Record<string, unknown> {\n  return typeof value === \"object\" && value !== null;\n}\n\nfunction isContainerSize(value: unknown): value is ContainerSize {\n  if (typeof value !== \"string\") {\n    return false;\n  }\n  return CONTAINER_OPTIONS.some((option) => option.id === value);\n}\n\nfunction PreviewLoadingFallback({ containerSize }: { containerSize: ContainerSize }) {\n  return (\n    <section\n      aria-busy=\"true\"\n      aria-live=\"polite\"\n      className={cn(\n        PREVIEW_SURFACE_CONTAINER_CLASSNAME,\n        \"transition-[inline-size] duration-motion-sm ease-out motion-reduce:transition-none\",\n        containerSize,\n      )}\n      data-container-size={containerSize}\n      data-preview-container=\"\"\n      data-preview-ready=\"loading\"\n    >\n      <div\n        className=\"flex items-center gap-[var(--space-2)] text-label text-muted-foreground\"\n        role=\"status\"\n      >\n        <Spinner />\n        <span>Loading preview…</span>\n      </div>\n    </section>\n  );\n}\n\nexport default function PreviewContentClient({ route }: PreviewContentClientProps) {\n  const controlsHeadingId = React.useId();\n  const sliderId = React.useId();\n  const sliderDescriptionId = React.useId();\n  const sliderStatusId = React.useId();\n\n  const defaultState = React.useMemo<ControlState>(\n    () => ({\n      variant: route.themeVariant,\n      bg: route.themeBackground,\n      container: \"cq-lg\",\n      previewThemeEnabled: true,\n      previewBackgroundEnabled: true,\n    }),\n    [route.themeVariant, route.themeBackground],\n  );\n\n  const decodeControlState = React.useCallback(\n    (value: unknown): ControlState | null => {\n      if (!isRecord(value)) {\n        return null;\n      }\n\n      const themeState = decodeThemeState(value) ?? defaultState;\n      const rawContainer = value[\"container\"];\n      const container = isContainerSize(rawContainer)\n        ? rawContainer\n        : defaultState.container;\n      const previewThemeEnabled =\n        typeof value[\"previewThemeEnabled\"] === \"boolean\"\n          ? value[\"previewThemeEnabled\"]\n          : defaultState.previewThemeEnabled;\n      const previewBackgroundEnabled =\n        typeof value[\"previewBackgroundEnabled\"] === \"boolean\"\n          ? value[\"previewBackgroundEnabled\"]\n          : defaultState.previewBackgroundEnabled;\n\n      return {\n        variant: themeState.variant,\n        bg: themeState.bg,\n        container,\n        previewThemeEnabled,\n        previewBackgroundEnabled,\n      };\n    },\n    [defaultState],\n  );\n\n  const persistenceOptions = React.useMemo(\n    () => ({ decode: decodeControlState }),\n    [decodeControlState],\n  );\n\n  const [controlState, setControlState] = usePersistentState<ControlState>(\n    `preview.controls:${route.slug}`,\n    defaultState,\n    persistenceOptions,\n  );\n\n  const handleVariantChange = React.useCallback(\n    (next: Variant) => {\n      setControlState((prev) => {\n        if (prev.variant === next) {\n          return prev;\n        }\n        return { ...prev, variant: next };\n      });\n    },\n    [setControlState],\n  );\n\n  const handleBackgroundChange = React.useCallback(\n    (next: Background) => {\n      setControlState((prev) => {\n        if (prev.bg === next) {\n          return prev;\n        }\n        return { ...prev, bg: next };\n      });\n    },\n    [setControlState],\n  );\n\n  const handleContainerChange = React.useCallback(\n    (nextIndex: number) => {\n      if (!Number.isFinite(nextIndex)) {\n        return;\n      }\n      const clampedIndex = Math.min(\n        Math.max(Math.trunc(nextIndex), 0),\n        CONTAINER_OPTIONS.length - 1,\n      );\n      const option = CONTAINER_OPTIONS[clampedIndex];\n      setControlState((prev) => {\n        if (prev.container === option.id) {\n          return prev;\n        }\n        return { ...prev, container: option.id };\n      });\n    },\n    [setControlState],\n  );\n\n  const handleThemePreviewToggle = React.useCallback(\n    (nextSide: \"Left\" | \"Right\") => {\n      const nextEnabled = nextSide === \"Right\";\n      setControlState((prev) => {\n        if (prev.previewThemeEnabled === nextEnabled) {\n          return prev;\n        }\n        return { ...prev, previewThemeEnabled: nextEnabled };\n      });\n    },\n    [setControlState],\n  );\n\n  const handleBackgroundPreviewToggle = React.useCallback(\n    (nextSide: \"Left\" | \"Right\") => {\n      const nextEnabled = nextSide === \"Right\";\n      setControlState((prev) => {\n        if (prev.previewBackgroundEnabled === nextEnabled) {\n          return prev;\n        }\n        return { ...prev, previewBackgroundEnabled: nextEnabled };\n      });\n    },\n    [setControlState],\n  );\n\n  const [expandedSections, setExpandedSections] = React.useState<Record<SectionKey, boolean>>({\n    general: true,\n    appearance: false,\n    integrations: false,\n  });\n\n  const toggleSection = React.useCallback((key: SectionKey) => {\n    setExpandedSections((prev) => ({ ...prev, [key]: !prev[key] }));\n  }, []);\n\n  const currentContainerIndex = React.useMemo(() => {\n    const index = CONTAINER_OPTIONS.findIndex(\n      (option) => option.id === controlState.container,\n    );\n    if (index >= 0) {\n      return index;\n    }\n    return CONTAINER_OPTIONS.length - 1;\n  }, [controlState.container]);\n\n  const currentContainer = CONTAINER_OPTIONS[currentContainerIndex];\n  const containerProgress =\n    CONTAINER_OPTIONS.length > 1\n      ? (currentContainerIndex / (CONTAINER_OPTIONS.length - 1)) * 100\n      : 0;\n\n  const appliedVariant = controlState.previewThemeEnabled\n    ? controlState.variant\n    : defaultState.variant;\n  const appliedBackground = controlState.previewBackgroundEnabled\n    ? controlState.bg\n    : defaultState.bg;\n\n  const themeLabel = VARIANT_LABELS[appliedVariant];\n  const backgroundLabel =\n    BACKGROUND_LABELS[appliedBackground] ?? BACKGROUND_LABELS[0];\n  const backgroundSummary =\n    appliedBackground === 0 ? \"Default background\" : `${backgroundLabel} background`;\n\n  const sliderDescribedBy = `${sliderDescriptionId} ${sliderStatusId}`;\n  const stateLabel = route.stateName ? ` · ${route.stateName}` : \"\";\n  const axisSummary = React.useMemo(\n    () => getGalleryPreviewAxisSummary(route.entryId, route.stateId),\n    [route.entryId, route.stateId],\n  );\n\n  return (\n    <div\n      className=\"min-h-screen bg-background text-foreground\"\n      data-preview-entry={route.entryId}\n      data-preview-slug={route.slug}\n      data-preview-state={route.stateId ?? undefined}\n    >\n      <PreviewThemeClient variant={appliedVariant} background={appliedBackground} />\n      <div className=\"mx-auto flex min-h-screen w-full max-w-6xl flex-col gap-[var(--space-5)] px-[var(--space-5)] py-[var(--space-6)]\">\n        <header className=\"space-y-[var(--space-2)]\">\n          <p className=\"text-caption font-medium uppercase tracking-[0.2em] text-muted-foreground\">\n            Gallery preview\n          </p>\n          <h1 className=\"text-title font-semibold tracking-[-0.01em]\">\n            {route.entryName}\n            {stateLabel ? <span className=\"text-muted-foreground\">{stateLabel}</span> : null}\n          </h1>\n          <p aria-live=\"polite\" className=\"text-label text-muted-foreground\">\n            {themeLabel} · {backgroundSummary}\n          </p>\n          {axisSummary ? (\n            <p className=\"text-caption text-muted-foreground\">{axisSummary}</p>\n          ) : null}\n        </header>\n\n        <section aria-labelledby={controlsHeadingId} className=\"space-y-[var(--space-3)]\">\n          <h2\n            id={controlsHeadingId}\n            className=\"text-caption font-semibold uppercase tracking-[0.2em] text-muted-foreground\"\n          >\n            Preview controls\n          </h2>\n          <Card className=\"bg-surface/75 border border-card-hairline-55 shadow-outline-subtle backdrop-blur-sm\">\n            <div className=\"flex flex-col divide-y divide-card-hairline-40\">\n              <PreviewControlSection\n                title=\"General\"\n                description=\"Primary preview settings\"\n                isExpanded={expandedSections.general}\n                onToggle={() => toggleSection(\"general\")}\n              >\n                <div className=\"space-y-[var(--space-2)]\">\n                  <Label htmlFor={sliderId}>Container width</Label>\n                  <p\n                    id={sliderDescriptionId}\n                    className=\"text-caption text-muted-foreground\"\n                  >\n                    Snap the preview to the small, medium, or large container query breakpoints.\n                  </p>\n                  <div\n                    className=\"group/slider relative mt-[var(--space-1)] h-[var(--space-6)] rounded-[var(--control-radius)] focus-within:outline-none focus-within:ring-2 focus-within:ring-ring focus-within:ring-offset-2 focus-within:ring-offset-background\"\n                  >\n                    <div\n                      className=\"pointer-events-none absolute left-0 right-0 top-1/2 h-[var(--space-1)] -translate-y-1/2 rounded-full bg-card-hairline-45 shadow-[var(--shadow-inset-hairline)]\"\n                      aria-hidden\n                    />\n                    <div\n                      className=\"pointer-events-none absolute left-0 top-1/2 h-[var(--space-1)] -translate-y-1/2 rounded-full bg-accent/60 shadow-[var(--shadow-glow-sm)] transition-[width] duration-motion-sm ease-out motion-reduce:transition-none\"\n                      style={{ width: `${containerProgress}%` }}\n                      aria-hidden\n                    />\n                    <div\n                      className=\"pointer-events-none absolute top-1/2 size-[var(--space-5)] -translate-y-1/2 -translate-x-1/2 rounded-full border border-card-hairline-60 bg-card/90 shadow-[var(--shadow-control)] transition-[left] duration-motion-sm ease-out motion-reduce:transition-none group-focus-visible/slider:ring-2 group-focus-visible/slider:ring-ring group-focus-visible/slider:ring-offset-2 group-focus-visible/slider:ring-offset-background group-focus-visible/slider:shadow-[var(--shadow-glow-md)]\"\n                      style={{ left: `${containerProgress}%` }}\n                      aria-hidden\n                    />\n                    <input\n                      id={sliderId}\n                      type=\"range\"\n                      min={0}\n                      max={CONTAINER_OPTIONS.length - 1}\n                      step={1}\n                      value={currentContainerIndex}\n                      aria-valuetext={`${currentContainer.label} width (${currentContainer.width})`}\n                      aria-describedby={sliderDescribedBy}\n                      onChange={(event) => {\n                        const nextValue = Number(event.target.value);\n                        handleContainerChange(nextValue);\n                      }}\n                      className=\"absolute inset-0 z-10 h-full w-full cursor-pointer appearance-none rounded-[var(--control-radius)] opacity-0 focus-visible:outline-none\"\n                    />\n                  </div>\n                  <p\n                    id={sliderStatusId}\n                    aria-live=\"polite\"\n                    className=\"text-caption text-muted-foreground\"\n                  >\n                    {currentContainer.label} width · {currentContainer.width}\n                  </p>\n                  <div className=\"flex items-center justify-between text-caption text-muted-foreground\" aria-hidden>\n                    {CONTAINER_OPTIONS.map((option) => {\n                      const selected = option.id === currentContainer.id;\n                      return (\n                        <span\n                          key={option.id}\n                          className={cn(\n                            \"flex-1 text-center\",\n                            selected && \"font-semibold text-foreground\",\n                          )}\n                        >\n                          {option.label}\n                        </span>\n                      );\n                    })}\n                  </div>\n                </div>\n              </PreviewControlSection>\n\n              <PreviewControlSection\n                title=\"Appearance\"\n                description=\"Customize how the preview looks\"\n                isExpanded={expandedSections.appearance}\n                onToggle={() => toggleSection(\"appearance\")}\n              >\n                <div className=\"space-y-[var(--space-4)]\">\n                  <div className=\"space-y-[var(--space-3)]\">\n                    <div className=\"flex flex-col gap-[var(--space-3)] md:flex-row md:items-center md:justify-between\">\n                      <div className=\"space-y-[var(--space-1)]\">\n                        <p className=\"text-label font-medium\">Theme preview</p>\n                        <p className=\"text-caption text-muted-foreground\">\n                          Toggle to apply theme changes to the live preview.\n                        </p>\n                      </div>\n                      <Toggle\n                        leftLabel=\"Off\"\n                        rightLabel=\"On\"\n                        value={controlState.previewThemeEnabled ? \"Right\" : \"Left\"}\n                        onChange={handleThemePreviewToggle}\n                      />\n                    </div>\n                    <div className=\"flex flex-col gap-[var(--space-3)] md:flex-row md:items-center md:justify-between\">\n                      <div className=\"space-y-[var(--space-1)]\">\n                        <p className=\"text-label font-medium\">Background preview</p>\n                        <p className=\"text-caption text-muted-foreground\">\n                          Control whether background updates are reflected in the preview.\n                        </p>\n                      </div>\n                      <Toggle\n                        leftLabel=\"Off\"\n                        rightLabel=\"On\"\n                        value={controlState.previewBackgroundEnabled ? \"Right\" : \"Left\"}\n                        onChange={handleBackgroundPreviewToggle}\n                      />\n                    </div>\n                  </div>\n\n                  <div className=\"grid gap-[var(--space-3)] md:grid-cols-2\">\n                    <ThemePicker\n                      variant={controlState.variant}\n                      onVariantChange={handleVariantChange}\n                      className=\"w-full\"\n                      disabled={!controlState.previewThemeEnabled}\n                    />\n                    <BackgroundPicker\n                      bg={controlState.bg}\n                      onBgChange={handleBackgroundChange}\n                      className=\"w-full\"\n                      disabled={!controlState.previewBackgroundEnabled}\n                    />\n                  </div>\n                </div>\n              </PreviewControlSection>\n\n              <PreviewControlSection\n                title=\"Integrations\"\n                description=\"Connect external tooling\"\n                isExpanded={expandedSections.integrations}\n                onToggle={() => toggleSection(\"integrations\")}\n              >\n                <p className=\"text-caption text-muted-foreground\">\n                  Hook up integrations to sync preview preferences across design and development environments.\n                </p>\n              </PreviewControlSection>\n            </div>\n          </Card>\n        </section>\n\n        <div className=\"flex flex-1 items-center justify-center\">\n          <Suspense fallback={<PreviewLoadingFallback containerSize={controlState.container} />}>\n            <PreviewSurface\n              previewId={route.previewId}\n              containerSize={controlState.container}\n            />\n          </Suspense>\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":["PreviewThemeClient","variant","background","setTheme","useTheme","useThemeQuerySync","React","current","bg","HEADER_TAB_FOCUS_VISIBLE_CLASSNAME","ITEMS","key","label","icon","Circle","aria-hidden","CircleDot","className","CircleCheck","disabled","HeaderTabsGalleryPreview","value","setValue","find","item","HeaderTabs","items","onChange","ariaLabel","idBase","HeaderTabsGallery","defineGallerySection","id","entries","name","description","kind","tags","axes","type","values","preview","createGalleryPreview","render","code","normalizePathForComparison","path","trimmed","endsWith","replace","length","router","useRouter","pathname","usePathname","paramsKey","useSearchParams","toString","params","URLSearchParams","theme","themeParam","get","bgParam","next","prev","VARIANTS","some","v","idx","Number","isNaN","BG_CLASSES","currentTheme","currentBg","String","activePath","withoutBasePath","window","location","timeout","setTimeout","nextParams","set","queryString","hashFragment","hash","basePathAwarePath","nextUrl","scroll","clearTimeout","PREVIEW_SURFACE_CONTAINER_CLASSNAME","PreviewSurfaceContainer","children","status","containerSize","section","aria-busy","aria-live","undefined","cn","data-container-size","data-preview-container","data-preview-ready","PreviewSurface","previewId","setStatus","useState","handleReady","useCallback","handleError","PreviewRendererClient","onReady","onError","BACKGROUND_LABELS","CONTAINER_OPTIONS","width","PreviewControlSection","title","isExpanded","onToggle","contentId","button","aria-expanded","aria-controls","onClick","div","p","span","hidden","PreviewLoadingFallback","role","Spinner","PreviewContentClient","route","controlsHeadingId","sliderId","sliderDescriptionId","sliderStatusId","defaultState","themeVariant","themeBackground","container","previewThemeEnabled","previewBackgroundEnabled","decodeControlState","decodeThemeState","isRecord","themeState","rawContainer","option","persistenceOptions","decode","controlState","setControlState","usePersistentState","slug","handleVariantChange","handleBackgroundChange","handleContainerChange","isFinite","nextIndex","clampedIndex","Math","min","max","trunc","handleThemePreviewToggle","nextEnabled","nextSide","handleBackgroundPreviewToggle","expandedSections","setExpandedSections","general","appearance","integrations","toggleSection","currentContainerIndex","index","findIndex","currentContainer","containerProgress","appliedVariant","appliedBackground","themeLabel","VARIANT_LABELS","backgroundLabel","sliderDescribedBy","stateLabel","stateName","axisSummary","getGalleryPreviewAxisSummary","entryId","stateId","data-preview-entry","data-preview-slug","data-preview-state","header","h1","entryName","aria-labelledby","h2","Card","Label","htmlFor","style","left","input","step","aria-valuetext","aria-describedby","event","target","nextValue","map","selected","Toggle","leftLabel","rightLabel","ThemePicker","onVariantChange","BackgroundPicker","onBgChange","Suspense","fallback"],"sourceRoot":"","ignoreList":[]}