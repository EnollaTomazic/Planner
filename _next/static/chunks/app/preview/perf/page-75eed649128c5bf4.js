(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6937],{50306:(e,t,r)=>{"use strict";r.d(t,{I6:()=>n,Ik:()=>o,ZI:()=>h,q0:()=>a,vb:()=>d});let n=["bg-border","bg-border-subtle","bg-input","bg-ring","bg-background","bg-foreground","bg-card","bg-surface","bg-surface-muted","bg-surface-hover","bg-surface-foreground","bg-surface-2","bg-surface-2-foreground","bg-panel","bg-card-hairline","bg-card-hairline-40","bg-card-hairline-45","bg-card-hairline-55","bg-card-hairline-60","bg-card-hairline-65","bg-card-hairline-70","bg-card-hairline-75","bg-card-hairline-90","bg-primary","bg-primary-foreground","bg-primary-soft","bg-accent","bg-accent-foreground","bg-accent-soft","bg-accent-overlay","bg-on-accent","bg-accent-3","bg-accent-2","bg-accent-2-foreground","bg-glow","bg-ring-muted","bg-danger","bg-danger-foreground","bg-warning","bg-warning-foreground","bg-warning-soft","bg-warning-soft-strong","bg-success","bg-success-foreground","bg-success-soft","bg-success-glow","bg-tone-top","bg-tone-jg","bg-tone-mid","bg-tone-bot","bg-tone-sup","bg-aurora-g","bg-aurora-g-light","bg-aurora-p","bg-aurora-p-light","bg-muted","bg-muted-foreground","bg-lav-deep","bg-surface-vhs","bg-surface-streak","bg-card-foreground","bg-interaction-primary-hover","bg-interaction-primary-active","bg-interaction-focus-hover","bg-interaction-focus-active","bg-interaction-focus-surfaceHover","bg-interaction-focus-surfaceActive","bg-interaction-focus-tintHover","bg-interaction-focus-tintActive","bg-interaction-accent-hover","bg-interaction-accent-active","bg-interaction-accent-surfaceHover","bg-interaction-accent-surfaceActive","bg-interaction-accent-tintHover","bg-interaction-accent-tintActive","bg-interaction-info-hover","bg-interaction-info-active","bg-interaction-info-surfaceHover","bg-interaction-info-surfaceActive","bg-interaction-info-tintHover","bg-interaction-info-tintActive","bg-interaction-danger-hover","bg-interaction-danger-active","bg-interaction-danger-surfaceHover","bg-interaction-danger-surfaceActive","bg-interaction-danger-tintHover","bg-interaction-danger-tintActive","bg-interaction-foreground-tintHover","bg-interaction-foreground-tintActive","bg-ring-contrast"],a=[4,8,12,16,24,32,48,64],i=[["xs",{diameter:a[4],stroke:a[0]}],["s",{diameter:a[5],stroke:a[0]}],["m",{diameter:a[7],stroke:a[0]}],["l",{diameter:3.5*a[7],stroke:a[0]}]],s=i.reduce((e,t)=>{let[r]=t;return e[r]={diameter:"--ring-diameter-".concat(r),stroke:"--ring-stroke-".concat(r)},e},{}),l=i.reduce((e,t)=>{let[r,{diameter:n,stroke:i}]=t;return e[r]={diameter:n,stroke:i,inset:a[2]/2},e},{}),o=(e,t)=>{var r,n,a;let i=s[e],o=l[e],c=null!=(r=null==t?void 0:t.diameter)?r:o.diameter,d=null!=(n=null==t?void 0:t.stroke)?n:o.stroke,u=null!=(a=null==t?void 0:t.inset)?a:o.inset,m=h(i.diameter,c);return{diameter:m,stroke:h(i.stroke,d),inset:h("--ring-inset-".concat(e),h("--ring-inset",u))}},c=[["sm",6],["md",8],["lg",12],["xl",16],["2xl",24],["full",9999]];c.reduce((e,t)=>{let[r,n]=t;return e[r]=n,e},{});let d=c.map(e=>{let[t]=e;return"--radius-".concat(t)}),u=(e,t)=>{if("("!==e[t])return null;let r=0;for(let n=t;n<e.length;n+=1){let a=e[n];if("("===a){r+=1;continue}if(")"===a&&0==(r-=1))return{body:e.slice(t+1,n),endIndex:n+1}}return null},m=(e,t,r)=>{let n=e.trim();if(!n)return null;let a=Number.parseFloat(n);if(Number.isFinite(a))return a;let i=n.toLowerCase();if(i.startsWith("var(")){let e=(e=>{let t=e.trim(),r=t.toLowerCase();if(!r.startsWith("var(")||!t.endsWith(")"))return null;let n=u(t,r.indexOf("("));if(!n)return null;let a=n.body,i=0,s="",l="",o=!1;for(let e=0;e<a.length;e+=1){let t=a[e];if("("===t)i+=1;else if(")"===t)i-=1;else if(","===t&&0===i&&!o){o=!0;continue}o?l+=t:s+=t}let c=s.trim();return c.startsWith("--")?{name:c,fallback:o&&l.trim()||void 0}:null})(n);if(!e)return null;let{name:a,fallback:i}=e;if(r.has(a))return null;let s=new Set(r);s.add(a);let l=t.getPropertyValue(a).trim();if(l){let e=m(l,t,s);if(null!==e)return e}return i?m(i,t,s):null}if(i.startsWith("calc(")&&n.endsWith(")")){let e=u(n,i.indexOf("("));if(!e)return null;let a=0,{body:s}=e,l="",o=s.toLowerCase();for(;a<s.length;){if(o.startsWith("var(",a)){let e=s.indexOf("(",a+3);if(-1===e)return null;let n=u(s,e);if(!n)return null;let i=m("var(".concat(n.body,")"),t,new Set(r));l+=null!==i?String(i):"0",a=n.endIndex;continue}if(o.startsWith("calc(",a)){let e=s.indexOf("(",a+4);if(-1===e)return null;let n=u(s,e);if(!n)return null;let i=m("calc(".concat(n.body,")"),t,new Set(r));l+=null!==i?String(i):"0",a=n.endIndex;continue}l+=s[a],a+=1}let c=l.replace(/(-?\d*\.?\d+(?:e[+-]?\d+)?)\s*[a-z%]+/gi,"$1").replace(/[^0-9+\-*/().\s]/g,"");if(!c.trim())return null;try{let e=Function("return ("+c+");")();return"number"==typeof e&&Number.isFinite(e)?e:null}catch(e){}}return null},h=(e,t)=>{if("undefined"==typeof document)return t;let r=getComputedStyle(document.documentElement),n=r.getPropertyValue(e).trim();if(!n)return t;let a=m(n,r,new Set([e]));return null!==a?a:t}},59947:(e,t,r)=>{Promise.resolve().then(r.bind(r,77425)),Promise.resolve().then(r.bind(r,90477)),Promise.resolve().then(r.bind(r,23942)),Promise.resolve().then(r.bind(r,97599)),Promise.resolve().then(r.bind(r,73883)),Promise.resolve().then(r.bind(r,33688)),Promise.resolve().then(r.bind(r,3283)),Promise.resolve().then(r.bind(r,52511)),Promise.resolve().then(r.bind(r,84020)),Promise.resolve().then(r.bind(r,71719)),Promise.resolve().then(r.bind(r,27627)),Promise.resolve().then(r.bind(r,19767)),Promise.resolve().then(r.bind(r,33173)),Promise.resolve().then(r.bind(r,40645)),Promise.resolve().then(r.bind(r,36499)),Promise.resolve().then(r.bind(r,71197)),Promise.resolve().then(r.bind(r,9093)),Promise.resolve().then(r.bind(r,67412)),Promise.resolve().then(r.bind(r,53052)),Promise.resolve().then(r.bind(r,15880)),Promise.resolve().then(r.bind(r,57144)),Promise.resolve().then(r.bind(r,23986)),Promise.resolve().then(r.bind(r,70483)),Promise.resolve().then(r.bind(r,99597)),Promise.resolve().then(r.bind(r,42502)),Promise.resolve().then(r.bind(r,71633)),Promise.resolve().then(r.bind(r,72008)),Promise.resolve().then(r.bind(r,86646)),Promise.resolve().then(r.bind(r,41061)),Promise.resolve().then(r.bind(r,81464)),Promise.resolve().then(r.bind(r,3278)),Promise.resolve().then(r.bind(r,14713)),Promise.resolve().then(r.bind(r,97967)),Promise.resolve().then(r.bind(r,85023)),Promise.resolve().then(r.bind(r,79766)),Promise.resolve().then(r.bind(r,66403)),Promise.resolve().then(r.bind(r,31121)),Promise.resolve().then(r.bind(r,81398)),Promise.resolve().then(r.bind(r,94465)),Promise.resolve().then(r.bind(r,71504)),Promise.resolve().then(r.bind(r,61920)),Promise.resolve().then(r.bind(r,11087)),Promise.resolve().then(r.bind(r,75279)),Promise.resolve().then(r.bind(r,11615)),Promise.resolve().then(r.bind(r,72705)),Promise.resolve().then(r.bind(r,17061)),Promise.resolve().then(r.bind(r,50641)),Promise.resolve().then(r.bind(r,71876)),Promise.resolve().then(r.bind(r,68176)),Promise.resolve().then(r.bind(r,7040)),Promise.resolve().then(r.bind(r,92589)),Promise.resolve().then(r.bind(r,52105)),Promise.resolve().then(r.bind(r,22753)),Promise.resolve().then(r.bind(r,66474)),Promise.resolve().then(r.bind(r,54734)),Promise.resolve().then(r.bind(r,91141)),Promise.resolve().then(r.bind(r,20321)),Promise.resolve().then(r.bind(r,91839)),Promise.resolve().then(r.bind(r,45167)),Promise.resolve().then(r.bind(r,45409)),Promise.resolve().then(r.bind(r,4069)),Promise.resolve().then(r.bind(r,17606)),Promise.resolve().then(r.bind(r,14005)),Promise.resolve().then(r.bind(r,33233)),Promise.resolve().then(r.bind(r,91286)),Promise.resolve().then(r.bind(r,40357)),Promise.resolve().then(r.bind(r,80134)),Promise.resolve().then(r.bind(r,75389)),Promise.resolve().then(r.bind(r,53143)),Promise.resolve().then(r.bind(r,81910)),Promise.resolve().then(r.bind(r,77855)),Promise.resolve().then(r.bind(r,67213)),Promise.resolve().then(r.bind(r,69935)),Promise.resolve().then(r.bind(r,16443)),Promise.resolve().then(r.bind(r,49412)),Promise.resolve().then(r.bind(r,5131)),Promise.resolve().then(r.bind(r,4035)),Promise.resolve().then(r.bind(r,1532)),Promise.resolve().then(r.bind(r,32740))},77425:(e,t,r)=>{"use strict";r.d(t,{default:()=>w});var n,a,i,s=r(95155),l=r(12115);let o=(0,r(71847).A)("database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);var c=r(91182),d=r(27566);r(80311);var u=r(87358);let m=null==(n=u.env.NEXT_PUBLIC_ENABLE_METRICS)?void 0:n.trim().toLowerCase(),h=null==(a=u.env.NEXT_PUBLIC_METRICS_ENDPOINT)?void 0:a.trim();!m||"auto"===m||["true","1","yes","on"].includes(m)||["false","0","no","off"].includes(m),h&&(h.startsWith("http://")||h.startsWith("https://")||(h.startsWith("/")?(0,d.hd)(h,{trailingSlash:!1}):(0,d.hd)("/".concat(h),{trailingSlash:!1})));let g=null!=(i=r(50306).q0[6])?i:48,b=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:4,t=["LCP","FID","CLS","TTFB"],r=["good","needs-improvement","good","poor"],n=[2380,120,.07,420];return Array.from({length:e},(e,a)=>{var i;let s=t[a%t.length],l=r[a%r.length],o=n[a%n.length];return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={},r={};for(let[n,a]of Object.entries(e))"page"===n||"timestamp"===n||"visibilityState"===n?r[n]=a:t[n]=a;return function(e){var t,r,n;let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=null!=(t=a.page)?t:window.location.pathname,s=null!=(r=a.timestamp)?r:Date.now(),l=null!=(n=a.visibilityState)?n:"undefined"!=typeof document?document.visibilityState:void 0;return{metric:{id:e.id,name:e.name,label:e.label,value:e.value,delta:e.delta,rating:e.rating,startTime:e.startTime,navigationType:e.navigationType,entries:function(e){if(e&&0!==e.length)return e.map(e=>{if("function"==typeof e.toJSON){var t,r,n,a;let i=e.toJSON();return{name:null!=(t=i.name)?t:e.name,entryType:null!=(r=i.entryType)?r:e.entryType,startTime:null!=(n=i.startTime)?n:e.startTime,duration:null!=(a=i.duration)?a:e.duration}}return{name:e.name,entryType:e.entryType,startTime:e.startTime,duration:e.duration}})}(e.entries)},page:i,timestamp:s,visibilityState:l}}(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{id:"mock-metric-1",name:"LCP",label:"web-vital",value:2450,startTime:180,delta:20,rating:"good",navigationType:"navigate",entries:[{name:"largest-contentful-paint",entryType:"largest-contentful-paint",startTime:180,duration:0,toJSON(){return{name:this.name,entryType:this.entryType,startTime:this.startTime,duration:this.duration}}}],...e}}(t),r)}({id:"mock-".concat(null!=(i=null==s?void 0:s.toLowerCase())?i:"metric","-").concat(a+1),name:null!=s?s:"LCP",label:"web-vital",rating:l,value:o,startTime:120+30*a,delta:"good"===l?void 0:5*a,page:a%2==0?"/preview/perf":"/dashboard",timestamp:Date.now()-1e3*a})})}(5),v=["Critical","High","Medium","Low"],p=["Research","Onboarding","Growth","Integrations","Billing","Insights"],f={Research:"neutral",Onboarding:"accent",Growth:"top",Integrations:"support",Billing:"primary",Insights:"bot"},x=(e,t,r)=>e<t?t:e>r?r:e,j=Array.from({length:420},(e,t)=>{var r;let n=v[t%v.length],a=null!=(r=p[t%p.length])?r:p[0];return{id:t+1,title:"Scenario audit ".concat(String(t+1).padStart(3,"0")),priority:n,owner:a,estimate:1.5+1.3*t%6,completed:t%11==0}}),y=(()=>{let e=new Date;return Array.from({length:720},(t,r)=>{let n=new Date(e.getTime()-60*r*6e4),a=x(.4+.25*Math.sin(r/9)+.2*Math.random(),.1,1);return{iso:n.toISOString(),label:n.toLocaleString(void 0,{month:"short",day:"numeric",hour:"numeric"}),value:a}}).reverse()})();function w(){return(0,s.jsxs)("div",{className:"space-y-[var(--space-6)]",children:[(0,s.jsx)(P,{payloads:b}),(0,s.jsx)(k,{items:j}),(0,s.jsx)(T,{points:y})]})}let N={good:"primary","needs-improvement":"accent",poor:"bot"};function P(e){let{payloads:t}=e;return(0,s.jsxs)("section",{"aria-labelledby":"perf-metrics-heading",className:"space-y-[var(--space-4)]","data-perf-panel":"metrics-feed",children:[(0,s.jsxs)("header",{className:"flex flex-wrap items-center justify-between gap-[var(--space-3)]",children:[(0,s.jsxs)("div",{className:"space-y-[var(--space-1)]",children:[(0,s.jsx)("h2",{id:"perf-metrics-heading",className:"text-heading-sm font-semibold tracking-[-0.01em]",children:"Web vitals dispatch"}),(0,s.jsx)("p",{className:"max-w-3xl text-label text-muted-foreground",children:"Metrics helpers normalize entries for previews, tests, and production reporting so tone swatches stay aligned across themes."})]}),(0,s.jsxs)(c.Ex,{tone:"support",className:"uppercase tracking-[0.12em]",children:[t.length," captured"]})]}),(0,s.jsx)("div",{className:"grid gap-[var(--space-3)] sm:grid-cols-2",children:t.map(e=>{var t,r;let n=null!=(t=e.metric.rating)?t:"good";return(0,s.jsxs)("article",{className:"space-y-[var(--space-3)] rounded-[var(--radius-lg)] border border-border/40 bg-surface/60 p-[var(--space-4)]",children:[(0,s.jsxs)("header",{className:"flex items-center justify-between gap-[var(--space-3)]",children:[(0,s.jsxs)("div",{className:"space-y-[var(--space-1)]",children:[(0,s.jsx)("p",{className:"text-caption uppercase tracking-[0.12em] text-muted-foreground",children:e.page}),(0,s.jsx)("h3",{className:"text-body font-semibold text-foreground",children:e.metric.name})]}),(0,s.jsx)(c.Ex,{tone:N[n],children:n.split("-").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ")})]}),(0,s.jsxs)("dl",{className:"grid gap-[var(--space-2)] text-label text-muted-foreground",children:[(0,s.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-[var(--space-2)]",children:[(0,s.jsx)("dt",{className:"uppercase tracking-[0.12em]",children:"Value"}),(0,s.jsx)("dd",{className:"text-body font-medium text-foreground",children:function(e){switch(e.name){case"CLS":return e.value.toFixed(2);case"FID":case"TTFB":return"".concat(Math.round(e.value),"ms");case"LCP":return"".concat((e.value/1e3).toFixed(2),"s");default:return"".concat(e.value)}}(e.metric)})]}),void 0!==e.metric.delta?(0,s.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-[var(--space-2)]",children:[(0,s.jsx)("dt",{className:"uppercase tracking-[0.12em]",children:"Delta"}),(0,s.jsx)("dd",{className:"text-body font-medium text-foreground",children:Number.isNaN(r=e.metric.delta)?"0":r>=1e3?"".concat((r/1e3).toFixed(2),"s"):r>=1?"".concat(Math.round(r),"ms"):r.toFixed(2)})]}):null,(0,s.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-[var(--space-2)]",children:[(0,s.jsx)("dt",{className:"uppercase tracking-[0.12em]",children:"Recorded"}),(0,s.jsx)("dd",{className:"font-medium text-foreground",children:new Date(e.timestamp).toLocaleTimeString()})]})]})]},"".concat(e.metric.id,"-").concat(e.timestamp))})})]})}function k(e){let{items:t}=e,r=l.useRef(null),n=t.length>32,a=n?"Virtualized list enabled for ".concat(t.length," items."):"Rendering ".concat(t.length," items without virtualization.");return(0,s.jsxs)("section",{"aria-labelledby":"perf-backlog-heading",className:"space-y-[var(--space-4)]","data-perf-panel":"backlog",children:[(0,s.jsxs)("header",{className:"flex flex-wrap items-center justify-between gap-[var(--space-3)]",children:[(0,s.jsxs)("div",{className:"space-y-[var(--space-1)]",children:[(0,s.jsx)("h2",{id:"perf-backlog-heading",className:"text-heading-sm font-semibold tracking-[-0.01em]",children:"Backlog virtualization guard"}),(0,s.jsxs)("p",{className:"max-w-3xl text-label text-muted-foreground",children:["Lists switch to windowed rendering once rows exceed ",32," entries. Spacer elements hold layout so theme shadows stay stable for screenshot audits."]})]}),(0,s.jsx)(c.Ex,{tone:n?"accent":"neutral",className:"uppercase tracking-[0.12em]",children:n?"Virtualized rendering active":"Static rendering"})]}),(0,s.jsx)("div",{"aria-live":"polite",className:"sr-only","data-perf-virtualized-announcement":"",children:a}),(0,s.jsxs)("div",{className:"overflow-hidden rounded-[var(--radius-lg)] border border-border/40",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between gap-[var(--space-3)] border-b border-border/40 bg-surface/60 px-[var(--space-3)] py-[var(--space-2)] text-caption uppercase tracking-[0.12em] text-muted-foreground",children:[(0,s.jsx)("span",{children:"Scenario"}),(0,s.jsxs)("span",{className:"flex items-center gap-[var(--space-2)] text-right",children:["Virtual scroll budget",(0,s.jsx)(o,{"aria-hidden":"true",className:"h-[var(--space-4)] w-[var(--space-4)] opacity-60"})]})]}),(0,s.jsx)("div",{ref:r,className:(0,d.cn)("max-h-[calc(var(--space-8)*6)] overflow-y-auto","bg-card text-ui"),children:(0,s.jsxs)("table",{className:"w-full border-separate border-spacing-0",role:"grid",children:[(0,s.jsx)("thead",{className:"sticky top-0 z-10 bg-card/95 backdrop-blur",children:(0,s.jsxs)("tr",{className:"text-left text-caption uppercase tracking-[0.12em] text-muted-foreground",children:[(0,s.jsx)("th",{scope:"col",className:"px-[var(--space-3)] py-[var(--space-2)]",children:"ID"}),(0,s.jsx)("th",{scope:"col",className:"px-[var(--space-3)] py-[var(--space-2)]",children:"Scenario"}),(0,s.jsx)("th",{scope:"col",className:"px-[var(--space-3)] py-[var(--space-2)]",children:"Owner"}),(0,s.jsx)("th",{scope:"col",className:"px-[var(--space-3)] py-[var(--space-2)] text-right",children:"Estimate"})]})}),(0,s.jsx)("tbody",{children:n?(0,s.jsx)(c.SR,{items:t,rowHeight:g,overscan:6,scrollParentRef:r,renderSpacer:(e,t)=>(0,s.jsx)("tr",{"aria-hidden":!0,className:"h-0","data-virtualized-spacer":t,children:(0,s.jsx)("td",{colSpan:4,children:(0,s.jsx)("div",{style:{blockSize:"".concat(Math.max(0,e),"px")}})})}),renderItem:e=>(0,s.jsx)(S,{item:e},e.id)}):t.map(e=>(0,s.jsx)(S,{item:e},e.id))})]})})]})]})}function S(e){var t;let r,{item:n}=e;return(0,s.jsxs)("tr",{className:"border-b border-border/30 last:border-b-0","data-virtualized-row":n.id,style:{blockSize:"var(--space-6)"},children:[(0,s.jsxs)("th",{scope:"row",className:"w-[var(--space-12)] px-[var(--space-3)] text-caption uppercase tracking-[0.12em] text-muted-foreground",children:["#",n.id.toString().padStart(3,"0")]}),(0,s.jsx)("td",{className:"px-[var(--space-3)]",children:(0,s.jsxs)("div",{className:"flex flex-col gap-[var(--space-1)]",children:[(0,s.jsx)("span",{className:"text-body font-medium text-foreground",children:n.title}),(0,s.jsxs)("span",{className:"text-label text-muted-foreground",children:["Priority \xb7 ",n.priority]})]})}),(0,s.jsx)("td",{className:"px-[var(--space-3)]",children:(0,s.jsx)(c.Ex,{tone:f[t=n.owner]?f[t]:"neutral",children:n.owner})}),(0,s.jsx)("td",{className:"px-[var(--space-3)] text-right",children:(0,s.jsxs)("div",{className:"inline-flex items-center gap-[var(--space-2)]",children:[(0,s.jsx)("div",{className:"w-[calc(var(--space-8)*2)]",children:(0,s.jsx)(c.ke,{value:n.completed?100:Math.min(75,16*n.estimate),label:"Completion estimate for ".concat(n.title)})}),(0,s.jsx)("span",{className:"text-label text-muted-foreground",children:(r=n.estimate,"".concat(r.toFixed(1),"h"))})]})})]})}function T(e){let{points:t}=e,[r,n]=l.useState(()=>Math.max(0,t.length-240)),a=l.useMemo(()=>(function(e,t,r,n){var a,i,s;if(0===e.length)return{series:[],windowLabel:"No data",coverage:{total:0,window:0,visible:0}};let l=x(t,0,Math.max(0,e.length-1)),o=x(l+240,l+1,e.length),c=e.slice(l,o),d=Math.max(1,Math.ceil(c.length/120)),u=[];for(let e=0;e<c.length;e+=d){let t=c.slice(e,e+d),r=t.reduce((e,t)=>e+t.value,0)/Math.max(t.length,1),n=null!=(i=t[Math.floor(t.length/2)])?i:t[0];u.push({iso:n.iso,label:n.label,value:r})}return{series:u,windowLabel:null!=(s=null==(a=c[0])?void 0:a.label)?s:"",coverage:{total:e.length,window:c.length,visible:u.length}}})(t,r,240,120),[t,r]),i=a.coverage,o="Showing ".concat(i.visible," of ").concat(i.total," intervals (").concat(i.window," in focus).");return(0,s.jsxs)("section",{"aria-labelledby":"perf-load-heading",className:"space-y-[var(--space-4)]","data-perf-panel":"load-window",children:[(0,s.jsxs)("header",{className:"flex flex-wrap items-center justify-between gap-[var(--space-3)]",children:[(0,s.jsxs)("div",{className:"space-y-[var(--space-1)]",children:[(0,s.jsx)("h2",{id:"perf-load-heading",className:"text-heading-sm font-semibold tracking-[-0.01em]",children:"Chart windowing guard"}),(0,s.jsxs)("p",{className:"max-w-3xl text-label text-muted-foreground",children:["Load trends stream 30 days of hourly samples but only render ",120," points per window. The scrub control advances a two-day window without introducing layout shift."]})]}),(0,s.jsxs)(c.Ex,{tone:"accent",className:"uppercase tracking-[0.12em]",children:["Downsampled ",a.series.length]})]}),(0,s.jsx)("div",{className:"sr-only","aria-live":"polite","data-perf-load-announcement":"",children:o}),(0,s.jsxs)("figure",{className:"space-y-[var(--space-4)]",children:[(0,s.jsx)(M,{series:a.series}),(0,s.jsxs)("figcaption",{className:"flex flex-col gap-[var(--space-2)] text-label text-muted-foreground",children:[(0,s.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-[var(--space-3)]",children:[(0,s.jsx)("span",{children:o}),(0,s.jsxs)("span",{children:["Window start: ",(0,s.jsx)("span",{className:"font-medium text-foreground",children:a.windowLabel})]})]}),(0,s.jsxs)("label",{className:"flex flex-col gap-[var(--space-2)] text-caption uppercase tracking-[0.12em]",children:["Scrub visible window",(0,s.jsx)("input",{type:"range",min:0,max:Math.max(t.length-240,0),value:r,onChange:e=>{let t=Number.parseInt(e.target.value,10);n(Number.isNaN(t)?0:t)},className:"h-[var(--space-2)] w-full cursor-ew-resize appearance-none rounded-full bg-border accent-[hsl(var(--accent))]","aria-valuetext":"Starting ".concat(a.windowLabel)})]})]})]})]})}function M(e){let{series:t}=e,r=l.useId();if(0===t.length)return(0,s.jsx)("div",{className:"rounded-[var(--radius-lg)] border border-dashed border-border/50 bg-surface/40 p-[var(--space-6)] text-center text-label text-muted-foreground",children:"No load data available."});let n=t.length-1||1,a=t.map((e,t)=>{let r=0===t?"M":"L";return"".concat(r," ").concat(t," ").concat(120-120*e.value)}).join(" ");return(0,s.jsxs)("div",{className:"space-y-[var(--space-3)]",children:[(0,s.jsx)("div",{className:"rounded-[var(--radius-lg)] border border-border/40 bg-surface/40 p-[var(--space-3)]",children:(0,s.jsxs)("svg",{"aria-labelledby":r,viewBox:"0 0 ".concat(Math.max(n,1)," ").concat(120),preserveAspectRatio:"none",className:"h-[calc(var(--space-8)*3)] w-full",role:"img",children:[(0,s.jsx)("title",{id:r,children:"Virtualized hourly load"}),(0,s.jsx)("path",{d:"".concat(a),fill:"none",stroke:"hsl(var(--accent))",strokeWidth:1.5}),(0,s.jsx)("path",{d:"".concat(a," L ").concat(Math.max(n,1)," ").concat(120," L 0 ").concat(120," Z"),fill:"hsl(var(--accent)/0.16)"})]})}),(0,s.jsxs)("dl",{className:"grid gap-[var(--space-2)] text-caption text-muted-foreground sm:grid-cols-2",children:[(0,s.jsxs)("div",{className:"flex flex-col gap-[var(--space-1)]",children:[(0,s.jsx)("dt",{className:"uppercase tracking-[0.12em]",children:"Visible points"}),(0,s.jsx)("dd",{className:"text-body text-foreground",children:t.length})]}),(0,s.jsxs)("div",{className:"flex flex-col gap-[var(--space-1)]",children:[(0,s.jsx)("dt",{className:"uppercase tracking-[0.12em]",children:"Peak load"}),(0,s.jsxs)("dd",{className:"text-body text-foreground",children:[Math.round(100*Math.max(...t.map(e=>e.value))),"%"]})]})]})]})}},80311:(e,t,r)=>{"use strict";r.d(t,{V1:()=>s});let n=new Map,a=0;function i(e){if("string"!=typeof e)return;let t=e.trim();return t.length>0?t:void 0}function s(e,t){var r,s,l;let o=function(e){let t=i(e.id),r=i(e.label),n=i(e.kind);return{id:null!=t?t:"",...void 0!==r?{label:r}:{},...void 0!==n?{kind:n}:{}}}(e);if(0===o.id.length)return;let c=function(e){if("number"!=typeof e||!Number.isFinite(e)||e<0)return null;let t=Math.round(e);return t>0?t:0}(t);if(null===c)return;let d=n.get(o.id),u=null!=(r=null==d?void 0:d.tokens)?r:0;if(0===c){d&&(s=o.id,n.delete(s),(a-=u)<0&&(a=0));return}let m=(l=null==d?void 0:d.metadata,{id:o.id,...(null==l?void 0:l.label)?{label:l.label}:{},...(null==l?void 0:l.kind)?{kind:l.kind}:{},...void 0!==o.label?{label:o.label}:{},...void 0!==o.kind?{kind:o.kind}:{}});n.set(o.id,{metadata:m,tokens:c}),(a+=c-u)<0&&(a=0)}}},e=>{e.O(0,[1925,603,8087,3498,1182,8441,1255,7358],()=>e(e.s=59947)),_N_E=e.O()}]);
//# sourceMappingURL=page-75eed649128c5bf4.js.map