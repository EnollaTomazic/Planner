(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6937],{77425:(e,t,r)=>{"use strict";r.d(t,{default:()=>y});var a,s,n,i=r(95155),l=r(12115);let o=(0,r(71847).A)("database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);var d=r(91182),c=r(27566);r(80311);var m=r(87358);let h=null==(a=m.env.NEXT_PUBLIC_ENABLE_METRICS)?void 0:a.trim().toLowerCase(),p=null==(s=m.env.NEXT_PUBLIC_METRICS_ENDPOINT)?void 0:s.trim();!h||"auto"===h||["true","1","yes","on"].includes(h)||["false","0","no","off"].includes(h),p&&(p.startsWith("http://")||p.startsWith("https://")||(p.startsWith("/")?(0,c.hd)(p,{trailingSlash:!1}):(0,c.hd)("/".concat(p),{trailingSlash:!1})));let u=null!=(n=r(50306).q0[6])?n:48,v=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:4,t=["LCP","FID","CLS","TTFB"],r=["good","needs-improvement","good","poor"],a=[2380,120,.07,420];return Array.from({length:e},(e,s)=>{var n;let i=t[s%t.length],l=r[s%r.length],o=a[s%a.length];return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={},r={};for(let[a,s]of Object.entries(e))"page"===a||"timestamp"===a||"visibilityState"===a?r[a]=s:t[a]=s;return function(e){var t,r,a;let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=null!=(t=s.page)?t:window.location.pathname,i=null!=(r=s.timestamp)?r:Date.now(),l=null!=(a=s.visibilityState)?a:"undefined"!=typeof document?document.visibilityState:void 0;return{metric:{id:e.id,name:e.name,label:e.label,value:e.value,delta:e.delta,rating:e.rating,startTime:e.startTime,navigationType:e.navigationType,entries:function(e){if(e&&0!==e.length)return e.map(e=>{if("function"==typeof e.toJSON){var t,r,a,s;let n=e.toJSON();return{name:null!=(t=n.name)?t:e.name,entryType:null!=(r=n.entryType)?r:e.entryType,startTime:null!=(a=n.startTime)?a:e.startTime,duration:null!=(s=n.duration)?s:e.duration}}return{name:e.name,entryType:e.entryType,startTime:e.startTime,duration:e.duration}})}(e.entries)},page:n,timestamp:i,visibilityState:l}}(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{id:"mock-metric-1",name:"LCP",label:"web-vital",value:2450,startTime:180,delta:20,rating:"good",navigationType:"navigate",entries:[{name:"largest-contentful-paint",entryType:"largest-contentful-paint",startTime:180,duration:0,toJSON(){return{name:this.name,entryType:this.entryType,startTime:this.startTime,duration:this.duration}}}],...e}}(t),r)}({id:"mock-".concat(null!=(n=null==i?void 0:i.toLowerCase())?n:"metric","-").concat(s+1),name:null!=i?i:"LCP",label:"web-vital",rating:l,value:o,startTime:120+30*s,delta:"good"===l?void 0:5*s,page:s%2==0?"/preview/perf":"/dashboard",timestamp:Date.now()-1e3*s})})}(5),x=["Critical","High","Medium","Low"],b=["Research","Onboarding","Growth","Integrations","Billing","Insights"],g={Research:"neutral",Onboarding:"accent",Growth:"top",Integrations:"support",Billing:"primary",Insights:"bot"},f=(e,t,r)=>e<t?t:e>r?r:e,j=Array.from({length:420},(e,t)=>{var r;let a=x[t%x.length],s=null!=(r=b[t%b.length])?r:b[0];return{id:t+1,title:"Scenario audit ".concat(String(t+1).padStart(3,"0")),priority:a,owner:s,estimate:1.5+1.3*t%6,completed:t%11==0}}),N=(()=>{let e=new Date;return Array.from({length:720},(t,r)=>{let a=new Date(e.getTime()-60*r*6e4),s=f(.4+.25*Math.sin(r/9)+.2*Math.random(),.1,1);return{iso:a.toISOString(),label:a.toLocaleString(void 0,{month:"short",day:"numeric",hour:"numeric"}),value:s}}).reverse()})();function y(){return(0,i.jsxs)("div",{className:"space-y-[var(--space-6)]",children:[(0,i.jsx)(P,{payloads:v}),(0,i.jsx)(k,{items:j}),(0,i.jsx)(S,{points:N})]})}let w={good:"primary","needs-improvement":"accent",poor:"bot"};function P(e){let{payloads:t}=e;return(0,i.jsxs)("section",{"aria-labelledby":"perf-metrics-heading",className:"space-y-[var(--space-4)]","data-perf-panel":"metrics-feed",children:[(0,i.jsxs)("header",{className:"flex flex-wrap items-center justify-between gap-[var(--space-3)]",children:[(0,i.jsxs)("div",{className:"space-y-[var(--space-1)]",children:[(0,i.jsx)("h2",{id:"perf-metrics-heading",className:"text-heading-sm font-semibold tracking-[-0.01em]",children:"Web vitals dispatch"}),(0,i.jsx)("p",{className:"max-w-3xl text-label text-muted-foreground",children:"Metrics helpers normalize entries for previews, tests, and production reporting so tone swatches stay aligned across themes."})]}),(0,i.jsxs)(d.Ex,{tone:"support",className:"uppercase tracking-[0.12em]",children:[t.length," captured"]})]}),(0,i.jsx)("div",{className:"grid gap-[var(--space-3)] sm:grid-cols-2",children:t.map(e=>{var t,r;let a=null!=(t=e.metric.rating)?t:"good";return(0,i.jsxs)("article",{className:"space-y-[var(--space-3)] rounded-[var(--radius-lg)] border border-border/40 bg-surface/60 p-[var(--space-4)]",children:[(0,i.jsxs)("header",{className:"flex items-center justify-between gap-[var(--space-3)]",children:[(0,i.jsxs)("div",{className:"space-y-[var(--space-1)]",children:[(0,i.jsx)("p",{className:"text-caption uppercase tracking-[0.12em] text-muted-foreground",children:e.page}),(0,i.jsx)("h3",{className:"text-body font-semibold text-foreground",children:e.metric.name})]}),(0,i.jsx)(d.Ex,{tone:w[a],children:a.split("-").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(" ")})]}),(0,i.jsxs)("dl",{className:"grid gap-[var(--space-2)] text-label text-muted-foreground",children:[(0,i.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-[var(--space-2)]",children:[(0,i.jsx)("dt",{className:"uppercase tracking-[0.12em]",children:"Value"}),(0,i.jsx)("dd",{className:"text-body font-medium text-foreground",children:function(e){switch(e.name){case"CLS":return e.value.toFixed(2);case"FID":case"TTFB":return"".concat(Math.round(e.value),"ms");case"LCP":return"".concat((e.value/1e3).toFixed(2),"s");default:return"".concat(e.value)}}(e.metric)})]}),void 0!==e.metric.delta?(0,i.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-[var(--space-2)]",children:[(0,i.jsx)("dt",{className:"uppercase tracking-[0.12em]",children:"Delta"}),(0,i.jsx)("dd",{className:"text-body font-medium text-foreground",children:Number.isNaN(r=e.metric.delta)?"0":r>=1e3?"".concat((r/1e3).toFixed(2),"s"):r>=1?"".concat(Math.round(r),"ms"):r.toFixed(2)})]}):null,(0,i.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-[var(--space-2)]",children:[(0,i.jsx)("dt",{className:"uppercase tracking-[0.12em]",children:"Recorded"}),(0,i.jsx)("dd",{className:"font-medium text-foreground",children:new Date(e.timestamp).toLocaleTimeString()})]})]})]},"".concat(e.metric.id,"-").concat(e.timestamp))})})]})}function k(e){let{items:t}=e,r=l.useRef(null),a=t.length>32,s=a?"Virtualized list enabled for ".concat(t.length," items."):"Rendering ".concat(t.length," items without virtualization.");return(0,i.jsxs)("section",{"aria-labelledby":"perf-backlog-heading",className:"space-y-[var(--space-4)]","data-perf-panel":"backlog",children:[(0,i.jsxs)("header",{className:"flex flex-wrap items-center justify-between gap-[var(--space-3)]",children:[(0,i.jsxs)("div",{className:"space-y-[var(--space-1)]",children:[(0,i.jsx)("h2",{id:"perf-backlog-heading",className:"text-heading-sm font-semibold tracking-[-0.01em]",children:"Backlog virtualization guard"}),(0,i.jsxs)("p",{className:"max-w-3xl text-label text-muted-foreground",children:["Lists switch to windowed rendering once rows exceed ",32," entries. Spacer elements hold layout so theme shadows stay stable for screenshot audits."]})]}),(0,i.jsx)(d.Ex,{tone:a?"accent":"neutral",className:"uppercase tracking-[0.12em]",children:a?"Virtualized rendering active":"Static rendering"})]}),(0,i.jsx)("div",{"aria-live":"polite",className:"sr-only","data-perf-virtualized-announcement":"",children:s}),(0,i.jsxs)("div",{className:"overflow-hidden rounded-[var(--radius-lg)] border border-border/40",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between gap-[var(--space-3)] border-b border-border/40 bg-surface/60 px-[var(--space-3)] py-[var(--space-2)] text-caption uppercase tracking-[0.12em] text-muted-foreground",children:[(0,i.jsx)("span",{children:"Scenario"}),(0,i.jsxs)("span",{className:"flex items-center gap-[var(--space-2)] text-right",children:["Virtual scroll budget",(0,i.jsx)(o,{"aria-hidden":"true",className:"h-[var(--space-4)] w-[var(--space-4)] opacity-60"})]})]}),(0,i.jsx)("div",{ref:r,className:(0,c.cn)("max-h-[calc(var(--space-8)*6)] overflow-y-auto","bg-card text-ui"),children:(0,i.jsxs)("table",{className:"w-full border-separate border-spacing-0",role:"grid",children:[(0,i.jsx)("thead",{className:"sticky top-0 z-10 bg-card/95 backdrop-blur",children:(0,i.jsxs)("tr",{className:"text-left text-caption uppercase tracking-[0.12em] text-muted-foreground",children:[(0,i.jsx)("th",{scope:"col",className:"px-[var(--space-3)] py-[var(--space-2)]",children:"ID"}),(0,i.jsx)("th",{scope:"col",className:"px-[var(--space-3)] py-[var(--space-2)]",children:"Scenario"}),(0,i.jsx)("th",{scope:"col",className:"px-[var(--space-3)] py-[var(--space-2)]",children:"Owner"}),(0,i.jsx)("th",{scope:"col",className:"px-[var(--space-3)] py-[var(--space-2)] text-right",children:"Estimate"})]})}),(0,i.jsx)("tbody",{children:a?(0,i.jsx)(d.SR,{items:t,rowHeight:u,overscan:6,scrollParentRef:r,renderSpacer:(e,t)=>(0,i.jsx)("tr",{"aria-hidden":!0,className:"h-0","data-virtualized-spacer":t,children:(0,i.jsx)("td",{colSpan:4,children:(0,i.jsx)("div",{style:{blockSize:"".concat(Math.max(0,e),"px")}})})}),renderItem:e=>(0,i.jsx)(T,{item:e},e.id)}):t.map(e=>(0,i.jsx)(T,{item:e},e.id))})]})})]})]})}function T(e){var t;let r,{item:a}=e;return(0,i.jsxs)("tr",{className:"border-b border-border/30 last:border-b-0","data-virtualized-row":a.id,style:{blockSize:"var(--space-6)"},children:[(0,i.jsxs)("th",{scope:"row",className:"w-[var(--space-12)] px-[var(--space-3)] text-caption uppercase tracking-[0.12em] text-muted-foreground",children:["#",a.id.toString().padStart(3,"0")]}),(0,i.jsx)("td",{className:"px-[var(--space-3)]",children:(0,i.jsxs)("div",{className:"flex flex-col gap-[var(--space-1)]",children:[(0,i.jsx)("span",{className:"text-body font-medium text-foreground",children:a.title}),(0,i.jsxs)("span",{className:"text-label text-muted-foreground",children:["Priority \xb7 ",a.priority]})]})}),(0,i.jsx)("td",{className:"px-[var(--space-3)]",children:(0,i.jsx)(d.Ex,{tone:g[t=a.owner]?g[t]:"neutral",children:a.owner})}),(0,i.jsx)("td",{className:"px-[var(--space-3)] text-right",children:(0,i.jsxs)("div",{className:"inline-flex items-center gap-[var(--space-2)]",children:[(0,i.jsx)("div",{className:"w-[calc(var(--space-8)*2)]",children:(0,i.jsx)(d.ke,{value:a.completed?100:Math.min(75,16*a.estimate),label:"Completion estimate for ".concat(a.title)})}),(0,i.jsx)("span",{className:"text-label text-muted-foreground",children:(r=a.estimate,"".concat(r.toFixed(1),"h"))})]})})]})}function S(e){let{points:t}=e,[r,a]=l.useState(()=>Math.max(0,t.length-240)),s=l.useMemo(()=>(function(e,t,r,a){var s,n,i;if(0===e.length)return{series:[],windowLabel:"No data",coverage:{total:0,window:0,visible:0}};let l=f(t,0,Math.max(0,e.length-1)),o=f(l+240,l+1,e.length),d=e.slice(l,o),c=Math.max(1,Math.ceil(d.length/120)),m=[];for(let e=0;e<d.length;e+=c){let t=d.slice(e,e+c),r=t.reduce((e,t)=>e+t.value,0)/Math.max(t.length,1),a=null!=(n=t[Math.floor(t.length/2)])?n:t[0];m.push({iso:a.iso,label:a.label,value:r})}return{series:m,windowLabel:null!=(i=null==(s=d[0])?void 0:s.label)?i:"",coverage:{total:e.length,window:d.length,visible:m.length}}})(t,r,240,120),[t,r]),n=s.coverage,o="Showing ".concat(n.visible," of ").concat(n.total," intervals (").concat(n.window," in focus).");return(0,i.jsxs)("section",{"aria-labelledby":"perf-load-heading",className:"space-y-[var(--space-4)]","data-perf-panel":"load-window",children:[(0,i.jsxs)("header",{className:"flex flex-wrap items-center justify-between gap-[var(--space-3)]",children:[(0,i.jsxs)("div",{className:"space-y-[var(--space-1)]",children:[(0,i.jsx)("h2",{id:"perf-load-heading",className:"text-heading-sm font-semibold tracking-[-0.01em]",children:"Chart windowing guard"}),(0,i.jsxs)("p",{className:"max-w-3xl text-label text-muted-foreground",children:["Load trends stream 30 days of hourly samples but only render ",120," points per window. The scrub control advances a two-day window without introducing layout shift."]})]}),(0,i.jsxs)(d.Ex,{tone:"accent",className:"uppercase tracking-[0.12em]",children:["Downsampled ",s.series.length]})]}),(0,i.jsx)("div",{className:"sr-only","aria-live":"polite","data-perf-load-announcement":"",children:o}),(0,i.jsxs)("figure",{className:"space-y-[var(--space-4)]",children:[(0,i.jsx)(M,{series:s.series}),(0,i.jsxs)("figcaption",{className:"flex flex-col gap-[var(--space-2)] text-label text-muted-foreground",children:[(0,i.jsxs)("div",{className:"flex flex-wrap items-center justify-between gap-[var(--space-3)]",children:[(0,i.jsx)("span",{children:o}),(0,i.jsxs)("span",{children:["Window start: ",(0,i.jsx)("span",{className:"font-medium text-foreground",children:s.windowLabel})]})]}),(0,i.jsxs)("label",{className:"flex flex-col gap-[var(--space-2)] text-caption uppercase tracking-[0.12em]",children:["Scrub visible window",(0,i.jsx)("input",{type:"range",min:0,max:Math.max(t.length-240,0),value:r,onChange:e=>{let t=Number.parseInt(e.target.value,10);a(Number.isNaN(t)?0:t)},className:"h-[var(--space-2)] w-full cursor-ew-resize appearance-none rounded-full bg-border accent-[hsl(var(--accent-1))]","aria-valuetext":"Starting ".concat(s.windowLabel)})]})]})]})]})}function M(e){let{series:t}=e,r=l.useId();if(0===t.length)return(0,i.jsx)("div",{className:"rounded-[var(--radius-lg)] border border-dashed border-border/50 bg-surface/40 p-[var(--space-6)] text-center text-label text-muted-foreground",children:"No load data available."});let a=t.length-1||1,s=t.map((e,t)=>{let r=0===t?"M":"L";return"".concat(r," ").concat(t," ").concat(120-120*e.value)}).join(" ");return(0,i.jsxs)("div",{className:"space-y-[var(--space-3)]",children:[(0,i.jsx)("div",{className:"rounded-[var(--radius-lg)] border border-border/40 bg-surface/40 p-[var(--space-3)]",children:(0,i.jsxs)("svg",{"aria-labelledby":r,viewBox:"0 0 ".concat(Math.max(a,1)," ").concat(120),preserveAspectRatio:"none",className:"h-[calc(var(--space-8)*3)] w-full",role:"img",children:[(0,i.jsx)("title",{id:r,children:"Virtualized hourly load"}),(0,i.jsx)("path",{d:"".concat(s),fill:"none",stroke:"hsl(var(--accent-1))",strokeWidth:1.5}),(0,i.jsx)("path",{d:"".concat(s," L ").concat(Math.max(a,1)," ").concat(120," L 0 ").concat(120," Z"),fill:"hsl(var(--accent-1)/0.16)"})]})}),(0,i.jsxs)("dl",{className:"grid gap-[var(--space-2)] text-caption text-muted-foreground sm:grid-cols-2",children:[(0,i.jsxs)("div",{className:"flex flex-col gap-[var(--space-1)]",children:[(0,i.jsx)("dt",{className:"uppercase tracking-[0.12em]",children:"Visible points"}),(0,i.jsx)("dd",{className:"text-body text-foreground",children:t.length})]}),(0,i.jsxs)("div",{className:"flex flex-col gap-[var(--space-1)]",children:[(0,i.jsx)("dt",{className:"uppercase tracking-[0.12em]",children:"Peak load"}),(0,i.jsxs)("dd",{className:"text-body text-foreground",children:[Math.round(100*Math.max(...t.map(e=>e.value))),"%"]})]})]})]})}},80311:(e,t,r)=>{"use strict";r.d(t,{V1:()=>i});let a=new Map,s=0;function n(e){if("string"!=typeof e)return;let t=e.trim();return t.length>0?t:void 0}function i(e,t){var r,i,l;let o=function(e){let t=n(e.id),r=n(e.label),a=n(e.kind);return{id:null!=t?t:"",...void 0!==r?{label:r}:{},...void 0!==a?{kind:a}:{}}}(e);if(0===o.id.length)return;let d=function(e){if("number"!=typeof e||!Number.isFinite(e)||e<0)return null;let t=Math.round(e);return t>0?t:0}(t);if(null===d)return;let c=a.get(o.id),m=null!=(r=null==c?void 0:c.tokens)?r:0;if(0===d){c&&(i=o.id,a.delete(i),(s-=m)<0&&(s=0));return}let h=(l=null==c?void 0:c.metadata,{id:o.id,...(null==l?void 0:l.label)?{label:l.label}:{},...(null==l?void 0:l.kind)?{kind:l.kind}:{},...void 0!==o.label?{label:o.label}:{},...void 0!==o.kind?{kind:o.kind}:{}});a.set(o.id,{metadata:h,tokens:d}),(s+=d-m)<0&&(s=0)}},84978:(e,t,r)=>{Promise.resolve().then(r.bind(r,77425)),Promise.resolve().then(r.bind(r,90477)),Promise.resolve().then(r.bind(r,23942)),Promise.resolve().then(r.bind(r,97599)),Promise.resolve().then(r.bind(r,73883)),Promise.resolve().then(r.bind(r,33688)),Promise.resolve().then(r.bind(r,3283)),Promise.resolve().then(r.bind(r,52511)),Promise.resolve().then(r.bind(r,84020)),Promise.resolve().then(r.bind(r,71719)),Promise.resolve().then(r.bind(r,27627)),Promise.resolve().then(r.bind(r,19767)),Promise.resolve().then(r.bind(r,33173)),Promise.resolve().then(r.bind(r,40645)),Promise.resolve().then(r.bind(r,36499)),Promise.resolve().then(r.bind(r,71197)),Promise.resolve().then(r.bind(r,9093)),Promise.resolve().then(r.bind(r,67412)),Promise.resolve().then(r.bind(r,53052)),Promise.resolve().then(r.bind(r,15880)),Promise.resolve().then(r.bind(r,57144)),Promise.resolve().then(r.bind(r,34979)),Promise.resolve().then(r.bind(r,70483)),Promise.resolve().then(r.bind(r,71633)),Promise.resolve().then(r.bind(r,72008)),Promise.resolve().then(r.bind(r,86646)),Promise.resolve().then(r.bind(r,37634)),Promise.resolve().then(r.bind(r,81464)),Promise.resolve().then(r.bind(r,3278)),Promise.resolve().then(r.bind(r,14713)),Promise.resolve().then(r.bind(r,97967)),Promise.resolve().then(r.bind(r,85023)),Promise.resolve().then(r.bind(r,79766)),Promise.resolve().then(r.bind(r,66403)),Promise.resolve().then(r.bind(r,31121)),Promise.resolve().then(r.bind(r,81398)),Promise.resolve().then(r.bind(r,94465)),Promise.resolve().then(r.bind(r,55827)),Promise.resolve().then(r.bind(r,71504)),Promise.resolve().then(r.bind(r,61920)),Promise.resolve().then(r.bind(r,11087)),Promise.resolve().then(r.bind(r,75279)),Promise.resolve().then(r.bind(r,11615)),Promise.resolve().then(r.bind(r,72705)),Promise.resolve().then(r.bind(r,17061)),Promise.resolve().then(r.bind(r,50641)),Promise.resolve().then(r.bind(r,25436)),Promise.resolve().then(r.bind(r,20809)),Promise.resolve().then(r.bind(r,68176)),Promise.resolve().then(r.bind(r,7040)),Promise.resolve().then(r.bind(r,92589)),Promise.resolve().then(r.bind(r,52105)),Promise.resolve().then(r.bind(r,22753)),Promise.resolve().then(r.bind(r,66474)),Promise.resolve().then(r.bind(r,54734)),Promise.resolve().then(r.bind(r,91141)),Promise.resolve().then(r.bind(r,20321)),Promise.resolve().then(r.bind(r,97684)),Promise.resolve().then(r.bind(r,42456)),Promise.resolve().then(r.bind(r,91839)),Promise.resolve().then(r.bind(r,45167)),Promise.resolve().then(r.bind(r,45409)),Promise.resolve().then(r.bind(r,4069)),Promise.resolve().then(r.bind(r,17606)),Promise.resolve().then(r.bind(r,14005)),Promise.resolve().then(r.bind(r,33233)),Promise.resolve().then(r.bind(r,91286)),Promise.resolve().then(r.bind(r,40357)),Promise.resolve().then(r.bind(r,80134)),Promise.resolve().then(r.bind(r,75389)),Promise.resolve().then(r.bind(r,53143)),Promise.resolve().then(r.bind(r,81910)),Promise.resolve().then(r.bind(r,77855)),Promise.resolve().then(r.bind(r,67213)),Promise.resolve().then(r.bind(r,69935)),Promise.resolve().then(r.bind(r,16443)),Promise.resolve().then(r.bind(r,49412)),Promise.resolve().then(r.bind(r,5131)),Promise.resolve().then(r.bind(r,4035)),Promise.resolve().then(r.bind(r,1532)),Promise.resolve().then(r.bind(r,32740))}},e=>{e.O(0,[6218,2697,5201,4766,800,1182,8441,1255,7358],()=>e(e.s=84978)),_N_E=e.O()}]);
//# sourceMappingURL=page-c8064395312d8c21.js.map