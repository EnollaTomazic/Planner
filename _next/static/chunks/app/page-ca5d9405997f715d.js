(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{12591:(e,a,s)=>{"use strict";s.d(a,{N:()=>c});var r=s(12115),t=s(93736),l=s(67419);function c(e){let[a,s]=(0,l.usePersistentState)(e,[]),[c,n]=r.useState(""),i=r.useMemo(()=>a.map(e=>{var a;return{...e,title:e.title&&e.title.trim()?e.title.trim():(null==(a=(e.text||"").split(/\r?\n/).find(e=>e.trim()))?void 0:a.trim())||"Untitled"}}),[a]),d=r.useMemo(()=>new t.A(i,{keys:["title","text"],threshold:.3}),[i]),o=r.useMemo(()=>{let e=c.trim();return e?d.search(e).map(e=>e.item):i},[d,c,i]);return{prompts:a,query:c,setQuery:n,filtered:o,save:r.useCallback((e,a)=>{var r;let t=a.trim(),c=e.trim()||(null==(r=t.split(/\r?\n/)[0])?void 0:r.trim())||"Untitled";if(!t&&!e.trim())return!1;let n={id:(0,l.uid)("p"),title:c,text:t,createdAt:Date.now()};return s(e=>[n,...e]),!0},[s])}}},20063:(e,a,s)=>{"use strict";var r=s(47260);s.o(r,"usePathname")&&s.d(a,{usePathname:function(){return r.usePathname}}),s.o(r,"useRouter")&&s.d(a,{useRouter:function(){return r.useRouter}}),s.o(r,"useSearchParams")&&s.d(a,{useSearchParams:function(){return r.useSearchParams}})},24589:(e,a,s)=>{"use strict";s.d(a,{A:()=>r});let r=(0,s(71847).A)("flag",[["path",{d:"M4 22V4a1 1 0 0 1 .4-.8A6 6 0 0 1 8 2c3 0 5 2 7.333 2q2 0 3.067-.8A1 1 0 0 1 20 4v10a1 1 0 0 1-.4.8A6 6 0 0 1 16 16c-3 0-5-2-8-2a6 6 0 0 0-4 1.528",key:"1jaruq"}]])},32413:(e,a,s)=>{"use strict";s.d(a,{n:()=>t,r:()=>l});var r=s(12591);let t="prompts.chat.v1";function l(){return(0,r.N)(t)}},46331:(e,a,s)=>{Promise.resolve().then(s.bind(s,87501))},47937:(e,a,s)=>{"use strict";s.d(a,{A:()=>r});let r=(0,s(71847).A)("book-open",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]])},60815:(e,a,s)=>{"use strict";s.d(a,{A:()=>t});var r=s(95155);function t(e){let{pct:a,size:s=64}=e,t=s/2-6,l=2*Math.PI*t;return(0,r.jsxs)("svg",{className:"h-full w-full rotate-[-90deg]",viewBox:"0 0 ".concat(s," ").concat(s),children:[(0,r.jsx)("circle",{cx:s/2,cy:s/2,r:t,stroke:"currentColor",strokeWidth:4,className:"text-foreground/20",fill:"none"}),(0,r.jsx)("circle",{cx:s/2,cy:s/2,r:t,stroke:"currentColor",strokeWidth:4,strokeLinecap:"round",strokeDasharray:l,strokeDashoffset:l-a/100*l,className:"text-accent shadow-ring motion-safe:animate-pulse [--ring:var(--accent)]",fill:"none"})]})}s(12115)},87501:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>M});var r=s(95155),t=s(12115);let l=(0,s(71847).A)("house",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]]);var c=s(52619),n=s.n(c),i=s(879),d=s(24625),o=s(42988),m=s(28727),p=s(20063),u=s(69245),x=s(67419),h=s(84804),v=s(64269),f=s(60815),g=s(32413);let b=[{id:"strategy-sync",title:"Strategy sync",schedule:"Today \xb7 3:00 PM",summary:"Align backlog for the Q2 milestone and confirm owners."},{id:"retro",title:"Sprint retro",schedule:"Wed \xb7 11:00 AM",summary:"Collect insights to finalize review prompts and next sprint goals."},{id:"review-window",title:"Review window",schedule:"Fri \xb7 All day",summary:"Encourage the team to log highlights before the week wraps."}],j=new Intl.DateTimeFormat(v.ne,{weekday:"long",month:"long",day:"numeric"}),N=new Intl.DateTimeFormat(v.ne,{weekday:"short"}),y=new Intl.DateTimeFormat(v.ne,{day:"2-digit"});function k(){let{iso:e,setIso:a}=(0,o.aK)(),{projects:s,tasks:l,toggleTask:c,doneCount:i,totalCount:m}=(0,o.i7)(e),p=t.useMemo(()=>l.slice(0,4),[l]),u=Math.max(l.length-p.length,0),b=t.useMemo(()=>{let e=new Map;for(let a of s)e.set(a.id,a.name);return e},[s]),k=t.useMemo(()=>(0,h.E4)(e),[e]),w=t.useMemo(()=>k?j.format(k):e,[k,e]),M=t.useCallback(e=>{c(e)},[c]),[A]=(0,x.usePersistentState)("goals.v2",[]),[P]=(0,x.usePersistentState)("reviews.v1",[]),[S]=(0,x.usePersistentState)(g.n,[]),C=t.useMemo(()=>{let e=0,a=[];for(let s of A)s.done?e+=1:a.length<2&&a.push(s);return{total:A.length,completed:e,active:a}},[A]),z=t.useMemo(()=>0===C.total?0:Math.max(0,Math.min(100,Math.round(C.completed/C.total*100))),[C.completed,C.total]),R=t.useMemo(()=>P.filter(e=>e.focusOn).length,[P]),D=P.length,E=S.length,I=t.useMemo(()=>[{key:"focus",label:"Next focus",value:w,href:"/planner",cta:"Open planner"},{key:"reviews",label:"Open reviews",value:R>0?"".concat(R," review").concat(1===R?"":"s"):D>0?"All caught up":"No reviews yet",href:"/reviews",cta:R>0?"Review now":"View reviews"},{key:"prompts",label:"Team prompts",value:E>0?"".concat(E," saved"):"Start a prompt",href:"/prompts",cta:E>0?"View prompts":"Browse prompts"}],[R,w,E,D]),W=(0,r.jsxs)("div",{className:"col-span-12 md:col-span-6 lg:col-span-4 flex flex-col gap-[var(--space-3)]",children:[(0,r.jsxs)("div",{className:"space-y-[var(--space-1)]",children:[(0,r.jsx)("p",{className:"text-label text-muted-foreground",children:"Highlights"}),(0,r.jsx)("h3",{className:"text-body font-semibold text-card-foreground tracking-[-0.01em]",children:"Quick summary"})]}),(0,r.jsx)("ul",{className:"grid gap-[var(--space-2)]",role:"list",children:I.map(e=>(0,r.jsx)("li",{children:(0,r.jsxs)(n(),{href:e.href,className:(0,v.cn)("group flex items-center justify-between gap-[var(--space-3)] rounded-card r-card-md border border-border/60 bg-card/70 px-[var(--space-3)] py-[var(--space-2)] transition","hover:border-primary/40 hover:bg-card focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-0"),children:[(0,r.jsxs)("div",{className:"flex min-w-0 flex-col gap-[var(--space-1)]",children:[(0,r.jsx)("span",{className:"text-label text-muted-foreground",children:e.label}),(0,r.jsx)("span",{className:"text-ui font-semibold text-card-foreground text-balance",children:e.value})]}),(0,r.jsx)("span",{className:"shrink-0 text-label font-medium text-primary transition-colors group-hover:text-primary-foreground",children:e.cta})]})},e.key))})]}),{start:_,end:q,days:O,isToday:V}=(0,o._2)(e),{per:F,weekDone:T,weekTotal:U}=(0,o.Y9)(O),K=t.useMemo(()=>(0,h.tj)(_,q),[_,q]),H=t.useCallback(e=>{a(e)},[a]);return(0,r.jsxs)("div",{className:"grid grid-cols-12 gap-[var(--space-4)]",children:[W,(0,r.jsx)("div",{className:"col-span-12 md:col-span-6 lg:col-span-4",children:(0,r.jsxs)(d.b,{className:"flex h-full flex-col gap-[var(--space-4)] p-[var(--space-4)] md:p-[var(--space-5)]",children:[(0,r.jsxs)("header",{className:"flex items-start justify-between gap-[var(--space-3)]",children:[(0,r.jsxs)("div",{className:"space-y-[var(--space-1)]",children:[(0,r.jsx)("p",{className:"text-label text-muted-foreground",children:"Focus day"}),(0,r.jsx)("h3",{className:"text-body font-semibold text-card-foreground tracking-[-0.01em]",children:w})]}),(0,r.jsxs)("div",{className:"text-right",children:[(0,r.jsx)("p",{className:"text-label text-muted-foreground",children:"Progress"}),(0,r.jsxs)("p",{className:"text-ui font-medium tabular-nums text-card-foreground",children:[i,"/",m]})]})]}),(0,r.jsx)("ul",{className:"flex flex-col gap-[var(--space-3)]","aria-live":"polite",children:p.length>0?p.map(e=>{var a;let s=e.projectId&&null!=(a=b.get(e.projectId))?a:null;return(0,r.jsxs)("li",{className:"flex items-start gap-[var(--space-3)]",children:[(0,r.jsx)(d.rA,{checked:e.done,onChange:()=>M(e.id),"aria-label":e.done?"Mark ".concat(e.title," as not done"):"Mark ".concat(e.title," as done"),size:"sm"}),(0,r.jsxs)("button",{type:"button",onClick:()=>M(e.id),className:(0,v.cn)("flex flex-col items-start gap-[var(--space-1)] rounded-card r-card-sm px-[var(--space-1)] py-[var(--space-1)] text-left transition","hover:text-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-0","active:text-foreground/80"),children:[(0,r.jsx)("span",{className:(0,v.cn)("text-ui font-medium text-card-foreground",e.done&&"line-through-soft text-muted-foreground"),children:e.title}),s?(0,r.jsx)("span",{className:"text-label text-muted-foreground",children:s}):null]})]},e.id)}):(0,r.jsx)("li",{className:"rounded-card r-card-md border border-dashed border-border px-[var(--space-3)] py-[var(--space-3)] text-label text-muted-foreground",children:"No tasks captured for this day."})}),u>0?(0,r.jsxs)("p",{className:"text-label text-muted-foreground",children:["+",u," more task",1===u?"":"s"," in planner"]}):null]})}),(0,r.jsx)("div",{className:"col-span-12 md:col-span-6 lg:col-span-4",children:(0,r.jsxs)(d.b,{className:"flex h-full flex-col gap-[var(--space-4)] p-[var(--space-4)] md:p-[var(--space-5)]",children:[(0,r.jsxs)("header",{className:"flex items-start justify-between gap-[var(--space-3)]",children:[(0,r.jsxs)("div",{className:"space-y-[var(--space-1)]",children:[(0,r.jsx)("p",{className:"text-label text-muted-foreground",children:"Goals overview"}),(0,r.jsx)("h3",{className:"text-body font-semibold text-card-foreground tracking-[-0.01em]",children:"Momentum"})]}),(0,r.jsxs)("div",{className:"text-right",children:[(0,r.jsx)("p",{className:"text-label text-muted-foreground",children:"Completed"}),(0,r.jsxs)("p",{className:"text-ui font-medium tabular-nums text-card-foreground",children:[C.completed,"/",C.total]})]})]}),(0,r.jsxs)("div",{className:"flex flex-col gap-[var(--space-4)] md:flex-row md:items-center md:gap-[var(--space-5)]",children:[(0,r.jsx)("div",{className:"flex items-center justify-center",children:(0,r.jsxs)("div",{className:"relative flex h-[var(--space-8)] w-[var(--space-8)] items-center justify-center",children:[(0,r.jsx)(f.A,{pct:z,size:64}),(0,r.jsx)("span",{className:"absolute text-ui font-semibold tabular-nums text-card-foreground",children:0===C.total?"0%":"".concat(z,"%")})]})}),(0,r.jsx)("div",{className:"flex-1 space-y-[var(--space-3)]",children:0===C.total?(0,r.jsx)("p",{className:"text-label text-muted-foreground",children:"No goals tracked yet. Capture one in the goals workspace to see it here."}):C.active.length>0?C.active.map(e=>(0,r.jsxs)("div",{className:"space-y-[var(--space-1)]",children:[(0,r.jsx)("p",{className:"text-ui font-medium text-card-foreground",children:e.title}),e.metric?(0,r.jsx)("p",{className:"text-label text-muted-foreground",children:e.metric}):e.notes?(0,r.jsx)("p",{className:"text-label text-muted-foreground",children:e.notes}):null]},e.id)):(0,r.jsx)("p",{className:"text-label text-muted-foreground",children:"All active goals are complete. Great work!"})})]})]})}),(0,r.jsx)("div",{className:"col-span-12 md:col-span-12 lg:col-span-4",children:(0,r.jsxs)(d.b,{className:"flex h-full flex-col gap-[var(--space-4)] p-[var(--space-4)] md:p-[var(--space-5)]",children:[(0,r.jsxs)("header",{className:"space-y-[var(--space-1)]",children:[(0,r.jsx)("p",{className:"text-label text-muted-foreground",children:"Weekly calendar"}),(0,r.jsx)("h3",{className:"text-body font-semibold text-card-foreground tracking-[-0.01em]",children:K}),(0,r.jsx)("p",{className:"text-label text-muted-foreground",children:U>0?(0,r.jsxs)("span",{className:"tabular-nums text-card-foreground",children:[T,"/",U]}):"No tasks scheduled this week"})]}),(0,r.jsx)("div",{className:"flex overflow-x-auto rounded-card r-card-lg border border-border/60 p-[var(--space-2)]",children:(0,r.jsx)("ul",{className:"flex w-full min-w-0 gap-[var(--space-2)]",role:"listbox","aria-label":"Select focus day",children:F.map(a=>{let s=(0,h.E4)(a.iso),t=s?N.format(s):a.iso,l=s?y.format(s):"--",c=a.iso===e,n=V(a.iso);return(0,r.jsx)("li",{className:"flex-1 min-w-[calc(var(--space-8)+var(--space-2))]",children:(0,r.jsxs)("button",{type:"button",role:"option","aria-selected":c,"aria-current":n?"date":void 0,onClick:()=>H(a.iso),className:(0,v.cn)("flex w-full flex-col items-start gap-[var(--space-1)] rounded-card r-card-md border px-[var(--space-3)] py-[var(--space-2)] text-left transition","border-card-hairline bg-card/70 hover:border-primary/40 hover:bg-card/80","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-0","active:bg-card/90",c&&"border-primary/70 bg-card"),children:[(0,r.jsx)("span",{className:(0,v.cn)("text-label text-muted-foreground",n&&"text-accent-3"),children:t}),(0,r.jsx)("span",{className:"text-ui font-semibold tabular-nums text-card-foreground",children:l}),(0,r.jsxs)("span",{className:"text-label text-muted-foreground tabular-nums",children:[a.done,"/",a.total]})]})},a.iso)})})})]})})]})}function w(){let[e]=(0,m.D)();return!function(){let e=(0,p.useRouter)(),a=(0,p.usePathname)(),s=(0,p.useSearchParams)().toString(),r=t.useMemo(()=>new URLSearchParams(s),[s]),[l,c]=(0,m.D)();t.useEffect(()=>{let e=r.get("theme"),a=r.get("bg");c(s=>{let r={...s};if(e&&u.xb.some(a=>a.id===e)&&(r.variant=e),a){let e=Number(a);!Number.isNaN(e)&&e>=0&&e<u.jp.length&&(r.bg=e)}return r.variant===s.variant&&r.bg===s.bg?s:r})},[r,c]),t.useEffect(()=>{let s=r.get("theme"),t=r.get("bg");if(s===l.variant&&t===String(l.bg))return;let c=new URLSearchParams(r);c.set("theme",l.variant),c.set("bg",String(l.bg)),e.replace("".concat(a,"?").concat(c.toString()),{scroll:!1})},[l,e,a,r])}(),(0,r.jsx)(o.aP,{children:(0,r.jsx)(d.qK,{as:"main","aria-labelledby":"home-header",className:"py-[var(--space-6)] md:pb-[var(--space-8)]",children:(0,r.jsxs)("div",{className:"relative isolate rounded-[var(--radius-2xl)]",children:[(0,r.jsx)("div",{"aria-hidden":!0,className:"pointer-events-none absolute inset-0 -z-10 rounded-[inherit] border border-border/40 bg-panel/70 shadow-neo-inset"}),(0,r.jsxs)("div",{className:"relative space-y-[var(--space-6)] p-[var(--space-4)] md:space-y-[var(--space-8)] md:p-[var(--space-5)]",children:[(0,r.jsx)("section",{id:"landing-hero",role:"region","aria-label":"Intro",className:"grid grid-cols-12 gap-[var(--space-4)] pb-[var(--space-2)] md:pb-[var(--space-3)]",children:(0,r.jsx)("div",{className:"col-span-12",children:(0,r.jsx)(d.zY,{header:{id:"home-header",heading:"Welcome to Planner",subtitle:"Plan your day, track goals, and review games.",icon:(0,r.jsx)(l,{className:"opacity-80"}),sticky:!1},hero:{heading:"Your day at a glance",sticky:!1,barVariant:"raised",topClassName:"top-0",actions:(0,r.jsxs)("div",{className:"grid w-full grid-cols-12 gap-[var(--space-3)] sm:items-center",children:[(0,r.jsxs)("div",{className:"col-span-12 flex w-full flex-wrap items-center justify-end gap-[var(--space-2)] sm:flex-nowrap md:col-span-8 lg:col-span-7",children:[(0,r.jsx)(d.UW,{className:"shrink-0"}),(0,r.jsx)(d.$n,{asChild:!0,variant:"primary",size:"sm",tactile:!0,className:"whitespace-nowrap px-4",children:(0,r.jsx)(n(),{href:"/planner",children:"Plan Week"})})]}),(0,r.jsx)(i.v8,{className:"col-span-12 md:col-span-4 lg:col-span-5"})]}),children:(0,r.jsx)("div",{className:"pt-[var(--space-4)]",children:(0,r.jsx)(k,{})})}})})}),(0,r.jsxs)("div",{className:(0,v.cn)("space-y-[var(--space-6)]","relative z-10 isolate rounded-[var(--radius-2xl)] border border-border/50 bg-card/30 shadow-neoSoft backdrop-blur-lg","p-[var(--space-4)] md:p-[var(--space-5)]"),children:[(0,r.jsxs)("div",{className:"grid items-start gap-[var(--space-4)] md:grid-cols-12",children:[(0,r.jsx)("div",{className:"md:col-span-6",children:(0,r.jsx)(i.ZZ,{})}),(0,r.jsx)("div",{className:"md:col-span-6",children:(0,r.jsx)(i.h_,{variant:e.variant})})]}),(0,r.jsxs)("section",{className:"grid grid-cols-1 gap-[var(--space-6)] md:grid-cols-12",children:[(0,r.jsx)("div",{className:"md:col-span-4",children:(0,r.jsx)(i.qM,{})}),(0,r.jsx)("div",{className:"md:col-span-4",children:(0,r.jsx)(i.f5,{})}),(0,r.jsx)("div",{className:"md:col-span-4",children:(0,r.jsx)(i.a6,{})}),(0,r.jsx)("div",{className:"md:col-span-4",children:(0,r.jsx)(i.pK,{title:"Weekly focus",cta:{label:"Open planner",href:"/planner"},children:(0,r.jsx)(i.tX,{items:b,getKey:e=>e.id,itemClassName:"py-[var(--space-2)]",empty:"No highlights scheduled",renderItem:e=>(0,r.jsxs)("div",{className:"flex flex-col gap-[var(--space-2)]",children:[(0,r.jsxs)("div",{className:"flex items-baseline justify-between gap-[var(--space-3)]",children:[(0,r.jsx)("p",{className:"text-ui font-medium",children:e.title}),(0,r.jsx)("span",{className:"text-label text-muted-foreground",children:e.schedule})]}),(0,r.jsx)("p",{className:"text-body text-muted-foreground",children:e.summary})]})})})}),(0,r.jsx)("div",{className:"md:col-span-12",children:(0,r.jsx)(i.Rc,{})})]}),(0,r.jsx)("div",{className:"p-[var(--space-3)] md:hidden",children:(0,r.jsx)(i.lv,{})})]})]})]})})})}function M(){return(0,r.jsx)(t.Suspense,{fallback:(0,r.jsx)("div",{className:"flex justify-center p-6",children:(0,r.jsx)(d.y$,{})}),children:(0,r.jsx)(w,{})})}},91169:(e,a,s)=>{"use strict";s.d(a,{A:()=>r});let r=(0,s(71847).A)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]])},93852:(e,a,s)=>{"use strict";s.d(a,{A:()=>r});let r=(0,s(71847).A)("panels-top-left",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]])},95727:(e,a,s)=>{"use strict";s.d(a,{A:()=>r});let r=(0,s(71847).A)("circle-slash",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"9",x2:"15",y1:"15",y2:"9",key:"1dfufj"}]])},95740:(e,a,s)=>{"use strict";s.d(a,{A:()=>r});let r=(0,s(71847).A)("sparkles",[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]])}},e=>{e.O(0,[428,627,678,619,689,736,625,373,879,441,255,358],()=>e(e.s=46331)),_N_E=e.O()}]);