(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[872],{28558:(e,t,r)=>{"use strict";r.d(t,{D:()=>a});let n=(0,r(10161).h)("clipboard");async function a(e){if("undefined"==typeof navigator||"undefined"==typeof document)return;let t=navigator.clipboard,r=null;if(null==t?void 0:t.writeText)try{await t.writeText(e);return}catch(e){r=e}if((null==t?void 0:t.write)&&"undefined"!=typeof ClipboardItem)try{let r=new ClipboardItem({"text/plain":new Blob([e],{type:"text/plain"})});await t.write([r]);return}catch(e){r=e}if(!document.body)return void n.warn("Unable to copy text because document.body is not available.",r);let a=document.createElement("textarea");a.value=e,a.classList.add("clipboard-copy-buffer"),document.body.appendChild(a),a.select();let l=!1;try{if("function"==typeof document.execCommand&&(l=document.execCommand("copy")))return}catch(e){r=e}finally{var i;null==(i=document.getSelection())||i.removeAllRanges(),a.remove()}l||n.warn("Failed to copy text with the available clipboard strategies.",r)}},34837:(e,t,r)=>{"use strict";r.d(t,{x:()=>T});var n,a,l,i,o,c,s,d=r(10161),u=r(87358);let p=d.UG.child("sentry"),m=p.child("capture"),f=(null==(n=u.env.NEXT_PUBLIC_SENTRY_DSN)?void 0:n.trim())||(null==(a=u.env.SENTRY_DSN)?void 0:a.trim())||"",y=(null==(l=u.env.NEXT_PUBLIC_SENTRY_ENVIRONMENT)?void 0:l.trim())||(null==(i=u.env.SENTRY_ENVIRONMENT)?void 0:i.trim())||"production",v=(null==(o=u.env.NEXT_PUBLIC_SENTRY_TRACES_SAMPLE_RATE)?void 0:o.trim())||(null==(c=u.env.SENTRY_TRACES_SAMPLE_RATE)?void 0:c.trim())||"",h=!!f,x=!1,b=null,N=null,g=null!=(s=function(e){if(!e)return;let t=Number.parseFloat(e);return Number.isNaN(t)?void p.warn("Invalid Sentry sample rate provided",{value:e}):Math.min(Math.max(t,0),1)}(v))?s:.1;async function E(){return h?N||(b||(b=Promise.all([r.e(4850),r.e(7141)]).then(r.bind(r,17141)).then(e=>{if(N=e,!x)try{e.init({dsn:f,environment:y,enabled:h,tracesSampleRate:g,replaysSessionSampleRate:0,replaysOnErrorSampleRate:0,profilesSampleRate:0}),x=!0}catch(e){return p.error("Failed to initialize Sentry",e),null}return N}).catch(e=>(p.error("Failed to load Sentry runtime",e),N=null,null)).finally(()=>{b=null})),b):null}async function w(e,t){if(!h)return;let r=await E();if(!r)return void p.warn("captureException skipped because Sentry is unavailable",e);try{r.captureException(e,t)}catch(t){m.error("Failed to capture exception with Sentry",t,e)}}let S=d.UG.child("error-boundary");function T(e){let{boundary:t,error:r,info:n,tags:a,extra:l}=e;S.error("Error boundary captured an exception",{boundary:t,error:r,info:n,tags:a,extra:l});let i={boundary:t,...null!=a?a:{}},o={boundary:t,...null!=l?l:{}};n&&(o.info=n),w(r,{tags:i,extra:o})}},50960:(e,t,r)=>{"use strict";r.d(t,{A:()=>f,R:()=>m});var n=r(95155),a=r(12115),l=r(52619),i=r.n(l),o=r(91182),c=r(10161),s=r(34837),d=r(28558),u=r(27566);let p=(0,c.h)("route:error-boundary");function m(e){let{error:t,reset:r,title:l,description:c,retryLabel:m="Try again",homeLabel:f="Go to dashboard",homeHref:y=(0,u.hd)("/")}=e,v=(0,a.useMemo)(()=>(null==t?void 0:t.digest)?t.digest:"undefined"!=typeof crypto&&"function"==typeof crypto.randomUUID?crypto.randomUUID():"fallback-".concat(Date.now().toString(36),"-").concat(Math.random().toString(36).slice(2,8)),[t]),h=(0,a.useMemo)(()=>{var e;let r="string"==typeof(null==t?void 0:t.stack)?t.stack:"",n=null!=(e=null==t?void 0:t.message)?e:"Unknown error",a=r.includes(n)?r:[n,r].filter(Boolean).join("\n"),l=(null==t?void 0:t.digest)?"Digest: ".concat(t.digest):"";return["Planner error ".concat(v),l,a].filter(Boolean).join("\n\n")},[t,v]),[x,b]=(0,a.useState)("");(0,a.useEffect)(()=>{(0,s.x)({boundary:"route",error:t,extra:{digest:null==t?void 0:t.digest,errorId:v},tags:{errorId:v}})},[t,v]),(0,a.useEffect)(()=>{if(!x)return;let e=window.setTimeout(()=>b(""),4e3);return()=>window.clearTimeout(e)},[x]);let N=(0,a.useCallback)(async()=>{try{await (0,d.D)(h),b("Stack copied to clipboard.")}catch(e){p.warn("Failed to copy stack trace from route error boundary",e),b("We couldn't copy the stack. Select and copy it manually if needed.")}},[h]);return(0,n.jsx)(o.qK,{as:"section",role:"alert","aria-live":"assertive",className:"py-[var(--space-8)]",children:(0,n.jsxs)("div",{className:"flex max-w-prose flex-col gap-[var(--space-4)]",children:[(0,n.jsxs)("div",{className:"space-y-[var(--space-2)]",children:[(0,n.jsx)("h1",{className:"text-title-lg font-semibold text-foreground",children:l}),(0,n.jsx)("p",{className:"text-body text-muted-foreground",children:c})]}),(0,n.jsxs)("div",{className:"flex flex-wrap gap-[var(--space-3)]",children:[(0,n.jsx)(o.$n,{variant:"default",onClick:r,children:m}),(0,n.jsx)(o.$n,{asChild:!0,variant:"quiet",children:(0,n.jsx)(i(),{href:(0,u.hd)(y),children:f})}),(0,n.jsx)(o.$n,{type:"button",variant:"quiet",size:"sm",onClick:N,children:"Copy stack"})]}),(0,n.jsxs)("div",{className:"space-y-[var(--space-1)]",children:[(0,n.jsxs)("p",{className:"text-label text-muted-foreground",children:["Reference ID: ",(0,n.jsx)("span",{className:"font-mono text-foreground",children:v})]}),(0,n.jsx)("div",{className:"sr-only","aria-live":"polite",children:x}),x?(0,n.jsx)("p",{className:"text-label text-muted-foreground",children:x}):null]})]})})}function f(e){return(0,n.jsx)(m,{...e,title:"Something went wrong",description:"This section hit an error, but the rest of Planner is still running. Try again or return home."})}},59729:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>n.A});var n=r(50960)},94822:(e,t,r)=>{Promise.resolve().then(r.bind(r,59729))}},e=>{e.O(0,[1925,603,8087,3498,2619,1182,8441,1255,7358],()=>e(e.s=94822)),_N_E=e.O()}]);
//# sourceMappingURL=error-58bc35195e72229a.js.map