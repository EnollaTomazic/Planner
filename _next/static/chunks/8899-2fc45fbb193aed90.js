"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8899],{4245:(e,t,r)=>{r.d(t,{N:()=>o});var a=r(95155),s=r(12115),l=r(80881),n=r(61920),i=r(27566);function o(e){let{chips:t,selectedChip:r,onSelect:o,groupLabel:c="Prompt chip filters",className:d}=e,[u,p]=s.useState(!1),m=s.useId(),f=s.useRef(null),v=s.useRef(null),h=s.useRef(!1),x=s.useCallback(()=>{u&&(h.current=!0),p(e=>!e)},[u]),b=s.useCallback(()=>{h.current=!0,p(!1)},[]),g=s.useCallback(()=>{var e,t;let r=null==(e=v.current)?void 0:e.querySelector("[data-state-tester-chip=true]");if(r)return void r.focus({preventScroll:!0});null==(t=v.current)||t.focus({preventScroll:!0})},[]);s.useEffect(()=>{if(u){let e=requestAnimationFrame(g);return()=>cancelAnimationFrame(e)}if(h.current){var e;null==(e=f.current)||e.focus({preventScroll:!0}),h.current=!1}},[g,u]);let y=s.useCallback(e=>{"Escape"===e.key&&(e.preventDefault(),b())},[b]);return(0,a.jsxs)("div",{className:(0,i.cn)("flex flex-col gap-[var(--space-2)]","px-[var(--space-2)] sm:px-[var(--space-1)] md:px-0",d),children:[(0,a.jsx)(l.$n,{ref:f,variant:"quiet",size:"sm","aria-expanded":u,"aria-controls":m,onClick:x,className:"h-auto self-start p-0 text-muted-foreground underline-offset-4 hover:text-foreground",children:u?"Hide badge states":"Show badge states"}),u?(0,a.jsxs)("div",{id:m,ref:v,role:"group",tabIndex:-1,"aria-label":c,onKeyDown:y,className:(0,i.cn)("flex flex-col gap-[var(--space-2)]","rounded-[var(--radius-lg)]","border border-[color-mix(in_oklab,theme('colors.border')_80%,transparent)]","bg-[color-mix(in_oklab,theme('colors.panel')_85%,transparent)]","p-[var(--space-2)] shadow-[var(--shadow-border-md)]","focus:outline-none focus-visible:ring-2 focus-visible:ring-[theme('colors.focus.visible')] focus-visible:ring-offset-2"),children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Try out the badge interaction states without cluttering the hero layout."}),(0,a.jsx)("div",{className:(0,i.cn)("flex items-center gap-[var(--space-2)]","overflow-x-auto","pb-[var(--space-1)]","[-webkit-overflow-scrolling:touch]"),children:t.map((e,t)=>{let s=r===e;return(0,a.jsx)(n.Badge,{interactive:!0,selected:s,"aria-pressed":s,onClick:()=>o(e),"data-state-tester-chip":0===t?"true":void 0,tone:"accent",className:(0,i.cn)("[--badge-surface:transparent]","border-[theme('colors.interaction.accent.surfaceHover')]","text-muted-foreground","hover:text-foreground","focus-visible:text-foreground","data-[selected=true]:!bg-[theme('colors.interaction.accent.tintActive')]","data-[selected=true]:!text-on-accent","data-[selected=true]:!border-[theme('colors.interaction.accent.surfaceActive')]"),children:e},e)})})]}):null]})}},8899:(e,t,r)=>{r.d(t,{PromptsPage:()=>w});var a=r(95155),s=r(12115),l=r(57144),n=r(80881),i=r(11615),o=r(52105),c=r(1261),d=r(36462),u=r(27566),p=r(12289),m=r(32413),f=r(66290),v=r(12621),h=r(20637),x=r(4245),b=r(39713),g=r(73046);let y=e=>"chat"===e||"codex"===e||"notes"===e?e:null,j=["hover","focus","active","disabled","loading"],N=s.lazy(async()=>({default:(await r.e(444).then(r.bind(r,50444))).CodexPromptsTab})),k=s.lazy(async()=>({default:(await r.e(6053).then(r.bind(r,96053))).NotesTab}));function w(){let{prompts:e,query:t,setQuery:r,filtered:p,save:N,update:w,remove:A}=(0,m.r)(),{prompts:R,query:q,setQuery:T,filtered:I,save:z,update:D,remove:E}=(0,f.M)(),[F]=(0,h.v)(),[B,G]=(0,v.b)(),[L,M]=(0,c.u)("prompts.tab.v1","chat",y),K=(0,d.p)("tab","");s.useEffect(()=>{if(!K)return;let e=y(K);if(e){e!==L&&M(e);return}"chat"!==L&&M("chat")},[K,L,M]);let _=s.useMemo(()=>({chat:e.length,codex:R.length,notes:+(B.trim().length>0)}),[e.length,R.length,B]),O=s.useMemo(()=>"chat"===L?t:"codex"===L?q:"",[L,t,q]),H=s.useCallback(e=>{if("chat"===L)return void r(e);"codex"===L&&T(e)},[L,r,T]),Z=s.useRef(null),U=s.useRef(null),$=s.useRef(null),W=s.useCallback(e=>{if("chat"===e.tab){let t=Z.current;return!!t&&("prompt"===e.type?t.focusCompose():t.focusPersonas(),!0)}if("codex"===e.tab){let e=U.current;return!!e&&(e.focusCompose(),!0)}let t=$.current;return!!t&&(t.focusScratchpad(),!0)},[Z,U,$]),{requestFocus:Q}=(0,g.W)(L,W),J=s.useCallback(()=>{Q({type:"prompt",tab:L})},[L,Q]),V=s.useCallback(()=>{Q({type:"persona",tab:"chat"})||"chat"===L||M("chat")},[L,Q,M]),X="prompts-header",Y=s.useMemo(()=>b.R.map(e=>{let t=null==_?void 0:_[e.key];return{key:e.key,label:e.label,badge:t&&t>0?t:void 0}}),[_]),ee=s.useCallback(e=>{H(O===e?"":e)},[O,H]);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(l.Header,{heading:(0,a.jsx)("span",{id:X,children:"Prompts"}),subtitle:"Compose, save, and reuse AI prompts.",variant:"neo",underlineTone:"brand",tabs:{items:Y,value:L,onChange:M,ariaLabel:"Prompt workspaces",idBase:b.A,useSegmentedControl:!0},actions:(0,a.jsxs)("div",{className:"flex flex-wrap items-center gap-[var(--space-2)]",children:[(0,a.jsx)(i.Button,{size:"sm",onClick:J,children:"New prompt"}),(0,a.jsx)(i.Button,{size:"sm",variant:"quiet",onClick:V,children:"New persona"})]}),search:(0,a.jsx)(o.Input,{value:O,onChange:e=>H(e.target.value),placeholder:"Search prompts…","aria-label":"Search prompts",className:"min-w-[16rem]"}),children:(0,a.jsx)(x.N,{chips:j,selectedChip:O,onSelect:ee,className:(0,u.cn)("-mx-[var(--space-2)] sm:-mx-[var(--space-1)] md:mx-0")})}),(0,a.jsx)(n.qK,{as:"main",id:"page-main",tabIndex:-1,className:"space-y-[var(--space-6)] py-[var(--space-6)]","aria-labelledby":X,children:b.R.map(e=>{let r,l=L===e.key,n="".concat(b.A,"-").concat(e.key,"-tab"),i="".concat(b.A,"-").concat(e.key,"-panel");return r="chat"===e.key?(0,a.jsx)(C,{ref:Z,prompts:p,query:t,personas:F,savePrompt:N,updatePrompt:w,deletePrompt:A}):"codex"===e.key?(0,a.jsx)(s.Suspense,{fallback:(0,a.jsx)(S,{children:"Loading Codex checklist…"}),children:(0,a.jsx)(P,{ref:U,prompts:I,query:q,savePrompt:z,updatePrompt:D,deletePrompt:E})}):(0,a.jsx)(s.Suspense,{fallback:(0,a.jsx)(S,{children:"Preparing notes…"}),children:(0,a.jsx)(k,{ref:$,value:B,onChange:G})}),(0,a.jsx)("div",{role:"tabpanel",id:i,"aria-labelledby":n,hidden:!l,tabIndex:l?0:-1,"data-state":l?"active":"inactive",className:(0,u.cn)("focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background focus-visible:shadow-[var(--shadow-glow-md)]","pb-[var(--space-8)]"),children:l?r:null},e.key)})})]})}let C=s.forwardRef(function(e,t){let{prompts:r,query:l,personas:n,savePrompt:i,updatePrompt:o,deletePrompt:c}=e,d=s.useCallback((e,t,r)=>i(e,t,r),[i]);return(0,a.jsx)(p.$,{ref:t,prompts:r,query:l,personas:n,savePrompt:d,updatePrompt:o,deletePrompt:c})});C.displayName="ChatTabPanel";let P=s.forwardRef(function(e,t){let{prompts:r,query:l,savePrompt:n,updatePrompt:i,deletePrompt:o}=e,c=s.useCallback((e,t,r)=>n(e,t,r),[n]);return(0,a.jsx)(N,{ref:t,prompts:r,query:l,savePrompt:c,updatePrompt:i,deletePrompt:o})});function S(e){let{children:t}=e;return(0,a.jsx)("div",{role:"status","aria-live":"polite",className:"rounded-[var(--radius-md)] border border-dashed border-border bg-muted/30 p-[var(--space-4)] text-center text-ui text-muted-foreground",children:t})}P.displayName="CodexTabPanel"},12289:(e,t,r)=>{r.d(t,{$:()=>p});var a=r(95155),s=r(12115),l=r(95740),n=r(80881),i=r(17065),o=r(72525),c=r(69189);let d=[{value:"ChatGPT",label:"ChatGPT"},{value:"Codex review",label:"Codex review"},{value:"Notes",label:"Notes"}],u=()=>({title:"",prompt:"",category:"ChatGPT"}),p=s.forwardRef(function(e,t){let{prompts:r,query:l,personas:p,savePrompt:f,updatePrompt:v,deletePrompt:h}=e,x=s.useId(),b=s.useId(),g=s.useId(),y=s.useId(),[j,N]=s.useState(u),k=s.useRef(j);s.useEffect(()=>{k.current=j},[j]);let[w,C]=s.useState(null),P=s.useRef(null),S=s.useRef(null),A=s.useCallback(()=>{let e=u();k.current=e,N(e),C(null)},[]),R=s.useCallback(e=>{var t,r,a,s,l;let n=null!=(a=null==(t=e.title)?void 0:t.trim())?a:"",i=null!=(s=null==(r=e.prompt)?void 0:r.trim())?s:"";if(!n||!i)return!1;let o=null!=(l=e.category)?l:"ChatGPT";if(w){let e=v(w,n,i,o);return e&&A(),e}let c=f(n,i,o);return c&&A(),c},[w,A,f,v]),q=s.useCallback(e=>{var t,r,a;let l=null!=(t=e.title)?t:"",n=null!=(r=e.prompt)?r:"",i=null!=(a=e.category)?a:"ChatGPT",o=k.current;if(o.title===l&&o.prompt===n&&o.category===i)return;let c={title:l,prompt:n,category:i};s.startTransition(()=>{k.current=c,N(c)})},[]),T=s.useCallback(e=>{var t;let r={title:e.title,prompt:e.text,category:null!=(t=e.category)?t:"ChatGPT"};k.current=r,N(r),C(e.id)},[]),I=s.useCallback(e=>{h(e.id)&&w===e.id&&A()},[h,w,A]),z=s.useMemo(()=>{var e,t,r,a;let s=null!=(r=null==(e=j.title)?void 0:e.trim())?r:"",l=null!=(a=null==(t=j.prompt)?void 0:t.trim())?a:"";return 0===s.length||0===l.length},[j.prompt,j.title]),D=w?"Update":"Save";return s.useImperativeHandle(t,()=>({focusCompose:e=>{var t;null==(t=P.current)||t.focus(e)},focusPersonas:()=>{var e;null==(e=S.current)||e.focus()}}),[]),(0,a.jsxs)("div",{className:"flex flex-col gap-[var(--space-6)]",children:[(0,a.jsxs)("section",{"aria-labelledby":x,className:"flex flex-col gap-[var(--space-3)]",children:[(0,a.jsxs)("div",{className:"space-y-[var(--space-1)]",children:[(0,a.jsx)("h3",{id:x,className:"type-title",children:"Compose prompt"}),(0,a.jsx)("p",{className:"text-ui text-muted-foreground",children:"Draft a ChatGPT request and save it for future reuse."})]}),(0,a.jsx)(n.Zp,{depth:"raised",glitch:!0,className:n.Lf,children:(0,a.jsx)(c.B,{id:"chat-prompts-form-".concat(y),ref:P,title:"New ChatGPT prompt",submitLabel:D,submitDisabled:z,values:j,categories:d,onSubmit:R,onChange:q})})]}),(0,a.jsxs)("section",{"aria-labelledby":b,className:"flex flex-col gap-[var(--space-3)]",children:[(0,a.jsxs)("div",{className:"space-y-[var(--space-1)]",children:[(0,a.jsx)("h3",{id:b,ref:S,className:"type-title",tabIndex:-1,children:"Personas"}),(0,a.jsx)("p",{className:"text-ui text-muted-foreground",children:"Keep tailored introductions to quickly set tone and context."})]}),p.length>0?(0,a.jsx)("ul",{className:"grid gap-[var(--space-3)] md:grid-cols-2",children:p.map(e=>(0,a.jsx)("li",{children:(0,a.jsx)(i.D,{persona:e})},e.id))}):(0,a.jsx)(m,{})]}),(0,a.jsxs)("section",{"aria-labelledby":g,className:"flex flex-col gap-[var(--space-3)]",children:[(0,a.jsxs)("div",{className:"space-y-[var(--space-1)]",children:[(0,a.jsx)("h3",{id:g,className:"type-title",children:"Reusable prompts"}),(0,a.jsx)("p",{className:"text-ui text-muted-foreground",children:"Saved ChatGPT prompts appear here with newest first."})]}),(0,a.jsx)(o.q,{prompts:r,query:l,onSelectPrompt:T,onEditPrompt:T,onDeletePrompt:I})]})]})});function m(){return(0,a.jsxs)(n.Zp,{"aria-live":"polite",className:"relative isolate flex items-start gap-[var(--space-3)] overflow-hidden border border-dashed border-border/70 bg-card/70 p-[var(--space-4)] shadow-neo-soft before:absolute before:inset-0 before:-z-10 before:bg-gradient-to-br before:from-primary/5 before:via-transparent before:to-accent/5",children:[(0,a.jsx)("div",{className:"flex items-center justify-center rounded-full bg-card/80 p-[var(--space-3)] ring-1 ring-inset ring-border/50",children:(0,a.jsx)(l.A,{"aria-hidden":!0,className:"size-[var(--space-6)] text-primary"})}),(0,a.jsxs)("div",{className:"space-y-[var(--space-2)]",children:[(0,a.jsxs)("div",{className:"space-y-[var(--space-1)]",children:[(0,a.jsx)("p",{className:"text-body font-semibold text-card-foreground",children:"Start your first persona"}),(0,a.jsx)("p",{className:"text-ui text-muted-foreground",children:"Capture tone-setting instructions you want to reuse at the start of chats."})]}),(0,a.jsxs)("ul",{className:"list-inside list-disc space-y-[var(--space-1)] text-ui text-muted-foreground",children:[(0,a.jsx)("li",{children:"Name the persona and give a short description."}),(0,a.jsx)("li",{children:"Save the prompt text you want to drop into new conversations."})]})]})]})}p.displayName="ChatPromptsTab"},12591:(e,t,r)=>{r.d(t,{N:()=>i});var a=r(12115),s=r(67419);function l(e){if(!Array.isArray(e))return null;let t=[];for(let r of e){let e=function(e){if(!("object"==typeof e&&null!==e&&!Array.isArray(e)))return null;let t=e.id,r=e.text,a=e.createdAt;if("string"!=typeof t||"string"!=typeof r||"number"!=typeof a||!Number.isFinite(a))return null;let s={id:t,text:r,createdAt:a},l=e.title;"string"==typeof l&&(s.title=l);let n=e.category;return"string"==typeof n&&(s.category=n),s}(r);e&&t.push(e)}return t}let n=[];function i(e){let[t,i]=(0,s.ud)(e,n,{decode:l}),[o,c]=a.useState(""),d=a.useMemo(()=>t.map(e=>{var t;return{...e,title:e.title&&e.title.trim()?e.title.trim():(null==(t=(e.text||"").split(/\r?\n/).find(e=>e.trim()))?void 0:t.trim())||"Untitled"}}),[t]),u=a.useRef(null),p=a.useRef(null),[m,f]=a.useState(d),v=a.useCallback(async()=>{u.current||(u.current=r.e(3736).then(r.bind(r,93736)));let{default:e}=await u.current;if(p.current)return p.current.setCollection(d),p.current;let t=new e(d,{keys:["title","text","category"],threshold:.3});return p.current=t,t},[d]);a.useEffect(()=>{let e=o.trim();if(!e)return void f(d);let t=!1;if(!p.current){let t=e.toLowerCase();f(d.filter(e=>e.title.toLowerCase().includes(t)||e.text.toLowerCase().includes(t)))}return(async()=>{let r=await v();if(t)return;let a=r.search(e);t||f(a.map(e=>e.item))})(),()=>{t=!0}},[v,o,d]);let h=a.useCallback((e,t,r)=>{var a;let l=t.trim(),n=e.trim()||(null==(a=l.split(/\r?\n/)[0])?void 0:a.trim())||"Untitled";if(!l&&!e.trim())return!1;let o=null==r?void 0:r.trim(),c={id:(0,s.uid)("p"),title:n,text:l,createdAt:Date.now(),category:o||void 0};return i(e=>[c,...e]),!0},[i]);return{prompts:t,query:o,setQuery:c,filtered:m,save:h,update:a.useCallback((e,t,r,a)=>{var s;let l=r.trim(),n=t.trim()||(null==(s=l.split(/\r?\n/)[0])?void 0:s.trim())||"Untitled";if(!l&&!t.trim())return!1;let o=null==a?void 0:a.trim(),c=!1;return i(t=>t.map(t=>t.id!==e?t:(c=!0,{...t,title:n,text:l,category:o||t.category}))),c},[i]),remove:a.useCallback(e=>{let t=!1;return i(r=>r.filter(r=>{let a=r.id!==e;return a||(t=!0),a})),t},[i])}}},12621:(e,t,r)=>{r.d(t,{b:()=>s});var a=r(67419);function s(){return(0,a.ud)("prompts.notes.v1","")}},17065:(e,t,r)=>{r.d(t,{D:()=>i});var a=r(95155),s=r(12115),l=r(80881),n=r(27566);function i(e){let{persona:t,onSelect:r,actions:i,className:o}=e,c=s.useCallback(()=>{null==r||r(t)},[r,t]),d=s.useMemo(()=>new Date(t.createdAt),[t.createdAt]);return(0,a.jsxs)(l.Zp,{role:r?"button":void 0,tabIndex:r?0:void 0,onClick:r?c:void 0,onKeyDown:e=>{r&&("Enter"===e.key||" "===e.key)&&(e.preventDefault(),r(t))},className:(0,n.cn)("group relative isolate flex h-full flex-col gap-[var(--space-3)] overflow-hidden","border border-border/70 bg-card/80 p-[var(--space-4)] shadow-neo-soft transition-all","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background",r&&"cursor-pointer hover:ring-2 hover:ring-ring hover:ring-offset-2 hover:ring-offset-background",o),children:[(0,a.jsx)("div",{"aria-hidden":!0,className:"pointer-events-none absolute inset-0 -z-10 rounded-[inherit] bg-gradient-blob-accent opacity-0 blur-[var(--space-4)] transition-opacity duration-motion-sm ease-out motion-reduce:animate-none motion-safe:animate-blob-drift group-hover:opacity-[var(--glitch-overlay-opacity-card,0.08)] group-focus-visible:opacity-[var(--glitch-overlay-opacity-card,0.08)] group-focus-within:opacity-[var(--glitch-overlay-opacity-card,0.08)]"}),(0,a.jsx)("div",{"aria-hidden":!0,className:"absolute inset-x-[var(--space-4)] top-0 -z-10 h-px bg-gradient-to-r from-transparent via-border/80 to-transparent"}),(0,a.jsxs)("header",{className:"flex items-start justify-between gap-[var(--space-3)]",children:[(0,a.jsxs)("div",{className:"min-w-0 space-y-[var(--space-1-5)]",children:[(0,a.jsx)("h4",{className:"truncate font-semibold text-body",children:t.name}),t.description?(0,a.jsx)("p",{className:"line-clamp-2 text-ui text-muted-foreground",children:t.description}):null,(0,a.jsxs)("time",{dateTime:d.toISOString(),className:"flex items-center gap-[var(--space-1)] text-label text-muted-foreground",children:[(0,a.jsx)("span",{"aria-hidden":!0,className:"block size-[var(--space-2)] rounded-full bg-primary/70"}),"Added ",d.toLocaleString(n.ne)]})]}),i?(0,a.jsx)("div",{className:"flex shrink-0 items-center gap-[var(--space-1-5)]",children:i}):null]}),t.prompt?(0,a.jsx)("p",{className:"line-clamp-5 whitespace-pre-wrap rounded-[var(--radius-md)] bg-card/70 px-[var(--space-3)] py-[var(--space-2-5)] text-ui ring-1 ring-inset ring-border/40",children:t.prompt}):null]})}},20637:(e,t,r)=>{r.d(t,{v:()=>l});var a=r(67419);let s=[];function l(){return(0,a.ud)("prompts.personas.v1",s)}},32413:(e,t,r)=>{r.d(t,{r:()=>s});var a=r(12591);function s(){return(0,a.N)("prompts.chat.v1")}},39713:(e,t,r)=>{r.d(t,{A:()=>s,R:()=>a});let a=[{key:"chat",label:"ChatGPT"},{key:"codex",label:"Codex review"},{key:"notes",label:"Notes"}],s="prompts-tabs"},66290:(e,t,r)=>{r.d(t,{M:()=>s});var a=r(12591);function s(){return(0,a.N)("prompts.codex.v1")}},69189:(e,t,r)=>{r.d(t,{B:()=>m});var a=r(95155),s=r(12115),l=r(24033),n=r(80881),i=r(27566);let o=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(n.pd,{ref:t,variant:"sunken",className:(0,i.cn)("bg-card/60",r),...s})});o.displayName="InsetInput";let c=s.forwardRef(function(e,t){let{className:r,children:s,...o}=e;return(0,a.jsxs)(n.D0.Root,{variant:"sunken",className:"bg-card/60",children:[(0,a.jsx)(n.D0.Select,{ref:t,className:(0,i.cn)("appearance-none pr-[calc(var(--space-6)+var(--space-2))]",r),...o,children:s}),(0,a.jsx)(l.A,{className:"pointer-events-none absolute right-[var(--space-4)] size-[var(--space-4)] text-muted-foreground"})]})}),d=s.forwardRef(function(e,t){let{className:r,...s}=e;return(0,a.jsx)(n.D0.Root,{variant:"sunken",className:(0,i.cn)("bg-card/60 items-start",r),children:(0,a.jsx)(n.D0.Textarea,{ref:t,...s})})}),u={title:"Title is required",category:"Category is required",prompt:"Prompt is required"};function p(e){let t={};return e.title.trim()||(t.title=u.title),e.category||(t.category=u.category),e.prompt.trim()||(t.prompt=u.prompt),t}let m=s.forwardRef((e,t)=>{let{id:r,title:l,description:i,submitLabel:u="Save",submitDisabled:m,disabled:f,isSubmitting:v,values:h,categories:x,onChange:b,onSubmit:g}=e,y=s.useId(),[j,N]=s.useState({}),[k,w]=s.useState({}),[C,P]=s.useState(""),S=s.useId(),A=s.useId(),R=s.useId(),q=s.useRef(null),T=s.useRef(null),I=s.useRef(null);s.useImperativeHandle(t,()=>({focus:e=>{var t;null==(t=q.current)||t.focus(e)}}),[]),s.useEffect(()=>{if(!Object.values(j).length)return void P("");P(Object.values(j).filter(Boolean).join(" "))},[j]),s.useEffect(()=>{N(e=>{if(!Object.keys(e).length)return e;let t=p(h),r=!1,a={};return Object.keys(e).forEach(s=>{let l=t[s];a[s]=l,e[s]!==l&&(r=!0)}),r?a:e})},[h]);let z=s.useCallback(e=>t=>{let r=t.target.value,a={...h,[e]:r};b(a),k[e]&&N(t=>({...t,[e]:p(a)[e]}))},[b,k,h]),D=s.useCallback(e=>()=>{w(t=>({...t,[e]:!0})),N(t=>({...t,[e]:p(h)[e]}))},[h]),E=s.useCallback(async e=>{e.preventDefault();let t=p(h);if(N(t),w({title:!0,category:!0,prompt:!0}),Object.keys(t).length>0){var r,a,s;t.title?null==(r=q.current)||r.focus():t.category?null==(a=T.current)||a.focus():t.prompt&&(null==(s=I.current)||s.focus());return}g&&!1!==await g(h)&&(N({}),w({}),P("Form saved"))},[g,h]),F=f||v||m;return(0,a.jsxs)("form",{id:null!=r?r:y,onSubmit:E,className:"flex flex-col gap-[var(--space-4)]",children:[(l||i)&&(0,a.jsxs)("header",{className:"space-y-[var(--space-2)]",children:[l?(0,a.jsx)("h4",{className:"text-title font-semibold tracking-[-0.01em]",children:l}):null,i?(0,a.jsx)("p",{className:"text-ui text-muted-foreground",children:i}):null]}),(0,a.jsxs)("div",{className:"space-y-[var(--space-2)]",children:[(0,a.jsx)("label",{htmlFor:S,className:"text-ui font-medium text-foreground",children:"Title"}),(0,a.jsx)(o,{id:S,ref:q,placeholder:"Review macro calls",value:h.title,onChange:z("title"),onBlur:D("title"),"aria-invalid":j.title?"true":void 0,"aria-describedby":j.title?"".concat(S,"-error"):void 0,disabled:f,required:!0}),j.title?(0,a.jsx)("p",{id:"".concat(S,"-error"),className:"text-label font-medium text-danger",role:"status",children:j.title}):null]}),(0,a.jsxs)("div",{className:"space-y-[var(--space-2)]",children:[(0,a.jsx)("label",{htmlFor:A,className:"text-ui font-medium text-foreground",children:"Category"}),(0,a.jsxs)(c,{id:A,ref:T,value:h.category,onChange:z("category"),onBlur:D("category"),"aria-invalid":j.category?"true":void 0,"aria-describedby":j.category?"".concat(A,"-error"):void 0,disabled:f,required:!0,children:[(0,a.jsx)("option",{value:"",disabled:!0,hidden:!0,children:"Select category"}),x.map(e=>(0,a.jsx)("option",{value:e.value,children:e.label},e.value))]}),j.category?(0,a.jsx)("p",{id:"".concat(A,"-error"),className:"text-label font-medium text-danger",role:"status",children:j.category}):null]}),(0,a.jsxs)("div",{className:"space-y-[var(--space-2)]",children:[(0,a.jsx)("label",{htmlFor:R,className:"text-ui font-medium text-foreground",children:"Prompt"}),(0,a.jsx)(d,{id:R,ref:I,placeholder:"Write your prompt or snippet…",value:h.prompt,onChange:z("prompt"),onBlur:D("prompt"),rows:6,"aria-invalid":j.prompt?"true":void 0,"aria-describedby":j.prompt?"".concat(R,"-error"):void 0,disabled:f,required:!0}),j.prompt?(0,a.jsx)("p",{id:"".concat(R,"-error"),className:"text-label font-medium text-danger",role:"status",children:j.prompt}):null]}),(0,a.jsx)("div",{className:"flex justify-end",children:(0,a.jsx)(n.$n,{type:"submit",size:"sm",disabled:F,children:v?"Saving…":u})}),(0,a.jsx)("p",{"aria-live":"polite",role:"status",className:"sr-only",children:C})]})});m.displayName="PromptForm"},72049:(e,t,r)=>{r.d(t,{z:()=>d});var a=r(95155),s=r(12115),l=r(18514),n=r(71360),i=r(80881),o=r(61920),c=r(27566);function d(e){let{prompt:t,statusBadge:r,onSelect:d,onEdit:u,onDelete:p,className:m}=e,f=s.useCallback(()=>{null==d||d(t)},[d,t]);return(0,a.jsxs)(i.Zp,{role:d?"button":void 0,tabIndex:d?0:void 0,onClick:d?f:void 0,onKeyDown:e=>{d&&("Enter"===e.key||" "===e.key)&&(e.preventDefault(),d(t))},className:(0,c.cn)("group relative isolate flex flex-col gap-[var(--space-3)] overflow-hidden","border border-border/70 bg-card/80 p-[var(--space-4)] shadow-neo-soft transition-all","focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background",d&&"cursor-pointer hover:ring-2 hover:ring-ring hover:ring-offset-2 hover:ring-offset-background",m),children:[(0,a.jsx)("div",{"aria-hidden":!0,className:"pointer-events-none absolute inset-0 -z-10 rounded-[inherit] bg-gradient-blob-primary opacity-0 blur-[var(--space-4)] transition-opacity duration-motion-sm ease-out motion-reduce:animate-none motion-safe:animate-blob-drift group-hover:opacity-[var(--glitch-overlay-opacity-card,0.08)] group-focus-visible:opacity-[var(--glitch-overlay-opacity-card,0.08)] group-focus-within:opacity-[var(--glitch-overlay-opacity-card,0.08)]"}),(0,a.jsx)("div",{"aria-hidden":!0,className:"absolute inset-x-[var(--space-4)] top-0 -z-10 h-px bg-gradient-to-r from-transparent via-border/80 to-transparent"}),(0,a.jsxs)("header",{className:"flex items-start justify-between gap-[var(--space-3)]",children:[(0,a.jsxs)("div",{className:"min-w-0 space-y-[var(--space-1-5)]",children:[(0,a.jsxs)("div",{className:"flex items-center gap-[var(--space-2)]",children:[(0,a.jsx)("h3",{className:"truncate font-semibold text-body",children:t.title}),r]}),t.category?(0,a.jsx)(o.Badge,{tone:"neutral",size:"sm",children:t.category}):null,(0,a.jsxs)("time",{dateTime:t.createdAtDateTime,className:"flex items-center gap-[var(--space-1)] text-label text-muted-foreground",children:[(0,a.jsx)("span",{"aria-hidden":!0,className:"block size-[var(--space-2)] rounded-full bg-primary/70"}),"Saved ",t.createdAtLabel]})]}),(0,a.jsxs)("div",{className:"flex shrink-0 items-center gap-[var(--space-1-5)]",children:[(0,a.jsx)(i.K0,{"aria-label":"Edit ".concat(t.title),size:"sm",variant:"quiet",tone:"primary",onClick:e=>{e.stopPropagation(),null==u||u(t)},children:(0,a.jsx)(l.A,{"aria-hidden":"true"})}),(0,a.jsx)(i.K0,{"aria-label":"Delete ".concat(t.title),size:"sm",variant:"quiet",tone:"danger",onClick:e=>{e.stopPropagation(),null==p||p(t)},children:(0,a.jsx)(n.A,{"aria-hidden":"true"})})]})]}),t.text?(0,a.jsx)("p",{className:"line-clamp-3 whitespace-pre-line rounded-[var(--radius-md)] bg-card/70 px-[var(--space-3)] py-[var(--space-2-5)] text-ui text-muted-foreground ring-1 ring-inset ring-border/40",children:t.text}):null]})}},72525:(e,t,r)=>{r.d(t,{q:()=>p});var a=r(95155),s=r(12115);let l=(0,r(71847).A)("search-x",[["path",{d:"m13.5 8.5-5 5",key:"1cs55j"}],["path",{d:"m8.5 8.5 5 5",key:"a8mexj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);var n=r(95740),i=r(48346),o=r(80881),c=r(61920),d=r(27566),u=r(72049);function p(e){let{prompts:t,query:r,onSelectPrompt:l,onEditPrompt:n,onDeletePrompt:o}=e,c=r.trim(),p=s.useMemo(()=>t.map(e=>{let t=new Date(e.createdAt);return{...e,createdAtDateTime:t.toISOString(),createdAtLabel:t.toLocaleString(d.ne)}}),[t]);return(0,a.jsx)(i.G,{items:p,className:"mt-[var(--space-4)] [&>ul]:space-y-[var(--space-3)] [&>ul>li]:list-none",emptyState:(0,a.jsx)(m,{query:c}),renderItem:e=>(0,a.jsx)(u.z,{prompt:e,onSelect:l?()=>l(e):void 0,onEdit:n?()=>n(e):void 0,onDelete:o?()=>o(e):void 0})})}function m(e){let{query:t}=e,r=t.trim(),s=r.length>0;return(0,a.jsxs)(o.Zp,{className:(0,d.cn)("relative isolate flex items-start gap-[var(--space-3)] overflow-hidden border border-dashed border-border/70 bg-card/70 p-[var(--space-4)] shadow-neo-soft","before:absolute before:inset-0 before:-z-10 before:bg-gradient-to-br before:from-primary/5 before:via-transparent before:to-accent/5"),"aria-live":"polite",children:[(0,a.jsx)("div",{className:"flex items-center justify-center rounded-full bg-card/80 p-[var(--space-3)] ring-1 ring-inset ring-border/50",children:s?(0,a.jsx)(l,{"aria-hidden":!0,className:"size-[var(--space-6)] text-muted-foreground"}):(0,a.jsx)(n.A,{"aria-hidden":!0,className:"size-[var(--space-6)] text-primary"})}),(0,a.jsxs)("div",{className:"space-y-[var(--space-2)]",children:[(0,a.jsxs)("div",{className:"space-y-[var(--space-1)]",children:[(0,a.jsx)("p",{className:"text-body font-semibold text-card-foreground",children:s?"No prompts match":"Save your first prompt"}),(0,a.jsx)("p",{className:"text-ui text-muted-foreground",children:s?"Try different keywords or clear the search filter.":"Keep favorite instructions ready to reuse whenever inspiration hits."})]}),s?(0,a.jsxs)("div",{className:"flex flex-wrap items-center gap-[var(--space-1)]",children:[(0,a.jsx)("span",{className:"text-label text-muted-foreground",children:"Searching for"}),(0,a.jsx)(c.Badge,{size:"sm",tone:"neutral",children:r})]}):(0,a.jsxs)("ul",{className:"list-inside list-disc space-y-[var(--space-1)] text-ui text-muted-foreground",children:[(0,a.jsx)("li",{children:"Give your prompt a clear title so it is easy to scan."}),(0,a.jsx)("li",{children:"Include the full text you want to reuse, then hit Save."})]})]})]})}},73046:(e,t,r)=>{r.d(t,{W:()=>s});var a=r(12115);function s(e,t){let r=a.useRef(null),s=a.useRef(null),l=a.useRef(e),n=a.useCallback(()=>{if(null!=s.current)return;let e=()=>{let a=r.current;if(!a){s.current=null;return}if(a.tab===l.current&&t(a)){r.current=null,s.current=null;return}s.current=window.requestAnimationFrame(e)};s.current=window.requestAnimationFrame(e)},[t]);return a.useEffect(()=>{l.current=e,r.current&&null==s.current&&n()},[e,n]),a.useEffect(()=>()=>{null!=s.current&&(window.cancelAnimationFrame(s.current),s.current=null)},[]),{requestFocus:a.useCallback(e=>e.tab===l.current&&t(e)?(r.current=null,!0):(r.current=e,n(),!1),[n,t])}}}}]);
//# sourceMappingURL=8899-2fc45fbb193aed90.js.map