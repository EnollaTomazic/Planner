(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[772],{2772:(e,t,r)=>{"use strict";r.d(t,{lv:()=>B,pK:()=>o,f5:()=>v,h_:()=>S,ZZ:()=>b,a6:()=>p,Rc:()=>y,qM:()=>f});var a=r(5155),s=r(2115),n=r(2619),l=r.n(n),i=r(4625);function o(e){let{title:t,children:r,cta:s,actions:n}=e;return(0,a.jsxs)(i.b,{className:"p-[var(--space-4)] md:p-[var(--space-6)] space-y-[var(--space-4)]",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("h2",{className:"text-body font-semibold tracking-[-0.01em] text-card-foreground",children:t}),n]}),r&&(0,a.jsx)("div",{className:"border-t border-border pt-[var(--space-4)] space-y-[var(--space-4)]",children:r}),s&&(0,a.jsx)(l(),{href:s.href,className:"inline-flex items-center text-ui font-medium text-accent-3 underline underline-offset-4 transition-colors hover:text-accent-foreground active:text-accent-3 active:opacity-80 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[--theme-ring] focus-visible:ring-offset-0 motion-reduce:transition-none",children:s.label})]})}var c=r(7419),d=r(6557),u=r(5727);function f(){let[e]=(0,c.usePersistentState)("planner:days",{}),t=s.useMemo(()=>{var t,r;return null!=(r=null==(t=e[(0,d.todayISO)()])?void 0:t.tasks)?r:[]},[e]).slice(0,3);return(0,a.jsx)(o,{title:"Today",cta:{label:"Planner",href:"/planner"},children:(0,a.jsxs)("ul",{className:"divide-y divide-[hsl(var(--border))]",children:[t.map(e=>(0,a.jsxs)("li",{className:"flex justify-between py-[var(--space-2)] text-ui",children:[(0,a.jsx)("span",{children:e.title}),(0,a.jsx)("span",{className:"text-label text-muted-foreground",children:"Today"})]},e.id)),0===t.length&&(0,a.jsxs)("li",{className:"flex justify-between py-[var(--space-2)] text-ui text-muted-foreground",children:[(0,a.jsxs)("span",{className:"flex items-center gap-[var(--space-2)]",children:[(0,a.jsx)(u.A,{className:"size-3"}),"No tasks"]}),(0,a.jsx)(l(),{href:"/planner",className:"inline-flex items-center text-label font-medium text-accent-3 underline underline-offset-4 transition-colors hover:text-accent-foreground active:text-accent-3 active:opacity-80 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[--theme-ring] focus-visible:ring-offset-0 motion-reduce:transition-none",children:"Create"})]})]})})}function m(e){let t=Number.parseFloat(e.replace(/,/g,""));return Number.isFinite(t)?t:null}function v(){let[e]=(0,c.usePersistentState)("goals.v2",[]),t=s.useMemo(()=>e.filter(e=>!e.done).slice(0,3),[e]);return(0,a.jsx)(o,{title:"Active goals",cta:{label:"Manage Goals",href:"/goals"},children:(0,a.jsxs)("ul",{className:"divide-y divide-[hsl(var(--border))]",children:[t.map(e=>{var t,r;let s=function(e){var t,r;if(e.done)return{value:100,label:"".concat(e.title," complete"),display:null==(r=e.metric)?void 0:r.trim()};let a=null==(t=e.metric)?void 0:t.trim();if(!a)return null;let s=a.match(/(-?\d[\d,]*(?:\.\d+)?)\s*\/\s*(-?\d[\d,]*(?:\.\d+)?)/);if(s){let t=m(s[1]),r=m(s[2]);if(null!==t&&null!==r&&r>0)return{value:t/r*100,label:"".concat(e.title,": ").concat(t,"/").concat(r),display:a}}let n=a.match(/(-?\d[\d,]*(?:\.\d+)?)\s+(?:of|out of)\s+(-?\d[\d,]*(?:\.\d+)?)/i);if(n){let t=m(n[1]),r=m(n[2]);if(null!==t&&null!==r&&r>0)return{value:t/r*100,label:"".concat(e.title,": ").concat(t," of ").concat(r),display:a}}let l=a.match(/(-?\d[\d,]*(?:\.\d+)?)\s*(?:%|percent)/i);if(l){let t=m(l[1]);if(null!==t)return{value:t,label:"".concat(e.title,": ").concat(t,"%"),display:a}}return null}(e),n=(null==(t=e.metric)?void 0:t.trim())||(null==(r=e.notes)?void 0:r.trim())||"No metric yet";return(0,a.jsxs)("li",{className:"py-[var(--space-2)]",children:[(0,a.jsx)("p",{className:"text-ui",children:e.title}),(0,a.jsx)("div",{className:"mt-[var(--space-2)]",children:s?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i.ke,{value:s.value,label:s.label}),s.display?(0,a.jsx)("p",{className:"mt-[var(--space-1)] text-label text-muted-foreground tabular-nums",children:s.display}):null]}):(0,a.jsx)("p",{className:"text-label text-muted-foreground",children:n})})]},e.id)}),0===t.length&&(0,a.jsxs)("li",{className:"flex justify-between py-[var(--space-2)] text-ui text-muted-foreground",children:[(0,a.jsxs)("span",{className:"flex items-center gap-[var(--space-2)]",children:[(0,a.jsx)(u.A,{className:"size-3"}),"No active goals"]}),(0,a.jsx)(l(),{href:"/goals",className:"inline-flex items-center text-label font-medium text-accent-3 underline underline-offset-4 transition-colors hover:text-accent-foreground active:text-accent-3 active:opacity-80 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[--theme-ring] focus-visible:ring-offset-0 motion-reduce:transition-none",children:"Create"})]})]})})}var h=r(4269);function p(){let[e]=(0,c.usePersistentState)("reviews.v1",[]),t=s.useMemo(()=>[...e].sort((e,t)=>t.createdAt-e.createdAt).slice(0,3),[e]);return(0,a.jsx)(o,{title:"Recent reviews",cta:{label:"Open Reviews",href:"/reviews"},children:(0,a.jsxs)("ul",{className:"divide-y divide-[hsl(var(--border))]",children:[t.map(e=>(0,a.jsxs)("li",{className:"flex justify-between py-[var(--space-2)] text-ui",children:[(0,a.jsx)("span",{children:e.title||"Untitled"}),(0,a.jsx)("span",{className:"text-label text-muted-foreground",children:new Date(e.createdAt).toLocaleDateString(h.ne)})]},e.id)),0===t.length&&(0,a.jsxs)("li",{className:"flex justify-between py-[var(--space-2)] text-ui text-muted-foreground",children:[(0,a.jsxs)("span",{className:"flex items-center gap-[var(--space-2)]",children:[(0,a.jsx)(u.A,{className:"size-3"}),"No reviews yet"]}),(0,a.jsx)(l(),{href:"/reviews",className:"inline-flex items-center text-label font-medium text-accent-3 underline underline-offset-4 transition-colors hover:text-accent-foreground active:text-accent-3 active:opacity-80 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[--theme-ring] focus-visible:ring-offset-0 motion-reduce:transition-none",children:"Create"})]})]})})}var x=r(3462);let g="rounded-[var(--radius-2xl)] [--focus:var(--theme-ring)] focus-visible:ring-offset-0 motion-safe:hover:-translate-y-0.5 motion-reduce:transform-none";function b(){return(0,a.jsx)("section",{"aria-label":"Quick actions",className:"grid gap-[var(--space-4)]",children:(0,a.jsxs)("div",{className:"flex flex-col gap-[var(--space-4)] md:flex-row md:items-center md:justify-between",children:[(0,a.jsx)(x.default,{href:"/planner",className:g,children:"Planner Today"}),(0,a.jsx)(x.default,{href:"/goals",className:g,tone:"accent",children:"New Goal"}),(0,a.jsx)(x.default,{href:"/reviews",className:g,tone:"accent",children:"New Review"})]})})}let j="col-span-12 w-full justify-start text-left border-border bg-card/60 [--focus:var(--theme-ring)] focus-visible:ring-offset-0 sm:col-span-6 lg:col-span-4";function y(){return(0,a.jsxs)("div",{className:"grid grid-cols-1 gap-[var(--space-6)] md:grid-cols-12",children:[(0,a.jsx)("div",{className:"md:col-span-6",children:(0,a.jsx)(o,{title:"Team quick actions",children:(0,a.jsxs)("div",{className:"grid grid-cols-12 gap-[var(--space-4)]",children:[(0,a.jsx)(x.default,{asChild:!0,size:"sm",variant:"ghost",className:j,children:(0,a.jsx)(l(),{href:"/team",children:"Archetypes"})}),(0,a.jsx)(x.default,{asChild:!0,size:"sm",variant:"ghost",className:j,children:(0,a.jsx)(l(),{href:"/team",children:"Team Builder"})}),(0,a.jsx)(x.default,{asChild:!0,size:"sm",variant:"ghost",className:j,children:(0,a.jsx)(l(),{href:"/team",children:"Jungle Clears"})})]})})}),(0,a.jsx)("div",{className:"md:col-span-6",children:(0,a.jsx)(o,{title:"Prompts peek",cta:{label:"Explore Prompts",href:"/prompts"},children:(0,a.jsx)("div",{className:"rounded-card r-card-md bg-seg-active-grad p-[var(--space-4)] text-center text-ui text-neon-soft",children:"Get inspired with curated prompts"})})})]})}var N=r(63),w=r(4589),k=r(383),P=r(318),O=r(1169),C=r(3852),A=r(5740);let _=[{href:"/goals",label:"Goals",icon:w.A},{href:"/planner",label:"Planner",icon:k.A},{href:"/reviews",label:"Reviews",icon:P.A},{href:"/team",label:"Team",icon:O.A},{href:"/comps",label:"Components",icon:C.A},{href:"/prompts",label:"Prompts",icon:A.A}];function B(){let e=(0,N.usePathname)();return(0,a.jsx)("nav",{"aria-label":"Primary",className:"border-t border-border pt-[var(--space-4)] md:hidden",children:(0,a.jsx)("ul",{className:"flex justify-around",children:_.map(t=>{let{href:r,label:s,icon:n}=t,i=e.startsWith(r);return(0,a.jsx)("li",{children:(0,a.jsxs)(l(),{href:r,"aria-current":i?"page":void 0,"data-active":i,className:(0,h.cn)("group flex flex-col items-center gap-[var(--space-1)] rounded-xl px-[var(--space-3)] py-[var(--space-2)] text-label font-medium transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[--theme-ring] focus-visible:ring-offset-0 motion-safe:hover:-translate-y-0.5 motion-reduce:transform-none",i?"text-accent-3 ring-2 ring-[--theme-ring]":"text-muted-foreground hover:text-foreground"),children:[(0,a.jsx)(n,{"aria-hidden":"true",className:"size-5"}),(0,a.jsx)("span",{children:s})]})},r)})})})}var I=r(3085),E=r(9245);let M={lg:"[--room-floor:var(--lg-black)] [--room-wall:var(--lg-violet)] [--room-accent:var(--lg-cyan)]",aurora:"[--room-floor:var(--aurora-g)] [--room-wall:var(--aurora-p)] [--room-accent:var(--aurora-g-light)]",citrus:"[--room-floor:var(--citrus-teal)] [--room-wall:var(--citrus-teal)] [--room-accent:var(--ring)]",noir:"[--room-floor:var(--noir-ink)] [--room-wall:var(--noir-rose)] [--room-accent:var(--noir-red)]",ocean:"[--room-floor:var(--ocean-indigo)] [--room-wall:var(--ocean-cyan)] [--room-accent:var(--ocean-cyan)]",kitten:"[--room-floor:var(--kitten-pink)] [--room-wall:var(--kitten-rose)] [--room-accent:var(--kitten-blush)]",hardstuck:"[--room-floor:var(--hardstuck-deep)] [--room-wall:var(--hardstuck-forest)] [--room-accent:var(--hardstuck-forest)]"};function S(e){let{variant:t}=e,r=E.YD[t];return(0,a.jsxs)(I.Ay,{role:"img","aria-label":"Isometric room with ".concat(r),className:"relative h-48 overflow-hidden bg-background border shadow-neo transition-transform motion-reduce:transition-none hover:-translate-y-1 hover:shadow-neo active:shadow-neo-inset focus-visible:ring-2 focus-visible:ring-[--theme-ring] focus-visible:ring-offset-0 motion-reduce:hover:translate-y-0 ".concat(M[t]),children:[(0,a.jsxs)("div",{className:"absolute inset-0 [transform-style:preserve-3d]",children:[(0,a.jsx)("div",{className:"absolute inset-x-0 bottom-0 h-1/2 bg-[hsl(var(--room-floor))] origin-bottom [transform:rotateX(90deg)]"}),(0,a.jsx)("div",{className:"absolute inset-y-0 left-0 w-1/2 bg-[hsl(var(--room-wall))] origin-left [transform:rotateY(90deg)]"}),(0,a.jsx)("div",{className:"absolute inset-y-0 right-0 w-1/2 bg-[hsl(var(--room-accent))] origin-right [transform:rotateY(-90deg)]"})]}),"lg"===t&&(0,a.jsx)("div",{"aria-hidden":!0,className:"absolute inset-0 overflow-hidden pointer-events-none animate-[glx-flicker_6s_linear_infinite] motion-reduce:animate-none",children:(0,a.jsx)("div",{className:"absolute inset-0 bg-[repeating-linear-gradient(90deg,hsl(var(--room-accent)/0.15)_0_calc(var(--space-1)/2),transparent_calc(var(--space-1)/2)_var(--space-1))] [background-size:200%_100%] mix-blend-screen opacity-40 animate-[room-glitch_8s_linear_infinite] motion-reduce:animate-none"})}),(0,a.jsx)("span",{className:"sr-only",children:r})]})}},6557:(e,t,r)=>{"use strict";r.r(t),r.d(t,{PlannerProvider:()=>v,buildTaskLookups:()=>o,computeDayCounts:()=>i,ensureDay:()=>c,todayISO:()=>l,useDays:()=>h,useFocus:()=>p,useSelection:()=>x}),r(8768);var a=r(2115),s=r(7419),n=r(4804);function l(){return(0,n.$$)(new Date)}function i(e,t){let r=0,a=0;for(let t of e)a+=1,t.done&&(r+=1);for(let e of t)a+=1,e.done&&(r+=1);return{doneCount:r,totalCount:a}}function o(e){let t={},r={};for(let s of e){var a;r[s.id]=s;let e=s.projectId;e&&(null!=(a=t[e])?a:t[e]=[]).push(s.id)}return{tasksById:r,tasksByProject:t}}function c(e,t){var r,a;let s=e[t];if(!s)return{projects:[],tasks:[],tasksById:{},tasksByProject:{},doneCount:0,totalCount:0};let n=s.tasks,l=!1;s.tasks.every(e=>Array.isArray(e.images))||(l=!0,n=s.tasks.map(e=>{var t;return{...e,images:null!=(t=e.images)?t:[]}}));let{tasksById:c,tasksByProject:d}=o(n),u=null!=(r=s.tasksByProject)?r:{},f=null!=(a=s.tasksById)?a:{},m=!Object.prototype.hasOwnProperty.call(s,"tasksByProject")||!function(e,t){let r=Object.keys(e),a=Object.keys(t);if(r.length!==a.length)return!1;for(let a of r){var s;let r=null!=(s=e[a])?s:[],n=t[a];if(!n||r.length!==n.length)return!1;for(let e=0;e<r.length;e+=1)if(r[e]!==n[e])return!1}return!0}(u,d),v=!Object.prototype.hasOwnProperty.call(s,"tasksById")||!function(e,t){let r=Object.keys(e),a=Object.keys(t);if(r.length!==a.length)return!1;for(let a of r)if(!Object.prototype.hasOwnProperty.call(t,a)||e[a]!==t[a])return!1;return!0}(f,c),{doneCount:h,totalCount:p}=i(s.projects,n),x=s.doneCount!==h||s.totalCount!==p;return l||m||v||x?{...s,...l?{tasks:n}:{},...m?{tasksByProject:d}:{},...v?{tasksById:c}:{},doneCount:h,totalCount:p}:s}function d(e,t){let r=e,a=!1;for(let s of Object.keys(e)){let n=e[s],l=Object.prototype.hasOwnProperty.call(t,s),i=!!(null==n?void 0:n.projectId),o=!!(null==n?void 0:n.taskId);l&&(i||o)||(a||(a=!0,r={...r}),delete r[s])}return a?r:e}let u=a.createContext(null),f=a.createContext(null),m=a.createContext(null);function v(e){let{children:t}=e,[r,n]=(0,s.usePersistentState)("planner:days",{}),[i,o]=(0,s.usePersistentState)("planner:focus",l()),[v,h]=(0,s.usePersistentState)("planner:selected",{}),p=a.useMemo(()=>d(v,r),[v,r]);a.useEffect(()=>{Object.is(p,v)||h(p)},[p,v,h]);let x=a.useMemo(()=>{let e={};for(let[a,s]of Object.entries(r)){var t;e[a]=null!=(t=s.tasksById)?t:{}}return e},[r]);a.useEffect(()=>{Object.is(r,r)||n(r)},[r,r,n]);let g=a.useCallback(e=>{n(t=>{let r="function"==typeof e?e(t):e;if(Object.is(t,r))return t;let a=r,s=!1;for(let e of Object.keys(r)){if(t[e]===r[e])continue;let n=function(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))return;let r=c(e,t);return r===e[t]?void 0:r}(a,e);n&&(s||(s=!0,a={...a}),a[e]=n)}return s?a:r})},[n]),b=a.useMemo(()=>({days:r,setDays:g,tasksById:x}),[r,g,x]),j=a.useMemo(()=>({focus:i,setFocus:o}),[i,o]),y=a.useCallback(e=>{h(t=>{let a="function"==typeof e?e(t):e;if(Object.is(t,a))return t;let s=d(a,r);return Object.is(t,s)?t:s})},[r,h]),N=a.useMemo(()=>({selected:p,setSelected:y}),[p,y]);return a.createElement(u.Provider,{value:b},a.createElement(f.Provider,{value:j},a.createElement(m.Provider,{value:N},t)))}function h(){let e=a.useContext(u);if(!e)throw Error("PlannerProvider missing. Wrap your planner page with <PlannerProvider>.");return e}function p(){let e=a.useContext(f);if(!e)throw Error("PlannerProvider missing. Wrap your planner page with <PlannerProvider>.");return e}function x(){let e=a.useContext(m);if(!e)throw Error("PlannerProvider missing. Wrap your planner page with <PlannerProvider>.");return e}},8768:()=>{}}]);