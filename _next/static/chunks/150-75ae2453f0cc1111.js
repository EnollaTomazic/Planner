(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[150],{150:(e,t,r)=>{"use strict";r.d(t,{lv:()=>z,pK:()=>o,f5:()=>v,h_:()=>D,MY:()=>b,ZZ:()=>y,a6:()=>p,Rc:()=>k,qM:()=>f});var a=r(5155),n=r(2115),s=r(2619),l=r.n(s),i=r(4625);function o(e){let{title:t,children:r,cta:n,actions:s}=e;return(0,a.jsxs)(i.b,{className:"p-[var(--space-4)] md:p-[var(--space-6)] space-y-[var(--space-4)]",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("h2",{className:"text-body font-semibold tracking-[-0.01em] text-card-foreground",children:t}),s]}),r&&(0,a.jsx)("div",{className:"border-t border-border pt-[var(--space-4)] space-y-[var(--space-4)]",children:r}),n&&(0,a.jsx)(l(),{href:n.href,className:"inline-flex items-center text-ui font-medium text-accent-3 underline underline-offset-4 transition-colors hover:text-accent-foreground active:text-accent-3 active:opacity-80 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[--theme-ring] focus-visible:ring-offset-0 motion-reduce:transition-none",children:n.label})]})}var c=r(7419),u=r(6557),d=r(5727);function f(){let[e]=(0,c.usePersistentState)("planner:days",{}),t=n.useMemo(()=>{var t,r;return null!=(r=null==(t=e[(0,u.todayISO)()])?void 0:t.tasks)?r:[]},[e]).slice(0,3);return(0,a.jsx)(o,{title:"Today",cta:{label:"Planner",href:"/planner"},children:(0,a.jsxs)("ul",{className:"divide-y divide-[hsl(var(--border))]",children:[t.map(e=>(0,a.jsxs)("li",{className:"flex justify-between py-[var(--space-2)] text-ui",children:[(0,a.jsx)("span",{children:e.title}),(0,a.jsx)("span",{className:"text-label text-muted-foreground",children:"Today"})]},e.id)),0===t.length&&(0,a.jsxs)("li",{className:"flex justify-between py-[var(--space-2)] text-ui text-muted-foreground",children:[(0,a.jsxs)("span",{className:"flex items-center gap-[var(--space-2)]",children:[(0,a.jsx)(d.A,{className:"size-3"}),"No tasks"]}),(0,a.jsx)(l(),{href:"/planner",className:"inline-flex items-center text-label font-medium text-accent-3 underline underline-offset-4 transition-colors hover:text-accent-foreground active:text-accent-3 active:opacity-80 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[--theme-ring] focus-visible:ring-offset-0 motion-reduce:transition-none",children:"Create"})]})]})})}function m(e){let t=Number.parseFloat(e.replace(/,/g,""));return Number.isFinite(t)?t:null}function v(){let[e]=(0,c.usePersistentState)("goals.v2",[]),t=n.useMemo(()=>e.filter(e=>!e.done).slice(0,3),[e]);return(0,a.jsx)(o,{title:"Active goals",cta:{label:"Manage Goals",href:"/goals"},children:(0,a.jsxs)("ul",{className:"divide-y divide-[hsl(var(--border))]",children:[t.map(e=>{var t,r;let n=function(e){var t,r;if(e.done)return{value:100,label:"".concat(e.title," complete"),display:null==(r=e.metric)?void 0:r.trim()};let a=null==(t=e.metric)?void 0:t.trim();if(!a)return null;let n=a.match(/(-?\d[\d,]*(?:\.\d+)?)\s*\/\s*(-?\d[\d,]*(?:\.\d+)?)/);if(n){let t=m(n[1]),r=m(n[2]);if(null!==t&&null!==r&&r>0)return{value:t/r*100,label:"".concat(e.title,": ").concat(t,"/").concat(r),display:a}}let s=a.match(/(-?\d[\d,]*(?:\.\d+)?)\s+(?:of|out of)\s+(-?\d[\d,]*(?:\.\d+)?)/i);if(s){let t=m(s[1]),r=m(s[2]);if(null!==t&&null!==r&&r>0)return{value:t/r*100,label:"".concat(e.title,": ").concat(t," of ").concat(r),display:a}}let l=a.match(/(-?\d[\d,]*(?:\.\d+)?)\s*(?:%|percent)/i);if(l){let t=m(l[1]);if(null!==t)return{value:t,label:"".concat(e.title,": ").concat(t,"%"),display:a}}return null}(e),s=(null==(t=e.metric)?void 0:t.trim())||(null==(r=e.notes)?void 0:r.trim())||"No metric yet";return(0,a.jsxs)("li",{className:"py-[var(--space-2)]",children:[(0,a.jsx)("p",{className:"text-ui",children:e.title}),(0,a.jsx)("div",{className:"mt-[var(--space-2)]",children:n?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i.ke,{value:n.value,label:n.label}),n.display?(0,a.jsx)("p",{className:"mt-[var(--space-1)] text-label text-muted-foreground tabular-nums",children:n.display}):null]}):(0,a.jsx)("p",{className:"text-label text-muted-foreground",children:s})})]},e.id)}),0===t.length&&(0,a.jsxs)("li",{className:"flex justify-between py-[var(--space-2)] text-ui text-muted-foreground",children:[(0,a.jsxs)("span",{className:"flex items-center gap-[var(--space-2)]",children:[(0,a.jsx)(d.A,{className:"size-3"}),"No active goals"]}),(0,a.jsx)(l(),{href:"/goals",className:"inline-flex items-center text-label font-medium text-accent-3 underline underline-offset-4 transition-colors hover:text-accent-foreground active:text-accent-3 active:opacity-80 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[--theme-ring] focus-visible:ring-offset-0 motion-reduce:transition-none",children:"Create"})]})]})})}var h=r(4269);function p(){let[e]=(0,c.usePersistentState)("reviews.v1",[]),t=n.useMemo(()=>[...e].sort((e,t)=>t.createdAt-e.createdAt).slice(0,3),[e]);return(0,a.jsx)(o,{title:"Recent reviews",cta:{label:"Open Reviews",href:"/reviews"},children:(0,a.jsxs)("ul",{className:"divide-y divide-[hsl(var(--border))]",children:[t.map(e=>(0,a.jsxs)("li",{className:"flex justify-between py-[var(--space-2)] text-ui",children:[(0,a.jsx)("span",{children:e.title||"Untitled"}),(0,a.jsx)("span",{className:"text-label text-muted-foreground",children:new Date(e.createdAt).toLocaleDateString(h.ne)})]},e.id)),0===t.length&&(0,a.jsxs)("li",{className:"flex justify-between py-[var(--space-2)] text-ui text-muted-foreground",children:[(0,a.jsxs)("span",{className:"flex items-center gap-[var(--space-2)]",children:[(0,a.jsx)(d.A,{className:"size-3"}),"No reviews yet"]}),(0,a.jsx)(l(),{href:"/reviews",className:"inline-flex items-center text-label font-medium text-accent-3 underline underline-offset-4 transition-colors hover:text-accent-foreground active:text-accent-3 active:opacity-80 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[--theme-ring] focus-visible:ring-offset-0 motion-reduce:transition-none",children:"Create"})]})]})})}var x=r(3462);let g={stacked:"flex flex-col gap-[var(--space-4)]",grid:"grid gap-[var(--space-4)]"};function b(e){let{actions:t,layout:r="stacked",className:n,buttonClassName:s,buttonSize:i="md",buttonTone:o="primary",buttonVariant:c="secondary"}=e;return(0,a.jsx)("div",{className:(0,h.cn)(g[r],n),children:t.map((e,t)=>{let{href:r,label:n,tone:u,asChild:d,className:f,size:m,variant:v,linkProps:p}=e,g="".concat(r,"-").concat(t),b=null!=u?u:o,j=null!=m?m:i,y=null!=v?v:c,N=(0,h.cn)("rounded-[var(--radius-2xl)] [--focus:var(--theme-ring)] focus-visible:ring-offset-0",s,f);if(d)return(0,a.jsx)(x.default,{asChild:!0,tone:b,size:j,variant:y,className:N,children:(0,a.jsx)(l(),{href:r,...p,children:n})},g);let k=null==p?void 0:p.target,w=null==p?void 0:p.rel;return(0,a.jsx)(x.default,{href:r,tone:b,size:j,variant:y,className:N,target:k,rel:w,children:n},g)})})}let j=[{href:"/planner",label:"Planner Today"},{href:"/goals",label:"New Goal",tone:"accent"},{href:"/reviews",label:"New Review",tone:"accent"}];function y(){return(0,a.jsx)("section",{"aria-label":"Quick actions",className:"grid gap-[var(--space-4)]",children:(0,a.jsx)(b,{actions:j,className:"md:flex-row md:items-center md:justify-between",buttonClassName:"motion-safe:hover:-translate-y-0.5 motion-reduce:transform-none"})})}let N=[{href:"/team",label:"Archetypes",asChild:!0},{href:"/team",label:"Team Builder",asChild:!0},{href:"/team",label:"Jungle Clears",asChild:!0}];function k(){return(0,a.jsxs)("div",{className:"grid grid-cols-1 gap-[var(--space-6)] md:grid-cols-12",children:[(0,a.jsx)("div",{className:"md:col-span-6",children:(0,a.jsx)(o,{title:"Team quick actions",children:(0,a.jsx)(b,{actions:N,layout:"grid",className:"grid-cols-12",buttonVariant:"ghost",buttonSize:"sm",buttonClassName:"col-span-12 w-full justify-start text-left border-border bg-card/60 sm:col-span-6 lg:col-span-4"})})}),(0,a.jsx)("div",{className:"md:col-span-6",children:(0,a.jsx)(o,{title:"Prompts peek",cta:{label:"Explore Prompts",href:"/prompts"},children:(0,a.jsxs)("div",{className:"relative overflow-hidden rounded-card r-card-md bg-seg-active-grad p-[var(--space-4)] text-center text-ui text-foreground",children:[(0,a.jsx)("div",{"aria-hidden":"true",className:"pointer-events-none absolute inset-0 -z-10 rounded-[inherit] bg-[linear-gradient(90deg,hsl(var(--primary)/0.35),hsl(var(--accent)/0.35),hsl(var(--accent-3)/0.35))]"}),(0,a.jsx)("span",{className:"relative z-10 block",children:"Get inspired with curated prompts"})]})})})]})}var w=r(63),P=r(4589),C=r(383),O=r(318),A=r(1169),_=r(3852),B=r(5740);let I=[{href:"/goals",label:"Goals",icon:P.A},{href:"/planner",label:"Planner",icon:C.A},{href:"/reviews",label:"Reviews",icon:O.A},{href:"/team",label:"Team",icon:A.A},{href:"/comps",label:"Components",icon:_.A},{href:"/prompts",label:"Prompts",icon:B.A}];function z(){var e;let t=null!=(e=(0,w.usePathname)())?e:"/",r=(0,h.zH)(t);return(0,a.jsx)("nav",{"aria-label":"Primary",className:"border-t border-border pt-[var(--space-4)] md:hidden",children:(0,a.jsx)("ul",{className:"flex justify-around",children:I.map(e=>{let{href:t,label:n,icon:s}=e,i=r.startsWith(t);return(0,a.jsx)("li",{children:(0,a.jsxs)(l(),{href:t,"aria-current":i?"page":void 0,"data-active":i,className:(0,h.cn)("group flex flex-col items-center gap-[var(--space-1)] rounded-xl px-[var(--space-3)] py-[var(--space-2)] text-label font-medium transition focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[--theme-ring] focus-visible:ring-offset-0 motion-safe:hover:-translate-y-0.5 motion-reduce:transform-none",i?"text-accent-3 ring-2 ring-[--theme-ring]":"text-muted-foreground hover:text-foreground"),children:[(0,a.jsx)(s,{"aria-hidden":"true",className:"size-5"}),(0,a.jsx)("span",{children:n})]})},t)})})})}var E=r(3085),M=r(9245);let S={lg:"[--room-floor:var(--lg-black)] [--room-wall:var(--lg-violet)] [--room-accent:var(--lg-cyan)]",aurora:"[--room-floor:var(--aurora-g)] [--room-wall:var(--aurora-p)] [--room-accent:var(--aurora-g-light)]",citrus:"[--room-floor:var(--citrus-teal)] [--room-wall:var(--citrus-teal)] [--room-accent:var(--ring)]",noir:"[--room-floor:var(--noir-ink)] [--room-wall:var(--noir-rose)] [--room-accent:var(--noir-red)]",ocean:"[--room-floor:var(--ocean-indigo)] [--room-wall:var(--ocean-cyan)] [--room-accent:var(--ocean-cyan)]",kitten:"[--room-floor:var(--kitten-pink)] [--room-wall:var(--kitten-rose)] [--room-accent:var(--kitten-blush)]",hardstuck:"[--room-floor:var(--hardstuck-deep)] [--room-wall:var(--hardstuck-forest)] [--room-accent:var(--hardstuck-forest)]"};function D(e){let{variant:t}=e,r=M.YD[t];return(0,a.jsxs)(E.Ay,{role:"img","aria-label":"Isometric room with ".concat(r),className:"relative h-48 overflow-hidden bg-background border shadow-neo transition-transform motion-reduce:transition-none hover:-translate-y-1 hover:shadow-neo active:shadow-neo-inset focus-visible:ring-2 focus-visible:ring-[--theme-ring] focus-visible:ring-offset-0 motion-reduce:hover:translate-y-0 ".concat(S[t]),children:[(0,a.jsxs)("div",{className:"absolute inset-0 [transform-style:preserve-3d]",children:[(0,a.jsx)("div",{className:"absolute inset-x-0 bottom-0 h-1/2 bg-[hsl(var(--room-floor))] origin-bottom [transform:rotateX(90deg)]"}),(0,a.jsx)("div",{className:"absolute inset-y-0 left-0 w-1/2 bg-[hsl(var(--room-wall))] origin-left [transform:rotateY(90deg)]"}),(0,a.jsx)("div",{className:"absolute inset-y-0 right-0 w-1/2 bg-[hsl(var(--room-accent))] origin-right [transform:rotateY(-90deg)]"})]}),"lg"===t&&(0,a.jsx)("div",{"aria-hidden":!0,className:"absolute inset-0 overflow-hidden pointer-events-none animate-[glx-flicker_6s_linear_infinite] motion-reduce:animate-none",children:(0,a.jsx)("div",{className:"absolute inset-0 bg-[repeating-linear-gradient(90deg,hsl(var(--room-accent)/0.15)_0_calc(var(--space-1)/2),transparent_calc(var(--space-1)/2)_var(--space-1))] [background-size:200%_100%] mix-blend-screen opacity-40 animate-[room-glitch_8s_linear_infinite] motion-reduce:animate-none"})}),(0,a.jsx)("span",{className:"sr-only",children:r})]})}},6557:(e,t,r)=>{"use strict";r.r(t),r.d(t,{PlannerProvider:()=>v,buildTaskLookups:()=>o,computeDayCounts:()=>i,ensureDay:()=>c,todayISO:()=>l,useDays:()=>h,useFocus:()=>p,useSelection:()=>x}),r(8768);var a=r(2115),n=r(7419),s=r(4804);function l(){return(0,s.$$)(new Date)}function i(e,t){let r=0,a=0;for(let t of e)a+=1,t.done&&(r+=1);for(let e of t)a+=1,e.done&&(r+=1);return{doneCount:r,totalCount:a}}function o(e){let t={},r={};for(let n of e){var a;r[n.id]=n;let e=n.projectId;e&&(null!=(a=t[e])?a:t[e]=[]).push(n.id)}return{tasksById:r,tasksByProject:t}}function c(e,t){var r,a;let n=e[t];if(!n)return{projects:[],tasks:[],tasksById:{},tasksByProject:{},doneCount:0,totalCount:0};let s=n.tasks,l=!1;n.tasks.every(e=>Array.isArray(e.images))||(l=!0,s=n.tasks.map(e=>{var t;return{...e,images:null!=(t=e.images)?t:[]}}));let{tasksById:c,tasksByProject:u}=o(s),d=null!=(r=n.tasksByProject)?r:{},f=null!=(a=n.tasksById)?a:{},m=!Object.prototype.hasOwnProperty.call(n,"tasksByProject")||!function(e,t){let r=Object.keys(e),a=Object.keys(t);if(r.length!==a.length)return!1;for(let a of r){var n;let r=null!=(n=e[a])?n:[],s=t[a];if(!s||r.length!==s.length)return!1;for(let e=0;e<r.length;e+=1)if(r[e]!==s[e])return!1}return!0}(d,u),v=!Object.prototype.hasOwnProperty.call(n,"tasksById")||!function(e,t){let r=Object.keys(e),a=Object.keys(t);if(r.length!==a.length)return!1;for(let a of r)if(!Object.prototype.hasOwnProperty.call(t,a)||e[a]!==t[a])return!1;return!0}(f,c),{doneCount:h,totalCount:p}=i(n.projects,s),x=n.doneCount!==h||n.totalCount!==p;return l||m||v||x?{...n,...l?{tasks:s}:{},...m?{tasksByProject:u}:{},...v?{tasksById:c}:{},doneCount:h,totalCount:p}:n}function u(e,t){let r=e,a=!1;for(let n of Object.keys(e)){let s=e[n],l=Object.prototype.hasOwnProperty.call(t,n),i=!!(null==s?void 0:s.projectId),o=!!(null==s?void 0:s.taskId);l&&(i||o)||(a||(a=!0,r={...r}),delete r[n])}return a?r:e}let d=a.createContext(null),f=a.createContext(null),m=a.createContext(null);function v(e){let{children:t}=e,[r,s]=(0,n.usePersistentState)("planner:days",{}),[i,o]=(0,n.usePersistentState)("planner:focus",l()),[v,h]=(0,n.usePersistentState)("planner:selected",{}),p=a.useMemo(()=>u(v,r),[v,r]);a.useEffect(()=>{Object.is(p,v)||h(p)},[p,v,h]);let x=a.useMemo(()=>{let e={};for(let[a,n]of Object.entries(r)){var t;e[a]=null!=(t=n.tasksById)?t:{}}return e},[r]);a.useEffect(()=>{Object.is(r,r)||s(r)},[r,r,s]);let g=a.useCallback(e=>{s(t=>{let r="function"==typeof e?e(t):e;if(Object.is(t,r))return t;let a=r,n=!1;for(let e of Object.keys(r)){if(t[e]===r[e])continue;let s=function(e,t){if(!Object.prototype.hasOwnProperty.call(e,t))return;let r=c(e,t);return r===e[t]?void 0:r}(a,e);s&&(n||(n=!0,a={...a}),a[e]=s)}return n?a:r})},[s]),b=a.useMemo(()=>({days:r,setDays:g,tasksById:x}),[r,g,x]),j=a.useMemo(()=>({focus:i,setFocus:o}),[i,o]),y=a.useCallback(e=>{h(t=>{let a="function"==typeof e?e(t):e;if(Object.is(t,a))return t;let n=u(a,r);return Object.is(t,n)?t:n})},[r,h]),N=a.useMemo(()=>({selected:p,setSelected:y}),[p,y]);return a.createElement(d.Provider,{value:b},a.createElement(f.Provider,{value:j},a.createElement(m.Provider,{value:N},t)))}function h(){let e=a.useContext(d);if(!e)throw Error("PlannerProvider missing. Wrap your planner page with <PlannerProvider>.");return e}function p(){let e=a.useContext(f);if(!e)throw Error("PlannerProvider missing. Wrap your planner page with <PlannerProvider>.");return e}function x(){let e=a.useContext(m);if(!e)throw Error("PlannerProvider missing. Wrap your planner page with <PlannerProvider>.");return e}},8768:()=>{}}]);