{"version":3,"file":"static/chunks/1182-d93f5ba280b342d3.js","mappings":"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","sources":["webpack://_N_E/./src/components/ui/primitives/AvatarFrame.module.css","webpack://_N_E/./src/components/ui/toggles/Toggle.gallery.tsx","webpack://_N_E/./src/components/ui/primitives/Card.tsx","webpack://_N_E/./src/components/ui/layout/SectionCard.tsx","webpack://_N_E/./src/components/ui/ai/AIRetryErrorBubble.tsx","webpack://_N_E/./src/components/ui/toggles/NeonIcon.tsx","webpack://_N_E/./src/components/ui/primitives/Textarea.tsx","webpack://_N_E/./src/components/ui/toggles/NeonIcon.gallery.tsx","webpack://_N_E/./src/components/layout/Stack.module.css","webpack://_N_E/./src/components/ui/layout/hero/Hero.module.css","webpack://_N_E/./src/components/ui/primitives/IconButton.tsx","webpack://_N_E/./src/components/ui/hooks/useScopedCssVars.tsx","webpack://_N_E/./src/icons/CatCompanionIcon.tsx","webpack://_N_E/./src/components/ui/layout/NeomorphicFrameStyles.css","webpack://_N_E/./src/lib/logging.ts","webpack://_N_E/./src/components/ui/primitives/BlobContainer.tsx","webpack://_N_E/./src/components/ui/primitives/Button.tsx","webpack://_N_E/./src/components/ui/radio/RadioIconGroup.gallery.tsx","webpack://_N_E/./src/components/ui/layout/Split.tsx","webpack://_N_E/./src/components/ui/layout/Header.gallery.tsx","webpack://_N_E/./env/client.ts","webpack://_N_E/./src/lib/load-client-env.ts","webpack://_N_E/./src/components/ui/Toast.tsx","webpack://_N_E/./src/components/ui/primitives/SegmentedButton.module.css","webpack://_N_E/./src/components/ui/primitives/Field.tsx","webpack://_N_E/./src/components/ui/primitives/Badge.module.css","webpack://_N_E/./src/components/ui/primitives/VirtualizedList.tsx","webpack://_N_E/./src/components/ui/toggles/Toggle.module.css","webpack://_N_E/./src/components/ui/feedback/Snackbar.tsx","webpack://_N_E/./src/components/ui/primitives/SegmentedButton.tsx","webpack://_N_E/./src/components/ui/primitives/GlitchSegmented.module.css","webpack://_N_E/./src/components/ui/primitives/Neu.ts","webpack://_N_E/./src/components/ui/primitives/IssueBadge.tsx","webpack://_N_E/./src/components/ui/layout/TitleBar.module.css","webpack://_N_E/./src/components/ui/ai/AIConfidenceHint.tsx","webpack://_N_E/./src/components/ui/layout/hero/Hero.tsx","webpack://_N_E/./public/BEST_ONE_EVAH.png","webpack://_N_E/./src/components/ui/variants.ts","webpack://_N_E/./src/lib/useReducedMotion.ts","webpack://_N_E/./src/lib/feature-flags.ts","webpack://_N_E/./lib/base-path.js","webpack://_N_E/./src/lib/utils.ts","webpack://_N_E/./src/components/ui/feedback/Skeleton.tsx","webpack://_N_E/./src/components/ui/primitives/NeoCard.tsx","webpack://_N_E/./src/lib/theme-context.tsx","webpack://_N_E/./src/components/ui/league/pillars/PillarSelector.tsx","webpack://_N_E/./src/components/ui/neumorphic.module.css","webpack://_N_E/./src/components/ui/toggles/Toggle.tsx","webpack://_N_E/./src/components/ui/feedback/Spinner.tsx","webpack://_N_E/./src/components/ui/radio/RadioIconGroup.tsx","webpack://_N_E/./src/components/ui/ai/AILoadingShimmer.tsx","webpack://_N_E/./src/components/ui/select/Select.module.css","webpack://_N_E/./src/components/ui/league/pillars/PillarSelector.module.css","webpack://_N_E/./src/components/ui/hooks/useDialogTrap.ts","webpack://_N_E/./src/components/layout/Cluster.module.css","webpack://_N_E/./src/components/ui/primitives/Input.module.css","webpack://_N_E/./src/components/tabs/HeaderTabs.tsx","webpack://_N_E/./src/components/ui/HeroImage.tsx","webpack://_N_E/./src/components/ui/layout/PageHeader.tsx","webpack://_N_E/./src/components/layout/Grid.module.css","webpack://_N_E/./src/components/ui/layout/hero/HeroTabs.tsx","webpack://_N_E/./src/data/heroImages.ts","webpack://_N_E/./src/components/tabs/HeaderTabs.module.css","webpack://_N_E/./src/components/ui/primitives/DripEdge.tsx","webpack://_N_E/./src/components/ui/primitives/Tabs.tsx","webpack://_N_E/./src/components/ui/primitives/Textarea.gallery.tsx","webpack://_N_E/./src/lib/useDebouncedCallback.ts","webpack://_N_E/./src/components/ui/toggles/CheckCircle.tsx","webpack://_N_E/./src/lib/depth-theme-context.tsx","webpack://_N_E/./src/components/ui/primitives/GlitchProgress.tsx","webpack://_N_E/./src/lib/useAnimationsDisabled.ts","webpack://_N_E/./src/components/ui/primitives/Input.tsx","webpack://_N_E/./src/components/ui/ai/AITypingIndicator.tsx","webpack://_N_E/./src/components/ui/primitives/Field.module.css","webpack://_N_E/./src/components/ui/Label.tsx","webpack://_N_E/./src/components/ui/Sheet.tsx","webpack://_N_E/./src/components/ui/primitives/SearchBar.tsx","webpack://_N_E/./src/components/ui/select/NativeSelect.tsx","webpack://_N_E/./src/components/ui/layout/Header.tsx","webpack://_N_E/./src/components/ui/league/pillars/PillarBadge.module.css","webpack://_N_E/./src/components/ui/primitives/Badge.tsx","webpack://_N_E/./src/components/ui/league/pillars/PillarBadge.tsx","webpack://_N_E/./src/components/ui/primitives/SearchBar.gallery.tsx","webpack://_N_E/./src/components/ui/select/shared.ts","webpack://_N_E/./src/components/ui/Select.tsx","webpack://_N_E/./src/components/ui/theme/ThemePicker.tsx","webpack://_N_E/./src/components/ui/select/AnimatedSelect.tsx","webpack://_N_E/./src/components/ui/Label.gallery.tsx","webpack://_N_E/./src/lib/local-bootstrap.ts","webpack://_N_E/./src/lib/storage-key.ts","webpack://_N_E/./src/lib/db.ts","webpack://_N_E/./src/lib/useFieldNaming.ts","webpack://_N_E/./src/lib/useFieldIds.ts","webpack://_N_E/./src/components/ui/primitives/IconButton.gallery.tsx","webpack://_N_E/./src/components/ui/primitives/Card.module.css","webpack://_N_E/./src/components/ui/toggles/CheckCircle.module.css","webpack://_N_E/./src/lib/theme.ts","webpack://_N_E/./src/components/ui/theme/ThemeToggle.tsx","webpack://_N_E/./src/components/ui/layout/hero/HeroGlitchStyles.tsx","webpack://_N_E/./src/components/ui/hooks/useFloatingStyleClass.tsx","webpack://_N_E/./src/components/ui/primitives/Badge.gallery.tsx","webpack://_N_E/./src/components/ui/layout/hero/useHeroStyles.ts","webpack://_N_E/./src/components/ui/feedback/Progress.tsx","webpack://_N_E/./src/components/ui/primitives/GlitchSegmented.tsx","webpack://_N_E/./src/components/ui/layout/NeomorphicFrameStyles.tsx","webpack://_N_E/./src/components/ui/primitives/Field.gallery.tsx","webpack://_N_E/./src/components/ui/layout/hero/index.ts","webpack://_N_E/./src/components/ui/layout/Hero.ts","webpack://_N_E/./src/components/ui/ai/AIExplainTooltip.tsx","webpack://_N_E/./src/components/ui/Toast.module.css","webpack://_N_E/./src/components/ui/primitives/AvatarFrame.tsx","webpack://_N_E/./src/components/ui/primitives/Button.gallery.tsx","webpack://_N_E/./src/components/ui/select/useAnimatedSelect.ts","webpack://_N_E/./src/components/ui/select/AnimatedSelectTrigger.tsx","webpack://_N_E/./src/components/ui/theme/SettingsSelect.tsx","webpack://_N_E/./src/components/ui/layout/TitleBar.tsx","webpack://_N_E/./src/components/gallery/registry.ts","webpack://_N_E/./src/components/ui/select/AnimatedSelectList.tsx","webpack://_N_E/./src/components/tabs/useRovingTabState.ts","webpack://_N_E/./src/components/ui/league/SideSelector.tsx","webpack://_N_E/./src/components/ui/layout/PageShell.tsx","webpack://_N_E/./src/components/ui/theme/BackgroundPicker.tsx","webpack://_N_E/./src/components/ui/layout/TabBar.module.css","webpack://_N_E/./src/lib/useMounted.ts","webpack://_N_E/./src/components/ui/primitives/Button.module.css","webpack://_N_E/./src/components/ui/AnimationToggle.tsx","webpack://_N_E/./src/components/ui/layout/TabBar.tsx","webpack://_N_E/./src/components/ui/layout/NeomorphicHeroFrame.tsx","webpack://_N_E/./src/components/ui/layout/hero/HeroGlitchStyles.css","webpack://_N_E/./src/components/ui/primitives/DripEdge.module.css","webpack://_N_E/./src/components/ui/league/SideSelector.module.css","webpack://_N_E/./src/components/layout/Switcher.module.css","webpack://_N_E/./src/components/ui/ai/AIAbortButton.tsx","webpack://_N_E/./src/lib/features.ts","webpack://_N_E/./src/components/ui/primitives/SegmentedButton.gallery.tsx","webpack://_N_E/./src/components/ui/primitives/IconButton.module.css","webpack://_N_E/./src/components/ui/CatCompanion.tsx","webpack://_N_E/./src/components/layout/shared.ts","webpack://_N_E/./src/components/layout/Cluster.tsx","webpack://_N_E/./src/components/ui/Cluster.tsx","webpack://_N_E/./src/components/layout/Grid.tsx","webpack://_N_E/./src/components/ui/Grid.tsx","webpack://_N_E/./src/components/ui/layout/DecorLayer.tsx","webpack://_N_E/./src/components/layout/Sidebar.tsx","webpack://_N_E/./src/components/ui/Sidebar.tsx","webpack://_N_E/./src/components/ui/SkipLink.tsx","webpack://_N_E/./src/components/layout/Stack.tsx","webpack://_N_E/./src/components/ui/Stack.tsx","webpack://_N_E/./src/components/layout/Switcher.tsx","webpack://_N_E/./src/components/ui/Switcher.tsx","webpack://_N_E/./src/components/ui/index.ts","webpack://_N_E/./src/components/ui/Select.gallery.tsx","webpack://_N_E/./src/components/ui/primitives/Tabs.gallery.tsx","webpack://_N_E/./src/components/ui/primitives/Input.gallery.tsx","webpack://_N_E/./src/lib/react.ts","webpack://_N_E/./src/components/ui/Modal.tsx","webpack://_N_E/./src/components/ui/toggles/NeonIcon.module.css","webpack://_N_E/./src/lib/telemetry.ts","webpack://_N_E/./src/components/ui/radio/tone.ts","webpack://_N_E/./src/components/ui/ai/AIErrorCard.tsx","webpack://_N_E/./src/components/ui/layout/hero/HeroSearchBar.tsx","webpack://_N_E/./src/components/ui/layout/TabBar.gallery.tsx","webpack://_N_E/./src/components/ui/layout/hero/HeroImage.tsx","webpack://_N_E/./src/components/layout/Sidebar.module.css"],"sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"AvatarFrame_root__5J8k5\",\"sizeSm\":\"AvatarFrame_sizeSm__ozGeX\",\"sizeMd\":\"AvatarFrame_sizeMd__4spZ0\",\"sizeLg\":\"AvatarFrame_sizeLg__sl4rY\",\"framelessSurface\":\"AvatarFrame_framelessSurface__Ce8rE\",\"rim\":\"AvatarFrame_rim__tDymH\",\"inner\":\"AvatarFrame_inner__ESRzZ\",\"glow\":\"AvatarFrame_glow__4XeYq\",\"media\":\"AvatarFrame_media__SfFwC\"};","import * as React from \"react\";\n\nimport { createGalleryPreview, defineGallerySection } from \"@/components/gallery/registry\";\nimport { cn } from \"@/lib/utils\";\n\nimport Toggle from \"./Toggle\";\n\ntype ToggleProps = React.ComponentProps<typeof Toggle>;\n\ntype ToggleState = {\n  id: string;\n  name: string;\n  className?: string;\n  props?: Partial<ToggleProps>;\n  code: string;\n};\n\nconst TOGGLE_STATES: readonly ToggleState[] = [\n  {\n    id: \"default\",\n    name: \"Default\",\n    code: `<Toggle leftLabel=\"Left\" rightLabel=\"Right\" />`,\n  },\n  {\n    id: \"hover\",\n    name: \"Hover\",\n    className: \"bg-[--toggle-hover-surface]\",\n    code: `<Toggle leftLabel=\"Left\" rightLabel=\"Right\" className=\"bg-[--toggle-hover-surface]\" />`,\n  },\n  {\n    id: \"focus-visible\",\n    name: \"Focus-visible\",\n    className:\n      \"ring-2 ring-[var(--toggle-focus-ring)] ring-offset-2 ring-offset-[var(--surface-2)] shadow-[var(--toggle-focus-glow)] focus-visible:ring-2 focus-visible:ring-[var(--toggle-focus-ring)] focus-visible:ring-offset-2 focus-visible:ring-offset-[var(--surface-2)]\",\n    code: `<Toggle\n  leftLabel=\"Left\"\n  rightLabel=\"Right\"\n  className=\"ring-2 ring-[var(--toggle-focus-ring)] ring-offset-2 ring-offset-[var(--surface-2)] shadow-[var(--toggle-focus-glow)] focus-visible:ring-2 focus-visible:ring-[var(--toggle-focus-ring)] focus-visible:ring-offset-2 focus-visible:ring-offset-[var(--surface-2)]\"\n/>`,\n  },\n  {\n    id: \"active\",\n    name: \"Active\",\n    className: \"bg-[--toggle-active-surface]\",\n    code: `<Toggle leftLabel=\"Left\" rightLabel=\"Right\" className=\"bg-[--toggle-active-surface]\" />`,\n  },\n  {\n    id: \"disabled\",\n    name: \"Disabled\",\n    props: { disabled: true },\n    code: `<Toggle leftLabel=\"Left\" rightLabel=\"Right\" disabled />`,\n  },\n  {\n    id: \"loading\",\n    name: \"Loading\",\n    props: { loading: true },\n    code: `<Toggle leftLabel=\"Left\" rightLabel=\"Right\" loading />`,\n  },\n] as const;\n\nfunction ToggleStatePreview({ state }: { state: ToggleState }) {\n  const { className, props } = state;\n  const mergedClassName = cn(className, props?.className);\n\n  return (\n    <Toggle\n      leftLabel={props?.leftLabel ?? \"Left\"}\n      rightLabel={props?.rightLabel ?? \"Right\"}\n      {...props}\n      className={mergedClassName}\n    />\n  );\n}\n\nfunction ToggleGalleryPreview() {\n  const [value, setValue] = React.useState<ToggleProps[\"value\"]>(\"Left\");\n\n  return (\n    <div className=\"flex flex-col gap-[var(--space-4)]\">\n      <Toggle\n        leftLabel=\"Strategy\"\n        rightLabel=\"Execute\"\n        value={value}\n        onChange={(next) => setValue(next)}\n      />\n      <div className=\"flex flex-col gap-[var(--space-2)]\">\n        <p className=\"text-caption text-muted-foreground\">States</p>\n        <div className=\"flex flex-wrap gap-[var(--space-2)]\">\n          {TOGGLE_STATES.map((state) => (\n            <ToggleStatePreview key={state.id} state={state} />\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default defineGallerySection({\n  id: \"toggles\",\n  entries: [\n    {\n      id: \"toggle\",\n      name: \"Toggle\",\n      description: \"Binary switch with hover, focus, active, disabled, and loading states\",\n      kind: \"primitive\",\n      tags: [\"toggle\", \"switch\"],\n      props: [\n        { name: \"leftLabel\", type: \"string\" },\n        { name: \"rightLabel\", type: \"string\" },\n        { name: \"value\", type: '\"Left\" | \"Right\"', defaultValue: '\"Left\"' },\n        { name: \"onChange\", type: '(value: \"Left\" | \"Right\") => void' },\n        { name: \"disabled\", type: \"boolean\", defaultValue: \"false\" },\n        { name: \"loading\", type: \"boolean\", defaultValue: \"false\" },\n        { name: \"className\", type: \"string\" },\n      ],\n      axes: [\n        {\n          id: \"state\",\n          label: \"State\",\n          type: \"state\",\n          values: TOGGLE_STATES.map(({ name }) => ({ value: name })),\n        },\n      ],\n      preview: createGalleryPreview({\n        id: \"ui:toggle:interactive\",\n        render: () => <ToggleGalleryPreview />,\n      }),\n      states: TOGGLE_STATES.map((state) => ({\n        id: state.id,\n        name: state.name,\n        code: state.code,\n        preview: createGalleryPreview({\n          id: `ui:toggle:state:${state.id}`,\n          render: () => <ToggleStatePreview state={state} />,\n        }),\n      })),\n      code: `<div className=\"flex flex-col gap-[var(--space-4)]\">\n  <Toggle leftLabel=\"Strategy\" rightLabel=\"Execute\" />\n  <div className=\"flex flex-wrap gap-[var(--space-2)]\">\n    <Toggle leftLabel=\"Left\" rightLabel=\"Right\" />\n    <Toggle leftLabel=\"Left\" rightLabel=\"Right\" className=\"bg-[--toggle-hover-surface]\" />\n    <Toggle\n      leftLabel=\"Left\"\n      rightLabel=\"Right\"\n      className=\"ring-2 ring-[var(--toggle-focus-ring)] ring-offset-2 ring-offset-[var(--surface-2)] shadow-[var(--toggle-focus-glow)] focus-visible:ring-2 focus-visible:ring-[var(--toggle-focus-ring)] focus-visible:ring-offset-2 focus-visible:ring-offset-[var(--surface-2)]\"\n    />\n    <Toggle leftLabel=\"Left\" rightLabel=\"Right\" className=\"bg-[--toggle-active-surface]\" />\n    <Toggle leftLabel=\"Left\" rightLabel=\"Right\" disabled />\n    <Toggle leftLabel=\"Left\" rightLabel=\"Right\" loading />\n  </div>\n</div>`,\n    },\n  ],\n});\n","import * as React from \"react\";\nimport { Slot } from \"@radix-ui/react-slot\";\nimport { cn } from \"@/lib/utils\";\nimport styles from \"./Card.module.css\";\n\nexport type CardDepth = \"base\" | \"raised\" | \"sunken\";\n\nexport type CardProps = React.HTMLAttributes<HTMLDivElement> & {\n  asChild?: boolean;\n  depth?: CardDepth;\n  glitch?: boolean;\n};\n\nconst depthShadowClasses: Record<CardDepth, string> = {\n  base: \"shadow-elev-0\",\n  raised:\n    \"shadow-elev-1 hover:shadow-elev-2 focus-visible:shadow-elev-2 focus-within:shadow-elev-2\",\n  sunken: \"shadow-inner-md\",\n};\n\nconst Card = React.forwardRef<React.ElementRef<\"div\">, CardProps>(\n  (\n    {\n      className,\n      asChild = false,\n      depth = \"base\",\n      glitch = false,\n      children,\n      ...props\n    },\n    ref,\n  ) => {\n    const { [\"data-text\"]: providedGlitchText, ...restProps } = props as CardProps & {\n      [\"data-text\"]?: unknown;\n    };\n    const glitchText =\n      typeof providedGlitchText === \"string\" ? providedGlitchText : undefined;\n\n    const baseClassName = cn(\n      styles.root,\n      glitch && \"group/glitch isolate\",\n      \"rounded-card r-card-lg p-[var(--space-4)] border border-card-hairline/60 bg-card/60 text-card-foreground\",\n      depthShadowClasses[depth],\n      className,\n    );\n\n    const overlay = glitch ? (\n      <span\n        aria-hidden\n        className=\"pointer-events-none absolute inset-0 -z-10 overflow-hidden rounded-[inherit]\"\n      >\n        <span\n          className=\"absolute inset-0 rounded-[inherit] bg-gradient-blob-primary opacity-0 blur-[var(--space-4)] transition-opacity duration-motion-sm ease-out motion-reduce:animate-none motion-safe:animate-blob-drift group-hover/glitch:opacity-[var(--glitch-overlay-opacity-card,0.55)] group-focus-visible/glitch:opacity-[var(--glitch-overlay-opacity-card,0.55)] group-focus-within/glitch:opacity-[var(--glitch-overlay-opacity-card,0.55)]\"\n        />\n        <span\n          className=\"absolute inset-0 rounded-[inherit] bg-glitch-noise bg-cover opacity-0 mix-blend-screen transition-opacity duration-motion-sm ease-out motion-reduce:animate-none motion-safe:animate-glitch-noise group-hover/glitch:opacity-[var(--glitch-noise-level,0.18)] group-focus-visible/glitch:opacity-[var(--glitch-noise-level,0.18)] group-focus-within/glitch:opacity-[calc(var(--glitch-noise-level,0.18)*1.3)]\"\n        />\n      </span>\n    ) : null;\n\n    const baseProps = {\n      className: baseClassName,\n      \"data-depth\": depth,\n      \"data-glitch\": glitch ? \"true\" : undefined,\n      \"data-text\": glitchText,\n      ...restProps,\n    };\n\n    if (asChild) {\n      const childCount = React.Children.count(children);\n      if (childCount !== 1 || !React.isValidElement(children)) {\n        if (process.env.NODE_ENV !== \"production\") {\n          console.warn(\"[Card] `asChild` requires a single valid React element child.\");\n        }\n\n        return null;\n      }\n\n      const child = React.Children.only(children) as React.ReactElement<{ children?: React.ReactNode }>;\n\n      return (\n        <Slot {...baseProps} ref={ref as React.ForwardedRef<HTMLElement>}>\n          {React.cloneElement(child, undefined, <>{overlay}{child.props.children}</>)}\n        </Slot>\n      );\n    }\n\n    return (\n      <div ref={ref} {...baseProps}>\n        {overlay}\n        {children}\n      </div>\n    );\n  },\n);\nCard.displayName = \"Card\";\n\nexport const CardHeader = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"flex flex-col space-y-[var(--space-2)]\",\n      className,\n    )}\n    {...props}\n  />\n));\nCardHeader.displayName = \"CardHeader\";\n\nexport const CardTitle = React.forwardRef<\n  HTMLHeadingElement,\n  React.HTMLAttributes<HTMLHeadingElement>\n>(({ className, ...props }, ref) => (\n  <h3\n    ref={ref}\n    className={cn(\"text-title font-semibold tracking-[-0.01em]\", className)}\n    {...props}\n  />\n));\nCardTitle.displayName = \"CardTitle\";\n\nexport const CardDescription = React.forwardRef<\n  HTMLParagraphElement,\n  React.HTMLAttributes<HTMLParagraphElement>\n>(({ className, ...props }, ref) => (\n  <p\n    ref={ref}\n    className={cn(\"text-ui text-muted-foreground\", className)}\n    {...props}\n  />\n));\nCardDescription.displayName = \"CardDescription\";\n\nexport const CardContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"pt-[var(--space-2)]\", className)}\n    {...props}\n  />\n));\nCardContent.displayName = \"CardContent\";\n\nexport const CardFooter = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex items-center pt-[var(--space-4)]\", className)}\n    {...props}\n  />\n));\nCardFooter.displayName = \"CardFooter\";\n\nexport default Card;\n","// src/components/ui/SectionCard.tsx\n\"use client\";\n\nimport * as React from \"react\";\nimport { cn } from \"@/lib/utils\";\n\ntype RootProps = React.HTMLAttributes<HTMLElement> & {\n  variant?: \"neo\" | \"plain\" | \"glitch\";\n};\nexport type SectionCardHeaderProps = Omit<\n  React.HTMLAttributes<HTMLDivElement>,\n  \"title\"\n> & {\n  sticky?: boolean;\n  topClassName?: string; // sticky top offset\n  children?: React.ReactNode; // if provided, we render this and ignore title/actions\n  title?: React.ReactNode; // optional convenience API\n  actions?: React.ReactNode; // optional convenience API\n  titleAs?: \"h1\" | \"h2\" | \"h3\" | \"h4\" | \"h5\" | \"h6\";\n  titleClassName?: string;\n};\ntype BodyProps = React.HTMLAttributes<HTMLDivElement>;\n\ntype SectionCardContextValue = {\n  headingId?: string;\n  setHeadingId: React.Dispatch<React.SetStateAction<string | undefined>>;\n};\n\nconst SectionCardContext = React.createContext<SectionCardContextValue | null>(\n  null,\n);\n\nconst SectionCardRoot = React.forwardRef<HTMLElement, RootProps>(\n  ({ variant = \"neo\", className, children, ...props }, ref) => {\n    const [headingId, setHeadingId] = React.useState<string | undefined>();\n    const contextValue = React.useMemo(\n      () => ({ headingId, setHeadingId }),\n      [headingId],\n    );\n\n    return (\n      <SectionCardContext.Provider value={contextValue}>\n        <section\n          ref={ref}\n          className={cn(\n            variant === \"glitch\" ? undefined : \"shadow-depth-outer-strong\",\n            \"rounded-card r-card-lg text-card-foreground\",\n            variant === \"neo\"\n              ? \"card-neo-soft\"\n              : variant === \"plain\"\n                ? \"card-soft\"\n                : \"glitch-card\",\n            className,\n          )}\n          {...props}\n        >\n          {children}\n        </section>\n      </SectionCardContext.Provider>\n    );\n  },\n);\nSectionCardRoot.displayName = \"SectionCard\";\n\nfunction SectionCardHeader({\n  sticky,\n  topClassName = \"top-[var(--space-8)]\",\n  className,\n  children,\n  title,\n  actions,\n  titleAs = \"h2\",\n  titleClassName,\n  id,\n  ...props\n}: SectionCardHeaderProps) {\n  const setHeadingId = React.useContext(SectionCardContext)?.setHeadingId;\n  const autoId = React.useId();\n  const shouldUseDefaultLayout = children === undefined || children === null;\n  const hasTitle = shouldUseDefaultLayout && title !== undefined && title !== null;\n  const headingId = hasTitle ? id ?? autoId : undefined;\n\n  React.useEffect(() => {\n    if (!setHeadingId) return;\n\n    setHeadingId(headingId);\n\n    return () => {\n      setHeadingId(undefined);\n    };\n  }, [setHeadingId, headingId]);\n\n  let renderedTitle: React.ReactNode = null;\n\n  if (hasTitle && headingId) {\n    if (\n      React.isValidElement(title) &&\n      typeof title.type === \"string\" &&\n      /^h[1-6]$/.test(title.type)\n    ) {\n      const headingElement = title as React.ReactElement<{\n        className?: string;\n        id?: string;\n      }>;\n\n      renderedTitle = React.cloneElement(headingElement, {\n        id: headingId,\n        className: cn(titleClassName, headingElement.props.className),\n      });\n    } else {\n      const HeadingTag = titleAs;\n      renderedTitle = (\n        <HeadingTag id={headingId} className={titleClassName}>\n          {title}\n        </HeadingTag>\n      );\n    }\n  } else if (title !== undefined && title !== null) {\n    renderedTitle = title;\n  }\n\n  return (\n    <div\n      className={cn(\n        \"section-h\",\n        sticky ? cn(\"sticky\", topClassName) : undefined,\n        className,\n      )}\n      {...props}\n    >\n      {children ?? (\n        <div className=\"flex w-full items-center justify-between\">\n          <div>{renderedTitle}</div>\n          <div>{actions}</div>\n        </div>\n      )}\n    </div>\n  );\n}\n\nfunction SectionCardBody({ className, ...props }: BodyProps) {\n  const context = React.useContext(SectionCardContext);\n  const labelledBy =\n    (props as React.HTMLAttributes<HTMLDivElement>)[\"aria-labelledby\"] ??\n    context?.headingId;\n\n  return (\n    <div\n      {...props}\n      className={cn(\"section-b\", \"text-ui\", className)}\n      aria-labelledby={labelledBy}\n    />\n  );\n}\n\nconst SectionCard = Object.assign(SectionCardRoot, {\n  Header: SectionCardHeader,\n  Body: SectionCardBody,\n});\n\nexport { SectionCardHeader, SectionCardBody };\nexport default SectionCard;\n","import * as React from \"react\";\nimport { AlertTriangle, RotateCcw } from \"lucide-react\";\n\nimport { Button } from \"@/components/ui\";\nimport { cn } from \"@/lib/utils\";\n\nexport interface AIRetryErrorBubbleProps extends React.ComponentPropsWithoutRef<\"div\"> {\n  readonly message: string;\n  readonly hint?: string;\n  readonly onRetry?: () => void;\n  readonly retryLabel?: string;\n  readonly icon?: React.ReactNode;\n  readonly actions?: React.ReactNode;\n}\n\nconst DEFAULT_RETRY_LABEL = \"Retry\";\n\nconst AIRetryErrorBubble = React.forwardRef<HTMLDivElement, AIRetryErrorBubbleProps>(\n  (\n    { message, hint, onRetry, retryLabel = DEFAULT_RETRY_LABEL, icon, actions, className, children, ...props },\n    ref,\n  ) => {\n    const retryAction = React.useMemo(() => {\n      if (!onRetry) return actions;\n      if (actions) return actions;\n      return (\n        <Button\n          type=\"button\"\n          size=\"sm\"\n          tone=\"danger\"\n          variant=\"quiet\"\n          onClick={onRetry}\n          className=\"gap-[var(--space-2)] px-[var(--space-3)]\"\n        >\n          <RotateCcw aria-hidden className=\"size-[var(--space-4)]\" />\n          {retryLabel}\n        </Button>\n      );\n    }, [actions, onRetry, retryLabel]);\n\n    return (\n      <div\n        ref={ref}\n        role=\"alert\"\n        aria-live=\"assertive\"\n        className={cn(\n          \"flex items-start gap-[var(--space-3)] rounded-card border border-[hsl(var(--danger)/0.4)]\",\n          \"bg-[hsl(var(--danger)/0.16)] p-[var(--space-3)] text-[hsl(var(--danger-foreground))] shadow-[var(--shadow-outline-subtle)]\",\n          className,\n        )}\n        {...props}\n      >\n        <span\n          aria-hidden\n          className=\"grid size-[var(--space-8)] shrink-0 place-items-center rounded-full bg-[hsl(var(--danger)/0.2)] text-[hsl(var(--danger))] shadow-[var(--shadow-inset-hairline)]\"\n        >\n          {icon ?? <AlertTriangle className=\"size-[var(--space-4)]\" aria-hidden />}\n        </span>\n        <div className=\"flex flex-1 flex-col gap-[var(--space-2)]\">\n          <p className=\"text-label font-medium\">{message}</p>\n          {hint ? <p className=\"text-caption text-[hsl(var(--danger-foreground)/0.78)]\">{hint}</p> : null}\n          {children}\n          {retryAction ? <div className=\"pt-[var(--space-1-5)]\">{retryAction}</div> : null}\n        </div>\n      </div>\n    );\n  },\n);\n\nAIRetryErrorBubble.displayName = \"AIRetryErrorBubble\";\n\nexport default AIRetryErrorBubble;\n","// src/components/ui/NeonIcon.tsx\n\"use client\";\n\nimport * as React from \"react\";\n\nimport { cn } from \"@/lib/utils\";\n\nimport styles from \"./NeonIcon.module.css\";\n\ntype Phase = \"steady-on\" | \"ignite\" | \"off\" | \"powerdown\";\ntype NeonIconSize = \"xs\" | \"sm\" | \"md\" | \"lg\" | \"xl\" | \"2xl\";\ntype NeonIconTone = \"accent\" | \"primary\" | \"ring\" | \"success\" | \"warning\" | \"danger\" | \"info\";\n\ntype NeonIconProps = {\n  icon: React.ComponentType<React.SVGProps<SVGSVGElement>>;\n  on: boolean;\n  size?: NeonIconSize;\n  /** CSS variable name like \"--accent\", \"--primary\", \"--ring\" */\n  colorVar?: string;\n  /** Preferred tone shorthand; overrides colorVar when provided. */\n  tone?: NeonIconTone;\n  title?: string;\n  className?: string;\n  /** toggle CRT scanlines layer */\n  scanlines?: boolean;\n  /** toggle wide aura layer */\n  aura?: boolean;\n};\n\nconst TONE_SET = new Set<NeonIconTone>([\n  \"accent\",\n  \"primary\",\n  \"ring\",\n  \"success\",\n  \"warning\",\n  \"danger\",\n  \"info\",\n]);\n\nconst toTone = (tone?: NeonIconTone, colorVar?: string): NeonIconTone => {\n  if (tone && TONE_SET.has(tone)) return tone;\n  if (colorVar) {\n    const normalized = colorVar.startsWith(\"--\") ? colorVar.slice(2) : colorVar;\n    if (TONE_SET.has(normalized as NeonIconTone)) {\n      return normalized as NeonIconTone;\n    }\n  }\n  return \"accent\";\n};\n\nexport function NeonIcon({\n  icon: Icon,\n  on,\n  size = \"md\",\n  colorVar = \"--accent\",\n  tone,\n  title,\n  className,\n  scanlines = true,\n  aura = true,\n}: NeonIconProps) {\n  const prev = React.useRef(on);\n  const [phase, setPhase] = React.useState<Phase>(on ? \"steady-on\" : \"off\");\n\n  React.useEffect(() => {\n    if (on !== prev.current) {\n      if (on) {\n        setPhase(\"ignite\");\n        const t = setTimeout(() => setPhase(\"steady-on\"), 620);\n        prev.current = on;\n        return () => clearTimeout(t);\n      } else {\n        setPhase(\"powerdown\");\n        const t = setTimeout(() => setPhase(\"off\"), 360);\n        prev.current = on;\n        return () => clearTimeout(t);\n      }\n    }\n    prev.current = on;\n  }, [on]);\n\n  const lit = phase === \"ignite\" || phase === \"steady-on\";\n  const toneAttr = toTone(tone, colorVar);\n\n  return (\n    <span\n      className={cn(\n        styles.root,\n        \"relative inline-grid place-items-center overflow-visible rounded-full border border-border bg-card/35\",\n        className,\n      )}\n      data-phase={phase}\n      data-size={size}\n      data-tone={toneAttr}\n      aria-hidden\n      title={title}\n    >\n      {/* Base glyph */}\n      <Icon\n        className={styles.icon}\n        width=\"100%\"\n        height=\"100%\"\n        strokeWidth=\"var(--icon-stroke-100, 2)\"\n        aria-hidden\n      />\n\n      {/* Tight glow */}\n      <Icon\n        className={cn(styles.core, \"absolute\", lit && styles.coreAnimated)}\n        aria-hidden\n      />\n\n      {/* Wide aura (optional) */}\n      {aura && (\n        <Icon\n          className={cn(styles.aura, \"absolute\", lit && styles.auraAnimated)}\n          aria-hidden\n        />\n      )}\n\n      {/* CRT scanlines (optional) */}\n      {scanlines && (\n        <span\n          className={cn(styles.scanlines, \"rounded-full\", lit && styles.scanlinesAnimated)}\n          aria-hidden\n        />\n      )}\n\n      {/* One-shot overlays */}\n      <span\n        className={cn(styles.ignite, phase === \"ignite\" && styles.igniteAnimated)}\n        aria-hidden\n      />\n      <span\n        className={cn(styles.powerdown, phase === \"powerdown\" && styles.powerdownAnimated)}\n        aria-hidden\n      />\n    </span>\n  );\n}\n\nexport function NeonGlowWrap({ lit, children }: { lit: boolean; children: React.ReactNode }) {\n  return (\n    <span className={cn(styles.wrap, lit && styles.wrapLit)}>\n      <span className={styles.glowPrimary} aria-hidden />\n      <span className={cn(styles.glowAura, lit && styles.auraAnimated)} aria-hidden />\n      <span className={styles.content}>{children}</span>\n    </span>\n  );\n}\n","\"use client\";\n\nimport * as React from \"react\";\nimport { cn } from \"@/lib/utils\";\nimport { useFieldIds } from \"@/lib/useFieldIds\";\nimport Field from \"./Field\";\n\n/**\n * Textarea primitive.\n * No default `resize-*` utility is applied; use the `resize` prop or\n * `textareaClassName` to control resizing behavior.\n */\nexport type TextareaProps =\n  React.TextareaHTMLAttributes<HTMLTextAreaElement> & {\n    /** Optional className for the outer wrapper */\n    className?: string;\n    /** Optional className for the inner <textarea> element */\n    textareaClassName?: string;\n    /** Tailwind `resize-*` utility to control resizing behavior */\n    resize?: string;\n    /** Optional loading state forwarded via `data-loading` */\n    \"data-loading\"?: string | boolean | number;\n  };\n\nexport default React.forwardRef<HTMLTextAreaElement, TextareaProps>(\n  function Textarea(\n    {\n      className,\n      textareaClassName,\n      resize,\n      id,\n      name,\n      \"aria-label\": ariaLabel,\n      ...props\n    },\n    ref,\n  ) {\n    const { id: finalId, name: finalName, isInvalid } = useFieldIds(\n      ariaLabel as string | undefined,\n      id,\n      name,\n      {\n        ariaInvalid: props[\"aria-invalid\"],\n        slugifyFallback: true,\n      },\n    );\n    const loadingAttr = props[\"data-loading\"];\n    const loading =\n      loadingAttr === \"\" ||\n      loadingAttr === true ||\n      loadingAttr === \"true\" ||\n      loadingAttr === 1;\n\n    return (\n      <Field.Root\n        invalid={isInvalid}\n        disabled={props.disabled}\n        readOnly={props.readOnly}\n        loading={loading}\n        className={cn(\"items-start\", className)}\n      >\n        <Field.Textarea\n          ref={ref}\n          id={finalId}\n          name={finalName}\n          aria-label={ariaLabel}\n          className={cn(resize, textareaClassName)}\n          {...props}\n        />\n      </Field.Root>\n    );\n  },\n);\n","import * as React from \"react\";\nimport { Zap } from \"lucide-react\";\n\nimport {\n  createGalleryPreview,\n  defineGallerySection,\n} from \"@/components/gallery/registry\";\n\nimport { NeonIcon } from \"./NeonIcon\";\n\ntype NeonIconProps = React.ComponentProps<typeof NeonIcon>;\n\ntype NeonIconState = {\n  readonly id: string;\n  readonly name: string;\n  readonly props: Partial<NeonIconProps>;\n  readonly code: string;\n};\n\nconst BASE_PROPS: Pick<NeonIconProps, \"icon\" | \"on\"> = {\n  icon: Zap,\n  on: true,\n};\n\nconst NEON_ICON_STATES: readonly NeonIconState[] = [\n  {\n    id: \"accent\",\n    name: \"Accent (lit)\",\n    props: { tone: \"accent\" },\n    code: `<NeonIcon icon={Zap} on tone=\"accent\" />`,\n  },\n  {\n    id: \"danger\",\n    name: \"Danger (lit)\",\n    props: { tone: \"danger\" },\n    code: `<NeonIcon icon={Zap} on tone=\"danger\" />`,\n  },\n  {\n    id: \"danger-off\",\n    name: \"Danger (powerdown)\",\n    props: { tone: \"danger\", on: false },\n    code: `<NeonIcon icon={Zap} on={false} tone=\"danger\" />`,\n  },\n  {\n    id: \"accent-2xl\",\n    name: \"Accent 2xl\",\n    props: { tone: \"accent\", size: \"2xl\" },\n    code: `<NeonIcon icon={Zap} on tone=\"accent\" size=\"2xl\" />`,\n  },\n] as const;\n\nfunction NeonIconStatePreview({ state }: { readonly state: NeonIconState }) {\n  return <NeonIcon {...BASE_PROPS} {...state.props} />;\n}\n\nfunction NeonIconGalleryPreview() {\n  return (\n    <div className=\"flex flex-wrap items-center gap-[var(--space-4)]\">\n      <NeonIcon {...BASE_PROPS} tone=\"accent\" />\n      <NeonIcon {...BASE_PROPS} tone=\"primary\" />\n      <NeonIcon {...BASE_PROPS} tone=\"ring\" />\n      <NeonIcon {...BASE_PROPS} tone=\"success\" />\n      <NeonIcon {...BASE_PROPS} tone=\"warning\" />\n      <NeonIcon {...BASE_PROPS} tone=\"danger\" />\n      <NeonIcon {...BASE_PROPS} tone=\"danger\" on={false} />\n      <NeonIcon {...BASE_PROPS} tone=\"accent\" size=\"2xl\" />\n    </div>\n  );\n}\n\nexport default defineGallerySection({\n  id: \"toggles\",\n  entries: [\n    {\n      id: \"neon-icon\",\n      name: \"NeonIcon\",\n      description: \"Animated neon glyph with tone-driven glow ramps and power states.\",\n      kind: \"primitive\",\n      tags: [\"icon\", \"toggle\", \"glow\"],\n      props: [\n        {\n          name: \"icon\",\n          type: \"React.ComponentType<React.SVGProps<SVGSVGElement>>\",\n        },\n        { name: \"on\", type: \"boolean\" },\n        {\n          name: \"tone\",\n          type:\n            '\"accent\" | \"primary\" | \"ring\" | \"success\" | \"warning\" | \"danger\" | \"info\"',\n          defaultValue: '\"accent\"',\n        },\n        {\n          name: \"size\",\n          type: '\"xs\" | \"sm\" | \"md\" | \"lg\" | \"xl\" | \"2xl\"',\n          defaultValue: '\"md\"',\n        },\n        { name: \"scanlines\", type: \"boolean\", defaultValue: \"true\" },\n        { name: \"aura\", type: \"boolean\", defaultValue: \"true\" },\n      ],\n      axes: [\n        {\n          id: \"state\",\n          label: \"State\",\n          type: \"state\",\n          values: NEON_ICON_STATES.map((state) => ({ value: state.name })),\n        },\n      ],\n      preview: createGalleryPreview({\n        id: \"ui:neon-icon:gallery\",\n        render: () => <NeonIconGalleryPreview />,\n      }),\n      states: NEON_ICON_STATES.map((state) => ({\n        id: state.id,\n        name: state.name,\n        code: state.code,\n        preview: createGalleryPreview({\n          id: `ui:neon-icon:state:${state.id}`,\n          render: () => <NeonIconStatePreview state={state} />,\n        }),\n      })),\n      code: `<div className=\"flex flex-wrap items-center gap-[var(--space-4)]\">\n  <NeonIcon icon={Zap} on tone=\"accent\" />\n  <NeonIcon icon={Zap} on tone=\"primary\" />\n  <NeonIcon icon={Zap} on tone=\"ring\" />\n  <NeonIcon icon={Zap} on tone=\"success\" />\n  <NeonIcon icon={Zap} on tone=\"warning\" />\n  <NeonIcon icon={Zap} on tone=\"danger\" />\n  <NeonIcon icon={Zap} on={false} tone=\"danger\" />\n  <NeonIcon icon={Zap} on tone=\"accent\" size=\"2xl\" />\n</div>`,\n    },\n  ],\n});\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"stack\":\"Stack_stack__dsKVe\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"divider\":\"Hero_divider__q2j6z\"};","\"use client\";\n\nimport * as React from \"react\";\nimport { motion, useReducedMotion } from \"framer-motion\";\nimport { hasTextContent } from \"@/lib/react\";\nimport { cn } from \"@/lib/utils\";\nimport { useAnimationsDisabled } from \"@/lib/useAnimationsDisabled\";\nimport neumorphicStyles from \"../neumorphic.module.css\";\nimport BlobContainer, { type GlitchOverlayToken } from \"./BlobContainer\";\nimport DripEdge from \"./DripEdge\";\nimport styles from \"./IconButton.module.css\";\nimport {\n  resolveUIVariant,\n  type DeprecatedUIVariant,\n  type UIVariant,\n} from \"@/components/ui/variants\";\n\nexport type IconButtonSize = \"sm\" | \"md\" | \"lg\" | \"xl\";\ntype Icon = \"xs\" | \"sm\" | \"md\" | \"lg\" | \"xl\";\n\ntype Tone = \"primary\" | \"accent\" | \"info\" | \"danger\";\nexport const ICON_BUTTON_VARIANTS = [\n  \"default\",\n  \"neo\",\n  \"quiet\",\n  \"glitch\",\n] as const satisfies readonly UIVariant[];\nexport type IconButtonVariant = (typeof ICON_BUTTON_VARIANTS)[number];\ntype LegacyIconButtonVariant = Extract<\n  DeprecatedUIVariant,\n  \"primary\" | \"secondary\" | \"soft\" | \"ghost\"\n>;\ntype IconButtonVariantProp = IconButtonVariant | LegacyIconButtonVariant;\n\ntype RequireAtLeastOne<T, Keys extends keyof T> = Pick<\n  T,\n  Exclude<keyof T, Keys>\n> &\n  {\n    [K in Keys]-?: Required<Pick<T, K>> &\n      Partial<Pick<T, Exclude<Keys, K>>>;\n  }[Keys];\n\n/**\n * Props for the {@link IconButton} component.\n * @property loading - When `true`, the button is disabled and `data-loading` is set.\n */\ntype AccessibleLabelProps = RequireAtLeastOne<\n  {\n    \"aria-label\"?: string;\n    \"aria-labelledby\"?: string;\n    title?: string;\n  },\n  \"aria-label\" | \"aria-labelledby\" | \"title\"\n>;\n\ntype MotionButtonProps = React.ComponentProps<typeof motion.button>;\n\nexport type IconButtonProps =\n  Omit<MotionButtonProps, \"children\" | \"style\"> &\n    AccessibleLabelProps & {\n      size?: IconButtonSize;\n      iconSize?: Icon;\n      tone?: Tone;\n      variant?: IconButtonVariantProp;\n      loading?: boolean;\n      children?: React.ReactNode;\n      glitch?: boolean;\n      glitchIntensity?: GlitchOverlayToken;\n    };\n\nconst iconMap: Record<Icon, string> = {\n  xs: \"[&_svg]:size-[calc(var(--control-h-xs)/2)]\",\n  sm: \"[&_svg]:size-[calc(var(--control-h-sm)/2)]\",\n  md: \"[&_svg]:size-[calc(var(--control-h-md)/2)]\",\n  lg: \"[&_svg]:size-[calc(var(--control-h-lg)/2)]\",\n  xl: \"[&_svg]:size-[calc(var(--control-h-xl)/2)]\",\n};\nconst defaultIcon: Record<IconButtonSize, Icon> = {\n  sm: \"sm\",\n  md: \"md\",\n  lg: \"lg\",\n  xl: \"xl\",\n};\nconst getSizeClass = (s: IconButtonSize) => {\n  const sizeMap: Record<IconButtonSize, string> = {\n    sm: \"h-[var(--control-h-sm)] w-[var(--control-h-sm)]\",\n    md: \"h-[var(--control-h-md)] w-[var(--control-h-md)]\",\n    lg: \"h-[var(--control-h-lg)] w-[var(--control-h-lg)]\",\n    xl: \"h-[var(--control-h-xl)] w-[var(--control-h-xl)]\",\n  };\n  return sizeMap[s];\n};\n\nconst toneTintTokens = {\n  primary: \"[--hover:hsl(var(--foreground)/0.1)] [--active:hsl(var(--foreground)/0.2)]\",\n  accent: \"[--hover:hsl(var(--accent)/0.25)] [--active:hsl(var(--accent)/0.35)]\",\n  info: \"[--hover:hsl(var(--accent-2)/0.25)] [--active:hsl(var(--accent-2)/0.35)]\",\n  danger: \"[--hover:hsl(var(--danger)/0.1)] [--active:hsl(var(--danger)/0.2)]\",\n} satisfies Record<Tone, string>;\n\nconst toneInteractionTokens = {\n  primary: \"[--hover:hsl(var(--primary)/0.14)] [--active:hsl(var(--primary)/0.2)]\",\n  accent: \"[--hover:hsl(var(--accent)/0.14)] [--active:hsl(var(--accent)/0.2)]\",\n  info: \"[--hover:hsl(var(--accent-2)/0.14)] [--active:hsl(var(--accent-2)/0.2)]\",\n  danger: \"[--hover:hsl(var(--danger)/0.14)] [--active:hsl(var(--danger)/0.2)]\",\n} satisfies Record<Tone, string>;\n\nconst toneForegroundVar: Record<Tone, string> = {\n  primary: \"--primary-foreground\",\n  accent: \"--accent-foreground\",\n  info: \"--accent-2-foreground\",\n  danger: \"--danger-foreground\",\n};\n\nconst primaryShadowVars: Record<Tone, string> = {\n  primary:\n    \"[--glow-active:hsl(var(--primary)/0.35)] [--btn-primary-hover-shadow:0_var(--spacing-0-5)_calc(var(--space-3)/2)_calc(-1*var(--spacing-0-25))_hsl(var(--primary)/0.25)] [--btn-primary-active-shadow:inset_0_0_0_var(--spacing-0-25)_hsl(var(--primary)/0.6)]\",\n  accent:\n    \"[--glow-active:hsl(var(--accent)/0.35)] [--btn-primary-hover-shadow:0_var(--spacing-0-5)_calc(var(--space-3)/2)_calc(-1*var(--spacing-0-25))_hsl(var(--accent)/0.25)] [--btn-primary-active-shadow:inset_0_0_0_var(--spacing-0-25)_hsl(var(--accent)/0.6)]\",\n  info:\n    \"[--glow-active:hsl(var(--accent-2)/0.35)] [--btn-primary-hover-shadow:0_var(--spacing-0-5)_calc(var(--space-3)/2)_calc(-1*var(--spacing-0-25))_hsl(var(--accent-2)/0.25)] [--btn-primary-active-shadow:inset_0_0_0_var(--spacing-0-25)_hsl(var(--accent-2)/0.6)]\",\n  danger:\n    \"[--glow-active:hsl(var(--danger)/0.35)] [--btn-primary-hover-shadow:0_var(--spacing-0-5)_calc(var(--space-3)/2)_calc(-1*var(--spacing-0-25))_hsl(var(--danger)/0.25)] [--btn-primary-active-shadow:inset_0_0_0_var(--spacing-0-25)_hsl(var(--danger)/0.6)]\",\n};\n\nconst secondarySurfaceTokens: Record<Tone, string> = {\n  primary: \"[--hover:hsl(var(--primary)/0.25)] [--active:hsl(var(--primary)/0.35)]\",\n  accent: \"[--hover:hsl(var(--accent)/0.25)] [--active:hsl(var(--accent)/0.2)]\",\n  info: \"[--hover:hsl(var(--accent-2)/0.2)] [--active:hsl(var(--accent-2)/0.15)]\",\n  danger: \"[--hover:hsl(var(--danger)/0.14)] [--active:hsl(var(--danger)/0.2)]\",\n};\n\nconst primaryVariantBase = (tone: Tone): string =>\n  cn(\n    \"border transition-[box-shadow,background-color,color] shadow-glow-sm hover:shadow-btn-primary-hover active:shadow-btn-primary-active\",\n    toneInteractionTokens[tone],\n    primaryShadowVars[tone],\n  );\n\nconst baseVariantBase: Record<Exclude<IconButtonVariant, \"glitch\">, (tone: Tone) => string> = {\n  quiet: (tone) =>\n    cn(\n      \"border transition-[box-shadow,background-color,color]\",\n      toneTintTokens[tone],\n    ),\n  default: primaryVariantBase,\n  neo: () =>\n    \"border transition-[box-shadow,background-color,color] shadow-control hover:shadow-control-hover active:shadow-inner-md\",\n};\n\nconst variantBase: Record<IconButtonVariant, (tone: Tone) => string> = {\n  ...baseVariantBase,\n  glitch: (tone) => baseVariantBase.default(tone),\n};\n\nconst baseToneClasses: Record<\n  Exclude<IconButtonVariant, \"glitch\">,\n  Record<Tone, string>\n> = {\n  quiet: {\n    primary: cn(\n      \"border-[hsl(var(--line)/0.35)] text-foreground\",\n      \"[--neu-surface:hsl(var(--card)/0.35)]\",\n    ),\n    accent: cn(\n      \"border-accent/35 text-on-accent\",\n      \"[--neu-surface:hsl(var(--accent)/0.2)]\",\n    ),\n    info: cn(\n      \"border-accent-2/35 text-on-accent\",\n      \"[--neu-surface:hsl(var(--accent-2)/0.2)]\",\n    ),\n    danger: cn(\n      \"border-danger/35 text-danger\",\n      \"[--neu-surface:hsl(var(--danger)/0.12)]\",\n    ),\n  },\n  default: {\n    primary: cn(\n      \"border-[hsl(var(--primary)/0.35)] [--neu-surface:hsl(var(--primary-soft))]\",\n      `text-[hsl(var(${toneForegroundVar.primary}))]`,\n    ),\n    accent: cn(\n      \"border-[hsl(var(--accent)/0.35)] [--neu-surface:hsl(var(--accent)/0.12)]\",\n      \"text-on-accent\",\n    ),\n    info: cn(\n      \"border-[hsl(var(--accent-2)/0.35)] [--neu-surface:hsl(var(--accent-2)/0.12)]\",\n      \"text-on-accent\",\n    ),\n    danger: cn(\n      \"border-[hsl(var(--danger)/0.35)] [--neu-surface:hsl(var(--danger)/0.12)]\",\n      \"text-[hsl(var(--danger-surface-foreground))]\",\n    ),\n  },\n  neo: {\n    primary: cn(\n      secondarySurfaceTokens.primary,\n      \"text-muted-foreground hover:text-foreground active:text-foreground focus-visible:text-foreground\",\n      \"[--neu-surface:hsl(var(--panel)/0.6)]\",\n    ),\n    accent: cn(\n      secondarySurfaceTokens.accent,\n      \"text-on-accent\",\n      \"[--neu-surface:hsl(var(--accent)/0.3)]\",\n    ),\n    info: cn(\n      secondarySurfaceTokens.info,\n      \"text-on-accent\",\n      \"[--neu-surface:hsl(var(--accent-2)/0.25)]\",\n    ),\n    danger: cn(\n      secondarySurfaceTokens.danger,\n      \"text-[hsl(var(--danger-tint-foreground))]\",\n      \"[--neu-surface:hsl(var(--danger)/0.25)]\",\n    ),\n  },\n};\n\nconst toneClasses: Record<IconButtonVariant, Record<Tone, string>> = {\n  ...baseToneClasses,\n  glitch: baseToneClasses.default,\n};\n\nconst IconButton = React.forwardRef<HTMLButtonElement, IconButtonProps>(\n  (\n    {\n      size = \"md\",\n      iconSize,\n      className,\n      tone = \"primary\",\n      variant = \"quiet\",\n      loading,\n      disabled,\n      children,\n      title,\n      \"aria-label\": ariaLabel,\n      \"aria-labelledby\": ariaLabelledBy,\n      glitch = false,\n      glitchIntensity = \"glitch-overlay-button-opacity\",\n      ...rest\n    },\n    ref,\n  ) => {\n    const animationsDisabled = useAnimationsDisabled();\n    const reduceMotionPreference = useReducedMotion();\n    const reduceMotion = reduceMotionPreference || animationsDisabled;\n    const sizeClass = getSizeClass(size);\n    const appliedIconSize = iconSize ?? defaultIcon[size];\n    const trimmedAriaLabel =\n      typeof ariaLabel === \"string\" ? ariaLabel.trim() : undefined;\n    const trimmedTitle = typeof title === \"string\" ? title.trim() : undefined;\n    const normalizedAriaLabel =\n      trimmedAriaLabel && trimmedAriaLabel.length > 0\n        ? trimmedAriaLabel\n        : undefined;\n    const normalizedTitle =\n      trimmedTitle && trimmedTitle.length > 0 ? trimmedTitle : undefined;\n    const trimmedAriaLabelledBy =\n      typeof ariaLabelledBy === \"string\" ? ariaLabelledBy.trim() : undefined;\n    const normalizedAriaLabelledBy =\n      trimmedAriaLabelledBy && trimmedAriaLabelledBy.length > 0\n        ? trimmedAriaLabelledBy\n        : undefined;\n    const iconOnly = !hasTextContent(children);\n    const shouldWarn =\n      iconOnly &&\n      !normalizedAriaLabel &&\n      !normalizedAriaLabelledBy &&\n      !normalizedTitle;\n\n    const resolvedAriaLabel =\n      normalizedAriaLabel ??\n      (iconOnly && !normalizedAriaLabelledBy ? normalizedTitle : undefined);\n\n    React.useEffect(() => {\n      if (process.env.NODE_ENV === \"production\") return;\n      if (!shouldWarn) return;\n      console.error(\n        \"IconButton requires an accessible name (`aria-label`, `aria-labelledby`, or `title`) when rendering icon-only content.\",\n      );\n    }, [shouldWarn]);\n\n    const resolvedVariant = resolveUIVariant<IconButtonVariant>(variant, {\n      allowed: ICON_BUTTON_VARIANTS,\n      fallback: \"quiet\",\n    });\n    const shouldGlitch = glitch || resolvedVariant === \"glitch\";\n    const toneKey = resolvedVariant === \"glitch\" ? \"default\" : resolvedVariant;\n\n    const variantClass = variantBase[resolvedVariant](tone);\n\n    const glitchText = shouldGlitch\n      ? resolvedAriaLabel ?? normalizedTitle ?? undefined\n      : resolvedAriaLabel ?? normalizedTitle ?? undefined;\n\n    const domProps = { ...rest } as Record<string, unknown>;\n    if (\"data-text\" in domProps) {\n      delete domProps[\"data-text\"];\n    }\n\n    return (\n      <motion.button\n        ref={ref}\n        type=\"button\"\n        className={cn(\n          neumorphicStyles.neu,\n          styles.root,\n          shouldGlitch && \"glitch-wrapper\",\n          shouldGlitch && styles.glitch,\n          shouldGlitch && \"group/glitch isolate overflow-hidden\",\n          \"inline-flex items-center justify-center select-none rounded-full transition-colors duration-motion-sm ease-out motion-reduce:transition-none hover:bg-[--hover] active:bg-[--active] focus-visible:ring-2 focus-visible:ring-[var(--ring-contrast)] focus-visible:shadow-[var(--shadow-glow-md)] focus-visible:[outline:var(--spacing-0-5)_solid_var(--ring-contrast)] focus-visible:[outline-offset:var(--spacing-0-5)] disabled:opacity-disabled disabled:pointer-events-none data-[loading=true]:opacity-loading\",\n          \"data-[reduce-motion=true]:focus-visible:shadow-none data-[reduce-motion=true]:focus-visible:[box-shadow:none]\",\n          \"[--neu-radius:var(--radius-full)]\",\n          variantClass,\n          toneClasses[resolvedVariant][tone],\n          sizeClass,\n          iconMap[appliedIconSize],\n          className,\n        )}\n        data-loading={loading}\n        data-variant={resolvedVariant}\n        data-tone={tone}\n        data-glitch={shouldGlitch ? \"true\" : undefined}\n        data-text={shouldGlitch ? glitchText : undefined}\n        disabled={disabled || loading}\n        whileHover={reduceMotion ? undefined : { scale: 1.05 }}\n        whileTap={reduceMotion ? undefined : { scale: 0.95 }}\n        aria-label={resolvedAriaLabel}\n        aria-labelledby={normalizedAriaLabelledBy}\n        title={normalizedTitle}\n        data-reduce-motion={reduceMotion ? \"true\" : undefined}\n        {...(domProps as typeof rest)}\n      >\n        {shouldGlitch ? <BlobContainer overlayToken={glitchIntensity} /> : null}\n        {toneKey === \"default\" ? (\n          <DripEdge\n            className=\"absolute inset-0 z-0\"\n            overlayToken={glitchIntensity}\n            tone={tone}\n          />\n        ) : null}\n        <span className=\"relative z-10 inline-flex items-center justify-center\">\n          {children}\n        </span>\n      </motion.button>\n    );\n  },\n);\n\nIconButton.displayName = \"IconButton\";\nexport default IconButton;\n","\"use client\";\n\nimport * as React from \"react\";\n\ninterface UseScopedCssVarsOptions {\n  readonly attribute: `data-${string}`;\n  readonly vars: Record<string, string | number>;\n  readonly enabled?: boolean;\n}\n\ntype CssVarStyle = React.CSSProperties & Record<string, string>;\n\ninterface UseScopedCssVarsResult {\n  readonly scopeProps: Record<string, string> | undefined;\n  readonly style: CssVarStyle | undefined;\n}\n\nexport function useScopedCssVars({\n  attribute,\n  vars,\n  enabled = true,\n}: UseScopedCssVarsOptions): UseScopedCssVarsResult {\n  const scopeProps = React.useMemo(() => {\n    if (!enabled) return undefined;\n    return { [attribute]: \"\" } as Record<string, string>;\n  }, [attribute, enabled]);\n\n  const style = React.useMemo(() => {\n    if (!enabled) return undefined;\n    const entries = Object.entries(vars);\n    if (entries.length === 0) return undefined;\n\n    const cssVars: CssVarStyle = {} as CssVarStyle;\n    for (const [name, value] of entries) {\n      cssVars[name] = String(value);\n    }\n    return cssVars;\n  }, [enabled, vars]);\n\n  return React.useMemo(\n    () => ({\n      scopeProps,\n      style,\n    }),\n    [scopeProps, style],\n  );\n}\n","import * as React from \"react\";\n\nexport type CatCompanionIconProps = React.SVGProps<SVGSVGElement>;\n\nconst CAT_COMPANION_PATH =\n  \"M12 5c.67 0 1.35.09 2 .26 1.78-2 5.03-2.84 6.42-2.26 1.4.58-.42 7-.42 7 .57 1.07 1 2.24 1 3.44C21 17.9 16.97 21 \" +\n  \"12 21s-9-3-9-7.56c0-1.25.5-2.4 1-3.44 0 0-1.89-6.42-.5-7 1.39-.58 4.72.23 6.5 2.23A9.04 9.04 0 0 1 12 5Z\";\n\nconst CatCompanionIcon = React.forwardRef<SVGSVGElement, CatCompanionIconProps>(\n  (\n    {\n      className,\n      \"aria-label\": ariaLabel,\n      \"aria-hidden\": ariaHidden,\n      role,\n      focusable,\n      ...rest\n    },\n    ref\n  ) => {\n    const computedRole = role ?? (ariaLabel ? \"img\" : \"presentation\");\n    const computedAriaHidden = ariaHidden ?? (ariaLabel ? undefined : true);\n    const computedFocusable = focusable ?? false;\n\n    return (\n      <svg\n        ref={ref}\n        className={className}\n        viewBox=\"0 0 24 24\"\n        fill=\"currentColor\"\n        role={computedRole}\n        aria-label={ariaLabel}\n        aria-hidden={computedAriaHidden}\n        focusable={computedFocusable}\n        {...rest}\n      >\n        <path d={CAT_COMPANION_PATH} />\n      </svg>\n    );\n  }\n);\n\nCatCompanionIcon.displayName = \"CatCompanionIcon\";\n\nexport default CatCompanionIcon;\n","// extracted by mini-css-extract-plugin","// src/lib/logging.ts\n// Structured logger with default PII redaction helpers.\n\nexport type LogLevel = \"debug\" | \"info\" | \"warn\" | \"error\";\n\nexport type LogDetails = Record<string, unknown>;\n\nexport type LogMethod = (message: string, ...details: unknown[]) => void;\n\nexport type LoggerContext = Readonly<Record<string, unknown>>;\n\nexport type Logger = {\n  debug: LogMethod;\n  info: LogMethod;\n  warn: LogMethod;\n  error: LogMethod;\n  child: (suffix: string, context?: LoggerContext) => Logger;\n};\n\nconst EMAIL_PATTERN = /[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}/gi;\nconst PHONE_PATTERN = /\\b(?:\\+?\\d[\\d\\s.-]{7,}\\d)\\b/g;\nconst MAX_DEPTH = 5;\nconst MAX_ARRAY_LENGTH = 50;\nconst MAX_OBJECT_KEYS = 50;\n\nconst LOG_LEVEL_ORDER: Record<LogLevel, number> = {\n  error: 0,\n  warn: 1,\n  info: 2,\n  debug: 3,\n};\n\nconst CONSOLE_METHOD: Record<LogLevel, (label: string, payload: LogDetails) => void> = {\n  debug(label, payload) {\n    console.debug(label, payload);\n  },\n  info(label, payload) {\n    console.info(label, payload);\n  },\n  warn(label, payload) {\n    console.warn(label, payload);\n  },\n  error(label, payload) {\n    console.error(label, payload);\n  },\n};\n\nconst rawMinimumLevel =\n  process.env.NEXT_PUBLIC_LOG_LEVEL ??\n  process.env.LOG_LEVEL ??\n  (process.env.NODE_ENV === \"production\" ? \"warn\" : \"debug\");\n\nconst MIN_LEVEL: LogLevel = (Object.keys(LOG_LEVEL_ORDER) as LogLevel[]).includes(\n  rawMinimumLevel as LogLevel,\n)\n  ? (rawMinimumLevel as LogLevel)\n  : process.env.NODE_ENV === \"production\"\n    ? \"warn\"\n    : \"debug\";\n\nfunction shouldLog(level: LogLevel): boolean {\n  return LOG_LEVEL_ORDER[level] <= LOG_LEVEL_ORDER[MIN_LEVEL];\n}\n\nfunction redactString(value: string): string {\n  return value.replace(EMAIL_PATTERN, \"[redacted-email]\").replace(\n    PHONE_PATTERN,\n    \"[redacted-number]\",\n  );\n}\n\nfunction redactUnknown(\n  value: unknown,\n  seen: WeakSet<object> = new WeakSet(),\n  depth = 0,\n): unknown {\n  if (typeof value === \"string\") {\n    return redactString(value);\n  }\n\n  if (typeof value === \"number\" || typeof value === \"boolean\" || value == null) {\n    return value;\n  }\n\n  if (typeof value === \"bigint\") {\n    return redactString(value.toString());\n  }\n\n  if (value instanceof Date) {\n    return value.toISOString();\n  }\n\n  if (value instanceof Error) {\n    return {\n      name: value.name,\n      message: redactString(value.message),\n      stack: typeof value.stack === \"string\" ? redactString(value.stack) : undefined,\n    };\n  }\n\n  if (Array.isArray(value)) {\n    if (depth >= MAX_DEPTH) {\n      return \"[Truncated array]\";\n    }\n    const limited = value.slice(0, MAX_ARRAY_LENGTH).map((item) =>\n      redactUnknown(item, seen, depth + 1),\n    );\n    if (value.length > MAX_ARRAY_LENGTH) {\n      limited.push(`[+${value.length - MAX_ARRAY_LENGTH} more items]`);\n    }\n    return limited;\n  }\n\n  if (value instanceof Map) {\n    if (seen.has(value)) {\n      return \"[Circular]\";\n    }\n    seen.add(value);\n    if (depth >= MAX_DEPTH) {\n      return \"[Truncated map]\";\n    }\n    const entriesList = Array.from(value.entries());\n    const limitedEntries = entriesList.slice(0, MAX_OBJECT_KEYS).map(([key, entryValue]) => [\n      redactUnknown(key, seen, depth + 1),\n      redactUnknown(entryValue, seen, depth + 1),\n    ]);\n    if (entriesList.length > MAX_OBJECT_KEYS) {\n      limitedEntries.push([\"[Truncated]\", `+${entriesList.length - MAX_OBJECT_KEYS} entries`]);\n    }\n    return limitedEntries;\n  }\n\n  if (value instanceof Set) {\n    if (seen.has(value)) {\n      return \"[Circular]\";\n    }\n    seen.add(value);\n    if (depth >= MAX_DEPTH) {\n      return \"[Truncated set]\";\n    }\n    const valuesList = Array.from(value.values());\n    const limitedValues = valuesList\n      .slice(0, MAX_ARRAY_LENGTH)\n      .map((entryValue) => redactUnknown(entryValue, seen, depth + 1));\n    if (valuesList.length > MAX_ARRAY_LENGTH) {\n      limitedValues.push(`[+${valuesList.length - MAX_ARRAY_LENGTH} more items]`);\n    }\n    return limitedValues;\n  }\n\n  if (typeof value === \"object\") {\n    const objectValue = value as Record<string, unknown>;\n    if (seen.has(objectValue)) {\n      return \"[Circular]\";\n    }\n    seen.add(objectValue);\n\n    if (depth >= MAX_DEPTH) {\n      return \"[Truncated object]\";\n    }\n\n    const objectEntries = Object.entries(objectValue);\n    const limitedEntries = objectEntries\n      .slice(0, MAX_OBJECT_KEYS)\n      .map(([key, entryValue]) => [key, redactUnknown(entryValue, seen, depth + 1)]);\n    if (objectEntries.length > MAX_OBJECT_KEYS) {\n      limitedEntries.push([\"[Truncated]\", `+${objectEntries.length - MAX_OBJECT_KEYS} keys`]);\n    }\n\n    return Object.fromEntries(limitedEntries);\n  }\n\n  return value;\n}\n\nfunction normalizeScope(scope: string): string {\n  const trimmed = scope.trim();\n  return trimmed ? trimmed : \"root\";\n}\n\nfunction buildPrefix(scope: string): string {\n  const normalized = normalizeScope(scope);\n  return normalized ? `planner:${normalized}` : \"planner\";\n}\n\nfunction sanitizeContext(context?: LoggerContext): LogDetails | undefined {\n  if (!context) {\n    return undefined;\n  }\n  const entries = Object.entries(context);\n  if (entries.length === 0) {\n    return undefined;\n  }\n  return redactUnknown(Object.fromEntries(entries)) as LogDetails;\n}\n\nfunction createLogMethod(\n  scope: string,\n  context: LoggerContext,\n  level: LogLevel,\n): LogMethod {\n  const sanitizedContext = sanitizeContext(context);\n  const prefixLabel = buildPrefix(scope);\n  return (message: string, ...details: unknown[]) => {\n    if (!shouldLog(level)) {\n      return;\n    }\n\n    const sanitizedMessage = typeof message === \"string\" ? redactString(message) : message;\n    const sanitizedDetails = details.map((detail) => redactUnknown(detail));\n    const payload: LogDetails = {\n      level,\n      scope: prefixLabel,\n      message: sanitizedMessage,\n      timestamp: new Date().toISOString(),\n    };\n\n    if (sanitizedContext) {\n      payload.context = sanitizedContext;\n    }\n\n    if (sanitizedDetails.length > 0) {\n      payload.details = sanitizedDetails;\n    }\n\n    CONSOLE_METHOD[level](`[${prefixLabel}]`, payload);\n  };\n}\n\nexport function createLogger(scope: string, context: LoggerContext = {}): Logger {\n  const logMethods: Record<LogLevel, LogMethod> = {\n    debug: createLogMethod(scope, context, \"debug\"),\n    info: createLogMethod(scope, context, \"info\"),\n    warn: createLogMethod(scope, context, \"warn\"),\n    error: createLogMethod(scope, context, \"error\"),\n  };\n\n  return {\n    ...logMethods,\n    child(suffix: string, childContext: LoggerContext = {}): Logger {\n      const nextScope = suffix ? `${normalizeScope(scope)}:${normalizeScope(suffix)}` : scope;\n      return createLogger(nextScope, { ...context, ...childContext });\n    },\n  };\n}\n\nexport const persistenceLogger = createLogger(\"persistence\");\nexport const observabilityLogger = createLogger(\"observability\");\n\nexport function redactForLogging<T>(value: T): T | unknown {\n  return redactUnknown(value);\n}\n","\"use client\";\n\nimport * as React from \"react\";\nimport { useReducedMotion } from \"framer-motion\";\n\nimport { cn } from \"@/lib/utils\";\n\nexport type GlitchOverlayToken =\n  | \"glitch-overlay-button-opacity\"\n  | \"glitch-overlay-button-opacity-reduced\"\n  | \"glitch-overlay-opacity-card\";\n\nexport type GlitchNoiseToken = \"glitch-noise-level\" | \"glitch-static-opacity\";\n\ntype StyleWithCustomVars = React.CSSProperties & {\n  \"--blob-overlay-target\"?: string;\n  \"--blob-overlay-hover\"?: string;\n  \"--blob-overlay-active\"?: string;\n  \"--blob-noise-target\"?: string;\n  \"--blob-noise-hover\"?: string;\n  \"--blob-noise-active-target\"?: string;\n};\n\nexport type BlobContainerProps = Omit<\n  React.HTMLAttributes<HTMLSpanElement>,\n  \"style\"\n> & {\n  overlayToken?: GlitchOverlayToken;\n  noiseToken?: GlitchNoiseToken;\n  noiseActiveToken?: GlitchNoiseToken;\n  animate?: boolean;\n  withNoise?: boolean;\n  style?: React.CSSProperties;\n};\n\nconst resolveTokenVar = (token: string) => `var(--${token})`;\n\nconst BlobContainer = React.forwardRef<HTMLSpanElement, BlobContainerProps>(\n  (\n    {\n      className,\n      overlayToken = \"glitch-overlay-button-opacity\",\n      noiseToken = \"glitch-noise-level\",\n      noiseActiveToken,\n      animate = true,\n      withNoise = true,\n      style,\n      ...rest\n    },\n    ref,\n  ) => {\n    const reduceMotion = useReducedMotion();\n    const overlayVar = resolveTokenVar(overlayToken);\n    const noiseVar = resolveTokenVar(noiseToken);\n    const activeNoiseVar = noiseActiveToken\n      ? resolveTokenVar(noiseActiveToken)\n      : undefined;\n\n    const overlayHoverVar = `calc(${overlayVar} * var(--glitch-intensity-subtle, 1))`;\n    const overlayTargetVar = `calc(${overlayVar} * var(--glitch-intensity-default, 1))`;\n    const overlayActiveVar = `calc(${overlayVar} * var(--glitch-intensity, var(--glitch-intensity-default, 1)))`;\n\n    const noiseHoverVar = `calc(${noiseVar} * var(--glitch-intensity-subtle, 1))`;\n    const noiseTargetVar = `calc(${noiseVar} * var(--glitch-intensity-default, 1))`;\n    const noiseActiveBaseVar = activeNoiseVar ?? noiseVar;\n    const noiseActiveScaledVar = `calc(${noiseActiveBaseVar} * var(--glitch-intensity, var(--glitch-intensity-default, 1)))`;\n\n    const mergedStyle: StyleWithCustomVars = {\n      ...(style as StyleWithCustomVars | undefined),\n      \"--blob-overlay-hover\": overlayHoverVar,\n      \"--blob-overlay-target\": overlayTargetVar,\n      \"--blob-overlay-active\": overlayActiveVar,\n      \"--blob-noise-hover\": noiseHoverVar,\n      \"--blob-noise-target\": noiseTargetVar,\n      \"--blob-noise-active-target\": noiseActiveScaledVar,\n    };\n\n    const blobAnimationClass = cn(\n      \"motion-reduce:animate-none\",\n      animate && !reduceMotion && \"motion-safe:animate-blob-drift\",\n    );\n\n    const noiseAnimationClass = cn(\n      \"motion-reduce:animate-none\",\n      animate && !reduceMotion && \"motion-safe:animate-glitch-noise\",\n    );\n\n    return (\n      <span\n        aria-hidden\n        ref={ref}\n        className={cn(\n          \"pointer-events-none absolute inset-0 -z-10 overflow-hidden rounded-[inherit]\",\n          className,\n        )}\n        style={mergedStyle}\n        {...rest}\n      >\n        <span\n          className={cn(\n            \"absolute inset-0 rounded-[inherit] bg-gradient-blob-primary opacity-0 blur-[var(--space-4)] transition-opacity duration-motion-sm ease-out\",\n            blobAnimationClass,\n              \"group-hover/glitch:opacity-[var(--blob-overlay-hover,var(--blob-overlay-target))] group-focus-visible/glitch:opacity-[var(--blob-overlay-target)] group-focus-within/glitch:opacity-[var(--blob-overlay-target)] group-active/glitch:opacity-[var(--blob-overlay-active,var(--blob-overlay-target))]\",\n          )}\n        />\n        {withNoise ? (\n          <span\n            className={cn(\n              \"absolute inset-0 rounded-[inherit] bg-glitch-noise bg-cover opacity-0 mix-blend-screen transition-opacity duration-motion-sm ease-out\",\n              noiseAnimationClass,\n              \"group-hover/glitch:opacity-[var(--blob-noise-hover,var(--blob-noise-target))] group-focus-visible/glitch:opacity-[var(--blob-noise-target)] group-focus-within/glitch:opacity-[var(--blob-noise-target)] group-active/glitch:opacity-[var(--blob-noise-active-target,var(--blob-noise-target))]\",\n            )}\n          />\n        ) : null}\n      </span>\n    );\n  },\n);\n\nBlobContainer.displayName = \"BlobContainer\";\n\nexport default BlobContainer;\n","\"use client\";\n\nimport * as React from \"react\";\nimport type { CSSProperties } from \"react\";\nimport { Slot } from \"@radix-ui/react-slot\";\nimport { motion, useReducedMotion } from \"framer-motion\";\nimport type { HTMLMotionProps } from \"framer-motion\";\nimport { cn, withBasePath } from \"@/lib/utils\";\nimport { useAnimationsDisabled } from \"@/lib/useAnimationsDisabled\";\nimport { useOrganicDepthEnabled } from \"@/lib/depth-theme-context\";\nimport Spinner, { type SpinnerTone, type SpinnerSize } from \"../feedback/Spinner\";\nimport neumorphicStyles from \"../neumorphic.module.css\";\nimport BlobContainer, { type GlitchOverlayToken } from \"./BlobContainer\";\nimport DripEdge from \"./DripEdge\";\nimport { neuRaised, neuInset } from \"./Neu\";\nimport styles from \"./Button.module.css\";\nimport {\n  resolveUIVariant,\n  type DeprecatedUIVariant,\n  type UIVariant,\n} from \"@/components/ui/variants\";\n\nexport const buttonSizes = {\n  sm: {\n    height: \"h-[var(--control-h-sm)]\",\n    padding: \"px-[var(--space-4)]\",\n    text: \"text-label\",\n    gap: \"gap-[var(--space-1)]\",\n    icon: \"[&_svg]:size-[var(--space-4)]\",\n  },\n  md: {\n    height: \"h-[var(--control-h-md)]\",\n    padding: \"px-[var(--space-4)]\",\n    text: \"text-ui\",\n    gap: \"gap-[var(--space-2)]\",\n    icon: \"[&_svg]:size-[var(--space-5)]\",\n  },\n  lg: {\n    height: \"h-[var(--control-h-lg)]\",\n    padding: \"px-[var(--space-8)]\",\n    text: \"text-title\",\n    gap: \"gap-[var(--space-4)]\",\n    icon: \"[&_svg]:size-[var(--space-8)]\",\n  },\n  xl: {\n    height: \"h-[var(--control-h-xl)]\",\n    padding: \"px-[calc(var(--control-h-xl)*4/3)]\",\n    text: \"text-title-lg\",\n    gap: \"gap-[calc(var(--control-h-xl)/3)]\",\n    icon: \"[&_svg]:size-[calc(var(--control-h-xl)*4/3)]\",\n  },\n} as const;\n\nexport type ButtonSize = keyof typeof buttonSizes;\n\nexport const BUTTON_VARIANTS = [\n  \"default\",\n  \"neo\",\n  \"quiet\",\n  \"glitch\",\n] as const satisfies readonly UIVariant[];\nexport type ButtonVariant = (typeof BUTTON_VARIANTS)[number];\ntype LegacyButtonVariant = Extract<\n  DeprecatedUIVariant,\n  \"primary\" | \"secondary\" | \"soft\" | \"ghost\"\n>;\ntype ButtonVariantProp = ButtonVariant | LegacyButtonVariant;\n\ntype Tone = SpinnerTone;\n\nconst buttonSpinnerSizes: Record<ButtonSize, SpinnerSize> = {\n  sm: \"control-sm\",\n  md: \"control-md\",\n  lg: \"control-lg\",\n  xl: \"control-xl\",\n};\n\nconst MotionSlot = motion.create(Slot);\nconst MotionAnchor = motion.a;\n\ntype AnchorMotionProps = HTMLMotionProps<\"a\">;\n\ntype ButtonBaseProps = {\n  size?: ButtonSize;\n  variant?: ButtonVariantProp;\n  tone?: Tone;\n  loading?: boolean;\n  tactile?: boolean;\n  glitch?: boolean;\n  glitchIntensity?: GlitchOverlayToken;\n};\n\ntype ButtonAsButtonProps = ButtonBaseProps &\n  Omit<HTMLMotionProps<\"button\">, \"ref\" | \"style\"> & {\n    asChild?: false;\n    href?: undefined;\n  };\n\ntype ButtonAsAnchorProps = ButtonBaseProps &\n  Omit<AnchorMotionProps, \"ref\" | \"style\"> & {\n    asChild?: false;\n    href: AnchorMotionProps[\"href\"];\n  };\n\ntype ButtonAsChildProps = ButtonBaseProps &\n  Omit<HTMLMotionProps<\"button\">, \"ref\" | \"style\"> & {\n    asChild: true;\n    href?: undefined;\n  };\n\n/**\n * Props for the {@link Button} component.\n * @property loading - When `true`, the button is disabled and `data-loading` is set.\n */\nexport type ButtonProps =\n  | ButtonAsButtonProps\n  | ButtonAsAnchorProps\n  | ButtonAsChildProps;\n\nexport const colorVar: Record<Tone, string> = {\n  primary: \"--primary\",\n  accent: \"--accent\",\n  info: \"--accent-2\",\n  danger: \"--danger\",\n};\n\nconst toneForegroundVar: Record<Tone, string> = {\n  primary: \"--primary-foreground\",\n  accent: \"--accent-foreground\",\n  info: \"--accent-2-foreground\",\n  danger: \"--danger-foreground\",\n};\n\nconst primaryShadowVars: Record<Tone, string> = {\n  primary:\n    \"[--glow-active:hsl(var(--primary)/0.35)] [--btn-primary-hover-shadow:0_var(--spacing-0-5)_calc(var(--space-3)/2)_calc(-1*var(--spacing-0-25))_hsl(var(--primary)/0.25)] [--btn-primary-active-shadow:inset_0_0_0_var(--spacing-0-25)_hsl(var(--primary)/0.6)]\",\n  accent:\n    \"[--glow-active:hsl(var(--accent)/0.35)] [--btn-primary-hover-shadow:0_var(--spacing-0-5)_calc(var(--space-3)/2)_calc(-1*var(--spacing-0-25))_hsl(var(--accent)/0.25)] [--btn-primary-active-shadow:inset_0_0_0_var(--spacing-0-25)_hsl(var(--accent)/0.6)]\",\n  info:\n    \"[--glow-active:hsl(var(--accent-2)/0.35)] [--btn-primary-hover-shadow:0_var(--spacing-0-5)_calc(var(--space-3)/2)_calc(-1*var(--spacing-0-25))_hsl(var(--accent-2)/0.25)] [--btn-primary-active-shadow:inset_0_0_0_var(--spacing-0-25)_hsl(var(--accent-2)/0.6)]\",\n  danger:\n    \"[--glow-active:hsl(var(--danger)/0.35)] [--btn-primary-hover-shadow:0_var(--spacing-0-5)_calc(var(--space-3)/2)_calc(-1*var(--spacing-0-25))_hsl(var(--danger)/0.25)] [--btn-primary-active-shadow:inset_0_0_0_var(--spacing-0-25)_hsl(var(--danger)/0.6)]\",\n};\n\nconst toneInteractionTokens: Record<Tone, string> = {\n  primary: \"[--hover:hsl(var(--primary)/0.14)] [--active:hsl(var(--primary)/0.2)]\",\n  accent: \"[--hover:hsl(var(--accent)/0.14)] [--active:hsl(var(--accent)/0.2)]\",\n  info: \"[--hover:hsl(var(--accent-2)/0.14)] [--active:hsl(var(--accent-2)/0.2)]\",\n  danger: \"[--hover:hsl(var(--danger)/0.14)] [--active:hsl(var(--danger)/0.2)]\",\n};\n\nconst secondarySurfaceTokens: Record<Tone, string> = {\n  primary: \"[--hover:hsl(var(--primary)/0.25)] [--active:hsl(var(--primary)/0.35)]\",\n  accent: \"[--hover:hsl(var(--accent)/0.25)] [--active:hsl(var(--accent)/0.2)]\",\n  info: \"[--hover:hsl(var(--accent-2)/0.2)] [--active:hsl(var(--accent-2)/0.15)]\",\n  danger: \"[--hover:hsl(var(--danger)/0.14)] [--active:hsl(var(--danger)/0.2)]\",\n};\n\nconst ghostSurfaceTokens: Record<Tone, string> = {\n  primary: \"[--hover:hsl(var(--bg)/0.8)] [--active:hsl(var(--bg))]\",\n  accent: \"[--hover:hsl(var(--accent)/0.25)] [--active:hsl(var(--accent)/0.35)]\",\n  info: \"[--hover:hsl(var(--accent-2)/0.25)] [--active:hsl(var(--accent-2)/0.35)]\",\n  danger: \"[--hover:hsl(var(--danger)/0.1)] [--active:hsl(var(--danger)/0.2)]\",\n};\n\nconst baseToneClasses: Record<\n  Exclude<ButtonVariant, \"glitch\">,\n  Record<Tone, string>\n> = {\n  default: {\n    primary: cn(toneInteractionTokens.primary, primaryShadowVars.primary),\n    accent: cn(toneInteractionTokens.accent, primaryShadowVars.accent),\n    info: cn(toneInteractionTokens.info, primaryShadowVars.info),\n    danger: cn(toneInteractionTokens.danger, primaryShadowVars.danger),\n  },\n  neo: {\n    primary: cn(\n      secondarySurfaceTokens.primary,\n      \"text-muted-foreground hover:text-foreground active:text-foreground focus-visible:text-foreground\",\n      \"[--neu-surface:hsl(var(--panel)/0.6)]\",\n    ),\n    accent: cn(\n      secondarySurfaceTokens.accent,\n      \"text-on-accent\",\n      \"[--neu-surface:hsl(var(--accent)/0.3)]\",\n    ),\n    info: cn(\n      secondarySurfaceTokens.info,\n      \"text-on-accent\",\n      \"[--neu-surface:hsl(var(--accent-2)/0.25)]\",\n    ),\n    danger: cn(\n      secondarySurfaceTokens.danger,\n      \"text-[hsl(var(--danger-tint-foreground))]\",\n      \"[--neu-surface:hsl(var(--danger)/0.25)]\",\n    ),\n  },\n  quiet: {\n    primary: cn(\n      ghostSurfaceTokens.primary,\n      \"text-foreground\",\n      \"[--neu-surface:hsl(var(--card)/0.6)]\",\n      \"border-[hsl(var(--line)/0.35)]\",\n    ),\n    accent: cn(\n      ghostSurfaceTokens.accent,\n      \"text-on-accent\",\n      \"[--neu-surface:hsl(var(--accent)/0.2)]\",\n      \"border-accent/35\",\n    ),\n    info: cn(\n      ghostSurfaceTokens.info,\n      \"text-on-accent\",\n      \"[--neu-surface:hsl(var(--accent-2)/0.2)]\",\n      \"border-accent-2/35\",\n    ),\n    danger: cn(\n      ghostSurfaceTokens.danger,\n      \"text-danger\",\n      \"[--neu-surface:hsl(var(--danger)/0.12)]\",\n      \"border-danger/35\",\n    ),\n  },\n};\n\nexport const toneClasses: Record<ButtonVariant, Record<Tone, string>> = {\n  ...baseToneClasses,\n  glitch: baseToneClasses.default,\n};\n\ntype VariantConfigResult = {\n  className: string;\n  whileHover?: HTMLMotionProps<\"button\">[\"whileHover\"];\n  whileTap?: HTMLMotionProps<\"button\">[\"whileTap\"];\n  overlay?: React.ReactNode;\n  contentClass?: string;\n};\n\ntype VariantConfig = (options: {\n  tone: Tone;\n  tactile: boolean;\n}) => VariantConfigResult;\n\nconst baseVariants: Record<Exclude<ButtonVariant, \"glitch\">, VariantConfig> = {\n  default: ({ tone, tactile }) => ({\n    className: cn(\n      tactile\n        ? \"shadow-inner-md hover:shadow-inner-lg active:shadow-inner-lg\"\n        : \"shadow-glow-md hover:shadow-btn-primary-hover active:shadow-btn-primary-active\",\n      tactile\n        ? \"active:translate-y-0\"\n        : \"active:translate-y-[var(--spacing-0-25)]\",\n      tone === \"primary\"\n        ? \"[--neu-surface:hsl(var(--primary-soft))]\"\n        : `[--neu-surface:hsl(var(${colorVar[tone]})/0.12)]`,\n      `border-[hsl(var(${colorVar[tone]})/0.35)]`,\n      tone === \"accent\" || tone === \"info\"\n        ? \"text-on-accent\"\n        : `text-[hsl(var(${toneForegroundVar[tone]}))]`,\n    ),\n    whileTap: {\n      scale: tactile ? 0.98 : 0.97,\n    },\n    contentClass:\n      \"relative z-10 inline-flex items-center gap-[var(--space-2)]\",\n  }),\n  neo: ({ tactile }) => ({\n    className: cn(\n      \"[--neu-surface:hsl(var(--panel)/0.8)]\",\n      tactile\n        ? \"shadow-inner-md hover:shadow-inner-lg active:shadow-inner-lg\"\n        : \"shadow-control hover:shadow-control-hover active:shadow-inner-md\",\n      tactile && \"active:translate-y-0\",\n    ),\n    whileHover: tactile\n      ? { scale: 1.01 }\n      : { scale: 1.02, boxShadow: neuRaised(15) },\n    whileTap: tactile\n      ? { scale: 0.98 }\n      : {\n          scale: 0.97,\n          boxShadow: neuInset(9) as CSSProperties[\"boxShadow\"],\n        },\n  }),\n  quiet: () => ({\n    className: \"\",\n    whileTap: { scale: 0.97 },\n  }),\n};\n\nexport const variants: Record<ButtonVariant, VariantConfig> = {\n  ...baseVariants,\n  glitch: (options) => baseVariants.default(options),\n};\n\nexport const Button = React.forwardRef<\n  HTMLButtonElement | HTMLAnchorElement,\n  ButtonProps\n>((props, ref) => {\n  const {\n    className,\n    size = \"md\",\n    variant = \"neo\",\n    tone = \"primary\",\n    children,\n    loading,\n    tactile = false,\n    glitch = false,\n    glitchIntensity = \"glitch-overlay-button-opacity\",\n  } = props;\n  const asChild = props.asChild ?? false;\n  const animationsDisabled = useAnimationsDisabled();\n  const reduceMotionPreference = useReducedMotion();\n  const reduceMotion = reduceMotionPreference || animationsDisabled;\n  const disabledProp =\n    \"disabled\" in props && typeof props.disabled !== \"undefined\"\n      ? props.disabled\n      : undefined;\n  const isDisabled = Boolean(disabledProp) || Boolean(loading);\n  const isLink =\n    !asChild && \"href\" in props && typeof props.href !== \"undefined\";\n  const s = buttonSizes[size];\n  const spinnerSize = buttonSpinnerSizes[size];\n  const organicDepth = useOrganicDepthEnabled();\n  const resolvedVariant = resolveUIVariant<ButtonVariant>(variant, {\n    allowed: BUTTON_VARIANTS,\n    fallback: \"neo\",\n  });\n  const shouldGlitch = glitch || resolvedVariant === \"glitch\";\n  const toneKey = resolvedVariant === \"glitch\" ? \"default\" : resolvedVariant;\n\n  const base = cn(\n    neumorphicStyles.neu,\n    styles.root,\n    organicDepth && styles.organicControl,\n    shouldGlitch && \"group/glitch isolate overflow-hidden\",\n    \"relative inline-flex items-center justify-center rounded-card r-card-md border font-medium tracking-[0.02em] transition-all duration-motion-sm ease-out motion-reduce:transition-none hover:bg-[--hover] active:bg-[--active] focus-visible:ring-2 focus-visible:ring-[var(--ring-contrast)] focus-visible:shadow-[var(--shadow-glow-md)] focus-visible:[outline:var(--spacing-0-5)_solid_var(--ring-contrast)] focus-visible:[outline-offset:var(--spacing-0-5)] disabled:opacity-disabled disabled:pointer-events-none data-[loading=true]:opacity-loading\",\n    \"data-[reduce-motion=true]:focus-visible:shadow-none data-[reduce-motion=true]:focus-visible:[box-shadow:none]\",\n    \"data-[disabled=true]:opacity-disabled data-[disabled=true]:pointer-events-none\",\n    \"[--neu-radius:var(--radius-card)]\",\n    s.height,\n    s.padding,\n    s.text,\n    s.gap,\n    s.icon,\n    className,\n  );\n\n  const {\n    className: resolvedVariantClass,\n    whileHover: variantHover,\n    whileTap,\n    overlay,\n    contentClass,\n  } = variants[resolvedVariant]({ tone, tactile });\n\n  const hoverAnimation = reduceMotion\n    ? undefined\n    : toneKey === \"default\"\n      ? { scale: tactile ? 1.02 : 1.03 }\n      : variantHover;\n\n  const contentClasses = cn(\n    contentClass ?? cn(\"relative z-10 inline-flex items-center\", s.gap),\n    loading && \"opacity-0\",\n  );\n\n  const providedGlitchTextRaw = (props as Record<string, unknown>)[\"data-text\"];\n  const providedGlitchText =\n    typeof providedGlitchTextRaw === \"string\" ? providedGlitchTextRaw : undefined;\n\n  const glitchText = shouldGlitch\n    ? providedGlitchText ??\n        (typeof children === \"string\" ? children : undefined)\n    : providedGlitchText;\n\n  const mergedClassName = cn(\n    base,\n    resolvedVariantClass,\n    toneClasses[resolvedVariant][tone],\n  );\n\n  const renderInnerContent = (contentChildren: React.ReactNode) => (\n    <>\n      {shouldGlitch ? (\n        <BlobContainer overlayToken={glitchIntensity} />\n      ) : null}\n      {toneKey === \"default\" ? (\n        <DripEdge\n          className=\"absolute inset-0 z-0\"\n          overlayToken={glitchIntensity}\n          tone={tone}\n        />\n      ) : (\n        overlay\n      )}\n      {loading ? (\n        <span className=\"pointer-events-none absolute inset-0 z-20 flex items-center justify-center\">\n          <Spinner size={spinnerSize} tone={tone} />\n        </span>\n      ) : null}\n      <span className={contentClasses}>{contentChildren}</span>\n    </>\n  );\n\n  if (asChild) {\n    const slotProps = {\n      ...(props as ButtonAsChildProps),\n    } as Record<string, unknown> & {\n      tabIndex?: number;\n      type?: HTMLMotionProps<\"button\">[\"type\"];\n    };\n    const tabIndex = slotProps.tabIndex;\n    delete slotProps.tabIndex;\n    delete slotProps.asChild;\n    delete slotProps.size;\n    delete slotProps.variant;\n    delete slotProps.tone;\n    delete slotProps.loading;\n    delete slotProps.tactile;\n    delete slotProps.glitch;\n    delete slotProps.glitchIntensity;\n    delete slotProps.className;\n    delete slotProps.children;\n    delete slotProps.disabled;\n    delete slotProps[\"data-text\"];\n    const baseProps = {\n      className: mergedClassName,\n      \"data-loading\": loading ? \"true\" : undefined,\n      \"data-disabled\": isDisabled ? \"true\" : undefined,\n      \"data-tactile\": tactile ? \"true\" : undefined,\n      \"data-glitch\": shouldGlitch ? \"true\" : undefined,\n      \"data-text\": glitchText,\n      \"aria-busy\": loading ? true : undefined,\n      whileHover: hoverAnimation,\n      whileTap: reduceMotion ? undefined : whileTap,\n      tabIndex: tabIndex ?? (isDisabled ? -1 : undefined),\n      \"data-variant\": resolvedVariant,\n      \"data-tone\": tone,\n      \"data-reduce-motion\": reduceMotion ? \"true\" : undefined,\n      ...slotProps,\n    };\n    const childCount = React.Children.count(children);\n\n    if (childCount !== 1 || !React.isValidElement(children)) {\n      if (process.env.NODE_ENV !== \"production\") {\n        console.warn(\n          \"[Button] `asChild` requires a single valid React element child.\",\n        );\n      }\n\n      return null;\n    }\n    const child = React.Children.only(\n      children,\n    ) as React.ReactElement<{ children?: React.ReactNode }>;\n\n    return (\n      <MotionSlot\n        {...baseProps}\n        ref={ref as React.ForwardedRef<HTMLElement>}\n        aria-disabled={isDisabled ? true : undefined}\n      >\n        {React.cloneElement(\n          child,\n          undefined,\n          renderInnerContent(child.props.children),\n        )}\n      </MotionSlot>\n    );\n  }\n\n  if (isLink) {\n    const anchorProps = {\n      ...(props as ButtonAsAnchorProps),\n    } as Record<string, unknown> & {\n      href: ButtonAsAnchorProps[\"href\"];\n      target?: ButtonAsAnchorProps[\"target\"];\n      rel?: ButtonAsAnchorProps[\"rel\"];\n      download?: ButtonAsAnchorProps[\"download\"];\n      tabIndex?: number;\n    };\n    const href = anchorProps.href as ButtonAsAnchorProps[\"href\"];\n    const target = anchorProps.target as ButtonAsAnchorProps[\"target\"];\n    const rel = anchorProps.rel as ButtonAsAnchorProps[\"rel\"];\n    const download = anchorProps.download as ButtonAsAnchorProps[\"download\"];\n    const tabIndex = anchorProps.tabIndex;\n    delete anchorProps.href;\n    delete anchorProps.target;\n    delete anchorProps.rel;\n    delete anchorProps.download;\n    delete anchorProps.tabIndex;\n    delete anchorProps.asChild;\n    delete anchorProps.size;\n    delete anchorProps.variant;\n    delete anchorProps.tone;\n    delete anchorProps.loading;\n    delete anchorProps.tactile;\n    delete anchorProps.glitch;\n    delete anchorProps.glitchIntensity;\n    delete anchorProps.className;\n    delete anchorProps.children;\n    delete anchorProps[\"data-text\"];\n    const baseProps = {\n      className: mergedClassName,\n      \"data-loading\": loading ? \"true\" : undefined,\n      \"data-disabled\": isDisabled ? \"true\" : undefined,\n      \"data-tactile\": tactile ? \"true\" : undefined,\n      \"data-glitch\": shouldGlitch ? \"true\" : undefined,\n      \"data-text\": glitchText,\n      \"aria-busy\": loading ? true : undefined,\n      whileHover: hoverAnimation,\n      whileTap: reduceMotion ? undefined : whileTap,\n      tabIndex: tabIndex ?? (isDisabled ? -1 : undefined),\n      \"data-variant\": resolvedVariant,\n      \"data-tone\": tone,\n      \"data-reduce-motion\": reduceMotion ? \"true\" : undefined,\n      ...anchorProps,\n    };\n    let resolvedHref = href;\n\n    const resolvedRel =\n      target === \"_blank\" && typeof rel === \"undefined\"\n        ? \"noopener noreferrer\"\n        : rel;\n\n    if (typeof href === \"string\") {\n      const trimmedHref = href.trim();\n      const hasScheme = /^[a-zA-Z][a-zA-Z\\d+.-]*:/.test(trimmedHref);\n      const isProtocolRelative = trimmedHref.startsWith(\"//\");\n      const isHash = trimmedHref.startsWith(\"#\");\n      const shouldPrefixBasePath =\n        !isHash &&\n        (trimmedHref.startsWith(\"/\") || (!hasScheme && !isProtocolRelative));\n\n      resolvedHref = shouldPrefixBasePath\n        ? withBasePath(trimmedHref)\n        : trimmedHref;\n    }\n\n    return (\n      <MotionAnchor\n        {...baseProps}\n        ref={ref as React.ForwardedRef<HTMLAnchorElement>}\n        href={resolvedHref}\n        target={target}\n        rel={resolvedRel}\n        download={download}\n        aria-disabled={isDisabled ? true : undefined}\n      >\n        {renderInnerContent(children as React.ReactNode)}\n      </MotionAnchor>\n    );\n  }\n\n  const buttonProps = {\n    ...(props as ButtonAsButtonProps),\n  } as Record<string, unknown> & {\n    type?: HTMLMotionProps<\"button\">[\"type\"];\n    tabIndex?: number;\n  };\n  const typeProp =\n    (buttonProps.type as HTMLMotionProps<\"button\">[\"type\"]) ?? \"button\";\n  const tabIndex = buttonProps.tabIndex;\n  delete buttonProps.type;\n  delete buttonProps.tabIndex;\n  delete buttonProps.asChild;\n  delete buttonProps.size;\n    delete buttonProps.variant;\n  delete buttonProps.tone;\n  delete buttonProps.loading;\n  delete buttonProps.tactile;\n  delete buttonProps.glitch;\n  delete buttonProps.glitchIntensity;\n  delete buttonProps.className;\n  delete buttonProps.children;\n  delete buttonProps[\"data-text\"];\n  delete buttonProps.disabled;\n  const baseProps = {\n    className: mergedClassName,\n    \"data-loading\": loading ? \"true\" : undefined,\n    \"data-disabled\": isDisabled ? \"true\" : undefined,\n    \"data-tactile\": tactile ? \"true\" : undefined,\n    \"data-glitch\": shouldGlitch ? \"true\" : undefined,\n    \"data-text\": glitchText,\n    \"aria-busy\": loading ? true : undefined,\n    whileHover: hoverAnimation,\n    whileTap: reduceMotion ? undefined : whileTap,\n    tabIndex,\n    \"data-variant\": resolvedVariant,\n    \"data-tone\": tone,\n    \"data-reduce-motion\": reduceMotion ? \"true\" : undefined,\n    ...buttonProps,\n  };\n\n  return (\n    <motion.button\n      {...baseProps}\n      ref={ref as React.ForwardedRef<HTMLButtonElement>}\n      type={typeProp}\n      disabled={isDisabled}\n    >\n      {renderInnerContent(children as React.ReactNode)}\n    </motion.button>\n  );\n});\n\nButton.displayName = \"Button\";\nexport default Button;\n","\"use client\";\n\nimport * as React from \"react\";\nimport { Flame, MoonStar, ShieldHalf, Sun } from \"lucide-react\";\n\nimport ThemeToggle from \"@/components/ui/theme/ThemeToggle\";\nimport { createGalleryPreview, defineGallerySection } from \"@/components/gallery/registry\";\nimport { cn } from \"@/lib/utils\";\n\nimport RadioIconGroup, {\n  type RadioIconGroupOption,\n  type RadioIconGroupProps,\n  type RadioIconGroupSize,\n  type RadioIconGroupTone,\n} from \"./RadioIconGroup\";\n\nexport const RADIO_ICON_GROUP_DEMO_OPTIONS: readonly RadioIconGroupOption[] = [\n  { id: \"radio-icon-sun\", value: \"sun\", label: \"Sun\", icon: <Sun /> },\n  { id: \"radio-icon-moon\", value: \"moon\", label: \"Moon\", icon: <MoonStar /> },\n  { id: \"radio-icon-flame\", value: \"flame\", label: \"Flame\", icon: <Flame /> },\n  { id: \"radio-icon-shield\", value: \"shield\", label: \"Shield\", icon: <ShieldHalf /> },\n] as const;\n\nexport const RADIO_ICON_GROUP_TONES: readonly RadioIconGroupTone[] = [\n  \"accent\",\n  \"primary\",\n  \"success\",\n  \"warning\",\n  \"danger\",\n] as const;\n\nexport const RADIO_ICON_GROUP_SIZES: readonly RadioIconGroupSize[] = [\n  \"sm\",\n  \"md\",\n  \"lg\",\n] as const;\n\nexport type RadioIconGroupStateSpec = {\n  readonly id: string;\n  readonly name: string;\n  readonly className?: string;\n  readonly props?: Partial<RadioIconGroupProps>;\n  readonly code: string;\n};\n\nconst RADIO_GROUP_BASE_PROPS: Pick<RadioIconGroupProps, \"options\" | \"tone\" | \"size\"> = {\n  options: RADIO_ICON_GROUP_DEMO_OPTIONS,\n  tone: \"accent\",\n  size: \"md\",\n};\n\nconst firstControlSelector = \"[&>div:first-child_[data-part=control]]\";\n\nconst hoverPreviewClassName = cn(\n  `${firstControlSelector}:bg-interaction-accent-surfaceHover`,\n  `${firstControlSelector}:text-foreground`,\n);\n\nconst focusPreviewClassName = cn(\n  `${firstControlSelector}:ring-2`,\n  `${firstControlSelector}:ring-[color:var(--theme-ring,var(--focus))]`,\n  `${firstControlSelector}:ring-offset-2`,\n  `${firstControlSelector}:ring-offset-[color:var(--surface-2)]`,\n);\n\nconst activePreviewClassName = cn(\n  `${firstControlSelector}:bg-interaction-accent-surfaceActive`,\n  `${firstControlSelector}:text-foreground`,\n);\n\nexport const RADIO_ICON_GROUP_STATE_SPECS: readonly RadioIconGroupStateSpec[] = [\n  {\n    id: \"default\",\n    name: \"Checked\",\n    props: { value: \"sun\" },\n    code: `<RadioIconGroup name=\"tone\" options={options} value=\"sun\" onChange={() => {}} />`,\n  },\n  {\n    id: \"unselected\",\n    name: \"Unselected\",\n    props: { value: null },\n    code: `<RadioIconGroup name=\"tone\" options={options} value={null} onChange={() => {}} />`,\n  },\n  {\n    id: \"hover\",\n    name: \"Hover\",\n    className: hoverPreviewClassName,\n    props: { value: \"sun\" },\n    code: `<RadioIconGroup\n  name=\"tone\"\n  options={options}\n  value=\"sun\"\n  className=\"${hoverPreviewClassName}\"\n  onChange={() => {}}\n/>`,\n  },\n  {\n    id: \"focus-visible\",\n    name: \"Focus-visible\",\n    className: focusPreviewClassName,\n    props: { value: \"sun\" },\n    code: `<RadioIconGroup\n  name=\"tone\"\n  options={options}\n  value=\"sun\"\n  className=\"${focusPreviewClassName}\"\n  onChange={() => {}}\n/>`,\n  },\n  {\n    id: \"active\",\n    name: \"Active\",\n    className: activePreviewClassName,\n    props: { value: \"moon\" },\n    code: `<RadioIconGroup\n  name=\"tone\"\n  options={options}\n  value=\"moon\"\n  className=\"${activePreviewClassName}\"\n  onChange={() => {}}\n/>`,\n  },\n  {\n    id: \"disabled\",\n    name: \"Disabled\",\n    props: { value: \"sun\", disabled: true },\n    code: `<RadioIconGroup name=\"tone\" options={options} value=\"sun\" disabled onChange={() => {}} />`,\n  },\n  {\n    id: \"loading\",\n    name: \"Loading\",\n    props: { value: \"sun\", loading: true },\n    code: `<RadioIconGroup name=\"tone\" options={options} value=\"sun\" loading onChange={() => {}} />`,\n  },\n] as const;\n\nfunction RadioIconGroupStatePreview({ state }: { readonly state: RadioIconGroupStateSpec }) {\n  const { className, props } = state;\n\n  return (\n    <RadioIconGroup\n      {...RADIO_GROUP_BASE_PROPS}\n      name={`radio-icon-group-${state.id}`}\n      value=\"sun\"\n      onChange={() => {}}\n      {...props}\n      className={cn(className, props?.className)}\n    />\n  );\n}\n\nfunction RadioIconGroupMatrix({\n  value,\n  onChange,\n  instanceId,\n}: {\n  readonly value: string | null;\n  readonly onChange: (next: string) => void;\n  readonly instanceId: string;\n}) {\n  return (\n    <div className=\"overflow-x-auto\">\n      <div className=\"min-w-max rounded-card border border-card-hairline-60 bg-surface-2/60 p-[var(--space-3)] shadow-[var(--shadow-inset-hairline)]\">\n        <div className=\"grid auto-cols-fr grid-cols-[max-content_repeat(3,minmax(0,1fr))] gap-[var(--space-3)]\">\n          <div className=\"text-caption font-medium uppercase tracking-[0.18em] text-muted-foreground\">Tone  Size</div>\n          {RADIO_ICON_GROUP_SIZES.map((size) => (\n            <div\n              key={size}\n              className=\"text-center text-label font-semibold uppercase tracking-[0.16em] text-muted-foreground\"\n            >\n              {size}\n            </div>\n          ))}\n          {RADIO_ICON_GROUP_TONES.map((tone) => (\n            <React.Fragment key={tone}>\n              <div className=\"flex items-center text-label font-medium capitalize text-muted-foreground\">\n                {tone}\n              </div>\n              {RADIO_ICON_GROUP_SIZES.map((size) => (\n                <RadioIconGroup\n                  key={`${tone}-${size}`}\n                  name={`${instanceId}-${tone}-${size}`}\n                  options={RADIO_ICON_GROUP_DEMO_OPTIONS}\n                  value={value}\n                  tone={tone}\n                  size={size}\n                  onChange={onChange}\n                />\n              ))}\n            </React.Fragment>\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n}\n\nfunction RadioIconGroupGalleryPreview() {\n  const [value, setValue] = React.useState<string | null>(null);\n  const [tone, setTone] = React.useState<RadioIconGroupTone>(\"accent\");\n  const [size, setSize] = React.useState<RadioIconGroupSize>(\"md\");\n  const instanceId = React.useId();\n  const handleValueChange = React.useCallback((next: string) => {\n    setValue(next);\n  }, []);\n\n  return (\n    <div className=\"space-y-[var(--space-5)]\">\n      <div className=\"flex flex-wrap items-center justify-between gap-[var(--space-3)]\">\n        <p className=\"max-w-xl text-caption text-muted-foreground\">\n          Press Tab to enter the group, use arrow keys to move focus, and press Space to select the highlighted icon.\n        </p>\n        <ThemeToggle ariaLabel=\"Preview theme\" className=\"shrink-0\" />\n      </div>\n      <RadioIconGroupMatrix value={value} onChange={handleValueChange} instanceId={instanceId} />\n      <div className=\"grid gap-[var(--space-3)] md:grid-cols-2\">\n        <div className=\"space-y-[var(--space-2)] rounded-card border border-card-hairline-60 bg-surface-2/60 p-[var(--space-3)] shadow-[var(--shadow-inset-hairline)]\">\n          <p className=\"text-label font-medium text-muted-foreground\">Interactive controls</p>\n          <RadioIconGroup\n            name={`${instanceId}-interactive`}\n            options={RADIO_ICON_GROUP_DEMO_OPTIONS}\n            value={value}\n            tone={tone}\n            size={size}\n            onChange={handleValueChange}\n          />\n          <div className=\"flex flex-wrap items-center gap-[var(--space-2)] text-caption text-muted-foreground\">\n            <label className=\"flex items-center gap-[var(--space-1)]\">\n              <span className=\"text-label text-foreground\">Tone</span>\n              <select\n                className=\"rounded-[var(--radius-sm)] border border-card-hairline-60 bg-surface px-[var(--space-2)] py-[var(--space-1)] text-label\"\n                value={tone}\n                onChange={(event) => setTone(event.target.value as RadioIconGroupTone)}\n              >\n                {RADIO_ICON_GROUP_TONES.map((toneOption) => (\n                  <option key={toneOption} value={toneOption} className=\"capitalize\">\n                    {toneOption}\n                  </option>\n                ))}\n              </select>\n            </label>\n            <label className=\"flex items-center gap-[var(--space-1)]\">\n              <span className=\"text-label text-foreground\">Size</span>\n              <select\n                className=\"rounded-[var(--radius-sm)] border border-card-hairline-60 bg-surface px-[var(--space-2)] py-[var(--space-1)] text-label\"\n                value={size}\n                onChange={(event) => setSize(event.target.value as RadioIconGroupSize)}\n              >\n                {RADIO_ICON_GROUP_SIZES.map((sizeOption) => (\n                  <option key={sizeOption} value={sizeOption} className=\"capitalize\">\n                    {sizeOption}\n                  </option>\n                ))}\n              </select>\n            </label>\n            <button\n              type=\"button\"\n              onClick={() => setValue(null)}\n              className=\"inline-flex items-center gap-[var(--space-1)] rounded-[var(--radius-sm)] border border-card-hairline-60 bg-surface px-[var(--space-2)] py-[var(--space-1)] text-label text-muted-foreground transition-colors hover:bg-surface-hover focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[color:var(--theme-ring,var(--focus))] focus-visible:ring-offset-2 focus-visible:ring-offset-[color:var(--surface-2)]\"\n            >\n              Clear selection\n            </button>\n          </div>\n        </div>\n        <div className=\"space-y-[var(--space-2)]\">\n          <div className=\"space-y-[var(--space-1)] rounded-card border border-card-hairline-60 bg-surface-2/60 p-[var(--space-3)] shadow-[var(--shadow-inset-hairline)]\">\n            <p className=\"text-label font-medium text-muted-foreground\">Disabled</p>\n            <RadioIconGroup\n              name={`${instanceId}-disabled`}\n              options={RADIO_ICON_GROUP_DEMO_OPTIONS}\n              value={value}\n              tone={tone}\n              size={size}\n              disabled\n              onChange={handleValueChange}\n            />\n          </div>\n          <div className=\"space-y-[var(--space-1)] rounded-card border border-card-hairline-60 bg-surface-2/60 p-[var(--space-3)] shadow-[var(--shadow-inset-hairline)]\">\n            <p className=\"text-label font-medium text-muted-foreground\">Loading</p>\n            <RadioIconGroup\n              name={`${instanceId}-loading`}\n              options={RADIO_ICON_GROUP_DEMO_OPTIONS}\n              value={value}\n              tone={tone}\n              size={size}\n              loading\n              onChange={handleValueChange}\n            />\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default defineGallerySection({\n  id: \"toggles\",\n  entries: [\n    {\n      id: \"radio-icon-group\",\n      name: \"RadioIconGroup\",\n      description:\n        \"Icon-based radio selector with tone-aware focus, hover, loading, and disabled states across Planner themes.\",\n      kind: \"primitive\",\n      tags: [\"radio\", \"toggle\", \"icon\"],\n      props: [\n        { name: \"name\", type: \"string\", required: true },\n        { name: \"options\", type: \"readonly RadioIconGroupOption[]\", required: true },\n        { name: \"value\", type: \"string | null\", required: true },\n        { name: \"onChange\", type: \"(value: string) => void\", required: true },\n        {\n          name: \"tone\",\n          type: '\"accent\" | \"primary\" | \"success\" | \"warning\" | \"danger\"',\n          defaultValue: '\"accent\"',\n        },\n        { name: \"size\", type: '\"sm\" | \"md\" | \"lg\"', defaultValue: '\"md\"' },\n        { name: \"disabled\", type: \"boolean\", defaultValue: \"false\" },\n        { name: \"loading\", type: \"boolean\", defaultValue: \"false\" },\n        { name: \"className\", type: \"string\" },\n      ],\n      axes: [\n        {\n          id: \"tone\",\n          label: \"Tone\",\n          type: \"variant\",\n          values: RADIO_ICON_GROUP_TONES.map((tone) => ({ value: tone })),\n        },\n        {\n          id: \"size\",\n          label: \"Size\",\n          type: \"variant\",\n          values: RADIO_ICON_GROUP_SIZES.map((size) => ({ value: size })),\n        },\n        {\n          id: \"state\",\n          label: \"State\",\n          type: \"state\",\n          values: RADIO_ICON_GROUP_STATE_SPECS.map(({ name }) => ({ value: name })),\n        },\n      ],\n      usage: [\n        {\n          title: \"Keyboard navigation\",\n          description:\n            \"Tab into the group, use arrow keys to move focus, and press Space or Enter to commit the highlighted icon.\",\n          kind: \"do\",\n        },\n        {\n          title: \"Theme parity\",\n          description:\n            \"Pair with ThemeToggle when QA-ing to confirm glow spacing, contrast, and motion across Glitch, Aurora, Kitten, Oceanic, Citrus, Noir, and Hardstuck themes.\",\n          kind: \"do\",\n        },\n      ],\n      preview: createGalleryPreview({\n        id: \"ui:radio-icon-group:matrix\",\n        render: () => <RadioIconGroupGalleryPreview />,\n      }),\n      states: RADIO_ICON_GROUP_STATE_SPECS.map((state) => ({\n        id: state.id,\n        name: state.name,\n        code: state.code,\n        preview: createGalleryPreview({\n          id: `ui:radio-icon-group:state:${state.id}`,\n          render: () => <RadioIconGroupStatePreview state={state} />,\n        }),\n      })),\n      code: `<RadioIconGroup\n  name=\"appearance\"\n  options={options}\n  value={value}\n  tone={tone}\n  size={size}\n  onChange={setValue}\n/>`,\n    },\n  ],\n});\n","// src/components/layout/Split.tsx\r\n\"use client\";\r\n\r\nimport * as React from \"react\";\r\n\r\n/**\r\n * Split  minimal responsive two-column layout\r\n * - Stacks on small screens, 2 cols on md+\r\n * - Keeps consistent gaps; no opinion about card chrome\r\n */\r\nexport default function Split({\r\n  left,\r\n  right,\r\n  className = \"\",\r\n}: {\r\n  left: React.ReactNode;\r\n  right: React.ReactNode;\r\n  className?: string;\r\n}) {\r\n  return (\n    <div className={[\"grid gap-[var(--space-6)] md:grid-cols-2\", className].join(\" \")}>\n      <div className=\"min-w-0\">{left}</div>\n      <div className=\"min-w-0\">{right}</div>\n    </div>\n  );\n}\n","\"use client\";\n\nimport * as React from \"react\";\nimport { Circle, CircleCheck, CircleDot } from \"lucide-react\";\n\nimport { createGalleryPreview, defineGallerySection } from \"@/components/gallery/registry\";\n\nimport Header, { type HeaderTabsProps } from \"./Header\";\n\nconst headerTabs: HeaderTabsProps<string>[\"items\"] = [\n  {\n    key: \"summary\",\n    label: \"Summary\",\n    icon: (\n      <Circle\n        aria-hidden=\"true\"\n        className=\"h-[var(--space-4)] w-[var(--space-4)]\"\n      />\n    ),\n  },\n  {\n    key: \"timeline\",\n    label: \"Timeline\",\n    icon: (\n      <CircleDot\n        aria-hidden=\"true\"\n        className=\"h-[var(--space-4)] w-[var(--space-4)]\"\n      />\n    ),\n  },\n  {\n    key: \"insights\",\n    label: \"Insights\",\n    icon: (\n      <CircleCheck\n        aria-hidden=\"true\"\n        className=\"h-[var(--space-4)] w-[var(--space-4)]\"\n      />\n    ),\n    disabled: true,\n  },\n];\n\nconst headerUnderlineToneExamples: ReadonlyArray<{\n  underlineTone: \"brand\" | \"neutral\";\n  label: string;\n  ariaLabel: string;\n}> = [\n  {\n    underlineTone: \"neutral\",\n    label: \"Neutral underline (default)\",\n    ariaLabel: \"Header demo tabs (neutral underline)\",\n  },\n  {\n    underlineTone: \"brand\",\n    label: \"Brand underline\",\n    ariaLabel: \"Header demo tabs (brand underline)\",\n  },\n];\n\nfunction HeaderGalleryPreview() {\n  const [value, setValue] = React.useState<string>(\n    () => headerTabs.find((tab) => !tab.disabled)?.key ?? headerTabs[0]?.key ?? \"\",\n  );\n  const activeLabel = React.useMemo(\n    () => headerTabs.find((tab) => tab.key === value)?.label ?? null,\n    [value],\n  );\n\n  return (\n    <div className=\"grid gap-[var(--space-4)] lg:grid-cols-2\">\n      {headerUnderlineToneExamples.map((example) => (\n        <div\n          key={example.underlineTone}\n          className=\"rounded-card border border-card-hairline-60 bg-panel/80 p-[var(--space-5)] shadow-[var(--shadow-outline-subtle)]\"\n        >\n          <p className=\"mb-[var(--space-3)] text-label font-medium text-muted-foreground\">\n            {example.label}\n          </p>\n          <Header\n            eyebrow=\"Workspace\"\n            heading=\"Header\"\n            subtitle=\"Segmented navigation anchored to the header\"\n            icon={\n              <Circle\n                aria-hidden=\"true\"\n                className=\"h-[var(--space-5)] w-[var(--space-5)] text-primary\"\n              />\n            }\n            underlineTone={example.underlineTone}\n            tabs={{\n              items: headerTabs,\n              value,\n              onChange: setValue,\n              ariaLabel: example.ariaLabel,\n              size: \"md\",\n            }}\n            sticky={false}\n            topClassName=\"top-0\"\n          >\n            <p className=\"text-ui text-muted-foreground\">\n              Viewing\n              <span className=\"ml-[var(--space-1)] font-medium text-foreground\">\n                {activeLabel}\n              </span>\n            </p>\n          </Header>\n          <div className=\"mt-[var(--space-4)] grid gap-[var(--space-3)] sm:grid-cols-2\">\n            <div className=\"rounded-card border border-card-hairline-60 bg-surface px-[var(--space-4)] py-[var(--space-3)]\">\n              <p className=\"text-label text-muted-foreground\">Next milestone</p>\n              <p className=\"mt-[var(--space-1)] text-ui font-medium text-foreground\">\n                Launch sprint\n              </p>\n            </div>\n            <div className=\"rounded-card border border-card-hairline-60 bg-surface px-[var(--space-4)] py-[var(--space-3)]\">\n              <p className=\"text-label text-muted-foreground\">Team focus</p>\n              <p className=\"mt-[var(--space-1)] text-ui font-medium text-foreground\">\n                Deep work block\n              </p>\n            </div>\n          </div>\n        </div>\n      ))}\n    </div>\n  );\n}\n\nexport default defineGallerySection({\n  id: \"layout\",\n  entries: [\n    {\n      id: \"header\",\n      name: \"Header\",\n      description: \"Workspace header with sticky support and segmented tabs\",\n      kind: \"component\",\n      tags: [\"header\", \"navigation\"],\n      axes: [\n        {\n          id: \"tab-state\",\n          label: \"Tab state\",\n          type: \"state\",\n          values: [\n            { value: \"Active\" },\n            { value: \"Inactive\" },\n            { value: \"Disabled\" },\n          ],\n        },\n        {\n          id: \"underline-tone\",\n          label: \"Underline tone\",\n          type: \"variant\",\n          values: [\n            { value: \"Neutral\" },\n            { value: \"Brand\" },\n          ],\n        },\n      ],\n      preview: createGalleryPreview({\n        id: \"ui:header:tabs\",\n        render: () => <HeaderGalleryPreview />,\n      }),\n      code: `<div className=\"grid gap-[var(--space-4)] lg:grid-cols-2\">\n  <div className=\"rounded-card border border-card-hairline-60 bg-panel/80 p-[var(--space-5)] shadow-[var(--shadow-outline-subtle)]\">\n    <p className=\"mb-[var(--space-3)] text-label font-medium text-muted-foreground\">\n      Neutral underline (default)\n    </p>\n    <Header\n      eyebrow=\"Workspace\"\n      heading=\"Header\"\n      subtitle=\"Segmented navigation anchored to the header\"\n      underlineTone=\"neutral\"\n      icon={\n        <Circle\n          aria-hidden=\"true\"\n          className=\"h-[var(--space-5)] w-[var(--space-5)] text-primary\"\n        />\n      }\n      tabs={{\n        items: [\n          {\n            key: \"summary\",\n            label: \"Summary\",\n            icon: (\n              <Circle\n                aria-hidden=\"true\"\n                className=\"h-[var(--space-4)] w-[var(--space-4)]\"\n              />\n            ),\n          },\n          {\n            key: \"timeline\",\n            label: \"Timeline\",\n            icon: (\n              <CircleDot\n                aria-hidden=\"true\"\n                className=\"h-[var(--space-4)] w-[var(--space-4)]\"\n              />\n            ),\n          },\n          {\n            key: \"insights\",\n            label: \"Insights\",\n            icon: (\n              <CircleCheck\n                aria-hidden=\"true\"\n                className=\"h-[var(--space-4)] w-[var(--space-4)]\"\n              />\n            ),\n            disabled: true,\n          },\n        ],\n        value: \"summary\",\n        onChange: () => {},\n        ariaLabel: \"Header demo tabs (neutral underline)\",\n        size: \"md\",\n      }}\n      sticky={false}\n      topClassName=\"top-0\"\n    >\n      <p className=\"text-ui text-muted-foreground\">\n        Viewing\n        <span className=\"ml-[var(--space-1)] font-medium text-foreground\">\n          Summary\n        </span>\n      </p>\n    </Header>\n    <div className=\"mt-[var(--space-4)] grid gap-[var(--space-3)] sm:grid-cols-2\">\n      <div className=\"rounded-card border border-card-hairline-60 bg-surface px-[var(--space-4)] py-[var(--space-3)]\">\n        <p className=\"text-label text-muted-foreground\">Next milestone</p>\n        <p className=\"mt-[var(--space-1)] text-ui font-medium text-foreground\">\n          Launch sprint\n        </p>\n      </div>\n      <div className=\"rounded-card border border-card-hairline-60 bg-surface px-[var(--space-4)] py-[var(--space-3)]\">\n        <p className=\"text-label text-muted-foreground\">Team focus</p>\n        <p className=\"mt-[var(--space-1)] text-ui font-medium text-foreground\">\n          Deep work block\n        </p>\n      </div>\n    </div>\n  </div>\n  <div className=\"rounded-card border border-card-hairline-60 bg-panel/80 p-[var(--space-5)] shadow-[var(--shadow-outline-subtle)]\">\n    <p className=\"mb-[var(--space-3)] text-label font-medium text-muted-foreground\">\n      Brand underline\n    </p>\n    <Header\n      eyebrow=\"Workspace\"\n      heading=\"Header\"\n      subtitle=\"Segmented navigation anchored to the header\"\n      underlineTone=\"brand\"\n      icon={\n        <Circle\n          aria-hidden=\"true\"\n          className=\"h-[var(--space-5)] w-[var(--space-5)] text-primary\"\n        />\n      }\n      tabs={{\n        items: [\n          {\n            key: \"summary\",\n            label: \"Summary\",\n            icon: (\n              <Circle\n                aria-hidden=\"true\"\n                className=\"h-[var(--space-4)] w-[var(--space-4)]\"\n              />\n            ),\n          },\n          {\n            key: \"timeline\",\n            label: \"Timeline\",\n            icon: (\n              <CircleDot\n                aria-hidden=\"true\"\n                className=\"h-[var(--space-4)] w-[var(--space-4)]\"\n              />\n            ),\n          },\n          {\n            key: \"insights\",\n            label: \"Insights\",\n            icon: (\n              <CircleCheck\n                aria-hidden=\"true\"\n                className=\"h-[var(--space-4)] w-[var(--space-4)]\"\n              />\n            ),\n            disabled: true,\n          },\n        ],\n        value: \"summary\",\n        onChange: () => {},\n        ariaLabel: \"Header demo tabs (brand underline)\",\n        size: \"md\",\n      }}\n      sticky={false}\n      topClassName=\"top-0\"\n    >\n      <p className=\"text-ui text-muted-foreground\">\n        Viewing\n        <span className=\"ml-[var(--space-1)] font-medium text-foreground\">\n          Summary\n        </span>\n      </p>\n    </Header>\n    <div className=\"mt-[var(--space-4)] grid gap-[var(--space-3)] sm:grid-cols-2\">\n      <div className=\"rounded-card border border-card-hairline-60 bg-surface px-[var(--space-4)] py-[var(--space-3)]\">\n        <p className=\"text-label text-muted-foreground\">Next milestone</p>\n        <p className=\"mt-[var(--space-1)] text-ui font-medium text-foreground\">\n          Launch sprint\n        </p>\n      </div>\n      <div className=\"rounded-card border border-card-hairline-60 bg-surface px-[var(--space-4)] py-[var(--space-3)]\">\n        <p className=\"text-label text-muted-foreground\">Team focus</p>\n        <p className=\"mt-[var(--space-1)] text-ui font-medium text-foreground\">\n          Deep work block\n        </p>\n      </div>\n    </div>\n  </div>\n</div>`,\n    },\n  ],\n});\n","import { z } from \"zod\";\n\nconst optionalNonEmptyString = z\n  .string()\n  .trim()\n  .min(1, \"Value cannot be an empty string.\")\n  .optional();\n\nconst safeModeSchema = z\n  .string({\n    required_error: \"NEXT_PUBLIC_SAFE_MODE must be provided to coordinate client safe mode.\",\n  })\n  .trim()\n  .min(1, \"NEXT_PUBLIC_SAFE_MODE cannot be an empty string.\")\n  .default('true');\n\nconst clientEnvSchema = z\n  .object({\n    NEXT_PUBLIC_BASE_PATH: z.string().optional(),\n    NEXT_PUBLIC_DEPTH_THEME: z.string().optional(),\n    NEXT_PUBLIC_ENABLE_METRICS: z.string().optional(),\n    NEXT_PUBLIC_METRICS_ENDPOINT: z.string().optional(),\n    NEXT_PUBLIC_FEATURE_SVG_NUMERIC_FILTERS: z.string().optional(),\n    NEXT_PUBLIC_ORGANIC_DEPTH: z.string().optional(),\n    NEXT_PUBLIC_SAFE_MODE: safeModeSchema,\n    NEXT_PUBLIC_SENTRY_DSN: optionalNonEmptyString,\n    NEXT_PUBLIC_SENTRY_ENVIRONMENT: optionalNonEmptyString,\n    NEXT_PUBLIC_SENTRY_TRACES_SAMPLE_RATE: optionalNonEmptyString,\n    NEXT_PUBLIC_FEATURE_GLITCH_LANDING: z.string().optional(),\n    NEXT_PUBLIC_UI_GLITCH_LANDING: z.string().optional(),\n  })\n  .superRefine((value, ctx) => {\n    const hasSentryConfig =\n      value.NEXT_PUBLIC_SENTRY_ENVIRONMENT !== undefined ||\n      value.NEXT_PUBLIC_SENTRY_TRACES_SAMPLE_RATE !== undefined;\n\n    if (!value.NEXT_PUBLIC_SENTRY_DSN && hasSentryConfig) {\n      ctx.addIssue({\n        path: [\"NEXT_PUBLIC_SENTRY_DSN\"],\n        code: z.ZodIssueCode.custom,\n        message: \"NEXT_PUBLIC_SENTRY_DSN is required when configuring browser Sentry options.\",\n      });\n    }\n  });\n\nexport type ClientEnv = z.infer<typeof clientEnvSchema>;\n\nexport function loadClientEnv(source?: NodeJS.ProcessEnv): ClientEnv {\n  const envSource =\n    source ??\n    (typeof process !== 'undefined'\n      ? (process.env as NodeJS.ProcessEnv)\n      : ({} as NodeJS.ProcessEnv));\n\n  const safeMode = envSource.NEXT_PUBLIC_SAFE_MODE ?? 'true';\n\n  return clientEnvSchema.parse({\n    NEXT_PUBLIC_BASE_PATH: envSource.NEXT_PUBLIC_BASE_PATH,\n    NEXT_PUBLIC_DEPTH_THEME: envSource.NEXT_PUBLIC_DEPTH_THEME,\n    NEXT_PUBLIC_ENABLE_METRICS: envSource.NEXT_PUBLIC_ENABLE_METRICS,\n    NEXT_PUBLIC_METRICS_ENDPOINT: envSource.NEXT_PUBLIC_METRICS_ENDPOINT,\n    NEXT_PUBLIC_FEATURE_SVG_NUMERIC_FILTERS:\n      envSource.NEXT_PUBLIC_FEATURE_SVG_NUMERIC_FILTERS,\n    NEXT_PUBLIC_ORGANIC_DEPTH: envSource.NEXT_PUBLIC_ORGANIC_DEPTH,\n    NEXT_PUBLIC_SAFE_MODE: safeMode,\n    NEXT_PUBLIC_SENTRY_DSN: envSource.NEXT_PUBLIC_SENTRY_DSN,\n    NEXT_PUBLIC_SENTRY_ENVIRONMENT: envSource.NEXT_PUBLIC_SENTRY_ENVIRONMENT,\n    NEXT_PUBLIC_SENTRY_TRACES_SAMPLE_RATE:\n      envSource.NEXT_PUBLIC_SENTRY_TRACES_SAMPLE_RATE,\n    NEXT_PUBLIC_FEATURE_GLITCH_LANDING: envSource.NEXT_PUBLIC_FEATURE_GLITCH_LANDING,\n    NEXT_PUBLIC_UI_GLITCH_LANDING: envSource.NEXT_PUBLIC_UI_GLITCH_LANDING,\n  });\n}\n\nexport default loadClientEnv;\n","import loadClientEnv from '../../env/client'\n\nconst SAFE_MODE_FALLBACK = 'true'\n\nfunction withSafeModeFallback(): NodeJS.ProcessEnv {\n  const envSource =\n    typeof process !== 'undefined'\n      ? (process.env as NodeJS.ProcessEnv)\n      : ({} as NodeJS.ProcessEnv)\n\n  if (envSource.NEXT_PUBLIC_SAFE_MODE !== undefined) {\n    return envSource\n  }\n\n  const publicSafeModeKey = 'NEXT_PUBLIC_SAFE_MODE'\n  const safeModeKey = 'SAFE_MODE'\n\n  const nextEnv: NodeJS.ProcessEnv = {\n    ...envSource,\n    [publicSafeModeKey]: SAFE_MODE_FALLBACK,\n  }\n\n  envSource[publicSafeModeKey] = SAFE_MODE_FALLBACK\n\n  const safeModeValue = envSource[safeModeKey]\n\n  if (!safeModeValue || !safeModeValue.trim()) {\n    envSource[safeModeKey] = SAFE_MODE_FALLBACK\n  }\n\n  if (typeof console !== 'undefined' && typeof console.warn === 'function') {\n    console.warn(\n      '[env] NEXT_PUBLIC_SAFE_MODE was missing; defaulting to \"true\" so the client runtime can continue with stricter AI guardrails.'\n    )\n  }\n\n  return nextEnv\n}\n\nexport type ClientEnv = ReturnType<typeof loadClientEnv>\n\nexport function readClientEnv(): ClientEnv {\n  const envWithFallback = withSafeModeFallback()\n\n  try {\n    return loadClientEnv(envWithFallback)\n  } catch (error) {\n    console.error('[env] Failed to load client environment variables.', error)\n    if (\n      typeof process !== 'undefined' &&\n      typeof process.exit === 'function' &&\n      process.env.NODE_ENV !== 'test'\n    ) {\n      process.exit(1)\n    }\n    throw error\n  }\n}\n","\"use client\";\n\nimport * as React from \"react\";\nimport { createPortal } from \"react-dom\";\nimport Card from \"./primitives/Card\";\nimport IconButton from \"./primitives/IconButton\";\nimport styles from \"./Toast.module.css\";\nimport { X } from \"lucide-react\";\nimport useMounted from \"@/lib/useMounted\";\nimport { cn } from \"@/lib/utils\";\nimport { useScopedCssVars } from \"./hooks/useScopedCssVars\";\n\nexport interface ToastProps extends React.ComponentProps<typeof Card> {\n  open: boolean;\n  onOpenChange: (open: boolean) => void;\n  duration?: number;\n  closable?: boolean;\n  showProgress?: boolean;\n}\n\nexport default function Toast({\n  open,\n  onOpenChange,\n  duration = 3000,\n  closable = false,\n  className,\n  children,\n  showProgress = false,\n  onPointerEnter: onPointerEnterProp,\n  onPointerLeave: onPointerLeaveProp,\n  onFocus: onFocusProp,\n  onBlur: onBlurProp,\n  ...cardProps\n}: ToastProps) {\n  const mounted = useMounted();\n  const timerRef = React.useRef<number | null>(null);\n  const animationFrameRef = React.useRef<number | null>(null);\n  const startTimeRef = React.useRef<number | null>(null);\n  const startRemainingRef = React.useRef(duration);\n  const remainingTimeRef = React.useRef(duration);\n  const interactionCountRef = React.useRef(0);\n  const [timeLeft, setTimeLeft] = React.useState(duration);\n\n  const cancelDismissal = React.useCallback(() => {\n    if (timerRef.current !== null) {\n      window.clearTimeout(timerRef.current);\n      timerRef.current = null;\n    }\n    if (animationFrameRef.current !== null) {\n      cancelAnimationFrame(animationFrameRef.current);\n      animationFrameRef.current = null;\n    }\n    startTimeRef.current = null;\n  }, []);\n\n  const tick = React.useCallback(() => {\n    if (startTimeRef.current === null) return;\n    const elapsed = performance.now() - startTimeRef.current;\n    const next = Math.max(startRemainingRef.current - elapsed, 0);\n    setTimeLeft(next);\n    if (next > 0) {\n      animationFrameRef.current = requestAnimationFrame(tick);\n    } else {\n      animationFrameRef.current = null;\n    }\n  }, []);\n\n  const scheduleDismissal = React.useCallback(() => {\n    if (!open) return;\n    if (remainingTimeRef.current <= 0) {\n      onOpenChange(false);\n      return;\n    }\n    cancelDismissal();\n    startTimeRef.current = performance.now();\n    startRemainingRef.current = remainingTimeRef.current;\n    timerRef.current = window.setTimeout(() => {\n      onOpenChange(false);\n    }, remainingTimeRef.current);\n    if (showProgress) {\n      setTimeLeft(remainingTimeRef.current);\n      animationFrameRef.current = requestAnimationFrame(tick);\n    }\n  }, [cancelDismissal, onOpenChange, open, showProgress, tick]);\n\n  const pauseDismissal = React.useCallback(() => {\n    if (startTimeRef.current === null) return;\n    const elapsed = performance.now() - startTimeRef.current;\n    remainingTimeRef.current = Math.max(startRemainingRef.current - elapsed, 0);\n    setTimeLeft(remainingTimeRef.current);\n    startTimeRef.current = null;\n    cancelDismissal();\n  }, [cancelDismissal]);\n\n  const handleInteractionStart = React.useCallback(() => {\n    if (!open) return;\n    interactionCountRef.current += 1;\n    if (interactionCountRef.current === 1) {\n      pauseDismissal();\n    }\n  }, [open, pauseDismissal]);\n\n  const handleInteractionEnd = React.useCallback(() => {\n    if (!open) return;\n    interactionCountRef.current = Math.max(interactionCountRef.current - 1, 0);\n    if (interactionCountRef.current === 0) {\n      scheduleDismissal();\n    }\n  }, [open, scheduleDismissal]);\n\n  React.useEffect(() => {\n    if (!open) {\n      cancelDismissal();\n      remainingTimeRef.current = duration;\n      startRemainingRef.current = duration;\n      interactionCountRef.current = 0;\n      setTimeLeft(duration);\n      return;\n    }\n\n    cancelDismissal();\n    remainingTimeRef.current = duration;\n    startRemainingRef.current = duration;\n    setTimeLeft(duration);\n\n    if (interactionCountRef.current === 0) {\n      scheduleDismissal();\n    }\n\n    return cancelDismissal;\n  }, [open, duration, scheduleDismissal, cancelDismissal]);\n\n  React.useEffect(() => {\n    if (!showProgress && animationFrameRef.current !== null) {\n      cancelAnimationFrame(animationFrameRef.current);\n      animationFrameRef.current = null;\n    }\n    if (showProgress && open && startTimeRef.current !== null && animationFrameRef.current === null) {\n      animationFrameRef.current = requestAnimationFrame(tick);\n    }\n  }, [showProgress, open, tick]);\n\n  const progress = duration > 0 ? Math.max(0, Math.min(1, timeLeft / duration)) : 0;\n  const { scopeProps: progressScopeProps, style: progressStyle } =\n    useScopedCssVars({\n      attribute: \"data-toast-progress-id\",\n      vars: {\n        \"--toast-progress\": progress.toString(),\n      },\n      enabled: showProgress,\n    });\n\n  if (!open || !mounted) return null;\n  return createPortal(\n    <div\n      className=\"fixed bottom-[calc(theme(spacing.4)+env(safe-area-inset-bottom))] right-[calc(theme(spacing.4)+env(safe-area-inset-right))] z-50\"\n    >\n      <Card\n        role=\"status\"\n        aria-live=\"polite\"\n        className={cn(className)}\n        onPointerEnter={(event) => {\n          onPointerEnterProp?.(event);\n          handleInteractionStart();\n        }}\n        onPointerLeave={(event) => {\n          onPointerLeaveProp?.(event);\n          handleInteractionEnd();\n        }}\n        onFocus={(event) => {\n          onFocusProp?.(event);\n          const previousTarget = event.relatedTarget;\n          if (!previousTarget || !(previousTarget instanceof Node) || !event.currentTarget.contains(previousTarget)) {\n            handleInteractionStart();\n          }\n        }}\n        onBlur={(event) => {\n          onBlurProp?.(event);\n          const nextTarget = event.relatedTarget;\n          if (!nextTarget || !(nextTarget instanceof Node) || !event.currentTarget.contains(nextTarget)) {\n            handleInteractionEnd();\n          }\n        }}\n        {...cardProps}\n      >\n        <div className=\"flex flex-col gap-[var(--space-3)]\">\n          <div className=\"flex items-start gap-[var(--space-2)]\">\n            <div className=\"flex-1\">{children}</div>\n            {closable && (\n              <IconButton\n                aria-label=\"Close\"\n                size=\"sm\"\n                onClick={() => onOpenChange(false)}\n              >\n                <X />\n              </IconButton>\n            )}\n          </div>\n          {showProgress && (\n            <div\n              aria-hidden=\"true\"\n              data-progress={progress}\n              className={cn(\n                \"h-[var(--space-1)] overflow-hidden rounded-full bg-border/40\",\n                styles.progressTrack,\n              )}\n              {...(progressScopeProps ?? {})}\n              style={progressStyle}\n            >\n              <div\n                className={cn(\"h-full rounded-full bg-primary\", styles.progressFill)}\n              />\n            </div>\n          )}\n        </div>\n      </Card>\n    </div>,\n    document.body,\n  );\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"SegmentedButton_root__B6cvi\",\"glitch\":\"SegmentedButton_glitch__Rb9WL\",\"content\":\"SegmentedButton_content__BfabT\",\"glitchOverlay\":\"SegmentedButton_glitchOverlay__Roa_N\"};","\"use client\";\n\nimport * as React from \"react\";\nimport { Search, X } from \"lucide-react\";\n\nimport { cn } from \"@/lib/utils\";\n\nimport Spinner from \"../feedback/Spinner\";\nimport neumorphicStyles from \"../neumorphic.module.css\";\nimport BlobContainer, { type GlitchOverlayToken } from \"./BlobContainer\";\nimport IconButton from \"./IconButton\";\nimport styles from \"./Field.module.css\";\n\nexport type FieldHeight = \"sm\" | \"md\" | \"lg\" | \"xl\";\n\nconst HEIGHT_MAP: Record<FieldHeight, true> = {\n  sm: true,\n  md: true,\n  lg: true,\n  xl: true,\n};\n\nconst FIELD_ROOT_BASE = cn(\n  \"group/field relative inline-flex min-h-[var(--field-h,var(--control-h-md))] w-full items-center\",\n  \"rounded-[var(--control-radius)] border border-card-hairline-65 text-foreground\",\n  \"[--neu-radius:var(--control-radius)] [--neu-surface:hsl(var(--bg))]\",\n  \"transition-[background,box-shadow,filter] duration-motion-sm ease-out motion-reduce:transition-none\",\n  \"focus-within:outline-none focus-within:ring-2 focus-within:ring-[var(--theme-ring,var(--focus))] focus-within:ring-offset-0 focus-within:ring-offset-[hsl(var(--bg))]\",\n  \"hover:bg-[--hover] active:bg-[--active]\",\n  \"data-[disabled=true]:pointer-events-none data-[disabled=true]:border-card-hairline-40\",\n  \"data-[disabled=true]:[--neu-surface:hsl(var(--card))] data-[disabled=true]:[--neo-shadow:var(--depth-shadow-inner)]\",\n  \"data-[disabled=true]:text-muted-foreground/70 data-[loading=true]:pointer-events-none data-[loading=true]:opacity-loading\",\n  \"data-[invalid=true]:border-danger/60 data-[invalid=true]:focus-within:ring-danger\",\n  \"overflow-hidden\",\n);\n\nfunction resolveHeight(height: number) {\n  if (Number.isFinite(height)) {\n    return `${height}px`;\n  }\n\n  return undefined;\n}\n\ntype HelperTone = \"muted\" | \"danger\" | \"success\";\n\nexport type FieldRootProps = React.HTMLAttributes<HTMLDivElement> & {\n  /**\n   * Visual height of the field. Token keys (\"sm\"\"xl\") map to control heights.\n   * Numeric values register a scoped `--field-h` custom property via styled-jsx within the CSP inline-style budget.\n   */\n  height?: FieldHeight | number;\n  disabled?: boolean;\n  invalid?: boolean;\n  readOnly?: boolean;\n  loading?: boolean;\n  helper?: React.ReactNode;\n  helperId?: string;\n  helperTone?: HelperTone;\n  counter?: React.ReactNode;\n  counterId?: string;\n  spinner?: React.ReactNode;\n  wrapperClassName?: string;\n  glitch?: boolean;\n  glitchText?: string;\n  glitchIntensity?: GlitchOverlayToken;\n};\n\nexport const FieldRoot = React.forwardRef<HTMLDivElement, FieldRootProps>(\n  (\n    {\n      height = \"md\",\n      disabled,\n      invalid,\n      readOnly,\n      loading,\n      helper,\n      helperId,\n      helperTone,\n      counter,\n      counterId,\n      spinner,\n      wrapperClassName,\n      glitch = false,\n      glitchText,\n      glitchIntensity = \"glitch-overlay-button-opacity-reduced\",\n      className,\n      children,\n      style: inlineStyle,\n      ...restProps\n    },\n    ref,\n  ) => {\n    const heightKey =\n      typeof height === \"string\" && Object.hasOwn(HEIGHT_MAP, height)\n        ? (height as FieldHeight)\n        : undefined;\n    const numericHeight = typeof height === \"number\" ? height : null;\n    const isCustomHeight =\n      numericHeight !== null && Number.isFinite(numericHeight);\n    const resolvedCustomHeight = isCustomHeight\n      ? resolveHeight(numericHeight)\n      : undefined;\n    const helperVariant: HelperTone = helperTone ?? (invalid ? \"danger\" : \"muted\");\n    const showHelper = helper !== undefined && helper !== null && helper !== \"\";\n    const showCounter = counter !== undefined && counter !== null && counter !== \"\";\n    let fieldState: \"default\" | \"disabled\" | \"invalid\" | \"readonly\" | \"loading\" = \"default\";\n    if (disabled) {\n      fieldState = \"disabled\";\n    } else if (invalid) {\n      fieldState = \"invalid\";\n    } else if (readOnly) {\n      fieldState = \"readonly\";\n    } else if (loading) {\n      fieldState = \"loading\";\n    }\n\n    const customHeightStyle = React.useMemo<\n      (React.CSSProperties & Record<string, string>) | undefined\n    >(() => {\n      if (!isCustomHeight || !resolvedCustomHeight) {\n        return undefined;\n      }\n\n      return {\n        \"--field-custom-height\": resolvedCustomHeight,\n      };\n    }, [isCustomHeight, resolvedCustomHeight]);\n\n    const mergedStyle = React.useMemo<React.CSSProperties | undefined>(() => {\n      if (!customHeightStyle) {\n        return inlineStyle as React.CSSProperties | undefined;\n      }\n      return {\n        ...(inlineStyle as React.CSSProperties | undefined),\n        ...customHeightStyle,\n      };\n    }, [customHeightStyle, inlineStyle]);\n\n    const { [\"data-text\"]: providedGlitchTextRaw, ...domProps } = restProps as\n      typeof restProps & { [\"data-text\"]?: unknown };\n    const providedGlitchText =\n      typeof providedGlitchTextRaw === \"string\" ? providedGlitchTextRaw : undefined;\n    const resolvedGlitchText = glitch\n      ? glitchText ?? providedGlitchText\n      : providedGlitchText ?? glitchText;\n    return (\n      <div\n        className={cn(\n          \"flex w-full flex-col gap-[var(--space-1)]\",\n          wrapperClassName,\n        )}\n      >\n        <div\n          ref={ref}\n          className={cn(\n            neumorphicStyles.neu,\n            neumorphicStyles[\"neu-hover\"],\n            FIELD_ROOT_BASE,\n            glitch && \"group/glitch isolate\",\n            styles.root,\n            className,\n          )}\n          data-field-height={heightKey}\n          data-custom-height={isCustomHeight ? \"true\" : undefined}\n          data-field-state={fieldState}\n          data-disabled={disabled ? \"true\" : undefined}\n          data-invalid={invalid ? \"true\" : undefined}\n          data-loading={loading ? \"true\" : undefined}\n          data-readonly={readOnly ? \"true\" : undefined}\n          data-glitch={glitch ? \"true\" : undefined}\n          data-text={resolvedGlitchText}\n          aria-disabled={disabled || undefined}\n          aria-busy={loading || undefined}\n          style={mergedStyle}\n          {...domProps}\n        >\n          {glitch ? (\n            <BlobContainer\n              overlayToken={glitchIntensity}\n              noiseToken=\"glitch-noise-level\"\n            />\n          ) : null}\n          {children}\n          {loading ? (\n            <span\n              data-slot=\"spinner\"\n              className=\"pointer-events-none absolute right-[var(--space-4)] top-1/2 -translate-y-1/2 text-muted-foreground z-10\"\n            >\n              {spinner ?? <Spinner size=\"sm\" />}\n            </span>\n          ) : null}\n        </div>\n\n        {(showHelper || showCounter) && (\n          <div\n            className={cn(\n              \"flex items-start gap-[var(--space-2)] text-label leading-tight\",\n              showHelper && showCounter\n                ? \"justify-between\"\n                : showCounter\n                  ? \"justify-end\"\n                  : \"justify-start\",\n            )}\n          >\n            {showHelper ? (\n              <span\n                id={helperId}\n                className={cn(\n                  \"text-muted-foreground\",\n                  helperVariant === \"danger\" && \"text-danger\",\n                  helperVariant === \"success\" && \"text-success\",\n                )}\n              >\n                {helper}\n              </span>\n            ) : null}\n\n            {showCounter ? (\n              <span id={counterId} className=\"text-muted-foreground\">\n                {counter}\n              </span>\n            ) : null}\n          </div>\n        )}\n      </div>\n    );\n  },\n);\n\nFieldRoot.displayName = \"FieldRoot\";\n\nexport type FieldInputProps = React.InputHTMLAttributes<HTMLInputElement> & {\n  indent?: boolean;\n  hasEndSlot?: boolean;\n};\n\nexport const FieldInput = React.forwardRef<HTMLInputElement, FieldInputProps>(\n  ({ className, indent, hasEndSlot, type = \"text\", ...props }, ref) => (\n    <input\n      ref={ref}\n      type={type}\n      className={cn(\n        \"peer block h-[var(--field-h,var(--control-h-md))] w-full rounded-[inherit] border-none bg-transparent\",\n        \"px-[var(--space-3)] text-ui text-foreground placeholder:text-muted-foreground/70 caret-accent\",\n        \"focus:outline-none focus-visible:outline-none disabled:cursor-not-allowed read-only:cursor-default\",\n        \"transition-[color,opacity] group-data-[disabled=true]/field:text-muted-foreground/70\",\n        \"group-data-[disabled=true]/field:placeholder:text-muted-foreground/50\",\n        \"group-data-[loading=true]/field:opacity-loading\",\n        indent && \"pl-[var(--space-7)]\",\n        (hasEndSlot ?? false) && \"pr-[calc(var(--space-6)+var(--space-2))]\",\n        className,\n      )}\n      {...props}\n    />\n  ),\n);\n\nFieldInput.displayName = \"FieldInput\";\n\nexport type FieldTextareaProps = React.TextareaHTMLAttributes<HTMLTextAreaElement>;\n\nexport const FieldTextarea = React.forwardRef<\n  HTMLTextAreaElement,\n  FieldTextareaProps\n>(({ className, ...props }, ref) => (\n  <textarea\n    ref={ref}\n    className={cn(\n      \"block w-full max-w-full min-h-[var(--space-7)] rounded-[inherit] border-none bg-transparent\",\n      \"px-[var(--space-3)] py-[var(--space-3)] text-body text-foreground placeholder:text-muted-foreground/70\",\n      \"focus:outline-none focus-visible:outline-none disabled:cursor-not-allowed read-only:cursor-default\",\n      \"transition-[color,opacity] group-data-[disabled=true]/field:text-muted-foreground/70\",\n      \"group-data-[disabled=true]/field:placeholder:text-muted-foreground/50\",\n      \"group-data-[loading=true]/field:opacity-loading\",\n      className,\n    )}\n    {...props}\n  />\n));\n\nFieldTextarea.displayName = \"FieldTextarea\";\n\nexport type FieldSelectProps = React.SelectHTMLAttributes<HTMLSelectElement> & {\n  hasEndSlot?: boolean;\n};\n\nexport const FieldSelect = React.forwardRef<HTMLSelectElement, FieldSelectProps>(\n  ({ className, hasEndSlot, ...props }, ref) => (\n    <select\n      ref={ref}\n      className={cn(\n        \"block h-[var(--field-h,var(--control-h-md))] w-full appearance-none rounded-[inherit] border-none bg-transparent\",\n        \"px-[var(--space-3)] text-ui text-foreground placeholder:text-muted-foreground/70 caret-accent\",\n        \"focus:outline-none focus-visible:outline-none disabled:cursor-not-allowed read-only:cursor-default\",\n        \"transition-[color,opacity] group-data-[disabled=true]/field:text-muted-foreground/70\",\n        \"group-data-[disabled=true]/field:placeholder:text-muted-foreground/50\",\n        \"group-data-[loading=true]/field:opacity-loading\",\n        (hasEndSlot ?? false) && \"pr-[calc(var(--space-6)+var(--space-2))]\",\n        className,\n      )}\n      {...props}\n    />\n  ),\n);\n\nFieldSelect.displayName = \"FieldSelect\";\n\nexport type FieldSearchProps = Omit<FieldInputProps, \"type\"> & {\n  clearable?: boolean;\n  clearLabel?: string;\n  onClear?: () => void;\n  loading?: boolean;\n};\n\nexport const FieldSearch = React.forwardRef<HTMLInputElement, FieldSearchProps>(\n  (\n    {\n      className,\n      clearable = true,\n      clearLabel = \"Clear\",\n      onClear,\n      loading,\n      indent,\n      hasEndSlot,\n      disabled,\n      value,\n      defaultValue,\n      onChange,\n      ...props\n    },\n    forwardedRef,\n  ) => {\n    const inputRef = React.useRef<HTMLInputElement | null>(null);\n    const isControlled = value !== undefined;\n    const [uncontrolledValue, setUncontrolledValue] = React.useState(() => {\n      if (defaultValue === undefined || defaultValue === null) {\n        return \"\";\n      }\n\n      return defaultValue.toString();\n    });\n\n    const currentValue = isControlled\n      ? value?.toString() ?? \"\"\n      : uncontrolledValue;\n\n    const setRefs = React.useCallback(\n      (node: HTMLInputElement | null) => {\n        inputRef.current = node;\n        if (typeof forwardedRef === \"function\") {\n          forwardedRef(node);\n          return;\n        }\n        if (forwardedRef) {\n          (forwardedRef as React.MutableRefObject<HTMLInputElement | null>).current =\n            node;\n        }\n      },\n      [forwardedRef],\n    );\n\n    const handleChange = React.useCallback<\n      React.ChangeEventHandler<HTMLInputElement>\n    >(\n      (event) => {\n        if (!isControlled) {\n          setUncontrolledValue(event.target.value);\n        }\n\n        onChange?.(event);\n      },\n      [isControlled, onChange],\n    );\n\n    const showSpinner = Boolean(loading);\n    const showClear =\n      clearable && !showSpinner && currentValue !== undefined && currentValue.length > 0;\n\n    const finalDisabled = disabled || loading;\n\n    return (\n      <>\n        <Search\n          aria-hidden\n          className={cn(\n            \"pointer-events-none absolute left-[var(--space-4)] top-1/2 size-[var(--space-4)] -translate-y-1/2\",\n            \"text-muted-foreground transition-colors duration-motion-sm ease-out\",\n            \"opacity-60 group-focus-within:opacity-100\",\n            \"group-focus-within:text-accent-3\",\n            \"group-data-[disabled=true]/field:opacity-disabled\",\n            \"group-data-[loading=true]/field:opacity-loading\",\n            \"group-data-[invalid=true]/field:text-danger\",\n          )}\n        />\n\n        <FieldInput\n          ref={setRefs}\n          type=\"search\"\n          className={cn(\n            \"appearance-none [&::-webkit-search-cancel-button]:hidden [&::-webkit-search-cancel-button]:appearance-none\",\n            \"pl-[var(--space-7)]\",\n            className,\n          )}\n          indent={indent ?? true}\n          hasEndSlot={hasEndSlot ?? (showClear || showSpinner)}\n          disabled={finalDisabled}\n          value={value}\n          defaultValue={defaultValue}\n          onChange={handleChange}\n          data-loading={loading ? \"true\" : undefined}\n          {...props}\n        />\n\n        {clearable ? (\n          <IconButton\n            type=\"button\"\n            size=\"sm\"\n            variant=\"quiet\"\n            tone=\"primary\"\n            aria-label={clearLabel}\n            title={clearLabel}\n            iconSize=\"sm\"\n            className={cn(\n              \"absolute right-[var(--space-3)] top-1/2 -translate-y-1/2 transition-opacity\",\n              showClear\n                ? \"opacity-100\"\n                : \"pointer-events-none opacity-0\",\n            )}\n            disabled={finalDisabled}\n            onClick={() => {\n              if (!isControlled) {\n                setUncontrolledValue(\"\");\n                if (inputRef.current) {\n                  inputRef.current.value = \"\";\n                }\n              }\n              onClear?.();\n              inputRef.current?.focus();\n            }}\n          >\n            <X />\n          </IconButton>\n        ) : null}\n      </>\n    );\n  },\n);\n\nFieldSearch.displayName = \"FieldSearch\";\n\nconst Field = {\n  Root: FieldRoot,\n  Input: FieldInput,\n  Textarea: FieldTextarea,\n  Select: FieldSelect,\n  Search: FieldSearch,\n};\n\nexport default Field;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"Badge_root__Y_2tw\",\"organicBadge\":\"Badge_organicBadge__o3_D0\",\"interactive\":\"Badge_interactive__2KLw2\",\"glitch\":\"Badge_glitch__y9ebZ\"};","\"use client\";\n\nimport * as React from \"react\";\n\nexport type VirtualizedSpacerRenderProps = {\n  position: \"start\" | \"end\";\n  spacerId: string;\n  ariaHiddenProps: {\n    \"aria-hidden\": true;\n  };\n  style: React.CSSProperties;\n};\n\ntype VirtualizedSpacerProps = {\n  height: number;\n  position: \"start\" | \"end\";\n  render?: (props: VirtualizedSpacerRenderProps) => React.ReactNode;\n};\n\nexport type RenderSpacer = (\n  height: number,\n  position: \"start\" | \"end\",\n) => React.ReactNode;\n\ntype VirtualizedListProps<Item> = {\n  items: readonly Item[];\n  rowHeight: number;\n  overscan?: number;\n  renderItem: (item: Item, index: number) => React.ReactElement;\n  getKey?: (item: Item, index: number) => React.Key;\n  scrollParentRef: React.RefObject<HTMLElement | null>;\n  renderSpacer?: RenderSpacer;\n};\n\nfunction useSpacerId(position: \"start\" | \"end\") {\n  const reactId = React.useId();\n  return React.useMemo(\n    () =>\n      `virtualized-spacer-${reactId\n        .replace(/[^a-zA-Z0-9_-]/g, \"\")\n        .concat(\"-\", position)}`,\n    [reactId, position],\n  );\n}\n\nexport function VirtualizedSpacer({\n  height,\n  position,\n  render,\n}: VirtualizedSpacerProps) {\n  const spacerId = useSpacerId(position);\n  const ariaHiddenProps = React.useMemo(\n    () => ({ \"aria-hidden\": true as const }),\n    [],\n  );\n  const blockSize = React.useMemo(() => Math.max(0, height), [height]);\n  const style = React.useMemo<React.CSSProperties>(\n    () => ({ blockSize: `${blockSize}px`, height: `${blockSize}px` }),\n    [blockSize],\n  );\n\n  return (\n    <>\n      {render ? (\n        render({ position, spacerId, ariaHiddenProps, style })\n      ) : (\n        <div\n          {...ariaHiddenProps}\n          data-spacer-id={spacerId}\n          style={style}\n        />\n      )}\n    </>\n  );\n}\n\nconst defaultRenderSpacer: RenderSpacer = (height, position) => (\n  <VirtualizedSpacer height={height} position={position} />\n);\n\nfunction useViewportMeasurements(\n  ref: React.RefObject<HTMLElement | null>,\n): { scrollTop: number; viewportHeight: number } {\n  const [scrollTop, setScrollTop] = React.useState(0);\n  const [viewportHeight, setViewportHeight] = React.useState(0);\n\n  React.useLayoutEffect(() => {\n    const target = ref.current;\n    if (!target) return;\n\n    let frame = 0;\n    const updateScroll = () => {\n      const nextTop = target.scrollTop;\n      if (frame) {\n        cancelAnimationFrame(frame);\n      }\n      frame = requestAnimationFrame(() => {\n        frame = 0;\n        setScrollTop(nextTop);\n      });\n    };\n\n    const resizeObserver =\n      typeof ResizeObserver === \"undefined\"\n        ? null\n        : new ResizeObserver(() => {\n            setViewportHeight(target.clientHeight);\n          });\n\n    setViewportHeight(target.clientHeight);\n    updateScroll();\n\n    target.addEventListener(\"scroll\", updateScroll, { passive: true });\n    resizeObserver?.observe(target);\n\n    return () => {\n      target.removeEventListener(\"scroll\", updateScroll);\n      resizeObserver?.disconnect();\n      if (frame) {\n        cancelAnimationFrame(frame);\n      }\n    };\n  }, [ref]);\n\n  return React.useMemo(\n    () => ({ scrollTop, viewportHeight }),\n    [scrollTop, viewportHeight],\n  );\n}\n\nfunction clampScrollTop(\n  itemsLength: number,\n  rowHeight: number,\n  viewportHeight: number,\n  scrollTop: number,\n) {\n  if (itemsLength === 0) return 0;\n  const maxScroll = Math.max(0, itemsLength * rowHeight - viewportHeight);\n  if (scrollTop > maxScroll) {\n    return maxScroll;\n  }\n  if (scrollTop < 0) {\n    return 0;\n  }\n  return scrollTop;\n}\n\nfunction VirtualizedList<Item>({\n  items,\n  rowHeight,\n  overscan = 6,\n  renderItem,\n  getKey,\n  scrollParentRef,\n  renderSpacer = defaultRenderSpacer,\n}: VirtualizedListProps<Item>) {\n  const containerRef = scrollParentRef;\n  if (!containerRef) {\n    throw new Error(\n      \"VirtualizedList requires a scrollParentRef pointing to a scrollable element.\",\n    );\n  }\n\n  const { scrollTop, viewportHeight } = useViewportMeasurements(containerRef);\n\n  const clampedScrollTop = React.useMemo(\n    () => clampScrollTop(items.length, rowHeight, viewportHeight, scrollTop),\n    [items.length, rowHeight, viewportHeight, scrollTop],\n  );\n\n  const { startIndex, endIndex, offsetStart, offsetEnd } = React.useMemo(() => {\n    if (items.length === 0 || rowHeight <= 0) {\n      return { startIndex: 0, endIndex: -1, offsetStart: 0, offsetEnd: 0 };\n    }\n\n    const safeViewport = viewportHeight || rowHeight;\n    const rawStart = Math.floor(clampedScrollTop / rowHeight);\n    const startIndex = Math.max(0, rawStart - overscan);\n    const itemsInView = Math.ceil(safeViewport / rowHeight) + overscan * 2;\n    const endIndex = Math.min(items.length - 1, startIndex + itemsInView - 1);\n\n    const offsetStart = startIndex * rowHeight;\n    const offsetEnd = Math.max(\n      0,\n      items.length * rowHeight - (endIndex + 1) * rowHeight,\n    );\n\n    return { startIndex, endIndex, offsetStart, offsetEnd };\n  }, [\n    items.length,\n    rowHeight,\n    viewportHeight,\n    clampedScrollTop,\n    overscan,\n  ]);\n\n  if (endIndex < startIndex) {\n    return null;\n  }\n\n  const children: React.ReactNode[] = [];\n\n  if (offsetStart > 0) {\n    children.push(\n      <React.Fragment key=\"spacer-start\">\n        {renderSpacer(offsetStart, \"start\")}\n      </React.Fragment>,\n    );\n  }\n\n  for (let index = startIndex; index <= endIndex; index += 1) {\n    const item = items[index];\n    const element = renderItem(item, index);\n    const key = element.key ?? getKey?.(item, index) ?? index;\n    children.push(React.cloneElement(element, { key }));\n  }\n\n  if (offsetEnd > 0) {\n    children.push(\n      <React.Fragment key=\"spacer-end\">\n        {renderSpacer(offsetEnd, \"end\")}\n      </React.Fragment>,\n    );\n  }\n\n  return <>{children}</>;\n}\n\nexport default React.memo(VirtualizedList) as typeof VirtualizedList;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"Toggle_root__NE8lC\",\"indicator\":\"Toggle_indicator__bznZN\",\"leftLabel\":\"Toggle_leftLabel__AnkGy\",\"rightLabel\":\"Toggle_rightLabel__e5TDk\"};","\"use client\";\n\nimport * as React from \"react\";\nimport { cn } from \"@/lib/utils\";\n\ntype SnackbarTone = \"default\" | \"danger\";\n\ninterface SnackbarProps extends React.HTMLAttributes<HTMLDivElement> {\n  message: React.ReactNode;\n  actionLabel?: string;\n  actionAriaLabel?: string;\n  onAction?: () => void;\n  tone?: SnackbarTone;\n  width?: \"auto\" | \"full\";\n}\n\nconst BASE_CLASSNAME =\n  \"inline-flex items-center justify-between gap-[var(--space-3)] rounded-card r-card-lg [--snackbar-border:hsl(var(--border))] [--snackbar-background:hsl(var(--surface-2))] [--snackbar-foreground:hsl(var(--foreground))] border border-[var(--snackbar-border)] bg-[var(--snackbar-background)] px-[var(--space-4)] py-[var(--space-2)] text-ui text-[var(--snackbar-foreground)] shadow-outline-subtle transition-colors duration-motion-sm ease-out motion-reduce:transition-none\";\n\nconst widthClassNames: Record<NonNullable<SnackbarProps[\"width\"]>, string> = {\n  auto: \"mx-auto w-fit\",\n  full: \"w-full\",\n};\n\nconst toneClassNames: Record<SnackbarTone, string> = {\n  default: \"\",\n  danger:\n    \"[--snackbar-border:hsl(var(--danger)/0.45)] [--snackbar-background:theme('colors.interaction.danger.surfaceHover')] [--snackbar-foreground:hsl(var(--danger-surface-foreground))] shadow-outline-subtle\",\n};\n\nexport default function Snackbar({\n  message,\n  actionLabel,\n  actionAriaLabel,\n  onAction,\n  className,\n  tone = \"default\",\n  width = \"auto\",\n  ...props\n}: SnackbarProps) {\n  const toneClassName = toneClassNames[tone] ?? toneClassNames.default;\n  const widthClassName = widthClassNames[width] ?? widthClassNames.auto;\n  return (\n    <div\n      role=\"status\"\n      aria-live=\"polite\"\n      className={cn(BASE_CLASSNAME, widthClassName, toneClassName, className)}\n      {...props}\n    >\n      <span className=\"flex-1 text-left leading-snug\">{message}</span>\n      {actionLabel && onAction ? (\n        <button\n          type=\"button\"\n          className={cn(\n            \"inline-flex items-center font-medium text-accent-3 underline underline-offset-4 transition-colors\",\n            \"hover:text-on-accent focus-visible:rounded-[var(--radius-md)] focus-visible:outline-none\",\n            \"focus-visible:ring-2 focus-visible:ring-[var(--focus)] focus-visible:ring-offset-2 focus-visible:ring-offset-[var(--snackbar-background)]\",\n            \"active:text-accent-3 active:opacity-80 disabled:text-muted-foreground disabled:no-underline disabled:pointer-events-none\",\n            \"flex-shrink-0\",\n          )}\n          onClick={onAction}\n          aria-label={actionAriaLabel ?? actionLabel}\n        >\n          {actionLabel}\n        </button>\n      ) : null}\n    </div>\n  );\n}\n","\"use client\";\n\nimport * as React from \"react\";\n\nimport { cn } from \"@/lib/utils\";\n\nimport BlobContainer from \"./BlobContainer\";\nimport styles from \"./SegmentedButton.module.css\";\n\nexport type SegmentedButtonDepth = \"flat\" | \"raised\" | \"sunken\";\n\nexport type SegmentedButtonProps = React.ButtonHTMLAttributes<HTMLButtonElement> & {\n  as?: React.ElementType;\n  selected?: boolean;\n  /** @deprecated Use `selected` instead. */\n  isActive?: boolean;\n  href?: string;\n  loading?: boolean;\n  glitch?: boolean;\n  depth?: SegmentedButtonDepth;\n};\n\nconst SegmentedButton = React.forwardRef<\n  HTMLElement,\n  SegmentedButtonProps\n>(\n  (\n    {\n      as: Comp = \"button\",\n      selected,\n      isActive,\n      className,\n      type,\n      loading,\n      disabled,\n      href,\n      onClick,\n      tabIndex,\n      glitch = false,\n      depth = \"flat\",\n      children,\n      ...restProps\n    },\n    ref,\n  ) => {\n  const resolvedSelected = selected ?? isActive ?? false;\n  const cls = cn(\n    styles.root,\n    glitch && styles.glitch,\n    glitch && \"glitch-wrapper group/glitch\",\n    resolvedSelected && \"is-active\",\n    className,\n  );\n  const typeProp = Comp === \"button\" ? { type: type ?? \"button\" } : {};\n  const isDisabled = disabled || loading;\n  const isButton = Comp === \"button\";\n  const isLink = !isButton && (Comp === \"a\" || href !== undefined);\n  const handleClick = React.useCallback(\n    (event: React.MouseEvent<HTMLElement>) => {\n      if (isDisabled) {\n        event.preventDefault();\n        event.stopPropagation();\n        return;\n      }\n      if (onClick) {\n        (onClick as React.MouseEventHandler<HTMLElement>)(event);\n      }\n    },\n    [isDisabled, onClick],\n  );\n  const shouldHandleClick = isDisabled || Boolean(onClick);\n  return (\n    <Comp\n      ref={ref as React.Ref<HTMLElement>}\n      className={cls}\n      data-loading={loading}\n      data-selected={resolvedSelected ? \"true\" : undefined}\n      data-glitch={glitch ? \"true\" : undefined}\n      data-depth={depth}\n      disabled={isButton ? isDisabled : undefined}\n      aria-pressed={isButton ? resolvedSelected : undefined}\n      aria-current={isLink ? (resolvedSelected ? \"page\" : undefined) : undefined}\n      {...typeProp}\n      {...restProps}\n      href={isLink && !isDisabled ? href : undefined}\n      aria-disabled={isLink && isDisabled ? true : undefined}\n      tabIndex={isLink && isDisabled ? -1 : tabIndex}\n      onClick={shouldHandleClick ? handleClick : undefined}\n    >\n      {glitch ? <BlobContainer className={styles.glitchOverlay} /> : null}\n      <span className={styles.content}>{children}</span>\n    </Comp>\n  );\n  },\n);\n\nSegmentedButton.displayName = \"SegmentedButton\";\nexport default SegmentedButton;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"glitchScanlines\":\"GlitchSegmented_glitchScanlines__foeME\",\"crt-scan\":\"GlitchSegmented_crt-scan__Ew45n\",\"crt-jitter\":\"GlitchSegmented_crt-jitter__6HIeM\",\"crt-glow\":\"GlitchSegmented_crt-glow__TOyuF\"};","const EXACT_SPACING_TOKENS = new Map<number, string>([\n  [1, \"--spacing-0-25\"],\n  [2, \"--spacing-0-5\"],\n  [3, \"--spacing-0-75\"],\n  [4, \"--space-1\"],\n  [8, \"--space-2\"],\n  [12, \"--space-3\"],\n  [16, \"--space-4\"],\n  [24, \"--space-5\"],\n  [32, \"--space-6\"],\n  [48, \"--space-7\"],\n  [64, \"--space-8\"],\n]);\n\nconst formatMultiplier = (value: number) => Number(value.toFixed(4)).toString();\n\nconst toSpacingValue = (value: number): string => {\n  if (value === 0) {\n    return \"0\";\n  }\n\n  const token = EXACT_SPACING_TOKENS.get(Math.abs(value));\n\n  if (token) {\n    return value < 0 ? `calc(var(${token}) * -1)` : `var(${token})`;\n  }\n\n  return `calc(var(--space-1) * ${formatMultiplier(value / 4)})`;\n};\n\nexport const neuRaised = (d = 12) => {\n  const offset = toSpacingValue(d);\n  const blur = toSpacingValue(d * 2);\n  const negativeOffset = toSpacingValue(-d);\n\n  return `${offset} ${offset} ${blur} hsl(var(--panel)/0.72), ${negativeOffset} ${negativeOffset} ${blur} hsl(var(--foreground)/0.06)`;\n};\n\nexport const neuInset = (d = 10) => {\n  const offset = Math.round(d * 0.7);\n  const blur = Math.round(d * 1.6);\n  const positiveOffset = toSpacingValue(offset);\n  const negativeOffset = toSpacingValue(-offset);\n  const blurValue = toSpacingValue(blur);\n\n  return `inset ${positiveOffset} ${positiveOffset} ${blurValue} hsl(var(--panel)/0.85), inset ${negativeOffset} ${negativeOffset} ${blurValue} hsl(var(--foreground)/0.08)`;\n};\n","\"use client\";\n\nimport * as React from \"react\";\n\nimport { cn } from \"@/lib/utils\";\n\nexport type IssueBadgeSeverity = \"info\" | \"warning\" | \"critical\" | \"success\";\n\nconst SEVERITY_CLASSNAMES: Record<IssueBadgeSeverity, string> = {\n  info: \"border-accent/45 bg-accent/15 text-accent-foreground\",\n  warning: \"border-warning/45 bg-warning/15 text-warning-foreground\",\n  critical: \"border-danger/45 bg-danger/18 text-danger-foreground\",\n  success: \"border-success/45 bg-success/18 text-success-foreground\",\n};\n\nexport interface IssueBadgeProps\n  extends React.ButtonHTMLAttributes<HTMLButtonElement> {\n  readonly targetId: string;\n  readonly expanded?: boolean;\n  readonly severity?: IssueBadgeSeverity;\n}\n\nconst IssueBadge = React.forwardRef<HTMLButtonElement, IssueBadgeProps>(\n  (\n    {\n      targetId,\n      expanded,\n      severity = \"info\",\n      className,\n      type,\n      id,\n      ...restProps\n    },\n    ref,\n  ) => {\n    const computedId = id ?? `${targetId}-issue-badge`;\n    const buttonType = type ?? \"button\";\n\n    return (\n      <button\n        {...restProps}\n        ref={ref}\n        id={computedId}\n        type={buttonType}\n        aria-controls={targetId}\n        aria-expanded={expanded}\n        data-expanded={expanded ? \"true\" : undefined}\n        className={cn(\n          \"inline-flex h-[var(--control-h-sm)] items-center gap-[var(--space-1)]\",\n          \"rounded-full px-[var(--space-3)] py-[var(--space-1)] text-label font-medium tracking-[0.02em]\",\n          \"shadow-outline-subtle transition [--outline-color:var(--theme-ring)]\",\n          \"hover:shadow-depth-soft focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--outline-color)]\",\n          \"focus-visible:ring-offset-2 focus-visible:ring-offset-[hsl(var(--card))] motion-reduce:transition-none\",\n          \"disabled:cursor-not-allowed disabled:opacity-disabled\",\n          \"data-[expanded=true]:shadow-depth-soft\",\n          SEVERITY_CLASSNAMES[severity],\n          className,\n        )}\n      />\n    );\n  },\n);\n\nIssueBadge.displayName = \"IssueBadge\";\n\nexport default IssueBadge;\n\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"termMini\":\"TitleBar_termMini__NOaj5\",\"termMiniText\":\"TitleBar_termMiniText__mWe2E\"};","import * as React from \"react\";\nimport { ShieldCheck, ShieldQuestion, ShieldAlert } from \"lucide-react\";\n\nimport { cn } from \"@/lib/utils\";\n\nexport type AIConfidenceLevel = \"low\" | \"medium\" | \"high\";\n\nexport interface AIConfidenceHintProps extends React.ComponentPropsWithoutRef<\"div\"> {\n  readonly level: AIConfidenceLevel;\n  readonly label?: string;\n  readonly score?: number;\n  readonly description?: string;\n  readonly formatScore?: (score: number) => string;\n}\n\nconst LEVEL_CONFIG: Record<AIConfidenceLevel, { label: string; tone: string; foreground: string; icon: React.ReactNode }> = {\n  low: {\n    label: \"Low\",\n    tone: \"danger\",\n    foreground: \"danger-foreground\",\n    icon: <ShieldAlert aria-hidden className=\"size-[var(--space-4)]\" />,\n  },\n  medium: {\n    label: \"Medium\",\n    tone: \"warning\",\n    foreground: \"warning-foreground\",\n    icon: <ShieldQuestion aria-hidden className=\"size-[var(--space-4)]\" />,\n  },\n  high: {\n    label: \"High\",\n    tone: \"success\",\n    foreground: \"success-foreground\",\n    icon: <ShieldCheck aria-hidden className=\"size-[var(--space-4)]\" />,\n  },\n};\n\nconst toneBackground: Record<string, string> = {\n  danger: \"bg-[hsl(var(--danger)/0.14)] border-[hsl(var(--danger)/0.35)]\",\n  warning: \"bg-[hsl(var(--warning-soft-strong))] border-[hsl(var(--warning)/0.45)]\",\n  success: \"bg-[hsl(var(--success-soft))] border-[hsl(var(--success)/0.35)]\",\n};\n\nconst toneForeground: Record<string, string> = {\n  danger: \"text-[hsl(var(--danger-foreground))]\",\n  warning: \"text-[hsl(var(--warning-foreground))]\",\n  success: \"text-[hsl(var(--success-foreground))]\",\n};\n\nconst barTone: Record<string, string> = {\n  danger: \"bg-[hsl(var(--danger))]\",\n  warning: \"bg-[hsl(var(--warning))]\",\n  success: \"bg-[hsl(var(--success))]\",\n};\n\nconst AIConfidenceHint = React.forwardRef<HTMLDivElement, AIConfidenceHintProps>(\n  (\n    { level, label = \"Confidence\", score, description, formatScore = defaultFormat, className, children, ...props },\n    ref,\n  ) => {\n    const config = LEVEL_CONFIG[level];\n    const scoreLabel = typeof score === \"number\" ? formatScore(score) : undefined;\n    const normalizedScore = React.useMemo(() => {\n      if (typeof score !== \"number\") return undefined;\n      if (Number.isNaN(score)) return undefined;\n      return Math.min(1, Math.max(0, score));\n    }, [score]);\n\n    return (\n      <div\n        ref={ref}\n        className={cn(\n          \"flex flex-col gap-[var(--space-2)] rounded-card border p-[var(--space-3)] shadow-[var(--shadow-outline-faint)]\",\n          toneBackground[config.tone],\n          toneForeground[config.tone],\n          className,\n        )}\n        {...props}\n      >\n        <div className=\"flex items-start gap-[var(--space-2)]\">\n          <span\n            aria-hidden\n            className={cn(\n              \"grid size-[var(--space-8)] shrink-0 place-items-center rounded-full bg-[hsl(var(--panel)/0.85)] text-[inherit] shadow-[var(--shadow-inset-hairline)]\",\n              toneForeground[config.tone],\n            )}\n          >\n            {config.icon}\n          </span>\n          <div className=\"flex flex-1 flex-col gap-[var(--space-1-5)]\">\n            <div className=\"flex flex-wrap items-baseline gap-x-[var(--space-2)] gap-y-[var(--space-1)]\">\n              <p className=\"text-label font-medium tracking-[-0.01em]\">{label}</p>\n              <span className=\"text-caption font-semibold uppercase tracking-[0.08em] opacity-85\">\n                {config.label}\n              </span>\n              {scoreLabel ? <span className=\"text-caption opacity-85\">{scoreLabel}</span> : null}\n            </div>\n            {description ? <p className=\"text-caption opacity-80\">{description}</p> : null}\n            {children}\n          </div>\n        </div>\n        <div className=\"flex h-[var(--space-2)] items-center gap-[var(--space-1)]\">\n          {Array.from({ length: 5 }).map((_, index) => {\n            const isActive = (() => {\n              if (normalizedScore === undefined) {\n                return index < (level === \"low\" ? 2 : level === \"medium\" ? 3 : 5);\n              }\n              const step = (index + 1) / 5;\n              return normalizedScore >= step - 0.0001;\n            })();\n\n            return (\n              <span\n                key={index}\n                aria-hidden\n                className={cn(\n                  \"flex-1 rounded-full bg-[hsl(var(--muted)/0.6)]\",\n                  isActive ? barTone[config.tone] : \"opacity-60\",\n                )}\n              />\n            );\n          })}\n        </div>\n      </div>\n    );\n  },\n);\n\nAIConfidenceHint.displayName = \"AIConfidenceHint\";\n\nexport default AIConfidenceHint;\n\nfunction defaultFormat(score: number) {\n  return `${Math.round(score * 100)}%`;\n}\n","// src/components/ui/layout/hero/Hero.tsx\n\"use client\";\n\nimport * as React from \"react\";\nimport TabBar, {\n  type TabBarA11yProps,\n  type TabBarProps,\n  type TabItem,\n} from \"../TabBar\";\nimport type { HeaderTabsProps } from \"@/components/ui/layout/Header\";\nimport { cn } from \"@/lib/utils\";\nimport { NeomorphicFrameStyles } from \"../NeomorphicFrameStyles\";\nimport { HeroGlitchStyles } from \"./HeroGlitchStyles\";\nimport { HeroImage, type HeroImageProps } from \"./HeroImage\";\nimport { HeroSearchBar, type HeroSearchBarProps } from \"./HeroSearchBar\";\nimport { useHeroStyles } from \"./useHeroStyles\";\n\ntype HeroElement = Extract<\n  keyof React.JSX.IntrinsicElements,\n  \"header\" | \"section\" | \"article\" | \"aside\" | \"div\" | \"main\" | \"nav\"\n>;\n\nexport interface HeroProps<Key extends string = string>\n  extends Omit<React.HTMLAttributes<HTMLElement>, \"title\"> {\n  eyebrow?: React.ReactNode;\n  heading: React.ReactNode;\n  subtitle?: React.ReactNode;\n  icon?: React.ReactNode;\n  children?: React.ReactNode;\n  actions?: React.ReactNode;\n  sticky?: boolean;\n  topClassName?: string;\n  barClassName?: string;\n  bodyClassName?: string;\n  /** Visual treatment for the label cluster bar. */\n  barVariant?: \"flat\" | \"raised\";\n  /** @deprecated Decorative rails were removed. */\n  rail?: boolean;\n  /** Typography profile for the heading/subtitle. */\n  tone?: \"heroic\" | \"supportive\";\n\n  /** Whether to include glitchy frame and background layers. */\n  frame?: boolean;\n\n  /** Level of glitch treatment for frame overlays (defaults to subtle). */\n  glitch?: \"default\" | \"subtle\" | \"off\";\n\n  /** Divider tint for neon line. */\n  dividerTint?: \"primary\" | \"life\";\n\n  /** Semantic wrapper element (defaults to `section`). */\n  as?: HeroElement;\n\n  /** Horizontal padding for the outer shell. */\n  padding?: \"default\" | \"none\";\n\n  /** Built-in top-right sub-tabs (preferred). */\n  subTabs?: HeaderTabsProps<Key> & {\n    size?: TabBarProps[\"size\"];\n    align?: TabBarProps[\"align\"];\n    className?: string;\n    showBaseline?: boolean;\n    right?: React.ReactNode;\n    idBase?: string;\n  };\n\n  /** @deprecated Use `subTabs` instead. */\n  tabs?: {\n    items: TabItem[];\n    value: string;\n    onChange: (key: string) => void;\n    size?: TabBarProps[\"size\"];\n    align?: TabBarProps[\"align\"];\n    className?: string;\n    showBaseline?: boolean;\n    variant?: TabBarProps[\"variant\"];\n    linkPanels?: boolean;\n  };\n\n  /** Built-in bottom search (preferred). `round` makes it pill. */\n  search?: (HeroSearchBarProps & { round?: boolean }) | null;\n\n  /** Visual state for the hero illustration background. */\n  illustrationState?: HeroImageProps[\"state\"];\n\n  /** Custom alt text for the hero illustration background. */\n  illustrationAlt?: string;\n}\n\nfunction Hero<Key extends string = string>({\n  eyebrow,\n  heading,\n  subtitle,\n  icon,\n  children,\n  actions,\n  tone = \"heroic\",\n  frame = true,\n  glitch = \"subtle\",\n  sticky = true,\n  topClassName = \"top-[var(--space-8)]\",\n  barClassName,\n  bodyClassName,\n  barVariant = \"flat\",\n  rail: _deprecatedRail = true,\n  dividerTint = \"primary\",\n  subTabs,\n  tabs,\n  search,\n  illustrationState,\n  illustrationAlt,\n  className,\n  as,\n  padding = \"default\",\n  ...rest\n}: HeroProps<Key>) {\n  void _deprecatedRail;\n  const headingStr = typeof heading === \"string\" ? heading : undefined;\n  const Component: HeroElement = as ?? \"section\";\n\n  const {\n    heroVariant,\n    shouldRenderGlitchStyles,\n    isRaisedBar,\n    showDividerGlow,\n    classes,\n  } = useHeroStyles({\n    frame,\n    sticky,\n    topClassName,\n    padding,\n    barVariant,\n    tone,\n    glitch,\n  });\n\n  const iconNode = icon ? (\n    <div className=\"shrink-0 opacity-70 transition-opacity hover:opacity-100 focus-visible:opacity-100\">\n      {icon}\n    </div>\n  ) : null;\n\n  const headingContent = (\n    <div className=\"min-w-0\">\n      {eyebrow ? (\n        <div className=\"text-label font-semibold tracking-[0.02em] uppercase text-muted-foreground\">\n          {eyebrow}\n        </div>\n      ) : null}\n\n      <div className=\"flex min-w-0 flex-wrap items-baseline gap-x-[var(--space-2)] gap-y-[var(--space-1)]\">\n        <h2 className={classes.heading} data-text={headingStr}>\n          {heading}\n        </h2>\n        {subtitle ? <span className={classes.subtitle}>{subtitle}</span> : null}\n      </div>\n    </div>\n  );\n\n  const subTabsNode = subTabs\n    ? (() => {\n        const sanitizedLabel =\n          typeof subTabs.ariaLabel === \"string\" && subTabs.ariaLabel.trim().length > 0\n            ? subTabs.ariaLabel.trim()\n            : undefined;\n        const sanitizedLabelledBy =\n          typeof subTabs.ariaLabelledBy === \"string\" &&\n          subTabs.ariaLabelledBy.trim().length > 0\n            ? subTabs.ariaLabelledBy.trim()\n            : undefined;\n        const accessibilityProps: TabBarA11yProps = sanitizedLabelledBy\n          ? {\n              ariaLabelledBy: sanitizedLabelledBy,\n              ...(sanitizedLabel ? { ariaLabel: sanitizedLabel } : {}),\n            }\n          : {\n              ariaLabel: sanitizedLabel ?? \"Hero sub-tabs\",\n            };\n\n        return (\n          <TabBar\n            items={subTabs.items.map(({ hint, ...item }) => {\n              void hint;\n              return item;\n            })}\n            value={String(subTabs.value)}\n            onValueChange={(key) => subTabs.onChange(key as Key)}\n            size={subTabs.size ?? \"md\"}\n            align={subTabs.align ?? \"end\"}\n            right={subTabs.right}\n            showBaseline={subTabs.showBaseline ?? true}\n            variant={subTabs.variant ?? heroVariant}\n            className={cn(\"justify-end\", subTabs.className)}\n            {...accessibilityProps}\n            linkPanels={subTabs.linkPanels}\n            idBase={subTabs.idBase}\n          />\n        );\n      })()\n    : tabs\n      ? (\n          <TabBar\n            items={tabs.items}\n            value={tabs.value}\n            onValueChange={tabs.onChange}\n            size={tabs.size ?? \"md\"}\n            align={tabs.align ?? \"end\"}\n            showBaseline={tabs.showBaseline ?? true}\n            variant={tabs.variant ?? heroVariant}\n            className={cn(\"justify-end\", tabs.className)}\n            ariaLabel=\"Hero tabs\"\n            linkPanels={tabs.linkPanels}\n          />\n        )\n      : null;\n\n  const searchProps =\n    search != null\n      ? {\n          ...search,\n          round: search.round ?? true,\n          variant: search.variant ?? heroVariant,\n        }\n      : search;\n\n  const heroIllustrationAlt = React.useMemo(() => {\n    if (typeof illustrationAlt === \"string\") {\n      const trimmed = illustrationAlt.trim();\n      if (trimmed.length > 0) {\n        return trimmed;\n      }\n    }\n    if (typeof headingStr === \"string\" && headingStr.trim().length > 0) {\n      return `${headingStr.trim()} hero illustration`;\n    }\n    return undefined;\n  }, [illustrationAlt, headingStr]);\n\n  return (\n    <Component className={className} {...(rest as React.HTMLAttributes<HTMLElement>)}>\n      {shouldRenderGlitchStyles ? <HeroGlitchStyles /> : null}\n      {frame || isRaisedBar ? <NeomorphicFrameStyles /> : null}\n\n      <div className={classes.shell}>\n        {frame ? (\n          <HeroImage\n            state={illustrationState}\n            alt={heroIllustrationAlt}\n            className=\"z-[1]\"\n          />\n        ) : null}\n        <div className={cn(classes.bar, barClassName)}>\n          <div className={classes.labelCluster}>\n            {isRaisedBar ? (\n              <div className={classes.raisedLabelBar}>\n                {iconNode}\n                {headingContent}\n              </div>\n            ) : (\n              <>\n                {iconNode}\n                {headingContent}\n              </>\n            )}\n          </div>\n\n          {subTabsNode ? <div className={classes.utilities}>{subTabsNode}</div> : null}\n        </div>\n\n        {children || searchProps || actions ? (\n          <div className={classes.body}>\n            {children ? <div className={cn(bodyClassName)}>{children}</div> : null}\n            {searchProps || actions ? (\n              <div\n                className={cn(\"relative\", classes.divider)}\n                data-divider-tint={dividerTint}\n              >\n                <span aria-hidden className={classes.dividerLine} />\n                {showDividerGlow ? (\n                  <span aria-hidden className={classes.dividerGlow} />\n                ) : null}\n                <div className={classes.actionRow}>\n                  {searchProps ? (\n                    <div className={classes.searchWell}>\n                      <HeroSearchBar {...searchProps} />\n                    </div>\n                  ) : null}\n                  {actions ? (\n                    <div className={classes.actionsWell}>\n                      <div className={classes.actionCluster}>{actions}</div>\n                    </div>\n                  ) : null}\n                </div>\n              </div>\n            ) : null}\n          </div>\n        ) : null}\n\n        {frame ? (\n          <div\n            aria-hidden\n            className=\"absolute inset-0 rounded-card r-card-lg ring-1 ring-inset ring-border/55\"\n          />\n        ) : null}\n      </div>\n    </Component>\n  );\n}\n\nexport default Hero;\n\n","export default {\"src\":\"/Planner/_next/static/media/BEST_ONE_EVAH.8a3695ba.png\",\"height\":1024,\"width\":1024,\"blurDataURL\":\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAYFBMVEVMaXFDQVpCNEAhGB0tKDNzgb4ECBSAjbkcHjRXQkATFx+ImaqXjJBQWm9pY3FWUFcnHB1NOT85N0g9Q18VFihhZ6shIkA8LCtBNkUPFz9kSEl3e4WVd28NCQt4VlZDKiYwrvm3AAAAGnRSTlMAfuHw/DU3CGL7gWfbfMPj6UyKsp1WvvfOICh3c44AAAAJcEhZcwAACxMAAAsTAQCanBgAAABCSURBVHicFcs1EsAwEMBAGc8OMzj0/19mTtU2AkHQZE0hVurNmyMnOF1Z7DtDej7rSydEl/d8NwKTH/qr1m80bYAfUOkCaVB7+IsAAAAASUVORK5CYII=\",\"blurWidth\":8,\"blurHeight\":8};","export const CONTROL_VARIANTS = [\n  \"default\",\n  \"quiet\",\n  \"neo\",\n  \"glitch\",\n] as const;\n\nexport type ControlVariant = (typeof CONTROL_VARIANTS)[number];\n\nexport const CONTROL_VARIANT_ALIASES = {\n  soft: \"neo\",\n  ghost: \"quiet\",\n  minimal: \"quiet\",\n  plain: \"default\",\n  primary: \"default\",\n  secondary: \"neo\",\n} as const satisfies Record<string, ControlVariant>;\n\nexport type DeprecatedControlVariant = keyof typeof CONTROL_VARIANT_ALIASES;\n\nexport type AnyControlVariant = ControlVariant | DeprecatedControlVariant;\n\nconst warnedAliases = new Set<DeprecatedControlVariant>();\n\nfunction warnDeprecatedAlias(alias: DeprecatedControlVariant, canonical: ControlVariant) {\n  if (process.env.NODE_ENV === \"production\") {\n    return;\n  }\n\n  if (warnedAliases.has(alias)) {\n    return;\n  }\n\n  warnedAliases.add(alias);\n  console.warn(\n    `ui variant \"${alias}\" is deprecated. Use \"${canonical}\" instead.`,\n  );\n}\n\nexport function normalizeControlVariant(\n  variant: AnyControlVariant | null | undefined,\n): ControlVariant | undefined {\n  if (!variant) {\n    return undefined;\n  }\n\n  if ((CONTROL_VARIANTS as readonly string[]).includes(variant)) {\n    return variant as ControlVariant;\n  }\n\n  if (variant in CONTROL_VARIANT_ALIASES) {\n    const alias = variant as DeprecatedControlVariant;\n    const mapped = CONTROL_VARIANT_ALIASES[alias];\n    warnDeprecatedAlias(alias, mapped);\n    return mapped;\n  }\n\n  return undefined;\n}\n\nexport function resolveControlVariant<Allowed extends ControlVariant>(\n  variant: AnyControlVariant | null | undefined,\n  options: { allowed: readonly Allowed[]; fallback: Allowed },\n): Allowed {\n  const normalized = normalizeControlVariant(variant);\n\n  if (normalized && options.allowed.includes(normalized as Allowed)) {\n    return normalized as Allowed;\n  }\n\n  return options.fallback;\n}\n\n// Backwards-compatible exports. Prefer the `Control*` names above for new code.\nexport const UI_VARIANTS = CONTROL_VARIANTS;\nexport type UIVariant = ControlVariant;\nexport const UI_VARIANT_ALIASES = CONTROL_VARIANT_ALIASES;\nexport type DeprecatedUIVariant = DeprecatedControlVariant;\nexport type AnyUIVariant = AnyControlVariant;\n\nexport const normalizeUIVariant = normalizeControlVariant;\nexport const resolveUIVariant = resolveControlVariant;\n","\"use client\";\n\nimport { useMatchMedia } from \"@/lib/react\";\n\nconst QUERY = \"(prefers-reduced-motion: reduce)\";\n\nfunction getReducedMotionPreference(): boolean {\n  if (typeof window === \"undefined\" || typeof window.matchMedia !== \"function\") {\n    return false;\n  }\n\n  try {\n    return window.matchMedia(QUERY).matches;\n  } catch {\n    return false;\n  }\n}\n\nexport function prefersReducedMotion(): boolean {\n  return getReducedMotionPreference();\n}\n\nexport function usePrefersReducedMotion(): boolean {\n  return useMatchMedia(QUERY, prefersReducedMotion);\n}\n","// src/lib/feature-flags.ts\nimport { emitTelemetryEvent } from '@/lib/telemetry'\n\nexport type FeatureFlagAnalyticsDetail = {\n  flag: string\n  enabled: boolean\n  state?: string\n}\n\nexport function reportFeatureFlagAnalytics(detail: FeatureFlagAnalyticsDetail) {\n  if (typeof window === 'undefined') return\n\n  const state = typeof detail.state === 'string' ? detail.state : detail.enabled ? 'enabled' : 'disabled'\n\n  const eventDetail = {\n    ...detail,\n    state,\n  } as const\n\n  emitTelemetryEvent({\n    eventName: 'feature_flag',\n    domEventName: 'planner:feature-flag',\n    detail: {\n      ...eventDetail,\n      dataLayer: {\n        feature_flag: eventDetail.flag,\n        feature_flag_enabled: eventDetail.enabled,\n        feature_flag_state: eventDetail.state,\n      },\n    },\n  })\n}\n","/**\n * Collect normalized path segments from a string value.\n * @param {string | null | undefined} value\n * @returns {string[]}\n */\nexport const collectPathSegments = (value) => {\n  const trimmed = value?.trim();\n  if (!trimmed || trimmed === \"/\") {\n    return [];\n  }\n\n  return trimmed\n    .split(\"/\")\n    .map((segment) => segment.trim())\n    .filter((segment) => segment.length > 0);\n};\n\n/**\n * Normalize a base path so it can be consumed by Next.js and runtime helpers.\n * @param {string | null | undefined} value\n * @returns {string}\n */\nexport const normalizeBasePath = (value) => {\n  const segments = collectPathSegments(value);\n  return segments.length > 0 ? `/${segments.join(\"/\")}` : \"\";\n};\n","// src/lib/utils.ts\n// Tiny helpers. Keep dependencies minimal and SSR-safe.\n\nimport { type ClassValue, clsx } from \"clsx\";\nimport { extendTailwindMerge } from \"tailwind-merge\";\n\nimport { normalizeBasePath } from \"../../lib/base-path.js\";\nimport { readClientEnv } from \"./load-client-env\";\n\nconst twMerge = extendTailwindMerge({\n  extend: {\n    theme: {\n      text: [\"label\", \"ui\", \"body\", \"title\", \"title-lg\"],\n    },\n  },\n});\n\nconst { NEXT_PUBLIC_BASE_PATH } = readClientEnv();\n\nconst NORMALIZED_BASE = normalizeBasePath(NEXT_PUBLIC_BASE_PATH);\n\ntype NextData = {\n  assetPrefix?: string;\n  basePath?: string;\n  runtimeConfig?: {\n    basePath?: string;\n  };\n  config?: {\n    basePath?: string;\n  };\n};\n\ntype NextWindow = Window & {\n  next?: {\n    router?: {\n      basePath?: string;\n    };\n  };\n  __NEXT_DATA__?: NextData;\n};\n\nlet cachedRuntimeBasePath: string | undefined;\n\nfunction normalizeRuntimeBasePath(\n  candidate: string | null | undefined,\n): string | null {\n  if (candidate == null) {\n    return null;\n  }\n\n  const normalized = normalizeBasePath(candidate);\n\n  if (normalized.length > 0) {\n    return normalized;\n  }\n\n  const trimmed = candidate.trim();\n\n  if (trimmed.length === 0 || trimmed === \"/\") {\n    return \"\";\n  }\n\n  return null;\n}\n\nfunction readRuntimeBasePath(): string | null {\n  if (typeof window === \"undefined\") {\n    return null;\n  }\n\n  const nextWindow = window as NextWindow;\n\n  const runtimeRouterBase = normalizeRuntimeBasePath(\n    nextWindow.next?.router?.basePath,\n  );\n\n  if (runtimeRouterBase !== null) {\n    cachedRuntimeBasePath = runtimeRouterBase;\n    return runtimeRouterBase;\n  }\n\n  const attributeBase = normalizeRuntimeBasePath(\n    nextWindow.document?.documentElement?.getAttribute?.(\"data-base-path\"),\n  );\n\n  if (attributeBase !== null) {\n    cachedRuntimeBasePath = attributeBase;\n    return attributeBase;\n  }\n\n  const nextData = nextWindow.__NEXT_DATA__;\n\n  if (nextData) {\n    const nextDataAssetPrefix = normalizeRuntimeBasePath(nextData.assetPrefix);\n\n    if (nextDataAssetPrefix !== null) {\n      cachedRuntimeBasePath = nextDataAssetPrefix;\n      return nextDataAssetPrefix;\n    }\n\n    const nextDataBasePath = normalizeRuntimeBasePath(\n      nextData.basePath ??\n        nextData.runtimeConfig?.basePath ??\n        nextData.config?.basePath,\n    );\n\n    if (nextDataBasePath !== null) {\n      cachedRuntimeBasePath = nextDataBasePath;\n      return nextDataBasePath;\n    }\n  }\n\n  return null;\n}\n\nexport function getBasePath(): string {\n  if (typeof window !== \"undefined\") {\n    if (cachedRuntimeBasePath !== undefined) {\n      return cachedRuntimeBasePath;\n    }\n\n    const runtimeBase = readRuntimeBasePath();\n\n    if (runtimeBase !== null) {\n      cachedRuntimeBasePath = runtimeBase;\n      return runtimeBase;\n    }\n  }\n\n  return NORMALIZED_BASE;\n}\n\nconst ABSOLUTE_URL_PATTERN = /^[a-zA-Z][a-zA-Z\\d+.-]*:/;\n\nfunction isAbsoluteUrl(path: string): boolean {\n  return ABSOLUTE_URL_PATTERN.test(path) || path.startsWith(\"//\");\n}\n\n// Default locale for consistent date/time formatting.\nexport const LOCALE = \"en-US\";\n\n/** Combine class names using clsx and tailwind-merge. */\nexport function cn(...inputs: ClassValue[]): string {\n  return twMerge(clsx(inputs));\n}\n\n/**\n * Prefix a path with the configured Next.js base path, if any.\n * Ensures consistent asset URLs for environments served from sub-paths.\n */\nexport function withBasePath(path: string): string {\n  if (isAbsoluteUrl(path)) {\n    return path;\n  }\n  const trimmedPath = path.trim();\n  if (!trimmedPath) {\n    const basePath = getBasePath();\n    return basePath ? `${basePath}/` : \"/\";\n  }\n\n  if (trimmedPath.startsWith(\"#\") || trimmedPath.startsWith(\"?\")) {\n    return trimmedPath;\n  }\n  const normalizedPath = trimmedPath.startsWith(\"/\")\n    ? trimmedPath\n    : `/${trimmedPath}`;\n\n  const basePath = getBasePath();\n\n  if (!basePath) {\n    return normalizedPath;\n  }\n\n  if (\n    normalizedPath === basePath ||\n    normalizedPath === `${basePath}/` ||\n    normalizedPath.startsWith(`${basePath}/`) ||\n    normalizedPath.startsWith(`${basePath}?`) ||\n    normalizedPath.startsWith(`${basePath}#`)\n  ) {\n    return normalizedPath;\n  }\n\n  return `${basePath}${normalizedPath}`;\n}\n\n/** Remove the configured base path prefix from a pathname. */\nexport function withoutBasePath(path: string): string {\n  if (isAbsoluteUrl(path)) {\n    return path;\n  }\n  const normalizedPath = path.startsWith(\"/\") ? path : `/${path}`;\n\n  const basePath = getBasePath();\n\n  if (!basePath) {\n    return normalizedPath;\n  }\n\n  if (\n    normalizedPath === basePath ||\n    normalizedPath === `${basePath}/`\n  ) {\n    return \"/\";\n  }\n\n  if (normalizedPath.startsWith(`${basePath}/`)) {\n    const remainder = normalizedPath.slice(basePath.length);\n    return remainder.length > 0 ? remainder : \"/\";\n  }\n\n  if (\n    normalizedPath.startsWith(`${basePath}?`) ||\n    normalizedPath.startsWith(`${basePath}#`)\n  ) {\n    const remainder = normalizedPath.slice(basePath.length);\n    return remainder.length > 0 ? remainder : \"/\";\n  }\n\n  return normalizedPath;\n}\n\n/** Capitalize first letter (not Unicode-smart on purpose). */\nexport function capitalize(s: string): string {\n  return s.length ? s[0].toUpperCase() + s.slice(1) : s;\n}\n\n/** Clamp number to a range. */\nexport function clamp(n: number, min: number, max: number): number {\n  return Math.min(max, Math.max(min, n));\n}\n\n// Date helpers moved to ./date.ts\n\n/** Create a URL-friendly slug from a string. */\nexport function slugify(s?: string): string {\n  return (s ?? \"\")\n    .toLowerCase()\n    .trim()\n    .replace(/\\s+/g, \"-\")\n    .replace(/[^a-z0-9-]/g, \"\")\n    .slice(0, 64);\n}\n\n/** Escape mappings for sanitizeText */\nconst HTML_ESCAPE_MAP = {\n  \"&\": \"&amp;\",\n  \"<\": \"&lt;\",\n  \">\": \"&gt;\",\n  \"\\u0022\": \"&quot;\",\n  \"'\": \"&#39;\",\n} as const;\n\n/**\n * Clone data using structuredClone with JSON fallback.\n * Returns undefined when cloning fails.\n */\nexport function safeClone<T>(value: T): T | undefined {\n  if (typeof structuredClone === \"function\") {\n    try {\n      return structuredClone(value);\n    } catch {\n      // fall through to JSON\n    }\n  }\n  try {\n    return JSON.parse(JSON.stringify(value)) as T;\n  } catch {\n    return undefined;\n  }\n}\n\n/**\n * sanitizeText  escape HTML-unsafe characters to prevent node injection.\n * Minimal on purpose; more heavy sanitizers can be added if needed.\n */\nexport function sanitizeText(input: string): string {\n  return input.replace(\n    /[&<>\"']/g,\n    (c) => HTML_ESCAPE_MAP[c as keyof typeof HTML_ESCAPE_MAP] ?? c,\n  );\n}\n","\"use client\";\n\nimport * as React from \"react\";\nimport { cn } from \"@/lib/utils\";\n\nconst radiusClasses = {\n  sm: \"rounded-[var(--radius-sm,var(--radius-md))]\",\n  md: \"rounded-[var(--radius-lg)]\",\n  lg: \"rounded-[var(--radius-xl)]\",\n  card: \"rounded-[var(--radius-card,var(--radius-xl))]\",\n  full: \"rounded-[var(--radius-full)]\",\n} as const;\n\nexport type SkeletonRadius = keyof typeof radiusClasses;\n\nexport interface SkeletonProps extends React.HTMLAttributes<HTMLDivElement> {\n  radius?: SkeletonRadius;\n  ariaHidden?: React.AriaAttributes[\"aria-hidden\"];\n}\n\nconst Skeleton = React.forwardRef<HTMLDivElement, SkeletonProps>(\n  ({ className, radius = \"md\", ariaHidden, ...props }, ref) => {\n    const { [\"aria-hidden\"]: ariaHiddenAttr, ...rest } = props;\n    const resolvedAriaHidden =\n      ariaHidden ?? ariaHiddenAttr ?? true;\n\n    return (\n      <div\n        ref={ref}\n        aria-hidden={resolvedAriaHidden}\n        className={cn(\n          \"skeleton h-[var(--space-4)] w-full\",\n          radiusClasses[radius],\n          className,\n        )}\n        {...rest}\n      />\n    );\n  },\n);\n\nSkeleton.displayName = \"Skeleton\";\n\nexport default Skeleton;\n","import * as React from \"react\";\nimport { cn } from \"@/lib/utils\";\nimport Card, { type CardProps } from \"./Card\";\n\nexport type NeoCardProps = CardProps & {\n  overlay?: React.ReactNode;\n};\n\nconst NEO_CARD_BASE_CLASSNAME =\n  \"relative overflow-hidden card-neo-soft border border-card-hairline [box-shadow:var(--depth-shadow-soft)] [--neo-card-overlay-inset:0px] [--neo-card-overlay-opacity:var(--surface-overlay-strong,0.2)]\";\n\nexport const neoCardOverlayClassName = \"neo-card__overlay\";\n\nconst NeoCard = React.forwardRef<React.ElementRef<\"div\">, NeoCardProps>(\n  ({ className, children, overlay, ...props }, ref) => (\n    <Card\n      ref={ref}\n      depth=\"raised\"\n      className={cn(NEO_CARD_BASE_CLASSNAME, className)}\n      {...props}\n    >\n      {children}\n      {overlay}\n    </Card>\n  ),\n);\nNeoCard.displayName = \"NeoCard\";\n\nexport default NeoCard;\n","\"use client\";\n\nimport * as React from \"react\";\nimport { usePersistentState } from \"@/lib/db\";\nimport { glitchLandingEnabled as glitchLandingDefault } from \"@/lib/features\";\nimport { reportFeatureFlagAnalytics } from \"@/lib/feature-flags\";\nimport {\n  BG_CLASSES,\n  THEME_STORAGE_KEY,\n  VARIANTS,\n  applyTheme,\n  defaultTheme,\n  decodeThemeState,\n  type Background,\n  type ThemeState,\n  type Variant,\n} from \"@/lib/theme\";\n\nconst ThemeContext = React.createContext<\n  | readonly [ThemeState, React.Dispatch<React.SetStateAction<ThemeState>>]\n  | undefined\n>(undefined);\n\ntype ThemeFeatureFlags = {\n  glitchLandingEnabled: boolean;\n};\n\nconst ThemeFeatureFlagsContext = React.createContext<ThemeFeatureFlags>({\n  glitchLandingEnabled: false,\n});\n\ntype ThemeProviderProps = {\n  children: React.ReactNode;\n  glitchLandingEnabled?: boolean;\n};\n\nexport function ThemeProvider({\n  children,\n  glitchLandingEnabled = glitchLandingDefault,\n}: ThemeProviderProps) {\n  const [hydrated, setHydrated] = React.useState(false);\n  const defaultThemeValue = React.useMemo<ThemeState>(() => defaultTheme(), []);\n  const initialThemeState = React.useMemo<ThemeState>(() => {\n    if (typeof document === \"undefined\") {\n      return defaultThemeValue;\n    }\n\n    const { documentElement } = document;\n    if (!documentElement) {\n      return defaultThemeValue;\n    }\n\n    const classList = documentElement.classList;\n    const themeClass = Array.from(classList).find((className) =>\n      className.startsWith(\"theme-\"),\n    );\n    const rawVariant =\n      typeof themeClass === \"string\"\n        ? themeClass.slice(\"theme-\".length)\n        : null;\n    const variantEntry = VARIANTS.find(({ id }) => id === rawVariant);\n    const resolvedVariant: Variant = variantEntry\n      ? variantEntry.id\n      : defaultThemeValue.variant;\n\n    const backgroundIndex = BG_CLASSES.findIndex(\n      (className) =>\n        className.length > 0 && classList.contains(className),\n    );\n    const resolvedBackground =\n      backgroundIndex > 0\n        ? (backgroundIndex as Background)\n        : defaultThemeValue.bg;\n\n    return { variant: resolvedVariant, bg: resolvedBackground };\n  }, [defaultThemeValue]);\n\n  const [theme, setTheme] = usePersistentState<ThemeState>(\n    THEME_STORAGE_KEY,\n    initialThemeState,\n    { decode: decodeThemeState },\n  );\n  const defaultThemeRef = React.useRef(defaultThemeValue);\n  const pendingPersistedSyncRef = React.useRef(true);\n\n  React.useEffect(() => {\n    setHydrated(true);\n  }, []);\n\n  React.useEffect(() => {\n    if (!hydrated) {\n      return;\n    }\n    if (typeof document === \"undefined\") {\n      return;\n    }\n\n    const { documentElement } = document;\n    const expectedThemeClass = `theme-${theme.variant}`;\n    const currentThemeClass = Array.from(documentElement.classList).find((className) =>\n      className.startsWith(\"theme-\"),\n    );\n    const currentBackgroundClass = BG_CLASSES.find(\n      (className) => className && documentElement.classList.contains(className),\n    );\n    const expectedBackgroundClass =\n      theme.bg > 0 && theme.bg < BG_CLASSES.length ? BG_CLASSES[theme.bg] : \"\";\n    const themeClassMismatch =\n      typeof currentThemeClass === \"string\" && currentThemeClass !== expectedThemeClass;\n    const backgroundMismatch =\n      typeof currentBackgroundClass === \"string\"\n        ? currentBackgroundClass !== expectedBackgroundClass\n        : expectedBackgroundClass !== \"\";\n\n    const defaultState = defaultThemeRef.current;\n    const isDefaultSelection =\n      theme.variant === defaultState.variant && theme.bg === defaultState.bg;\n\n    if (\n      pendingPersistedSyncRef.current &&\n      documentElement.dataset.themePref === \"persisted\" &&\n      (themeClassMismatch || backgroundMismatch) &&\n      !isDefaultSelection\n    ) {\n      return;\n    }\n\n    pendingPersistedSyncRef.current = false;\n\n    const shouldPersistPreference =\n      documentElement.dataset.themePref === \"persisted\" || !isDefaultSelection;\n\n    if (shouldPersistPreference) {\n      documentElement.dataset.themePref = \"persisted\";\n    }\n\n    applyTheme(theme);\n  }, [theme, hydrated]);\n\n  React.useEffect(() => {\n    if (typeof document === \"undefined\") {\n      return;\n    }\n\n    const state = glitchLandingEnabled ? \"enabled\" : \"legacy\";\n    document.documentElement.dataset.glitchLanding = state;\n\n    if (document.body) {\n      document.body.dataset.glitchLanding = state;\n    }\n  }, [glitchLandingEnabled]);\n\n  React.useEffect(() => {\n    reportFeatureFlagAnalytics({\n      flag: \"ui-glitch-landing\",\n      enabled: glitchLandingEnabled,\n      state: glitchLandingEnabled ? \"enabled\" : \"legacy\",\n    });\n  }, [glitchLandingEnabled]);\n\n  const value = React.useMemo(() => [theme, setTheme] as const, [theme, setTheme]);\n  const featureValue = React.useMemo<ThemeFeatureFlags>(\n    () => ({ glitchLandingEnabled }),\n    [glitchLandingEnabled],\n  );\n\n  return (\n    <ThemeFeatureFlagsContext.Provider value={featureValue}>\n      <ThemeContext.Provider value={value}>{children}</ThemeContext.Provider>\n    </ThemeFeatureFlagsContext.Provider>\n  );\n}\n\nexport function useTheme(): readonly [\n  ThemeState,\n  React.Dispatch<React.SetStateAction<ThemeState>>,\n] {\n  const ctx = React.useContext(ThemeContext);\n  if (!ctx) {\n    throw new Error(\"useTheme must be used within ThemeProvider\");\n  }\n  return ctx;\n}\n\nexport function useOptionalTheme():\n  | readonly [ThemeState, React.Dispatch<React.SetStateAction<ThemeState>>]\n  | undefined {\n  return React.useContext(ThemeContext);\n}\n\nexport function useUiFeatureFlags(): ThemeFeatureFlags {\n  return React.useContext(ThemeFeatureFlagsContext);\n}\n\nexport default ThemeProvider;\n","// src/components/ui/PillarSelector.tsx\n\"use client\";\n\nimport * as React from \"react\";\nimport { cn } from \"@/lib/utils\";\nimport type { Pillar } from \"@/lib/types\";\nimport styles from \"./PillarSelector.module.css\";\n\nconst ORDER: Pillar[] = [\"Wave\", \"Trading\", \"Vision\", \"Tempo\", \"Positioning\", \"Comms\"];\n\nexport default function PillarSelector({\n  value = [],\n  onChange,\n  className,\n  label = \"Pillars\",\n}: {\n  value?: Pillar[];\n  onChange?: (next: Pillar[]) => void;\n  className?: string;\n  label?: string;\n}) {\n  const set = new Set(value);\n\n  function toggle(p: Pillar) {\n    const next = new Set(value);\n    if (next.has(p)) next.delete(p);\n    else next.add(p);\n    onChange?.(Array.from(next));\n  }\n\n  function handleKeyDown(p: Pillar, event: React.KeyboardEvent<HTMLButtonElement>) {\n    if (event.key === \" \" || event.key === \"Space\" || event.key === \"Spacebar\" || event.key === \"Enter\") {\n      event.preventDefault();\n      toggle(p);\n    }\n  }\n\n  return (\n    <div className={cn(\"w-full\", className)}>\n      <div className=\"overline mb-[var(--space-2)]\">{label}</div>\n      <div className=\"flex flex-wrap gap-[var(--space-2)]\">\n        {ORDER.map((p) => {\n          const active = set.has(p);\n          return (\n            <button\n              key={p}\n              type=\"button\"\n              aria-pressed={active}\n              onClick={() => toggle(p)}\n              onKeyDown={(event) => handleKeyDown(p, event)}\n              className={cn(\n                \"pill transition\",\n                styles.button,\n                active &&\n                  \"pill--medium text-foreground shadow-[var(--depth-shadow-soft)]\",\n              )}\n              data-active={active ? \"true\" : undefined}\n            >\n              <span\n                aria-hidden\n                className={cn(\n                  \"h-[var(--space-2)] w-[var(--space-2)] rounded-full\",\n                  active ? \"\" : \"bg-muted-foreground\",\n                  styles.indicator,\n                )}\n              />\n              {p}\n            </button>\n          );\n        })}\n      </div>\n    </div>\n  );\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"neu\":\"neumorphic_neu__ZfcsV\",\"neu-inset\":\"neumorphic_neu-inset__QxBWx\",\"neu-hover\":\"neumorphic_neu-hover__WJQ2B\"};","\"use client\";\n\nimport * as React from \"react\";\nimport { cn } from \"@/lib/utils\";\nimport Spinner from \"../feedback/Spinner\";\nimport styles from \"./Toggle.module.css\";\n\ntype Side = \"Left\" | \"Right\";\n\nconst STATE_TOKEN_CLASSES =\n  \"[--toggle-hover-surface:hsl(var(--accent)/0.16)] [--toggle-active-surface:hsl(var(--accent)/0.26)] [--toggle-focus-ring:var(--ring-contrast)] [--toggle-focus-glow:var(--shadow-glow-md)]\";\n\nexport default function Toggle({\n  leftLabel = \"Left\",\n  rightLabel = \"Right\",\n  value = \"Left\",\n  onChange,\n  className,\n  disabled = false,\n  loading = false,\n}: {\n  leftLabel?: string;\n  rightLabel?: string;\n  value?: Side;\n  onChange?: (v: Side) => void;\n  className?: string;\n  disabled?: boolean;\n  loading?: boolean;\n}) {\n  const isRight = value === \"Right\";\n  const id = React.useId();\n  const leftId = `${id}-left`;\n  const rightId = `${id}-right`;\n\n  function toggle() {\n    if (disabled || loading) return;\n    onChange?.(isRight ? \"Left\" : \"Right\");\n  }\n\n  function onKeyDown(e: React.KeyboardEvent<HTMLButtonElement>) {\n    if (disabled || loading) return;\n    if (e.key === \" \" || e.key === \"Enter\") {\n      e.preventDefault();\n      toggle();\n    }\n    if (e.key === \"ArrowLeft\") onChange?.(\"Left\");\n    if (e.key === \"ArrowRight\") onChange?.(\"Right\");\n  }\n\n  return (\n    <button\n      type=\"button\"\n      role=\"switch\"\n      aria-checked={isRight}\n      aria-labelledby={`${leftId} ${rightId}`}\n      aria-busy={loading || undefined}\n      disabled={disabled}\n      data-loading={loading || undefined}\n      onClick={toggle}\n      onKeyDown={onKeyDown}\n      className={cn(\n        styles.root,\n        \"group relative inline-flex h-[var(--control-h-md)] items-center rounded-full border\",\n        \"w-[calc(var(--space-8)*4)]\",\n        \"border-border bg-card overflow-hidden\",\n        \"hover:bg-[--toggle-hover-surface] active:bg-[--toggle-active-surface]\",\n        \"focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--toggle-focus-ring)] focus-visible:shadow-[var(--toggle-focus-glow)]\",\n        \"disabled:opacity-disabled disabled:pointer-events-none\",\n        \"data-[loading=true]:opacity-loading data-[loading=true]:pointer-events-none\",\n        \"before:pointer-events-none before:absolute before:inset-[calc(var(--space-1)/2)] before:rounded-full before:bg-[var(--card-overlay-scanlines)] before:opacity-0 before:transition-opacity before:duration-motion-sm before:ease-out\",\n        \"hover:before:opacity-70 focus-visible:before:opacity-80 active:before:opacity-90\",\n        STATE_TOKEN_CLASSES,\n        className,\n      )}\n      data-side={value}\n    >\n      {loading ? (\n        <span className=\"pointer-events-none absolute inset-0 z-20 flex items-center justify-center\">\n          <Spinner size=\"sm\" className=\"border-border border-t-transparent opacity-80\" />\n        </span>\n      ) : null}\n      {/* Sliding indicator */}\n      <span\n        aria-hidden\n        className={cn(\n          styles.indicator,\n          \"absolute top-[var(--space-1)] bottom-[var(--space-1)] left-[var(--space-1)] rounded-full transition-transform duration-motion-sm ease-motion-glitch motion-reduce:transition-none group-active:scale-95 group-disabled:opacity-disabled group-data-[loading=true]:opacity-loading group-focus-visible:ring-2 group-focus-visible:ring-[var(--toggle-focus-ring)] group-hover:[--toggle-indicator-shadow:var(--shadow-glow-md)] group-active:[--toggle-indicator-shadow:var(--shadow-glow-lg)] group-focus-visible:[--toggle-indicator-shadow:var(--shadow-glow-lg)]\",\n        )}\n      />\n\n      {/* Labels */}\n      <span\n        id={leftId}\n        className={cn(\n          styles.leftLabel,\n          \"relative z-10 flex-1 text-center font-mono text-ui transition-colors\",\n          !isRight ? \"text-foreground/70\" : \"text-muted-foreground\",\n        )}\n        data-active={!isRight}\n      >\n        {leftLabel}\n      </span>\n      <span\n        id={rightId}\n        className={cn(\n          styles.rightLabel,\n          \"relative z-10 flex-1 text-center font-mono text-ui transition-colors\",\n          isRight ? \"text-foreground/70\" : \"text-muted-foreground\",\n        )}\n        data-active={isRight}\n      >\n        {rightLabel}\n      </span>\n    </button>\n  );\n}\n","\"use client\";\n\nimport * as React from \"react\";\nimport { cn } from \"@/lib/utils\";\n\nconst toneToBorderClass = {\n  primary: \"border-primary\",\n  accent: \"border-accent\",\n  info: \"border-accent-2\",\n  danger: \"border-danger\",\n} as const;\n\nexport type SpinnerTone = keyof typeof toneToBorderClass;\n\nconst sizeToVariableClass = {\n  xs: \"[--spinner-size:var(--space-3)]\",\n  sm: \"[--spinner-size:var(--space-4)]\",\n  md: \"[--spinner-size:calc(var(--space-5)-var(--space-1))]\",\n  lg: \"[--spinner-size:var(--space-5)]\",\n  xl: \"[--spinner-size:var(--space-6)]\",\n  \"2xl\": \"[--spinner-size:var(--space-7)]\",\n  \"control-xs\": \"[--spinner-size:calc(var(--control-h-xs)/2)]\",\n  \"control-sm\": \"[--spinner-size:calc(var(--control-h-sm)/2)]\",\n  \"control-md\": \"[--spinner-size:calc(var(--control-h-md)/2)]\",\n  \"control-lg\": \"[--spinner-size:calc(var(--control-h-lg)/2)]\",\n  \"control-xl\": \"[--spinner-size:calc(var(--control-h-xl)/2)]\",\n} as const;\n\nexport type SpinnerSize = keyof typeof sizeToVariableClass;\n\ntype SpinnerProps = {\n  className?: string;\n  size?: SpinnerSize;\n  tone?: SpinnerTone;\n};\n\nexport default function Spinner({\n  className,\n  size = \"xl\",\n  tone = \"accent\",\n}: SpinnerProps) {\n  return (\n    <div\n      role=\"status\"\n      aria-label=\"Loading\"\n      aria-live=\"polite\"\n      className={cn(\n        \"inline-block h-[var(--spinner-size)] w-[var(--spinner-size)] animate-spin motion-reduce:animate-none rounded-full border border-t-transparent\",\n        toneToBorderClass[tone],\n        sizeToVariableClass[size],\n        className,\n      )}\n    >\n      <span className=\"sr-only\">Loading...</span>\n    </div>\n  );\n}\n","\"use client\";\n\nimport * as React from \"react\";\n\nimport Spinner from \"@/components/ui/feedback/Spinner\";\nimport { cn } from \"@/lib/utils\";\n\nimport { radioIconGroupToneClasses, type RadioIconGroupTone } from \"./tone\";\n\nexport type RadioIconGroupSize = \"sm\" | \"md\" | \"lg\";\n\nexport type RadioIconGroupOption = {\n  readonly id: string;\n  readonly value: string;\n  readonly label: string;\n  readonly icon?: React.ReactNode;\n  readonly disabled?: boolean;\n};\n\nexport interface RadioIconGroupProps {\n  readonly name: string;\n  readonly options: readonly RadioIconGroupOption[];\n  readonly value: string | null;\n  readonly onChange: (value: string) => void;\n  readonly tone?: RadioIconGroupTone;\n  readonly size?: RadioIconGroupSize;\n  readonly disabled?: boolean;\n  readonly loading?: boolean;\n  readonly className?: string;\n  readonly \"aria-label\"?: string;\n  readonly \"aria-labelledby\"?: string;\n  readonly \"aria-describedby\"?: string;\n}\n\nconst ICON_SIZE: Record<RadioIconGroupSize, string> = {\n  sm: \"h-[var(--control-h-sm)] w-[var(--control-h-sm)] [&>svg]:size-[calc(var(--control-h-sm)/2)]\",\n  md: \"h-[var(--control-h-md)] w-[var(--control-h-md)] [&>svg]:size-[calc(var(--control-h-md)/2)]\",\n  lg: \"h-[var(--control-h-lg)] w-[var(--control-h-lg)] [&>svg]:size-[calc(var(--control-h-lg)/2)]\",\n};\n\nconst LABEL_SIZE: Record<RadioIconGroupSize, string> = {\n  sm: \"text-caption\",\n  md: \"text-label\",\n  lg: \"text-ui\",\n};\n\nexport default function RadioIconGroup({\n  name,\n  options,\n  value,\n  onChange,\n  tone = \"accent\",\n  size = \"md\",\n  disabled = false,\n  loading = false,\n  className,\n  \"aria-label\": ariaLabel,\n  \"aria-labelledby\": ariaLabelledby,\n  \"aria-describedby\": ariaDescribedby,\n}: RadioIconGroupProps) {\n  const groupId = React.useId();\n  const resolvedLabel = ariaLabelledby ? undefined : ariaLabel;\n\n  const isDisabled = disabled || loading;\n\n  const toneClass = radioIconGroupToneClasses[tone];\n\n  return (\n    <div\n      role=\"radiogroup\"\n      aria-labelledby={ariaLabelledby}\n      aria-label={resolvedLabel}\n      aria-disabled={isDisabled || undefined}\n      aria-busy={loading || undefined}\n      aria-describedby={ariaDescribedby}\n      className={cn(\"flex flex-wrap gap-[var(--space-3)]\", className)}\n      data-loading={loading || undefined}\n    >\n      {options.map((option, index) => {\n        const optionId = option.id || `${groupId}-${index}`;\n        const checked = option.value === value;\n        const optionDisabled = isDisabled || option.disabled;\n        return (\n          <div\n            key={optionId}\n            className=\"flex flex-col items-center gap-[var(--space-1)]\"\n            data-state={checked ? \"on\" : \"off\"}\n            data-loading={loading || undefined}\n            data-part=\"option\"\n          >\n            <input\n              id={optionId}\n              type=\"radio\"\n              name={name}\n              value={option.value}\n              checked={checked}\n              disabled={optionDisabled}\n              onChange={(event) => {\n                if (event.target.checked) {\n                  onChange(event.target.value);\n                }\n              }}\n              className=\"peer sr-only\"\n              aria-describedby={ariaDescribedby}\n            />\n            <label\n              htmlFor={optionId}\n              className={cn(\n                \"group/radio flex cursor-pointer flex-col items-center gap-[var(--space-1)] text-center\",\n                \"text-muted-foreground transition-colors duration-motion-sm ease-out\",\n                \"peer-disabled:cursor-not-allowed peer-disabled:opacity-disabled\",\n                toneClass.text,\n              )}\n              data-state={checked ? \"on\" : \"off\"}\n              data-disabled={optionDisabled || undefined}\n              data-part=\"trigger\"\n            >\n              <span\n                aria-hidden=\"true\"\n                className={cn(\n                  \"relative inline-grid place-items-center rounded-full border border-card-hairline/60 bg-card\",\n                  \"text-muted-foreground shadow-control transition-all duration-motion-sm ease-out\",\n                  \"group-hover/radio:shadow-control-hover\",\n                  \"motion-reduce:shadow-none motion-reduce:transition-none\",\n                  \"peer-disabled:shadow-none\",\n                  ICON_SIZE[size],\n                  \"[--radio-glow:transparent]\",\n                  \"peer-checked:shadow-[0_0_var(--space-3)_var(--radio-glow)]\",\n                  \"peer-focus-visible:outline-none peer-focus-visible:ring-2\",\n                  \"peer-focus-visible:ring-offset-2 peer-focus-visible:ring-offset-[color:var(--surface-2)]\",\n                  \"motion-safe:group-active/radio:scale-95 motion-reduce:transform-none\",\n                  toneClass.surface,\n                  toneClass.ring,\n                  toneClass.glow,\n                  toneClass.lift,\n                )}\n                data-state={checked ? \"on\" : \"off\"}\n                data-disabled={optionDisabled || undefined}\n                data-part=\"control\"\n              >\n                {loading && checked ? (\n                  <span className=\"absolute inset-0 grid place-items-center rounded-full bg-card/70\">\n                    <Spinner size=\"sm\" className=\"text-muted-foreground\" />\n                  </span>\n                ) : null}\n                {option.icon ?? null}\n                <span className=\"pointer-events-none absolute inset-0 rounded-full\" data-part=\"focus-ring\" />\n              </span>\n              <span\n                className={cn(\n                  \"text-balance text-muted-foreground\",\n                  \"transition-colors duration-motion-sm ease-out\",\n                  LABEL_SIZE[size],\n                  toneClass.text,\n                )}\n                data-state={checked ? \"on\" : \"off\"}\n                data-disabled={optionDisabled || undefined}\n                data-part=\"label\"\n              >\n                {option.label}\n              </span>\n            </label>\n          </div>\n        );\n      })}\n    </div>\n  );\n}\n\nexport type { RadioIconGroupTone } from \"./tone\";\n","import * as React from \"react\";\n\nimport { Skeleton } from \"@/components/ui\";\nimport { cn } from \"@/lib/utils\";\n\nexport interface AILoadingShimmerProps\n  extends React.ComponentPropsWithoutRef<\"div\"> {\n  readonly lines?: number;\n  readonly showAvatar?: boolean;\n  readonly label?: string;\n}\n\nconst DEFAULT_LABEL = \"Generating response\";\nconst MIN_LINES = 2;\n\nconst AILoadingShimmer = React.forwardRef<HTMLDivElement, AILoadingShimmerProps>(\n  (\n    { lines = 3, showAvatar = true, label = DEFAULT_LABEL, className, children, ...props },\n    ref,\n  ) => {\n    const normalizedLines = Math.max(lines, MIN_LINES);\n\n    return (\n      <div\n        ref={ref}\n        role=\"status\"\n        aria-live=\"polite\"\n        aria-busy=\"true\"\n        className={cn(\n          \"flex gap-[var(--space-3)] rounded-card bg-[hsl(var(--surface-1)/0.65)] p-[var(--space-3)] shadow-[var(--shadow-outline-faint)]\",\n          className,\n        )}\n        {...props}\n      >\n        {showAvatar ? (\n          <Skeleton\n            aria-hidden\n            radius=\"full\"\n            className=\"size-[var(--space-9)] shrink-0 shadow-[var(--shadow-inset-hairline)]\"\n          />\n        ) : null}\n        <div className=\"flex min-w-0 flex-1 flex-col gap-[var(--space-2)]\">\n          <p className=\"text-label font-medium text-muted-foreground\" aria-live=\"polite\">\n            {label}\n          </p>\n          <div className=\"flex flex-col gap-[var(--space-2)]\">\n            {Array.from({ length: normalizedLines }).map((_, index) => (\n              <Skeleton\n                key={index}\n                className={cn(\n                  \"h-[var(--space-3)] w-full shadow-[var(--shadow-inset-hairline)]\",\n                  index === normalizedLines - 1 ? \"w-[80%]\" : undefined,\n                )}\n                radius=\"full\"\n              />\n            ))}\n          </div>\n          {children ? <div className=\"pt-[var(--space-2)]\">{children}</div> : null}\n        </div>\n      </div>\n    );\n  },\n);\n\nAILoadingShimmer.displayName = \"AILoadingShimmer\";\n\nexport default AILoadingShimmer;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"glitchTrigger\":\"Select_glitchTrigger__yXmFM\",\"glitchText\":\"Select_glitchText__Gopt9\",\"caret\":\"Select_caret__6dkh_\",\"caretOpen\":\"Select_caretOpen__nfWDG\",\"caret-jitter\":\"Select_caret-jitter__rSflb\",\"glitchOverlays\":\"Select_glitchOverlays__aNYdV\",\"glitchOverlayItem\":\"Select_glitchOverlayItem__elf8_\",\"gbIris\":\"Select_gbIris__V60Nj\",\"gbChroma\":\"Select_gbChroma___pn4y\",\"gbFlicker\":\"Select_gbFlicker__Oh3C3\",\"gbScan\":\"Select_gbScan__cDcdi\",\"iris-rotate\":\"Select_iris-rotate__bP0cn\",\"chroma-jitter\":\"Select_chroma-jitter__uGyPn\",\"border-flicker\":\"Select_border-flicker__TeHWj\",\"border-pulse\":\"Select_border-pulse__Y2SWd\",\"scan-move\":\"Select_scan-move__ZoOsg\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"indicator\":\"PillarSelector_indicator__GdCo7\",\"button\":\"PillarSelector_button__GK5VS\"};","\"use client\";\n\nimport * as React from \"react\";\n\ntype DialogRef =\n  | React.MutableRefObject<HTMLElement | null>\n  | React.RefObject<HTMLElement | null>;\n\nexport interface UseDialogTrapOptions {\n  open: boolean;\n  onClose: () => void;\n  ref: DialogRef;\n}\n\nconst FOCUSABLE_SELECTORS =\n  \"a[href], button, textarea, input, select, [tabindex]:not([tabindex='-1'])\";\n\nconst BODY_DIALOG_LOCK_ATTRIBUTE = \"data-dialog-lock\";\nconst BODY_DIALOG_LOCK_VALUE = \"true\";\n\nconst dialogLockCounts = new WeakMap<Document, number>();\n\nconst lockBody = (doc: Document) => {\n  const body = doc.body;\n  if (!body) {\n    return;\n  }\n\n  const current = dialogLockCounts.get(doc) ?? 0;\n  if (current === 0) {\n    body.setAttribute(BODY_DIALOG_LOCK_ATTRIBUTE, BODY_DIALOG_LOCK_VALUE);\n  }\n\n  dialogLockCounts.set(doc, current + 1);\n};\n\nconst unlockBody = (doc: Document) => {\n  const body = doc.body;\n  if (!body) {\n    return;\n  }\n\n  const current = dialogLockCounts.get(doc);\n  if (!current) {\n    return;\n  }\n\n  const next = current - 1;\n  if (next <= 0) {\n    dialogLockCounts.delete(doc);\n    if (body.getAttribute(BODY_DIALOG_LOCK_ATTRIBUTE) === BODY_DIALOG_LOCK_VALUE) {\n      body.removeAttribute(BODY_DIALOG_LOCK_ATTRIBUTE);\n    }\n    return;\n  }\n\n  dialogLockCounts.set(doc, next);\n};\n\nexport function useDialogTrap({ open, onClose, ref }: UseDialogTrapOptions) {\n  const focusableRef = React.useRef<HTMLElement[]>([]);\n\n  React.useEffect(() => {\n    if (!open) {\n      return;\n    }\n\n    const element = ref.current;\n    if (!element) {\n      return;\n    }\n\n    const doc = element.ownerDocument ?? document;\n    const previouslyActive = doc.activeElement as HTMLElement | null;\n    const restoreTabIndex = new Set<HTMLElement>();\n\n    lockBody(doc);\n\n    const updateFocusable = () => {\n      const nodes = Array.from(\n        element.querySelectorAll<HTMLElement>(FOCUSABLE_SELECTORS),\n      ).filter((node) => !node.hasAttribute(\"disabled\"));\n\n      focusableRef.current = nodes;\n    };\n    updateFocusable();\n\n    const focusElement = (node: HTMLElement | undefined | null) => {\n      if (!node) {\n        return;\n      }\n\n      if (!node.hasAttribute(\"tabindex\") && node.tabIndex < 0) {\n        node.setAttribute(\"tabindex\", \"-1\");\n        restoreTabIndex.add(node);\n      }\n\n      node.focus({ preventScroll: true });\n    };\n\n    const focusFirst = () => {\n      const [first] = focusableRef.current;\n      focusElement(first ?? element);\n    };\n\n    const focusLast = () => {\n      const focusable = focusableRef.current;\n      focusElement(focusable[focusable.length - 1] ?? element);\n    };\n\n    const handleKeyDown = (event: KeyboardEvent) => {\n      if (event.key === \"Escape\") {\n        event.preventDefault();\n        event.stopPropagation();\n        onClose();\n        return;\n      }\n\n      if (event.key !== \"Tab\") {\n        return;\n      }\n\n      const focusable = focusableRef.current;\n      const hasFocusable = focusable.length > 0;\n      const active = doc.activeElement as HTMLElement | null;\n      const target = event.target as Node | null;\n      const isInDialog = target ? element.contains(target) : false;\n\n      if (!hasFocusable) {\n        event.preventDefault();\n        focusElement(element);\n        return;\n      }\n\n      const first = focusable[0];\n      const last = focusable[focusable.length - 1];\n\n      if (!isInDialog) {\n        event.preventDefault();\n        focusElement(first);\n        return;\n      }\n\n      if (event.shiftKey) {\n        if (active === first || active === element) {\n          event.preventDefault();\n          focusLast();\n        }\n        return;\n      }\n\n      if (active === last || active === element) {\n        event.preventDefault();\n        focusFirst();\n      }\n    };\n\n    doc.addEventListener(\"keydown\", handleKeyDown);\n\n    const observer =\n      typeof MutationObserver !== \"undefined\"\n        ? new MutationObserver(() => {\n            updateFocusable();\n          })\n        : null;\n\n    observer?.observe(element, {\n      subtree: true,\n      childList: true,\n      attributes: true,\n      attributeFilter: [\"tabindex\", \"disabled\", \"aria-hidden\", \"hidden\"],\n    });\n\n    focusFirst();\n\n    return () => {\n      observer?.disconnect();\n      doc.removeEventListener(\"keydown\", handleKeyDown);\n      unlockBody(doc);\n      restoreTabIndex.forEach((node) => {\n        node.removeAttribute(\"tabindex\");\n      });\n      previouslyActive?.focus?.();\n      focusableRef.current = [];\n    };\n  }, [open, onClose, ref]);\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"cluster\":\"Cluster_cluster__Eav_J\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"Input_root__ym_oB\",\"ringToneAccent\":\"Input_ringToneAccent__8Ixwe\",\"ringToneDanger\":\"Input_ringToneDanger__LoqKd\",\"ringTonePrimary\":\"Input_ringTonePrimary__TUdGk\",\"ringToneSuccess\":\"Input_ringToneSuccess__hJzWK\",\"ringToneWarning\":\"Input_ringToneWarning__VPNLb\"};","\"use client\";\n\nimport * as React from \"react\";\nimport { useId } from \"react\";\n\nimport { cn } from \"@/lib/utils\";\n\nimport styles from \"./HeaderTabs.module.css\";\nimport { useRovingTabState } from \"./useRovingTabState\";\n\nexport type HeaderTabItem<Key extends string = string> = {\n  key: Key;\n  label: React.ReactNode;\n  icon?: React.ReactNode;\n  disabled?: boolean;\n  id?: string;\n  controls?: string;\n  className?: string;\n};\n\ninterface HeaderTabsBaseProps<Key extends string> {\n  items: HeaderTabItem<Key>[];\n  ariaLabel?: string;\n  ariaLabelledBy?: string;\n  idBase?: string;\n  linkPanels?: boolean;\n}\n\ntype HeaderTabsControlledProps<Key extends string> = {\n  value: Key;\n  defaultValue?: never;\n  onChange: (key: Key) => void;\n};\n\ntype HeaderTabsUncontrolledProps<Key extends string> = {\n  value?: undefined;\n  defaultValue: Key;\n  onChange?: (key: Key) => void;\n};\n\ntype HeaderTabsCommonDomProps = Omit<\n  React.HTMLAttributes<HTMLDivElement>,\n  \"onChange\" | \"children\"\n>;\n\nexport type HeaderTabsProps<Key extends string = string> = HeaderTabsBaseProps<Key> &\n  HeaderTabsCommonDomProps &\n  (HeaderTabsControlledProps<Key> | HeaderTabsUncontrolledProps<Key>);\n\nexport function HeaderTabs<Key extends string = string>({\n  items,\n  value,\n  defaultValue,\n  onChange,\n  ariaLabel,\n  ariaLabelledBy,\n  idBase,\n  linkPanels = true,\n  className,\n  onKeyDown: onKeyDownProp,\n  ...rest\n}: HeaderTabsProps<Key>) {\n  const sanitizedAriaLabel =\n    typeof ariaLabel === \"string\" && ariaLabel.trim().length > 0\n      ? ariaLabel.trim()\n      : undefined;\n  const sanitizedAriaLabelledBy =\n    typeof ariaLabelledBy === \"string\" && ariaLabelledBy.trim().length > 0\n      ? ariaLabelledBy.trim()\n      : undefined;\n\n  React.useEffect(() => {\n    if (process.env.NODE_ENV !== \"production\") {\n      if (!sanitizedAriaLabel && !sanitizedAriaLabelledBy) {\n        console.warn(\n          \"HeaderTabs requires either ariaLabel or ariaLabelledBy to describe the tablist.\",\n        );\n      }\n    }\n  }, [sanitizedAriaLabel, sanitizedAriaLabelledBy]);\n\n  const handleValueChange = React.useCallback(\n    (key: Key) => {\n      if (typeof onChange === \"function\") {\n        onChange(key);\n      }\n    },\n    [onChange],\n  );\n\n  const {\n    activeKey,\n    setActiveValue,\n    registerTab,\n    onKeyDown: rovingKeyDown,\n  } = useRovingTabState({\n    items,\n    value,\n    defaultValue,\n    onValueChange: handleValueChange,\n  });\n\n  const generatedId = useId();\n  const baseId = idBase ?? generatedId;\n\n  const handleKeyDown = React.useCallback(\n    (event: React.KeyboardEvent<HTMLDivElement>) => {\n      onKeyDownProp?.(event);\n      if (!event.defaultPrevented) {\n        rovingKeyDown(event);\n      }\n    },\n    [onKeyDownProp, rovingKeyDown],\n  );\n\n  return (\n    <div\n      role=\"tablist\"\n      aria-orientation=\"horizontal\"\n      aria-label={sanitizedAriaLabel}\n      aria-labelledby={sanitizedAriaLabelledBy}\n      className={cn(styles.root, className)}\n      onKeyDown={handleKeyDown}\n      {...rest}\n    >\n      <span aria-hidden=\"true\" className={styles.track} />\n      <div className={styles.list} role=\"presentation\">\n        {items.map((item) => {\n          const active = item.key === activeKey;\n          const isDisabled = Boolean(item.disabled);\n          const state = isDisabled ? \"disabled\" : active ? \"active\" : \"inactive\";\n          const tabId = `${baseId}-${item.id ?? `${item.key}-tab`}`;\n          const panelId = `${baseId}-${item.controls ?? `${item.key}-panel`}`;\n\n          const setRef: React.RefCallback<HTMLElement> = (node) => {\n            registerTab(item.key, node);\n          };\n\n          return (\n            <button\n              key={item.key}\n              type=\"button\"\n              role=\"tab\"\n              id={linkPanels ? tabId : undefined}\n              aria-selected={active}\n              aria-controls={linkPanels ? panelId : undefined}\n              aria-disabled={isDisabled || undefined}\n              tabIndex={isDisabled ? -1 : active ? 0 : -1}\n              data-state={state}\n              className={cn(styles.tab, item.className)}\n              onClick={(event) => {\n                if (isDisabled) {\n                  event.preventDefault();\n                  event.stopPropagation();\n                  return;\n                }\n                setActiveValue(item.key);\n              }}\n              ref={setRef as React.Ref<HTMLButtonElement>}\n              disabled={isDisabled}\n            >\n              {item.icon ? (\n                <span aria-hidden=\"true\" className={styles.icon}>\n                  {item.icon}\n                </span>\n              ) : null}\n              <span className={styles.label}>{item.label}</span>\n            </button>\n          );\n        })}\n      </div>\n    </div>\n  );\n}\n\nexport default HeaderTabs;\n","\"use client\";\n\nimport Image, { type ImageProps } from \"next/image\";\n\nimport {\n  DEFAULT_HERO_STATE,\n  getHeroIllustration,\n  type HeroIllustrationState,\n} from \"@/data/heroImages\";\nimport { useTheme } from \"@/lib/theme-context\";\nimport type { Variant } from \"@/lib/theme\";\nimport { cn } from \"@/lib/utils\";\n\ntype HeroImageProps = {\n  readonly state?: HeroIllustrationState;\n  readonly themeOverride?: Variant;\n  readonly alt?: string;\n} & Omit<ImageProps, \"src\" | \"alt\">;\n\nexport function HeroImage({\n  state = DEFAULT_HERO_STATE,\n  themeOverride,\n  alt,\n  className,\n  ...rest\n}: HeroImageProps) {\n  const [theme] = useTheme();\n  const variant = themeOverride ?? theme.variant;\n  const asset = getHeroIllustration(variant, state);\n  const rawAlt = alt ?? asset.alt ?? \"\";\n  const normalizedAlt = rawAlt.trim();\n  const finalAlt = normalizedAlt.length === 0 ? \"\" : normalizedAlt;\n  const ariaHidden = normalizedAlt.length === 0;\n\n  return (\n    <Image\n      {...rest}\n      src={asset.src}\n      alt={finalAlt}\n      aria-hidden={ariaHidden ? true : undefined}\n      className={cn(\n        \"mix-blend-screen opacity-[var(--hero-illustration-opacity,0.8)] blur-[var(--hero-illustration-blur,0px)]\",\n        className,\n      )}\n    />\n  );\n}\n\nexport default HeroImage;\n","// src/components/ui/layout/PageHeader.tsx\n\"use client\";\n\nimport * as React from \"react\";\nimport Header, { type HeaderProps } from \"./Header\";\nimport Hero, { type HeroProps, HeroSearchBar } from \"./hero\";\nimport NeomorphicHeroFrame, {\n  type NeomorphicHeroFrameProps,\n  type HeroSlot,\n  type HeroSlotInput,\n  type HeroSlots,\n} from \"./NeomorphicHeroFrame\";\nimport TabBar, { type TabBarA11yProps, type TabBarProps } from \"./TabBar\";\nimport { cn } from \"@/lib/utils\";\n\ntype PageHeaderElement = Extract<\n  keyof React.JSX.IntrinsicElements,\n  \"header\" | \"section\" | \"article\" | \"aside\" | \"main\" | \"div\" | \"nav\"\n>;\n\ntype PageHeaderElementProps = Omit<\n  React.HTMLAttributes<HTMLElement>,\n  \"className\" | \"children\"\n>;\n\ntype PageHeaderFrameElement = React.ElementRef<typeof NeomorphicHeroFrame>;\n\ntype HeaderKey = string;\ntype HeroKey = string;\n\ntype FrameSlotPresence = {\n  tabs: boolean;\n  search: boolean;\n  actions: boolean;\n};\n\ntype FrameVariantWithSpacing = Exclude<\n  NeomorphicHeroFrameProps[\"variant\"],\n  \"unstyled\" | undefined\n>;\n\nconst frameContentSpacingByVariant = {\n  default: \"space-y-[var(--space-5)] md:space-y-[var(--space-6)]\",\n  compact: \"space-y-[var(--space-4)] md:space-y-[var(--space-5)]\",\n  dense: \"space-y-[var(--space-3)] md:space-y-[var(--space-4)]\",\n} as const satisfies Record<FrameVariantWithSpacing, string>;\n\nconst flushHeaderBarPaddingClass =\n  \"[--header-bar-px:var(--space-0)] sm:[--header-bar-sm-px:var(--space-0)]\";\n\nconst flushHeaderBodyPaddingClass =\n  \"[--header-body-px:var(--space-0)] sm:[--header-body-sm-px:var(--space-0)]\";\n\nconst hasRenderableNode = (node: React.ReactNode): boolean => {\n  if (node === null || node === undefined) {\n    return false;\n  }\n  if (typeof node === \"boolean\") {\n    return false;\n  }\n  if (Array.isArray(node)) {\n    return node.some((child) => hasRenderableNode(child));\n  }\n  return true;\n};\n\nconst sanitizeActionsNode = <HeroKey extends string>(\n  node: HeroProps<HeroKey>[\"actions\"] | null | undefined,\n): HeroProps<HeroKey>[\"actions\"] | null | undefined => {\n  if (node === undefined) {\n    return undefined;\n  }\n  if (node === null) {\n    return null;\n  }\n  return hasRenderableNode(node) ? node : null;\n};\n\nconst hasRenderableSlotValue = (\n  value: HeroSlotInput | null | undefined,\n): boolean => {\n  if (value === null || value === undefined) {\n    return false;\n  }\n  if (typeof value === \"boolean\") {\n    return false;\n  }\n  if (Array.isArray(value)) {\n    return value.some((child) => hasRenderableNode(child));\n  }\n  if (\n    typeof value === \"object\" &&\n    !Array.isArray(value) &&\n    !React.isValidElement(value) &&\n    Object.prototype.hasOwnProperty.call(value, \"node\")\n  ) {\n    const slot = value as HeroSlot;\n    return hasRenderableNode(slot.node);\n  }\n  return true;\n};\n\nconst sanitizeSlotValue = (\n  value: HeroSlotInput | null | undefined,\n): HeroSlotInput | null | undefined => {\n  if (value === undefined) {\n    return undefined;\n  }\n  return hasRenderableSlotValue(value) ? value : null;\n};\n\nexport interface PageHeaderBaseProps<\n  HeaderKey extends string = string,\n  HeroKey extends string = string,\n> extends PageHeaderElementProps {\n  /** Props forwarded to <Header> */\n  header: HeaderProps<HeaderKey>;\n  /** Props forwarded to <Hero> */\n  hero: HeroProps<HeroKey>;\n  /** Optional className for the outer frame */\n  className?: string;\n  /** Optional className for the semantic wrapper */\n  containerClassName?: string;\n  /**\n   * Additional props for the outer frame.\n   *\n   * Inline style overrides are no longer supported; migrate to the\n   * token-mapped data attributes instead. For example, use\n   * `data-hero-divider-tint` or `data-hero-slot-shadow` to swap the\n   * divider palette and slot shadow without violating CSP.\n   */\n  frameProps?: NeomorphicHeroFrameProps;\n  /** Optional className for the inner content wrapper */\n  contentClassName?: string;\n  /** Semantic element for the header container (defaults to a <section>) */\n  as?: PageHeaderElement;\n  /** Optional hero sub-tabs override */\n  subTabs?: HeroProps<HeroKey>[\"subTabs\"];\n  /** Optional hero search override */\n  search?: HeroProps<HeroKey>[\"search\"];\n  /** Optional hero actions override */\n  actions?: HeroProps<HeroKey>[\"actions\"];\n  /** Move header tabs into the hero region instead of rendering them inline */\n  tabsInHero?: boolean;\n}\n\nexport type PageHeaderProps<\n  HeaderKey extends string = string,\n  HeroKey extends string = string,\n> = PageHeaderBaseProps<HeaderKey, HeroKey> &\n  React.RefAttributes<PageHeaderFrameElement>;\n\nexport type PageHeaderRef = PageHeaderFrameElement;\n\n/**\n * PageHeader  combines <Header> and <Hero> within a neomorphic frame.\n *\n * Used for top-of-page introductions with optional actions.\n */\nconst PageHeaderInner = <\n  HeaderKey extends string = string,\n  HeroKey extends string = string,\n>(\n  {\n    header,\n    hero,\n    className,\n    containerClassName,\n    frameProps,\n    contentClassName,\n    as,\n    subTabs,\n    search,\n    actions,\n    tabsInHero = false,\n    ...elementProps\n  }: PageHeaderBaseProps<HeaderKey, HeroKey>,\n  ref: React.ForwardedRef<PageHeaderFrameElement>,\n) => {\n  const Component: PageHeaderElement = as ?? \"section\";\n\n  const {\n    sticky: headerSticky = false,\n    tabs: headerTabs,\n    underline: headerUnderline,\n    barClassName: headerBarClassName,\n    bodyClassName: headerBodyClassName,\n    ...headerRest\n  } = header;\n\n  const {\n    sticky: heroSticky = false,\n    subTabs: heroSubTabs,\n    search: heroSearch,\n    actions: heroActions,\n    tone: heroTone,\n    frame: heroFrame,\n    topClassName: heroTopClassName,\n    as: heroAs,\n    padding: heroPadding,\n    dividerTint: heroDividerTintProp,\n    ...heroRest\n  } = hero;\n\n  const forwardedHeaderSubTabs = React.useMemo<\n    HeroProps<HeroKey>[\"subTabs\"] | undefined\n  >(() => {\n    if (!tabsInHero || heroSubTabs !== undefined || !headerTabs) {\n      return undefined;\n    }\n\n    const { items, value, onChange, renderItem, ...restHeaderTabs } = headerTabs;\n\n    return {\n      ...restHeaderTabs,\n      ...(renderItem\n        ? {\n            renderItem: renderItem as unknown as TabBarProps<HeroKey>[\"renderItem\"],\n          }\n        : {}),\n      items: items.map((item) => ({\n        ...item,\n        key: String(item.key) as HeroKey,\n      })),\n      value: String(value) as HeroKey,\n      onChange: (key: HeroKey) => onChange(String(key) as HeaderKey),\n    };\n  }, [tabsInHero, heroSubTabs, headerTabs]);\n\n  const resolvedSubTabs = React.useMemo(\n    () => {\n      if (heroSubTabs !== undefined) return heroSubTabs;\n      if (subTabs !== undefined) return subTabs;\n      return forwardedHeaderSubTabs;\n    },\n    [heroSubTabs, subTabs, forwardedHeaderSubTabs],\n  );\n\n  const resolvedSearch = React.useMemo(() => {\n    const baseSearch = heroSearch === null ? null : heroSearch ?? search;\n    return baseSearch !== null && baseSearch !== undefined\n      ? { ...baseSearch, round: baseSearch.round ?? true }\n      : baseSearch;\n  }, [heroSearch, search]);\n\n  const resolvedActions = React.useMemo(\n    () =>\n      sanitizeActionsNode<HeroKey>(\n        heroActions === null ? null : heroActions ?? actions,\n      ),\n    [heroActions, actions],\n  );\n\n  const resolvedHeroFrame = heroFrame ?? true;\n\n  const heroDividerTint = heroDividerTintProp ?? \"primary\";\n\n  const frameDividerTintAttr = frameProps?.[\"data-hero-divider-tint\"];\n  const {\n    className: frameClassName,\n    variant: frameVariant,\n    slots: frameSlotsProp,\n    align: frameAlign,\n    label: frameLabel,\n    labelledById: frameLabelledById,\n    ...framePropsRest\n  } = frameProps ?? {};\n  const { [\"data-hero-divider-tint\"]: _frameDividerTintAttr, ...restFrameProps } =\n    framePropsRest;\n  void _frameDividerTintAttr;\n\n  const normalizedFrameDividerTint =\n    frameDividerTintAttr === \"life\"\n      ? \"life\"\n      : frameDividerTintAttr === \"primary\"\n      ? \"primary\"\n      : undefined;\n\n  const resolvedFrameDividerTint = normalizedFrameDividerTint ?? heroDividerTint;\n\n  const heroShouldRenderActionArea = frameSlotsProp === null;\n  const heroShouldRenderTabs = heroShouldRenderActionArea || tabsInHero;\n\n  const heroTabVariant: TabBarProps[\"variant\"] | undefined =\n    resolvedHeroFrame ? \"neo\" : undefined;\n\n  const computedContentSpacing = React.useMemo(() => {\n    const variant = frameVariant ?? \"default\";\n    if (variant === \"unstyled\") {\n      return undefined;\n    }\n    return (\n      frameContentSpacingByVariant[variant] ??\n      frameContentSpacingByVariant.default\n    );\n  }, [frameVariant]);\n\n  const normalizedHeaderBarClassName =\n    headerBarClassName === undefined\n      ? flushHeaderBarPaddingClass\n      : headerBarClassName;\n\n  const normalizedHeaderBodyClassName =\n    headerBodyClassName === undefined\n      ? flushHeaderBodyPaddingClass\n      : headerBodyClassName;\n\n  const actionAreaTabsSlot = React.useMemo<HeroSlot | null | undefined>(() => {\n    if (!resolvedSubTabs || heroShouldRenderTabs) return undefined;\n\n    const {\n      items,\n      value,\n      onChange,\n      className: subTabsClassName,\n      align,\n      size,\n      showBaseline,\n      right: subTabsRight,\n      ariaLabel,\n      ariaLabelledBy: subTabsAriaLabelledBy,\n      variant: subTabsVariant,\n      linkPanels,\n      idBase,\n    } = resolvedSubTabs;\n\n    const sanitizedItems = items.map(({ hint, ...item }) => {\n      void hint;\n      return item;\n    });\n\n    const sanitizedAriaLabel =\n      typeof ariaLabel === \"string\" && ariaLabel.trim().length > 0\n        ? ariaLabel.trim()\n        : undefined;\n    const sanitizedAriaLabelledBy =\n      typeof subTabsAriaLabelledBy === \"string\" &&\n      subTabsAriaLabelledBy.trim().length > 0\n        ? subTabsAriaLabelledBy.trim()\n        : undefined;\n    const accessibilityProps: TabBarA11yProps = sanitizedAriaLabelledBy\n      ? {\n          ariaLabelledBy: sanitizedAriaLabelledBy,\n          ...(sanitizedAriaLabel ? { ariaLabel: sanitizedAriaLabel } : {}),\n        }\n      : {\n          ariaLabel: sanitizedAriaLabel ?? \"Hero sub-tabs\",\n        };\n\n    const slotLabel = sanitizedAriaLabelledBy\n      ? sanitizedAriaLabel ?? undefined\n      : sanitizedAriaLabel ?? \"Hero sub-tabs\";\n\n    return {\n      node: (\n        <TabBar<HeroKey>\n          items={sanitizedItems}\n          value={String(value) as HeroKey}\n          onValueChange={(key) => onChange(key as HeroKey)}\n          size={size ?? \"md\"}\n          align={align ?? \"end\"}\n          className={cn(\"justify-end\", subTabsClassName)}\n          showBaseline={showBaseline ?? true}\n          right={subTabsRight}\n          variant={subTabsVariant ?? heroTabVariant}\n          {...accessibilityProps}\n          linkPanels={linkPanels}\n          idBase={idBase}\n        />\n      ),\n      ...(slotLabel ? { label: slotLabel } : {}),\n      ...(sanitizedAriaLabelledBy\n        ? { labelledById: sanitizedAriaLabelledBy }\n        : {}),\n    };\n  }, [\n    resolvedSubTabs,\n    heroTabVariant,\n    heroShouldRenderTabs,\n  ]);\n\n  const actionAreaSearchSlot = React.useMemo<HeroSlot | null | undefined>(() => {\n    if (resolvedSearch === null) return null;\n    if (!resolvedSearch) return undefined;\n\n    const rawAriaLabel = resolvedSearch[\"aria-label\"];\n    const sanitizedAriaLabel =\n      typeof rawAriaLabel === \"string\" && rawAriaLabel.trim().length > 0\n        ? rawAriaLabel.trim()\n        : undefined;\n    const rawAriaLabelledBy = resolvedSearch[\"aria-labelledby\"];\n    const sanitizedAriaLabelledBy =\n      typeof rawAriaLabelledBy === \"string\" &&\n      rawAriaLabelledBy.trim().length > 0\n        ? rawAriaLabelledBy.trim()\n        : undefined;\n    const visibleLabel = resolvedSearch.label;\n    const sanitizedVisibleLabel =\n      typeof visibleLabel === \"string\" && visibleLabel.trim().length > 0\n        ? visibleLabel.trim()\n        : undefined;\n\n    const slotLabel = sanitizedAriaLabelledBy\n      ? sanitizedAriaLabel ?? sanitizedVisibleLabel\n      : sanitizedAriaLabel ?? sanitizedVisibleLabel ?? \"Hero search\";\n\n    const usesNeoPill =\n      resolvedSearch.variant === \"neo\" || Boolean(resolvedSearch.round);\n\n    return {\n      node: <HeroSearchBar {...resolvedSearch} />,\n      ...(slotLabel ? { label: slotLabel } : {}),\n      ...(sanitizedAriaLabelledBy\n        ? { labelledById: sanitizedAriaLabelledBy }\n        : {}),\n      ...(usesNeoPill ? { unstyled: true } : {}),\n    };\n  }, [resolvedSearch]);\n\n  const actionAreaActions = resolvedActions;\n\n  const heroActionProps = React.useMemo<\n    Pick<HeroProps<HeroKey>, \"subTabs\" | \"search\" | \"actions\"> | undefined\n  >(() => {\n    if (!heroShouldRenderActionArea && !heroShouldRenderTabs) return undefined;\n    return {\n      ...(heroShouldRenderTabs ? { subTabs: resolvedSubTabs } : {}),\n      ...(heroShouldRenderActionArea\n        ? { search: resolvedSearch, actions: resolvedActions }\n        : {}),\n    };\n  }, [\n    heroShouldRenderActionArea,\n    heroShouldRenderTabs,\n    resolvedSubTabs,\n    resolvedSearch,\n    resolvedActions,\n  ]);\n\n  const { resolvedFrameSlots, frameSlotPresence } = React.useMemo<{\n    resolvedFrameSlots: HeroSlots | null | undefined;\n    frameSlotPresence: FrameSlotPresence;\n  }>(() => {\n    const emptyPresence: FrameSlotPresence = {\n      tabs: false,\n      search: false,\n      actions: false,\n    };\n\n    if (frameSlotsProp === null) {\n      return { resolvedFrameSlots: null, frameSlotPresence: emptyPresence };\n    }\n\n    const slotKeys: Array<keyof FrameSlotPresence> = [\n      \"tabs\",\n      \"search\",\n      \"actions\",\n    ];\n\n    const defaultSlotCandidates: Record<\n      keyof FrameSlotPresence,\n      HeroSlotInput | null | undefined\n    > = {\n      tabs: sanitizeSlotValue(actionAreaTabsSlot),\n      search: sanitizeSlotValue(actionAreaSearchSlot),\n      actions: sanitizeSlotValue(actionAreaActions),\n    };\n\n    const defaultSlots: HeroSlots = {};\n    for (const key of slotKeys) {\n      const value = defaultSlotCandidates[key];\n      if (value !== undefined) {\n        defaultSlots[key] = value;\n      }\n    }\n\n    if (frameSlotsProp === undefined) {\n      const presence = { ...emptyPresence };\n      let hasRenderable = false;\n\n      for (const key of slotKeys) {\n        const value = defaultSlotCandidates[key];\n        if (hasRenderableSlotValue(value)) {\n          presence[key] = true;\n          hasRenderable = true;\n        }\n      }\n\n      return {\n        resolvedFrameSlots: hasRenderable ? defaultSlots : undefined,\n        frameSlotPresence: presence,\n      };\n    }\n\n    const merged: HeroSlots = {};\n    const presence = { ...emptyPresence };\n    let hasRenderable = false;\n\n    for (const key of slotKeys) {\n      const provided = Object.prototype.hasOwnProperty.call(frameSlotsProp, key);\n      const candidate = provided\n        ? (frameSlotsProp[key] as HeroSlotInput | null | undefined)\n        : defaultSlotCandidates[key];\n      const value = sanitizeSlotValue(candidate);\n      if (value !== undefined) {\n        merged[key] = value;\n      }\n      if (hasRenderableSlotValue(value)) {\n        presence[key] = true;\n        hasRenderable = true;\n      }\n    }\n\n    if (!hasRenderable) {\n      return { resolvedFrameSlots: undefined, frameSlotPresence: emptyPresence };\n    }\n\n    return { resolvedFrameSlots: merged, frameSlotPresence: presence };\n  }, [\n    frameSlotsProp,\n    actionAreaTabsSlot,\n    actionAreaSearchSlot,\n    actionAreaActions,\n  ]);\n\n  const fallbackFrameAlign = React.useMemo<\n    NeomorphicHeroFrameProps[\"align\"] | undefined\n  >(() => {\n    if (resolvedFrameSlots === null) {\n      return undefined;\n    }\n\n    const { tabs: hasTabs, search: hasSearch, actions: hasActions } =\n      frameSlotPresence;\n\n    const activeCount = Number(hasTabs) + Number(hasSearch) + Number(hasActions);\n\n    if (activeCount === 0) {\n      return undefined;\n    }\n\n    if (activeCount === 3) {\n      return \"between\";\n    }\n\n    const tabPreference = hasTabs\n      ? resolvedSubTabs?.align ?? \"end\"\n      : undefined;\n\n    let searchPreference: NeomorphicHeroFrameProps[\"align\"] | undefined;\n    if (hasSearch) {\n      if (resolvedSearch && typeof resolvedSearch === \"object\") {\n        const candidate = (resolvedSearch as {\n          align?: NeomorphicHeroFrameProps[\"align\"];\n        }).align;\n        if (\n          candidate === \"start\" ||\n          candidate === \"center\" ||\n          candidate === \"end\" ||\n          candidate === \"between\"\n        ) {\n          searchPreference = candidate;\n        }\n      }\n      if (!searchPreference) {\n        searchPreference = \"center\";\n      }\n    }\n\n    const actionsPreference = hasActions ? \"end\" : undefined;\n\n    if (activeCount === 1) {\n      if (hasTabs) return tabPreference ?? \"end\";\n      if (hasSearch) return searchPreference ?? \"center\";\n      return \"center\";\n    }\n\n    const preferenceOrder: Array<\n      [present: boolean, value: NeomorphicHeroFrameProps[\"align\"] | undefined]\n    > = [\n      [hasSearch, searchPreference],\n      [hasTabs, tabPreference],\n      [hasActions, actionsPreference],\n    ];\n\n    for (const [present, value] of preferenceOrder) {\n      if (!present) continue;\n      if (value) return value;\n    }\n\n    return \"center\";\n  }, [\n    resolvedFrameSlots,\n    frameSlotPresence,\n    resolvedSubTabs,\n    resolvedSearch,\n  ]);\n\n  const effectiveFrameAlign =\n    frameAlign ?? fallbackFrameAlign ?? \"between\";\n\n  return (\n    <Component\n      className={containerClassName}\n      {...(elementProps as React.HTMLAttributes<HTMLElement>)}\n    >\n      <NeomorphicHeroFrame\n        ref={ref}\n        variant={frameVariant ?? \"default\"}\n        align={effectiveFrameAlign}\n        {...(resolvedFrameSlots !== undefined\n          ? { slots: resolvedFrameSlots }\n          : {})}\n        label={frameLabel}\n        labelledById={frameLabelledById}\n        data-hero-divider-tint={resolvedFrameDividerTint}\n        {...restFrameProps}\n        className={cn(className, frameClassName)}\n      >\n        <div\n          className={cn(\n            \"relative z-[2]\",\n            computedContentSpacing,\n            contentClassName,\n          )}\n        >\n          <Header\n            {...headerRest}\n            barClassName={normalizedHeaderBarClassName}\n            bodyClassName={normalizedHeaderBodyClassName}\n            sticky={headerSticky}\n            tabs={tabsInHero ? undefined : headerTabs}\n            underline={headerUnderline ?? false}\n          />\n          <Hero\n            {...heroRest}\n            sticky={heroSticky}\n            as={heroAs ?? \"section\"}\n            frame={resolvedHeroFrame}\n            topClassName={cn(\"top-[var(--header-stack)]\", heroTopClassName)}\n            tone={heroTone ?? \"supportive\"}\n            dividerTint={heroDividerTint}\n            {...(heroPadding !== undefined ? { padding: heroPadding } : {})}\n            {...(heroActionProps ?? {})}\n          />\n        </div>\n      </NeomorphicHeroFrame>\n    </Component>\n  );\n};\n\nconst PageHeader = React.forwardRef<\n  PageHeaderFrameElement,\n  PageHeaderBaseProps<HeaderKey, HeroKey>\n>(PageHeaderInner);\n\nPageHeader.displayName = \"PageHeader\";\n\nexport default PageHeader as <\n  HeaderKey extends string = string,\n  HeroKey extends string = string,\n>(\n  props: PageHeaderProps<HeaderKey, HeroKey>,\n) => React.ReactElement | null;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"grid\":\"Grid_grid__vz5zD\"};","// src/components/ui/layout/hero/HeroTabs.tsx\n\"use client\";\n\nimport * as React from \"react\";\nimport TabBar, {\n  type TabBarA11yProps,\n  type TabBarProps,\n  type TabItem,\n} from \"../TabBar\";\n\nexport type HeroTab<K extends string> = TabItem<K> & {\n  hint?: string;\n};\n\nexport type HeroTabsProps<K extends string> = TabBarA11yProps & {\n  tabs: Array<HeroTab<K>>;\n  activeKey: K;\n  onChange: (key: K) => void;\n  className?: string;\n  align?: TabBarProps[\"align\"];\n  size?: TabBarProps[\"size\"];\n  right?: React.ReactNode;\n  showBaseline?: boolean;\n  variant?: TabBarProps[\"variant\"];\n  linkPanels?: boolean;\n  /**\n   * Base string applied to tab and panel ids when linking panels.\n   * Mirrors the TabBar `idBase` prop for deterministic aria wiring.\n   */\n  idBase?: string;\n};\n\nexport function HeroTabs<K extends string>(props: HeroTabsProps<K>) {\n  const {\n    tabs,\n    activeKey,\n    onChange,\n    ariaLabel,\n    ariaLabelledBy,\n    className,\n    align = \"end\",\n    size = \"md\",\n    right,\n    showBaseline = false,\n    variant,\n    linkPanels = false,\n    idBase,\n  } = props;\n\n  const sanitizedAriaLabel =\n    typeof ariaLabel === \"string\" && ariaLabel.trim().length > 0\n      ? ariaLabel.trim()\n      : undefined;\n  const sanitizedAriaLabelledBy =\n    typeof ariaLabelledBy === \"string\" && ariaLabelledBy.trim().length > 0\n      ? ariaLabelledBy.trim()\n      : undefined;\n\n  const accessibilityProps: TabBarA11yProps = sanitizedAriaLabelledBy\n    ? {\n        ariaLabelledBy: sanitizedAriaLabelledBy,\n        ...(sanitizedAriaLabel ? { ariaLabel: sanitizedAriaLabel } : {}),\n      }\n    : {\n        ariaLabel: sanitizedAriaLabel ?? \"Hero tabs\",\n      };\n\n  const items: TabItem[] = React.useMemo(\n    () =>\n      tabs.map((tab) => {\n        const { hint, ...item } = tab;\n        void hint;\n        return {\n          ...item,\n          key: String(tab.key),\n        };\n      }),\n    [tabs],\n  );\n\n  return (\n    <TabBar\n      items={items}\n      value={String(activeKey)}\n      onValueChange={(key) => onChange(key as K)}\n      align={align}\n      size={size}\n      right={right}\n      {...accessibilityProps}\n      className={className}\n      showBaseline={showBaseline}\n      variant={variant}\n      linkPanels={linkPanels}\n      idBase={idBase}\n    />\n  );\n}\n\n","import type { ImageProps } from \"next/image\";\nimport { VARIANT_LABELS, type Variant } from \"@/lib/theme\";\nimport baseIllustration from \"../../public/BEST_ONE_EVAH.png\";\n\nexport const HERO_ILLUSTRATION_STATES = [\n  \"idle\",\n  \"hover\",\n  \"focus\",\n  \"alternate\",\n] as const;\n\nexport type HeroIllustrationState =\n  (typeof HERO_ILLUSTRATION_STATES)[number];\n\nexport interface HeroIllustrationAsset {\n  readonly src: ImageProps[\"src\"];\n  readonly alt: string;\n}\n\nexport type HeroIllustrationLibrary = Record<\n  Variant,\n  Record<HeroIllustrationState, HeroIllustrationAsset>\n>;\n\nconst BASE_DESCRIPTION =\n  \"Planner assistant presenting a holographic dashboard scene\";\n\nfunction describeState(label: string, state: HeroIllustrationState) {\n  switch (state) {\n    case \"hover\":\n      return `${BASE_DESCRIPTION} with hover lighting in the ${label} theme.`;\n    case \"focus\":\n      return `${BASE_DESCRIPTION} with focus highlights tuned for the ${label} theme.`;\n    case \"alternate\":\n      return `Alternate ${label} theme take on the Planner assistant and dashboard.`;\n    default:\n      return `${BASE_DESCRIPTION} tailored to the ${label} theme.`;\n  }\n}\n\nfunction buildStateMap(\n  label: string,\n  src: ImageProps[\"src\"],\n): Record<HeroIllustrationState, HeroIllustrationAsset> {\n  const map: Partial<Record<HeroIllustrationState, HeroIllustrationAsset>> = {};\n\n  for (const state of HERO_ILLUSTRATION_STATES) {\n    map[state] = {\n      src,\n      alt: describeState(label, state),\n    } satisfies HeroIllustrationAsset;\n  }\n\n  return map as Record<HeroIllustrationState, HeroIllustrationAsset>;\n}\n\nexport const DEFAULT_HERO_VARIANT: Variant = \"lg\";\nexport const DEFAULT_HERO_STATE: HeroIllustrationState = \"idle\";\n\nconst variantEntries = Object.entries(VARIANT_LABELS) as [Variant, string][];\n\nexport const HERO_ILLUSTRATION_LIBRARY: HeroIllustrationLibrary =\n  variantEntries.reduce<HeroIllustrationLibrary>((acc, [variant, label]) => {\n    acc[variant] = buildStateMap(label, baseIllustration);\n    return acc;\n  }, {} as HeroIllustrationLibrary);\n\nexport function getHeroIllustration(\n  variant: Variant,\n  state: HeroIllustrationState,\n): HeroIllustrationAsset {\n  const variantAssets =\n    HERO_ILLUSTRATION_LIBRARY[variant] ??\n    HERO_ILLUSTRATION_LIBRARY[DEFAULT_HERO_VARIANT];\n\n  return variantAssets[state] ?? variantAssets[DEFAULT_HERO_STATE];\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"HeaderTabs_root__j6hn4\",\"track\":\"HeaderTabs_track__TV7p9\",\"list\":\"HeaderTabs_list__OoqrH\",\"tab\":\"HeaderTabs_tab__HSSRv\",\"icon\":\"HeaderTabs_icon__L1pwJ\",\"label\":\"HeaderTabs_label__9GkB6\"};","import * as React from \"react\";\n\nimport { cn } from \"@/lib/utils\";\n\nimport type { GlitchOverlayToken } from \"./BlobContainer\";\nimport styles from \"./DripEdge.module.css\";\n\ntype DripTone = \"primary\" | \"accent\" | \"info\" | \"danger\" | \"surface\";\n\ntype StyleWithVars = React.CSSProperties & {\n  \"--drip-edge-stop-1\"?: string;\n  \"--drip-edge-stop-2\"?: string;\n  \"--drip-edge-stop-3\"?: string;\n  \"--drip-edge-alpha-1\"?: string;\n  \"--drip-edge-alpha-2\"?: string;\n  \"--drip-edge-alpha-3\"?: string;\n};\n\nexport type DripEdgeProps = Omit<\n  React.HTMLAttributes<HTMLSpanElement>,\n  \"style\"\n> & {\n  tone?: DripTone;\n  overlayToken?: GlitchOverlayToken;\n  style?: React.CSSProperties;\n};\n\nconst toneStops: Record<DripTone, [string, string, string]> = {\n  primary: [\"--primary\", \"--primary\", \"--primary\"],\n  accent: [\"--accent\", \"--accent\", \"--accent\"],\n  info: [\"--accent-2\", \"--accent-2\", \"--accent-2\"],\n  danger: [\"--danger\", \"--danger\", \"--danger\"],\n  surface: [\n    \"--backdrop-drip-1\",\n    \"--backdrop-drip-2\",\n    \"--backdrop-drip-3\",\n  ],\n};\n\nconst resolveToneStops = (tone: DripTone) => toneStops[tone] ?? toneStops.surface;\n\nconst DripEdge = React.forwardRef<HTMLSpanElement, DripEdgeProps>(\n  (\n    {\n      className,\n      tone = \"surface\",\n      overlayToken = \"glitch-overlay-button-opacity\",\n      style,\n      ...rest\n    },\n    ref,\n  ) => {\n    const [stop1, stop2, stop3] = resolveToneStops(tone);\n    const overlayVar = `var(--${overlayToken})`;\n\n    const mergedStyle: StyleWithVars = {\n      ...(style as StyleWithVars | undefined),\n      \"--drip-edge-stop-1\": `var(${stop1})`,\n      \"--drip-edge-stop-2\": `var(${stop2})`,\n      \"--drip-edge-stop-3\": `var(${stop3})`,\n    };\n\n    if (!mergedStyle[\"--drip-edge-alpha-1\"]) {\n      mergedStyle[\"--drip-edge-alpha-1\"] = overlayVar;\n    }\n    if (!mergedStyle[\"--drip-edge-alpha-2\"]) {\n      mergedStyle[\"--drip-edge-alpha-2\"] = overlayVar;\n    }\n    if (!mergedStyle[\"--drip-edge-alpha-3\"]) {\n      mergedStyle[\"--drip-edge-alpha-3\"] = overlayVar;\n    }\n\n    return (\n      <span\n        {...rest}\n        ref={ref}\n        aria-hidden\n        className={cn(styles.root, className)}\n        style={mergedStyle}\n      />\n    );\n  },\n);\n\nDripEdge.displayName = \"DripEdge\";\n\nexport default DripEdge;\n","\"use client\";\n\nimport * as React from \"react\";\n\nimport { cn } from \"@/lib/utils\";\nimport TabBar, {\n  type TabBarProps,\n  type TabItem,\n} from \"../layout/TabBar\";\n\ninterface TabsContextValue<Key extends string> {\n  value: Key;\n  setValue: (value: Key) => void;\n  idBase: string;\n}\n\nconst TabsContext = React.createContext<TabsContextValue<string> | null>(null);\n\nfunction useTabsContext<Key extends string>() {\n  const context = React.useContext(TabsContext);\n  if (!context) {\n    throw new Error(\"Tab components must be used within a <Tabs> provider.\");\n  }\n  return context as unknown as TabsContextValue<Key>;\n}\n\nexport interface TabsProps<Key extends string = string>\n  extends React.HTMLAttributes<HTMLDivElement> {\n  value?: Key;\n  defaultValue?: Key;\n  onValueChange?: (value: Key) => void;\n  idBase?: string;\n}\n\nexport function Tabs<Key extends string = string>({\n  value,\n  defaultValue,\n  onValueChange,\n  idBase,\n  children,\n  className,\n  ...rest\n}: TabsProps<Key>) {\n  const [internal, setInternal] = React.useState<Key | undefined>(defaultValue);\n  const controlled = value !== undefined;\n  const activeValue = controlled ? value : internal;\n\n  React.useEffect(() => {\n    if (process.env.NODE_ENV !== \"production\") {\n      if (activeValue === undefined && defaultValue === undefined) {\n        console.warn(\"Tabs requires a value or defaultValue to be provided.\");\n      }\n    }\n  }, [activeValue, defaultValue]);\n\n  const resolvedValue = (activeValue ?? defaultValue) as Key;\n\n  const handleValueChange = React.useCallback(\n    (next: Key) => {\n      if (!controlled) {\n        setInternal(next);\n      }\n      onValueChange?.(next);\n    },\n    [controlled, onValueChange],\n  );\n\n  const generatedId = React.useId();\n  const baseId = idBase ?? generatedId;\n\n  const context = React.useMemo<TabsContextValue<Key>>(\n    () => ({ value: resolvedValue, setValue: handleValueChange, idBase: baseId }),\n    [baseId, handleValueChange, resolvedValue],\n  );\n\n  return (\n    <TabsContext.Provider value={context as unknown as TabsContextValue<string>}>\n      <div className={cn(\"flex flex-col gap-[var(--space-6)]\", className)} {...rest}>\n        {children}\n      </div>\n    </TabsContext.Provider>\n  );\n}\n\nexport type TabListItem<Key extends string = string> = TabItem<Key>;\n\nexport type TabListProps<\n  Key extends string = string,\n  Extra extends Record<string, unknown> | undefined = undefined,\n> = Omit<TabBarProps<Key, Extra>, \"value\" | \"onValueChange\" | \"idBase\"> & {\n  value?: never;\n  onValueChange?: never;\n  idBase?: never;\n};\n\nexport function TabList<\n  Key extends string = string,\n  Extra extends Record<string, unknown> | undefined = undefined,\n>(props: TabListProps<Key, Extra>) {\n  const { value, setValue, idBase } = useTabsContext<Key>();\n  const { linkPanels = true, ...rest } = props;\n  const tabBarProps = rest as unknown as TabBarProps<Key, Extra>;\n  return (\n    <TabBar\n      {...tabBarProps}\n      value={value}\n      onValueChange={setValue}\n      idBase={idBase}\n      linkPanels={linkPanels}\n    />\n  );\n}\n\nexport interface TabPanelProps<Key extends string = string>\n  extends React.HTMLAttributes<HTMLDivElement> {\n  value: Key;\n  forceMount?: boolean;\n}\n\nexport function TabPanel<Key extends string = string>({\n  value,\n  children,\n  className,\n  forceMount = false,\n  ...rest\n}: TabPanelProps<Key>) {\n  const { value: activeValue, idBase } = useTabsContext<Key>();\n  const isActive = activeValue === value;\n  const panelId = `${idBase}-${value}-panel`;\n  const tabId = `${idBase}-${value}-tab`;\n  const shouldRender = forceMount || isActive;\n\n  return (\n    <div\n      role=\"tabpanel\"\n      id={panelId}\n      aria-labelledby={tabId}\n      hidden={!isActive}\n      tabIndex={isActive ? 0 : -1}\n      data-state={isActive ? \"active\" : \"inactive\"}\n      className={cn(\n        \"focus-visible:ring-2 focus-visible:ring-[var(--ring-contrast)] focus-visible:shadow-[var(--shadow-glow-md)] focus-visible:[outline:var(--spacing-0-5)_solid_var(--ring-contrast)] focus-visible:[outline-offset:var(--spacing-0-5)]\",\n        className,\n      )}\n      {...rest}\n    >\n      {shouldRender ? children : null}\n    </div>\n  );\n}\n\nexport default Tabs;\n","import * as React from \"react\";\n\nimport { createGalleryPreview, defineGallerySection } from \"@/components/gallery/registry\";\n\nimport Textarea from \"./Textarea\";\n\ntype TextareaStateSpec = {\n  id: string;\n  name: string;\n  className?: string;\n  textareaClassName?: string;\n  props: React.ComponentProps<typeof Textarea>;\n  code?: string;\n};\n\nconst TEXTAREA_STATES: readonly TextareaStateSpec[] = [\n  {\n    id: \"default\",\n    name: \"Default\",\n    props: { placeholder: \"Share your thoughts\" },\n    code: \"<Textarea placeholder=\\\"Share your thoughts\\\" />\",\n  },\n  {\n    id: \"hover\",\n    name: \"Hover\",\n    className: \"bg-[--hover]\",\n    props: { placeholder: \"Hover\" },\n    code: \"<Textarea className=\\\"bg-[--hover]\\\" placeholder=\\\"Hover\\\" />\",\n  },\n  {\n    id: \"focus-visible\",\n    name: \"Focus-visible\",\n    className: \"ring-2 ring-[hsl(var(--ring))]\",\n    props: { placeholder: \"Focus-visible\" },\n    code: \"<Textarea className=\\\"ring-2 ring-[hsl(var(--ring))]\\\" placeholder=\\\"Focus-visible\\\" />\",\n  },\n  {\n    id: \"active\",\n    name: \"Active\",\n    className: \"bg-[--active]\",\n    props: { placeholder: \"Active\" },\n    code: \"<Textarea className=\\\"bg-[--active]\\\" placeholder=\\\"Active\\\" />\",\n  },\n  {\n    id: \"invalid\",\n    name: \"Invalid\",\n    className: \"ring-2 ring-[hsl(var(--danger))]\",\n    props: { placeholder: \"Needs attention\", \"aria-invalid\": true },\n    code: \"<Textarea\\n  className=\\\"ring-2 ring-[hsl(var(--danger))]\\\"\\n  placeholder=\\\"Needs attention\\\"\\n  aria-invalid\\n/>\",\n  },\n  {\n    id: \"read-only\",\n    name: \"Read-only\",\n    className: \"bg-[hsl(var(--card)/0.72)]\",\n    textareaClassName: \"text-muted-foreground\",\n    props: { placeholder: \"Read-only\", readOnly: true },\n    code: \"<Textarea\\n  className=\\\"bg-[hsl(var(--card)/0.72)]\\\"\\n  textareaClassName=\\\"text-muted-foreground\\\"\\n  readOnly\\n  placeholder=\\\"Read-only\\\"\\n/>\",\n  },\n  {\n    id: \"disabled\",\n    name: \"Disabled\",\n    props: { placeholder: \"Disabled\", disabled: true },\n    code: \"<Textarea placeholder=\\\"Disabled\\\" disabled />\",\n  },\n  {\n    id: \"loading\",\n    name: \"Loading\",\n    props: { placeholder: \"Loading\", \"data-loading\": true },\n    code: \"<Textarea placeholder=\\\"Loading\\\" data-loading />\",\n  },\n];\n\nfunction TextareaStatePreview({ state }: { state: TextareaStateSpec }) {\n  const { className, textareaClassName, props } = state;\n  return (\n    <Textarea\n      className={className}\n      textareaClassName={textareaClassName}\n      {...props}\n    />\n  );\n}\n\nfunction TextareaGalleryPreview() {\n  return (\n    <div className=\"flex flex-col gap-[var(--space-2)]\">\n      {TEXTAREA_STATES.map((state) => (\n        <TextareaStatePreview key={state.id} state={state} />\n      ))}\n      <Textarea\n        placeholder=\"Resizable textarea\"\n        resize=\"resize-y\"\n        aria-label=\"Resizable textarea\"\n      />\n    </div>\n  );\n}\n\nexport default defineGallerySection({\n  id: \"inputs\",\n  entries: [\n    {\n      id: \"textarea\",\n      name: \"Textarea\",\n      description: \"Multi-line text input with Field styling\",\n      kind: \"primitive\",\n      tags: [\"textarea\", \"input\"],\n      props: [\n        { name: \"placeholder\", type: \"string\" },\n        { name: \"disabled\", type: \"boolean\", defaultValue: \"false\" },\n        { name: \"readOnly\", type: \"boolean\", defaultValue: \"false\" },\n        {\n          name: \"aria-invalid\",\n          type: 'boolean | \"grammar\" | \"spelling\" | undefined',\n        },\n        { name: \"data-loading\", type: \"boolean\", defaultValue: \"false\" },\n        { name: \"resize\", type: \"string\" },\n      ],\n      axes: [\n        {\n          id: \"state\",\n          label: \"State\",\n          type: \"state\",\n          values: TEXTAREA_STATES.map(({ name }) => ({ value: name })),\n        },\n      ],\n      preview: createGalleryPreview({\n        id: \"ui:textarea:states\",\n        render: () => <TextareaGalleryPreview />,\n      }),\n      states: TEXTAREA_STATES.map((state) => ({\n        id: state.id,\n        name: state.name,\n        code: state.code,\n        preview: createGalleryPreview({\n          id: `ui:textarea:state:${state.id}`,\n          render: () => <TextareaStatePreview state={state} />,\n        }),\n      })),\n      code: `<Textarea placeholder=\"Share your thoughts\" />\n<Textarea placeholder=\"Hover\" className=\"bg-[--hover]\" />\n<Textarea placeholder=\"Focus-visible\" className=\"ring-2 ring-[hsl(var(--ring))]\" />\n<Textarea placeholder=\"Active\" className=\"bg-[--active]\" />\n<Textarea\n  placeholder=\"Needs attention\"\n  className=\"ring-2 ring-[hsl(var(--danger))]\"\n  aria-invalid\n/> \n<Textarea\n  placeholder=\"Read-only\"\n  className=\"bg-[hsl(var(--card)/0.72)]\"\n  textareaClassName=\"text-muted-foreground\"\n  readOnly\n/> \n<Textarea placeholder=\"Disabled\" disabled />\n<Textarea placeholder=\"Loading\" data-loading />\n<Textarea placeholder=\"Resizable textarea\" resize=\"resize-y\" aria-label=\"Resizable textarea\" />`,\n    },\n  ],\n});\n","\"use client\";\n\nimport * as React from \"react\";\n\ntype AnyArgs = readonly unknown[];\n\nexport default function useDebouncedCallback<TArgs extends AnyArgs>(\n  callback: (...args: TArgs) => void | Promise<void>,\n  delay: number,\n): readonly [(...args: TArgs) => void, () => void] {\n  const latestCallback = React.useRef(callback);\n  const timerRef = React.useRef<ReturnType<typeof setTimeout> | null>(null);\n\n  React.useEffect(() => {\n    latestCallback.current = callback;\n  }, [callback]);\n\n  const cancel = React.useCallback(() => {\n    if (timerRef.current !== null) {\n      clearTimeout(timerRef.current);\n      timerRef.current = null;\n    }\n  }, []);\n\n  React.useEffect(() => cancel, [cancel]);\n\n  React.useEffect(() => {\n    cancel();\n  }, [delay, cancel]);\n\n  const debounced = React.useCallback(\n    (...args: TArgs) => {\n      cancel();\n\n      if (delay <= 0) {\n        void latestCallback.current(...args);\n        return;\n      }\n\n      timerRef.current = setTimeout(() => {\n        timerRef.current = null;\n        void latestCallback.current(...args);\n      }, delay);\n    },\n    [cancel, delay],\n  );\n\n  return React.useMemo(() => [debounced, cancel] as const, [debounced, cancel]);\n}\n","// src/components/ui/CheckCircle.tsx\n\"use client\";\n\n/**\n * CheckCircle  Lavender-Glitch concentric checkbox\n * - Accessible (role=\"checkbox\"), Space/Enter toggles\n * - Ignite / powerdown animation to match NeonIcon / Button\n * - --success / --success-glow tokens from theme variables\n * - Deselect experience:\n *     Any uncheck triggers a brief \"justCleared\" window that suppresses hover/focus glow,\n *      ensuring a visible power-down to the neutral state.\n *     Backspace/Delete also unchecks when focused.\n */\n\nimport { cn } from \"@/lib/utils\";\nimport { usePrefersReducedMotion } from \"@/lib/useReducedMotion\";\nimport { Check } from \"lucide-react\";\nimport * as React from \"react\";\n\nimport styles from \"./CheckCircle.module.css\";\n\ntype Size = \"sm\" | \"md\" | \"lg\";\nconst SIZE: Record<Size, string> = {\n  sm: \"h-[var(--space-6)] w-[var(--space-6)] [&_svg]:size-[var(--space-4)]\",\n  md: \"h-[var(--space-8)] w-[var(--space-8)] [&_svg]:size-[var(--space-5)]\",\n  lg: \"h-[var(--control-h-md)] w-[var(--control-h-md)] [&_svg]:size-[var(--space-6)]\",\n};\n\nexport default function CheckCircle({\n  checked,\n  onChange = () => {},\n  size = \"sm\",\n  className,\n  disabled = false,\n  \"aria-label\": ariaLabel = \"Toggle\",\n}: {\n  checked: boolean;\n  onChange?: (next: boolean) => void;\n  size?: Size;\n  className?: string;\n  disabled?: boolean;\n  \"aria-label\"?: string;\n}) {\n  const btnRef = React.useRef<HTMLButtonElement>(null);\n  const reduceMotion = usePrefersReducedMotion();\n\n  const justClearedTimeoutRef = React.useRef<ReturnType<typeof setTimeout> | null>(\n    null,\n  );\n  const igniteTimeoutRef = React.useRef<ReturnType<typeof setTimeout> | null>(null);\n\n  const clearJustClearedTimeout = React.useCallback(() => {\n    if (justClearedTimeoutRef.current !== null) {\n      clearTimeout(justClearedTimeoutRef.current);\n      justClearedTimeoutRef.current = null;\n    }\n  }, []);\n\n  const clearIgniteTimeout = React.useCallback(() => {\n    if (igniteTimeoutRef.current !== null) {\n      clearTimeout(igniteTimeoutRef.current);\n      igniteTimeoutRef.current = null;\n    }\n  }, []);\n\n  // Hover/focus tracking\n  const [hovered, setHovered] = React.useState(false);\n  const [focused, setFocused] = React.useState(false);\n\n  // Brief suppression after an uncheck so it visibly powers down\n  const [justCleared, setJustCleared] = React.useState(false);\n  const markJustCleared = React.useCallback(() => {\n    setJustCleared(true);\n    // Reset hover/focus and blur so we guarantee the off animation shows\n    setHovered(false);\n    setFocused(false);\n    btnRef.current?.blur();\n    clearJustClearedTimeout();\n    justClearedTimeoutRef.current = setTimeout(() => {\n      setJustCleared(false);\n      justClearedTimeoutRef.current = null;\n    }, 420);\n    return clearJustClearedTimeout;\n  }, [clearJustClearedTimeout]);\n\n  // If our checked state flips off from an external source while hovered or\n  // focused, ensure we still run the \"just cleared\" power-down sequence so the\n  // neon rim doesn't remain lit.\n  const prevChecked = React.useRef(checked);\n  React.useEffect(() => {\n    let cleanup: (() => void) | undefined;\n    if (prevChecked.current && !checked && !justCleared) {\n      cleanup = markJustCleared();\n    }\n    prevChecked.current = checked;\n    return cleanup;\n  }, [checked, markJustCleared, justCleared]);\n\n  // Neon phase: ignite / steady-on / powerdown / off\n  const effectiveHoverOrFocus = (hovered || focused) && !justCleared;\n  const wantsOn = checked || effectiveHoverOrFocus;\n\n  const prev = React.useRef(wantsOn);\n  const [phase, setPhase] = React.useState<\"off\" | \"ignite\" | \"steady-on\" | \"powerdown\">(\n    wantsOn ? \"steady-on\" : \"off\",\n  );\n\n  React.useEffect(() => {\n    if (wantsOn !== prev.current) {\n      if (wantsOn) {\n        setPhase(\"ignite\");\n        const t = setTimeout(() => setPhase(\"steady-on\"), 620);\n        prev.current = wantsOn;\n        return () => clearTimeout(t);\n      } else {\n        setPhase(\"powerdown\");\n        const t = setTimeout(() => setPhase(\"off\"), 360);\n        prev.current = wantsOn;\n        return () => clearTimeout(t);\n      }\n    }\n    prev.current = wantsOn;\n  }, [wantsOn]);\n\n  const retriggerIgnite = React.useCallback(() => {\n    setPhase(\"ignite\");\n    clearIgniteTimeout();\n    igniteTimeoutRef.current = setTimeout(() => {\n      setPhase(wantsOn ? \"steady-on\" : \"off\");\n      igniteTimeoutRef.current = null;\n    }, 620);\n  }, [clearIgniteTimeout, wantsOn]);\n\n  React.useEffect(\n    () => () => {\n      clearIgniteTimeout();\n      clearJustClearedTimeout();\n    },\n    [clearIgniteTimeout, clearJustClearedTimeout],\n  );\n\n  function onKey(e: React.KeyboardEvent<HTMLButtonElement>) {\n    if (disabled) return;\n    if ((e.key === \"Backspace\" || e.key === \"Delete\") && checked) {\n      e.preventDefault();\n      onChange(false);\n      markJustCleared();\n      return;\n    }\n    if (e.key === \" \" || e.key === \"Enter\") {\n      e.preventDefault();\n      onChange(!checked);\n      if (checked) markJustCleared();\n    }\n  }\n\n  const lit = phase === \"ignite\" || phase === \"steady-on\";\n\n  return (\n    <>\n      <span\n        className={cn(\n          \"relative inline-grid place-items-center\",\n          SIZE[size],\n          className,\n        )}\n      >\n        <button\n          ref={btnRef}\n          type=\"button\"\n          role=\"checkbox\"\n          aria-checked={checked}\n          aria-label={ariaLabel}\n          disabled={disabled}\n          onClick={() => {\n            if (disabled) return;\n            onChange(!checked);\n            if (checked) markJustCleared();\n          }}\n          onKeyDown={onKey}\n          onMouseEnter={() => setHovered(true)}\n          onMouseLeave={() => setHovered(false)}\n          onFocus={() => setFocused(true)}\n          onBlur={() => setFocused(false)}\n          onPointerDown={retriggerIgnite}\n          className={cn(\n            styles.button,\n            \"relative inline-grid place-items-center rounded-full transition\",\n            \"focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring\",\n            \"disabled:opacity-disabled disabled:pointer-events-none\",\n            \"h-full w-full\",\n          )}\n          data-checked={checked ? \"true\" : \"false\"}\n          data-phase={phase}\n          data-lit={lit}\n        >\n          {/* Base */}\n          <span\n            aria-hidden\n            className=\"absolute inset-0 rounded-full ring-1 ring-border bg-card/35\"\n          />\n\n          {/* Neon rim */}\n          <span\n            aria-hidden\n            className={cn(\n              styles.rim,\n              !reduceMotion && lit && styles.rimAnimated,\n            )}\n          />\n\n          {/* Scanlines */}\n          <span\n            aria-hidden\n            className={cn(\n              styles.scanlines,\n              !reduceMotion && lit && styles.scanlinesAnimated,\n            )}\n          />\n\n          {/* Bloom */}\n          <span aria-hidden className={styles.bloom} />\n\n          {/* Ignite / powerdown flashes */}\n          <span\n            aria-hidden\n            className={cn(\n              styles.ignite,\n              !reduceMotion && phase === \"ignite\" && styles.igniteAnimated,\n            )}\n          />\n          <span\n            aria-hidden\n            className={cn(\n              styles.powerdown,\n              !reduceMotion && phase === \"powerdown\" && styles.powerdownAnimated,\n            )}\n          />\n\n          {/* Tick glyph */}\n          <Check\n            aria-hidden\n            className={cn(styles.check, \"text-muted-foreground\")}\n            strokeWidth=\"var(--icon-stroke-150, 2.5)\"\n          />\n        </button>\n      </span>\n    </>\n  );\n}\n","\"use client\";\n\nimport * as React from \"react\";\nimport { reportFeatureFlagAnalytics } from \"@/lib/feature-flags\";\n\ntype DepthThemeContextValue = {\n  enabled: boolean;\n  organicDepthEnabled: boolean;\n};\n\nconst defaultContext: DepthThemeContextValue = Object.freeze({\n  enabled: false,\n  organicDepthEnabled: false,\n});\n\nconst DepthThemeContext = React.createContext<DepthThemeContextValue>(defaultContext);\n\ntype DepthThemeProviderProps = {\n  enabled: boolean;\n  organicDepthEnabled?: boolean;\n  children: React.ReactNode;\n};\n\nexport function DepthThemeProvider({\n  enabled,\n  organicDepthEnabled = false,\n  children,\n}: DepthThemeProviderProps) {\n  React.useEffect(() => {\n    if (typeof document === \"undefined\") {\n      return;\n    }\n\n    const themeState = enabled ? \"enabled\" : \"legacy\";\n    const organicState = organicDepthEnabled ? \"organic\" : \"legacy\";\n\n    document.documentElement.dataset.depthTheme = themeState;\n    document.documentElement.dataset.organicDepth = organicState;\n\n    if (document.body) {\n      document.body.dataset.depthTheme = themeState;\n      document.body.dataset.organicDepth = organicState;\n    }\n  }, [enabled, organicDepthEnabled]);\n\n  React.useEffect(() => {\n    reportFeatureFlagAnalytics({\n      flag: \"depth-theme\",\n      enabled,\n      state: enabled ? \"enabled\" : \"legacy\",\n    });\n  }, [enabled]);\n\n  React.useEffect(() => {\n    reportFeatureFlagAnalytics({\n      flag: \"depth-theme-organic\",\n      enabled: organicDepthEnabled,\n      state: organicDepthEnabled ? \"organic\" : \"legacy\",\n    });\n  }, [organicDepthEnabled]);\n\n  const value = React.useMemo<DepthThemeContextValue>(\n    () => ({ enabled, organicDepthEnabled }),\n    [enabled, organicDepthEnabled],\n  );\n\n  return <DepthThemeContext.Provider value={value}>{children}</DepthThemeContext.Provider>;\n}\n\nexport function useDepthTheme(): DepthThemeContextValue {\n  return React.useContext(DepthThemeContext);\n}\n\nexport function useDepthThemeEnabled(): boolean {\n  return useDepthTheme().enabled;\n}\n\nexport function useOrganicDepthEnabled(): boolean {\n  return useDepthTheme().organicDepthEnabled;\n}\n\nexport default DepthThemeProvider;\n","\"use client\";\n\nimport * as React from \"react\";\nimport { cn } from \"@/lib/utils\";\n\nexport const GLITCH_PERCENT_WIDTH = \"var(--space-6)\";\nexport const TOKEN_WIDTH_CLASS = `w-[${GLITCH_PERCENT_WIDTH}]`;\n\nexport type GlitchProgressProps = React.HTMLAttributes<HTMLDivElement> & {\n  current: number;\n  total: number;\n  showPercentage?: boolean;\n  trackClassName?: string;\n  trackProps?: React.ComponentPropsWithoutRef<\"div\">;\n  percentageClassName?: string;\n  percentageProps?: React.ComponentPropsWithoutRef<\"span\">;\n  formatPercentage?: (value: number) => React.ReactNode;\n};\n\nconst getSafeNumber = (value: number) => (Number.isFinite(value) ? value : 0);\n\nconst GlitchProgress = React.forwardRef<HTMLDivElement, GlitchProgressProps>(\n  (\n    {\n      current,\n      total,\n      className,\n      trackClassName,\n      showPercentage = false,\n      trackProps,\n      percentageClassName,\n      percentageProps,\n      formatPercentage,\n      ...rest\n    },\n    ref,\n  ) => {\n    const parsedTotal = Math.max(0, getSafeNumber(total));\n    const parsedCurrent = getSafeNumber(current);\n    const normalizedCurrent =\n      parsedTotal === 0\n        ? 0\n        : Math.min(Math.max(parsedCurrent, 0), parsedTotal);\n    const ratio = parsedTotal === 0 ? 0 : normalizedCurrent / parsedTotal;\n    const percent = Math.round(ratio * 100);\n    const clampedPercent = Math.min(Math.max(percent, 0), 100);\n    const hasProgress = clampedPercent > 0;\n    const formattedPercentage =\n      formatPercentage?.(clampedPercent) ?? `${clampedPercent}%`;\n    const progressClassName = hasProgress\n      ? `progress-${clampedPercent}`\n      : \"progress-0\";\n\n    const {\n      \"aria-label\": ariaLabel,\n      \"aria-labelledby\": ariaLabelledby,\n      \"aria-describedby\": ariaDescribedby,\n      ...nonLabelProps\n    } = rest;\n\n    const { className: trackClassNameFromProps, ...restTrackProps } =\n      trackProps ?? {};\n    const {\n      className: percentageClassNameFromProps,\n      \"aria-live\": ariaLive,\n      ...restPercentageProps\n    } = percentageProps ?? {};\n\n    const progressTrack = (\n      <div\n        {...restTrackProps}\n        {...(!showPercentage ? nonLabelProps : {})}\n        className={cn(\n          \"glitch-track\",\n          trackClassNameFromProps,\n          trackClassName,\n          !showPercentage && className,\n          clampedPercent >= 100 && \"is-complete\",\n        )}\n        data-progress-state={hasProgress ? \"active\" : \"zero\"}\n        role=\"progressbar\"\n        aria-valuemin={0}\n        aria-valuemax={100}\n        aria-valuenow={clampedPercent}\n        aria-label={ariaLabel}\n        aria-labelledby={ariaLabelledby}\n        aria-describedby={ariaDescribedby}\n        ref={ref}\n      >\n        <div\n          className={cn(\n            \"glitch-fill transition-[width] duration-motion-lg ease-out motion-reduce:transition-none\",\n            progressClassName,\n          )}\n        />\n        <div className=\"glitch-scan\" />\n      </div>\n    );\n\n    if (!showPercentage) {\n      return progressTrack;\n    }\n\n    return (\n      <div\n        {...nonLabelProps}\n        className={cn(\"flex items-center gap-[var(--space-3)]\", className)}\n      >\n        {progressTrack}\n        <span\n          {...restPercentageProps}\n          className={cn(\n            \"glitch-percent text-ui font-medium\",\n            percentageClassNameFromProps,\n            percentageClassName,\n          )}\n          aria-live={ariaLive ?? \"polite\"}\n        >\n          {formattedPercentage}\n        </span>\n      </div>\n    );\n  },\n);\n\nGlitchProgress.displayName = \"GlitchProgress\";\n\nexport default GlitchProgress;\n","\"use client\";\n\nimport * as React from \"react\";\n\nconst NO_ANIMATIONS_CLASS = \"no-animations\";\n\nfunction isAnimationsDisabled(): boolean {\n  if (typeof document === \"undefined\") {\n    return false;\n  }\n\n  return document.documentElement.classList.contains(NO_ANIMATIONS_CLASS);\n}\n\n/**\n * Returns `true` when the global `no-animations` class is applied to the\n * `<html>` element. This mirrors the reduced motion toggle that we expose in\n * Storybook and the runtime animation toggle, ensuring components can opt out\n * of motion treatments.\n */\nexport function useAnimationsDisabled(): boolean {\n  const [disabled, setDisabled] = React.useState(isAnimationsDisabled);\n\n  React.useEffect(() => {\n    if (typeof document === \"undefined\") {\n      return;\n    }\n\n    const root = document.documentElement;\n\n    const sync = () => {\n      setDisabled(root.classList.contains(NO_ANIMATIONS_CLASS));\n    };\n\n    sync();\n\n    if (typeof MutationObserver === \"undefined\") {\n      return;\n    }\n\n    const observer = new MutationObserver(sync);\n    observer.observe(root, { attributes: true, attributeFilter: [\"class\"] });\n\n    return () => {\n      observer.disconnect();\n    };\n  }, []);\n\n  return disabled;\n}\n\n","// src/components/ui/primitives/Input.tsx\n\"use client\";\n\nimport * as React from \"react\";\nimport { cn } from \"@/lib/utils\";\nimport { useFieldIds } from \"@/lib/useFieldIds\";\nimport Field from \"./Field\";\nimport styles from \"./Input.module.css\";\n\nexport type InputRingTone =\n  | \"accent\"\n  | \"danger\"\n  | \"primary\"\n  | \"success\"\n  | \"warning\";\n\nconst RING_TONE_CLASS_MAP: Record<InputRingTone, string> = {\n  accent: styles.ringToneAccent,\n  danger: styles.ringToneDanger,\n  primary: styles.ringTonePrimary,\n  success: styles.ringToneSuccess,\n  warning: styles.ringToneWarning,\n};\n\nexport type InputSize = \"sm\" | \"md\" | \"lg\" | \"xl\";\n\nexport type InputProps = Omit<\n  React.InputHTMLAttributes<HTMLInputElement>,\n  \"height\" | \"style\"\n> & {\n  /** Visual height of the control (defaults to medium) */\n  height?: InputSize | number;\n  /** When true, increases left padding for icons */\n  indent?: boolean;\n  /** Optional className for the inner <input> element */\n  inputClassName?: string;\n  /** Reserve space for a trailing slot even if no children are provided */\n  hasEndSlot?: boolean;\n  /** Optional loading state forwarded via `data-loading` */\n  \"data-loading\"?: string | boolean | number;\n  /** Overrides the focus ring tone by mapping to semantic tokens */\n  ringTone?: InputRingTone;\n  /** Enables the glitch overlay treatment */\n  glitch?: boolean;\n  /**\n   * Overrides the text surfaced in the glitch overlay.\n   * Falls back to `data-text`, `placeholder`, or `aria-label` when available.\n   */\n  glitchText?: string;\n};\n\n/**\n * Input  Matte field with optional trailing slot.\n * - Accepts className overrides and passes all standard <input> props\n * - Auto-generates a stable `id`; if no `name` is supplied, the generated id is\n *   reused to ensure uniqueness. The `aria-label` is only slugified when a\n *   custom `id` guarantees uniqueness.\n */\nexport default React.forwardRef<HTMLInputElement, InputProps>(function Input(\n  {\n    className,\n    inputClassName,\n    id,\n    name,\n    \"aria-label\": ariaLabel,\n    height = \"md\",\n    indent = false,\n    children,\n    hasEndSlot = false,\n    ringTone,\n    glitch = false,\n    glitchText,\n    ...props\n  },\n  ref,\n) {\n  const { id: finalId, name: finalName, isInvalid } = useFieldIds(\n    ariaLabel as string | undefined,\n    id,\n    name,\n    {\n      ariaInvalid: props[\"aria-invalid\"],\n      ariaLabelStrategy: \"custom-id\",\n    },\n  );\n  const { [\"data-text\"]: providedGlitchTextRaw, ...inputProps } = props as\n    typeof props & { [\"data-text\"]?: unknown };\n  const disabled = inputProps.disabled;\n  const readOnly = inputProps.readOnly;\n  const loadingAttr = inputProps[\"data-loading\"];\n  const loading =\n    loadingAttr === \"\" ||\n    loadingAttr === true ||\n    loadingAttr === \"true\" ||\n    loadingAttr === 1;\n\n  const showEndSlot = hasEndSlot || React.Children.count(children) > 0;\n  const placeholderText =\n    typeof inputProps.placeholder === \"string\" ? inputProps.placeholder : undefined;\n  const providedGlitchText =\n    typeof providedGlitchTextRaw === \"string\" ? providedGlitchTextRaw : undefined;\n  const resolvedGlitchText = glitch\n    ? glitchText ?? providedGlitchText ?? placeholderText ?? (typeof ariaLabel === \"string\" ? ariaLabel : undefined)\n    : providedGlitchText ?? glitchText;\n\n  return (\n    <Field.Root\n      height={height}\n      invalid={isInvalid}\n      disabled={disabled}\n      readOnly={readOnly}\n      loading={loading}\n      glitch={glitch}\n      glitchText={resolvedGlitchText}\n      className={cn(ringTone ? RING_TONE_CLASS_MAP[ringTone] : undefined, className)}\n    >\n      <Field.Input\n        ref={ref}\n        id={finalId}\n        name={finalName}\n        className={cn(inputClassName)}\n        indent={indent}\n        hasEndSlot={showEndSlot || loading}\n        aria-label={ariaLabel}\n        {...inputProps}\n      />\n      {children}\n    </Field.Root>\n  );\n});\n","import * as React from \"react\";\nimport { Sparkles } from \"lucide-react\";\n\nimport { cn } from \"@/lib/utils\";\n\nexport interface AITypingIndicatorProps extends React.ComponentPropsWithoutRef<\"div\"> {\n  readonly label?: string;\n  readonly hint?: string;\n  readonly isTyping?: boolean;\n  readonly dotCount?: number;\n  readonly showAvatar?: boolean;\n  readonly avatar?: React.ReactNode;\n}\n\nconst MIN_DOTS = 2;\nconst DEFAULT_DOTS = 3;\nconst MAX_DOTS = 5;\nconst DEFAULT_LABEL = \"Assistant is typing\";\n\nconst AITypingIndicator = React.forwardRef<HTMLDivElement, AITypingIndicatorProps>(\n  (\n    {\n      label = DEFAULT_LABEL,\n      hint,\n      isTyping = true,\n      dotCount = DEFAULT_DOTS,\n      showAvatar = true,\n      avatar,\n      className,\n      children,\n      ...props\n    },\n    ref,\n  ) => {\n    const dots = React.useMemo(() => {\n      const constrained = Math.max(MIN_DOTS, Math.min(MAX_DOTS, dotCount));\n      return Array.from({ length: constrained });\n    }, [dotCount]);\n\n    return (\n      <div\n        ref={ref}\n        role=\"status\"\n        aria-live=\"polite\"\n        aria-busy={isTyping ? \"true\" : undefined}\n        className={cn(\n          \"flex items-center gap-[var(--space-3)] rounded-card border border-[hsl(var(--accent)/0.35)]\",\n          \"bg-[hsl(var(--surface)/0.72)] p-[var(--space-3)] text-left shadow-[var(--shadow-outline-faint)] backdrop-blur-sm\",\n          className,\n        )}\n        {...props}\n      >\n        {showAvatar ? (\n          <span\n            aria-hidden\n            className=\"grid size-[var(--space-9)] place-items-center rounded-full border border-[hsl(var(--accent)/0.35)] bg-[hsl(var(--accent-soft))] text-[hsl(var(--accent-foreground))] shadow-[var(--shadow-inset-hairline)]\"\n          >\n            {avatar ?? <Sparkles className=\"size-[var(--space-5)]\" aria-hidden />}\n          </span>\n        ) : null}\n        <div className=\"flex flex-1 flex-col gap-[var(--space-1-5)]\">\n          <div className=\"flex flex-wrap items-baseline gap-x-[var(--space-2)] gap-y-[var(--space-1)]\">\n            <p className=\"text-label font-medium text-foreground\" aria-live=\"polite\">\n              {label}\n            </p>\n            {hint ? (\n              <span className=\"text-caption text-muted-foreground\">{hint}</span>\n            ) : null}\n          </div>\n          <div className=\"flex items-center gap-[var(--space-1)]\">\n            {dots.map((_, index) => (\n              <span\n                key={index}\n                aria-hidden\n                className={cn(\n                  \"size-[var(--space-1-5)] rounded-full bg-[hsl(var(--accent))] opacity-70\",\n                  isTyping ? \"motion-safe:animate-pulse\" : undefined,\n                )}\n                style={isTyping ? { animationDelay: `${index * 120}ms`, animationDuration: \"1200ms\" } : undefined}\n              />\n            ))}\n            {children ? (\n              <span className=\"text-caption text-muted-foreground\">{children}</span>\n            ) : null}\n          </div>\n        </div>\n      </div>\n    );\n  },\n);\n\nAITypingIndicator.displayName = \"AITypingIndicator\";\n\nexport default AITypingIndicator;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"Field_root__GCQZR\"};","// src/components/ui/Label.tsx\n\"use client\";\n\nimport * as React from \"react\";\nimport { cn } from \"@/lib/utils\";\n\nexport type LabelProps = React.LabelHTMLAttributes<HTMLLabelElement>;\n\nconst Label = React.forwardRef<HTMLLabelElement, LabelProps>(function Label(\n  { className, htmlFor, ...props },\n  ref,\n) {\n  return (\n    <label\n      ref={ref}\n      htmlFor={htmlFor}\n      className={cn(\n        \"text-label font-medium text-muted-foreground mb-[var(--space-2)]\",\n        className,\n      )}\n      {...props}\n    />\n  );\n});\n\nexport default Label;\n","\"use client\";\n\nimport * as React from \"react\";\nimport { createPortal } from \"react-dom\";\nimport { motion, useReducedMotion } from \"framer-motion\";\nimport Card from \"./primitives/Card\";\nimport { useDialogTrap } from \"./hooks/useDialogTrap\";\nimport useMounted from \"@/lib/useMounted\";\nimport { cn } from \"@/lib/utils\";\n\nexport interface SheetProps extends React.ComponentProps<typeof Card> {\n  open: boolean;\n  onClose: () => void;\n  side?: \"left\" | \"right\";\n}\n\nexport default function Sheet({\n  open,\n  onClose,\n  side = \"right\",\n  className,\n  children,\n  ...props\n}: SheetProps) {\n  const mounted = useMounted();\n  const dialogRef = React.useRef<HTMLDivElement>(null);\n  const reduceMotion = useReducedMotion();\n\n  useDialogTrap({ open: open && mounted, onClose, ref: dialogRef });\n\n  if (!open || !mounted) return null;\n  return createPortal(\n    <div className=\"fixed inset-0 z-50\">\n      <div\n        aria-hidden=\"true\"\n        className=\"absolute inset-0 bg-background/80 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-[var(--focus)]\"\n        onClick={onClose}\n      />\n      <motion.div\n        initial={{ x: side === \"right\" ? \"100%\" : \"-100%\" }}\n        animate={{ x: 0 }}\n        transition={{\n          type: \"tween\",\n          duration: reduceMotion ? 0 : 0.2,\n        }}\n      >\n        <Card\n          ref={dialogRef}\n          role=\"dialog\"\n          aria-modal=\"true\"\n          className={cn(\n            \"fixed top-0 h-full w-[calc(var(--space-8)*5)] overflow-y-auto\",\n            side === \"right\" ? \"right-0\" : \"left-0\",\n            className,\n          )}\n          {...props}\n        >\n          {children}\n        </Card>\n      </motion.div>\n    </div>,\n    document.body,\n  );\n}\n","\"use client\";\n\nimport * as React from \"react\";\nimport { useId } from \"react\";\nimport { cn } from \"@/lib/utils\";\nimport useDebouncedCallback from \"@/lib/useDebouncedCallback\";\nimport Label from \"../Label\";\nimport Field from \"./Field\";\nimport type { InputSize } from \"./Input\";\nimport { resolveUIVariant, type UIVariant } from \"@/components/ui/variants\";\n\nconst SEARCH_BAR_VARIANTS = [\n  \"default\",\n  \"neo\",\n  \"quiet\",\n] as const satisfies readonly UIVariant[];\ntype SearchBarVariant = (typeof SEARCH_BAR_VARIANTS)[number];\n\nexport type SearchBarProps = Omit<\n  React.InputHTMLAttributes<HTMLInputElement>,\n  \"onChange\" | \"height\"\n> & {\n  value: string;\n  onValueChange?: (next: string) => void;\n  onChange?: React.ChangeEventHandler<HTMLInputElement>;\n  onSubmit?: (value: string) => void;\n  right?: React.ReactNode;\n  clearable?: boolean;\n  debounceMs?: number;\n  /** Visual height of the control */\n  height?: InputSize | number;\n  /** Additional classes for the outer Field.Root */\n  fieldClassName?: string;\n  /** When `true`, the search bar is disabled and `data-loading` is set */\n  loading?: boolean;\n  /** Optional accessible label rendered above the input */\n  label?: React.ReactNode;\n  /** Visual treatment of the field shell. */\n  variant?: SearchBarVariant;\n};\n\nexport default function SearchBar({\n  value,\n  onValueChange,\n  onChange,\n  onSubmit,\n  right,\n  placeholder = \"Search\",\n  className,\n  clearable = true,\n  debounceMs = 200,\n  autoComplete = \"off\",\n  autoCorrect = \"off\",\n  spellCheck = false,\n  autoCapitalize = \"none\",\n  height,\n  fieldClassName,\n  loading,\n  disabled,\n  label,\n  variant = \"default\",\n  ...rest\n}: SearchBarProps) {\n  // Hydration-safe: initial render = prop value\n  const [query, setQuery] = React.useState(value);\n  const inputRef = React.useRef<HTMLInputElement | null>(null);\n  const { id, ...restProps } = rest;\n  const generatedId = useId();\n  const resolvedId = id ?? (label ? generatedId : undefined);\n  const [emitValueChange, cancelValueChange] = useDebouncedCallback(\n    (next: string) => {\n      onValueChange?.(next);\n    },\n    debounceMs,\n  );\n\n  // Mirror external value into local state whenever it changes.\n  // No need to read `query` here; linter calms down.\n  React.useEffect(() => {\n    setQuery(value);\n  }, [value]);\n\n  // Debounced emit of local changes\n  React.useEffect(() => {\n    if (!onValueChange) {\n      cancelValueChange();\n      return;\n    }\n\n    emitValueChange(query);\n    return cancelValueChange;\n  }, [query, onValueChange, emitValueChange, cancelValueChange]);\n\n  const ariaLabelledby = restProps[\"aria-labelledby\"];\n  const hasCustomAriaLabel = restProps[\"aria-label\"] !== undefined;\n  const labelFor = resolvedId;\n  const resolvedVariant = resolveUIVariant<SearchBarVariant>(variant, {\n    allowed: SEARCH_BAR_VARIANTS,\n    fallback: \"default\",\n  });\n\n  const variantFieldClasses =\n    resolvedVariant === \"neo\"\n      ? \"hero2-neomorph z-0 !border border-border/40 !shadow-depth-soft hover:!shadow-depth-soft active:!shadow-depth-soft focus-within:!shadow-depth-soft [--hover:transparent] [--active:transparent]\"\n      : undefined;\n\n  const inputField = (\n    <Field.Root\n      height={height}\n      wrapperClassName=\"min-w-0\"\n      className={cn(\"w-full\", variantFieldClasses, fieldClassName)}\n      disabled={disabled}\n      loading={loading}\n    >\n      <Field.Search\n        id={resolvedId}\n        ref={inputRef}\n        value={query}\n        onChange={(event) => {\n          setQuery(event.target.value);\n          onChange?.(event);\n        }}\n        placeholder={placeholder}\n        clearable={clearable}\n        onClear={() => {\n          setQuery(\"\");\n          onValueChange?.(\"\");\n        }}\n        aria-label={\n          !label && !ariaLabelledby && !hasCustomAriaLabel ? \"Search\" : undefined\n        }\n        autoComplete={autoComplete}\n        autoCorrect={autoCorrect}\n        spellCheck={spellCheck}\n        autoCapitalize={autoCapitalize}\n        disabled={disabled}\n        loading={loading}\n        {...restProps}\n      />\n    </Field.Root>\n  );\n\n  return (\n    <form\n      role=\"search\"\n      className={cn(\n        // Two-column grid: search input + optional right slot\n        // Tailwind's arbitrary value syntax uses an underscore instead of a comma.\n        // `minmax(0,1fr)` prevents input overflow when space is constrained.\n        \"grid grid-cols-[minmax(0,1fr)_auto] items-center gap-[var(--space-2)] w-full data-[loading=true]:opacity-loading data-[loading=true]:pointer-events-none\",\n        className,\n      )}\n      onSubmit={(e) => {\n        e.preventDefault();\n        onValueChange?.(query);\n        onSubmit?.(query);\n      }}\n      data-loading={loading}\n    >\n      {/* Input column */}\n      {label ? (\n        <div className=\"min-w-0\">\n          <Label htmlFor={labelFor}>{label}</Label>\n          {inputField}\n        </div>\n      ) : (\n        <div className=\"min-w-0\">{inputField}</div>\n      )}\n\n      {/* Right slot (filters, etc.) */}\n      {right ? <div className=\"shrink-0\">{right}</div> : null}\n    </form>\n  );\n}\n","\"use client\";\n\nimport * as React from \"react\";\nimport { ChevronDown } from \"lucide-react\";\nimport Field from \"../primitives/Field\";\nimport { useFieldIds } from \"@/lib/useFieldIds\";\nimport { cn } from \"@/lib/utils\";\n\nimport type { NativeSelectProps } from \"./shared\";\n\nconst NativeSelect = React.forwardRef<HTMLSelectElement, NativeSelectProps>(\n  function NativeSelect(\n    {\n      className,\n      selectClassName,\n      helperText,\n      errorText,\n      success,\n      disabled,\n      id,\n      items,\n      value,\n      onChange,\n      ...props\n    },\n    ref,\n  ) {\n    const { id: finalId, name: finalName, isInvalid } = useFieldIds(\n      props[\"aria-label\"] as string | undefined,\n      id,\n      props.name,\n      {\n        ariaInvalid: errorText ? \"true\" : props[\"aria-invalid\"],\n      },\n    );\n    const successId = `${finalId}-success`;\n    const errorId = errorText ? `${finalId}-error` : undefined;\n    const helperId = helperText ? `${finalId}-helper` : undefined;\n    const describedBy =\n      [errorId, helperId, success ? successId : undefined]\n        .filter(Boolean)\n        .join(\" \") || undefined;\n    const helperTone = errorText ? \"danger\" : success ? \"success\" : \"muted\";\n\n    return (\n      <div className=\"space-y-[var(--space-1)]\">\n        <Field.Root\n          height=\"md\"\n          invalid={isInvalid}\n          disabled={disabled}\n          helper={errorText || helperText}\n          helperId={errorId || helperId}\n          helperTone={helperTone}\n          className={cn(\n            \"group\",\n            success &&\n              !isInvalid &&\n              \"border-[var(--theme-ring,var(--focus))] focus-within:ring-[var(--theme-ring,var(--focus))]\",\n            className,\n          )}\n        >\n          <Field.Select\n            ref={ref}\n            id={finalId}\n            name={finalName}\n            disabled={disabled}\n            value={value}\n            onChange={(e) => onChange?.(e.target.value)}\n            aria-invalid={errorText ? \"true\" : props[\"aria-invalid\"]}\n            aria-describedby={describedBy}\n            className={cn(\"pr-[calc(var(--space-6)+var(--space-2))]\", selectClassName)}\n            {...props}\n          >\n            {items.map((it) => (\n              <option key={it.value} value={it.value} disabled={it.disabled}>\n                {it.label}\n              </option>\n            ))}\n          </Field.Select>\n          <ChevronDown className=\"pointer-events-none absolute right-[var(--space-4)] size-[var(--space-4)] text-muted-foreground transition-colors duration-motion-sm ease-out group-focus-within:text-accent-3\" />\n        </Field.Root>\n        {success && (\n          <p\n            id={successId}\n            className=\"sr-only\"\n            role=\"status\"\n            aria-live=\"polite\"\n          >\n            Selection saved\n          </p>\n        )}\n      </div>\n    );\n  },\n);\n\nNativeSelect.displayName = \"NativeSelect\";\n\nexport default NativeSelect;\n","\"use client\";\n\n/**\n * Header  sticky top bar with built-in segmented tabs.\n *\n * - Stays fixed while the body scrolls so content slides underneath\n * - High z-index (`z-[999]`) keeps it above surrounding chrome\n * - Soft neon glow instead of a border\n * - Offset with `topClassName` (`top-[var(--header-stack)]`) when nested under the global navbar\n * - `tabs` renders a right-aligned segmented control for section switching\n */\n\nimport * as React from \"react\";\nimport { NeomorphicFrameStyles } from \"./NeomorphicFrameStyles\";\nimport {\n  HeaderTabs as HeaderTabsControl,\n  type HeaderTabItem,\n} from \"@/components/tabs/HeaderTabs\";\nimport TabBar, { type TabBarProps } from \"./TabBar\";\nimport {\n  resolveUIVariant,\n  type DeprecatedUIVariant,\n  type UIVariant,\n} from \"@/components/ui/variants\";\n\nconst HEADER_VARIANTS = [\"default\", \"neo\", \"quiet\"] as const satisfies readonly UIVariant[];\ntype HeaderVariant = (typeof HEADER_VARIANTS)[number];\n\nfunction cx(...parts: Array<string | false | null | undefined>) {\n  return parts.filter(Boolean).join(\" \");\n}\n\nexport interface HeaderTab<Key extends string = string>\n  extends HeaderTabItem<Key> {\n  hint?: string;\n}\n\nexport type HeaderTabsProps<Key extends string = string> = Omit<\n  TabBarProps<Key>,\n  \"items\" | \"value\" | \"defaultValue\" | \"onValueChange\"\n> & {\n  items: HeaderTab<Key>[];\n  value: Key;\n  onChange: (key: Key) => void;\n};\n\nexport interface HeaderProps<Key extends string = string>\n  extends Omit<React.HTMLAttributes<HTMLElement>, \"title\"> {\n  eyebrow?: React.ReactNode;\n  heading: React.ReactNode;\n  subtitle?: React.ReactNode;\n  icon?: React.ReactNode;\n  /** Primary navigation rendered to the left of tabs. */\n  nav?: React.ReactNode;\n  /** Right slot for actions (renders alongside tabs). */\n  right?: React.ReactNode;\n  /** Utility controls rendered at the far right (e.g., theme toggle, profile). */\n  utilities?: React.ReactNode;\n  children?: React.ReactNode;\n  /** Still overridable, but true by default */\n  sticky?: boolean;\n  /** Offset from top; matches `--header-stack` when under SiteChrome */\n  topClassName?: string;\n  barClassName?: string;\n  bodyClassName?: string;\n  /** @deprecated Decorative rails were removed. */\n  rail?: boolean;\n  /** @deprecated Decorative rails were removed. */\n  railTone?: \"subtle\" | \"loud\";\n  /** @deprecated Decorative rails were removed. */\n  railVariant?: \"subtle\" | \"loud\";\n  /** @deprecated Decorative rails were removed. */\n  railClassName?: string;\n  /** Reduce vertical padding and height, ideal for denser layouts. */\n  compact?: boolean;\n  /** Built-in top-right segmented tabs (preferred). */\n  tabs?: HeaderTabsProps<Key>;\n  /** Optional card-style framing. */\n  variant?: HeaderVariant | Extract<DeprecatedUIVariant, \"plain\">;\n  /** Show neon underline */\n  underline?: boolean;\n  /** Controls the underline gradient tone. Defaults to a neutral treatment. */\n  underlineTone?: \"brand\" | \"neutral\";\n}\n\nexport default function Header<Key extends string = string>({\n  eyebrow,\n  heading,\n  subtitle,\n  icon,\n  nav,\n  right,\n  utilities,\n  children,\n  sticky = true,\n  topClassName = \"top-[var(--header-stack)]\", // sync with --header-stack token\n  className,\n  barClassName,\n  bodyClassName,\n  rail: _deprecatedRail = true,\n  railTone: _deprecatedRailTone,\n  railVariant: _deprecatedRailVariant,\n  railClassName: _deprecatedRailClassName,\n  compact = false,\n  tabs,\n  variant = \"default\",\n  underline = true,\n  underlineTone = \"neutral\",\n  ...rest\n}: HeaderProps<Key>) {\n  void _deprecatedRail;\n  void _deprecatedRailTone;\n  void _deprecatedRailVariant;\n  void _deprecatedRailClassName;\n  const resolvedVariant = resolveUIVariant<HeaderVariant>(variant, {\n    allowed: HEADER_VARIANTS,\n    fallback: \"default\",\n  });\n  const isNeo = resolvedVariant === \"neo\";\n  const isQuiet = resolvedVariant === \"quiet\";\n  const shouldRenderNeomorphicFrameStyles = isNeo;\n  const shouldUseTranslucentSurface = resolvedVariant === \"default\";\n  const translucentSurfaceClasses = shouldUseTranslucentSurface\n    ? \"border-b border-card-hairline-60 bg-surface/80 backdrop-blur\"\n    : \"\";\n\n  let tabControl: React.ReactNode = null;\n  if (tabs) {\n    const {\n      items: tabItems,\n      value: tabValue,\n      onChange: tabOnChange,\n      ariaLabel: tabAriaLabel,\n      ariaLabelledBy: tabAriaLabelledBy,\n      className: tabClassName,\n      size: tabSize,\n      align: tabAlign,\n      right: tabRight,\n      showBaseline: tabShowBaseline,\n      variant: tabVariant,\n      tablistClassName,\n      renderItem: tabRenderItem,\n      idBase: tabIdBase,\n      linkPanels: tabLinkPanels,\n      ...tabDomProps\n    } = tabs;\n    const sanitizedTabAriaLabel =\n      typeof tabAriaLabel === \"string\" && tabAriaLabel.trim().length > 0\n        ? tabAriaLabel.trim()\n        : undefined;\n    const sanitizedTabAriaLabelledBy =\n      typeof tabAriaLabelledBy === \"string\" && tabAriaLabelledBy.trim().length > 0\n        ? tabAriaLabelledBy.trim()\n        : undefined;\n    const sanitizedItems = tabItems.map(({ hint, ...item }) => {\n      void hint;\n      return item;\n    });\n\n    const mergedTabClassName = cx(\"w-auto max-w-full shrink-0\", tabClassName);\n    const hasTabBarSpecificProps =\n      tabVariant != null ||\n      (typeof tablistClassName === \"string\" && tablistClassName.trim().length > 0) ||\n      typeof tabRenderItem === \"function\";\n\n    if (hasTabBarSpecificProps) {\n      tabControl = (\n        <TabBar\n          items={sanitizedItems}\n          value={tabValue}\n          onValueChange={tabOnChange}\n          ariaLabel={sanitizedTabAriaLabel ?? \"Header tabs\"}\n          ariaLabelledBy={sanitizedTabAriaLabelledBy}\n          idBase={tabIdBase}\n          linkPanels={tabLinkPanels}\n          className={mergedTabClassName}\n          size={tabSize}\n          align={tabAlign}\n          right={tabRight}\n          showBaseline={tabShowBaseline}\n          variant={tabVariant}\n          tablistClassName={tablistClassName}\n          renderItem={tabRenderItem}\n        />\n      );\n    } else {\n      tabControl = (\n        <HeaderTabsControl\n          items={sanitizedItems}\n          value={tabValue}\n          onChange={tabOnChange}\n          ariaLabel={sanitizedTabAriaLabel ?? \"Header tabs\"}\n          ariaLabelledBy={sanitizedTabAriaLabelledBy}\n          idBase={tabIdBase}\n          linkPanels={tabLinkPanels}\n          className={mergedTabClassName}\n          {...tabDomProps}\n        />\n      );\n    }\n  }\n\n  const hasTabs = Boolean(tabControl);\n  const hasRight = right != null;\n  const hasUtilities = utilities != null;\n  const hasNav = nav != null;\n  const showRightStack = hasTabs || hasRight || hasUtilities;\n\n  const stickyClasses = sticky ? cx(\"sticky\", topClassName) : \"\";\n\n  const defaultBarPx = isQuiet ? \"var(--space-4)\" : \"var(--space-3)\";\n  const defaultBarSmPx = \"var(--space-4)\";\n  const barPadding = cx(\n    `px-[var(--header-bar-px,${defaultBarPx})]`,\n    `sm:px-[var(--header-bar-sm-px,${defaultBarSmPx})]`,\n    compact\n      ? \"py-[var(--space-3)]\"\n      : isQuiet\n        ? \"py-[var(--space-4)]\"\n        : \"py-[var(--space-3)] sm:py-[var(--space-4)]\",\n  );\n  const minHeightClass = compact\n    ? \"min-h-[var(--control-h-sm)]\"\n    : \"min-h-[var(--space-7)]\";\n\n  const defaultBodyPx = isQuiet ? \"var(--space-4)\" : \"var(--space-3)\";\n  const defaultBodySmPx = \"var(--space-4)\";\n  const bodyPadding = cx(\n    `px-[var(--header-body-px,${defaultBodyPx})]`,\n    `sm:px-[var(--header-body-sm-px,${defaultBodySmPx})]`,\n    isQuiet\n      ? \"py-[var(--space-4)]\"\n      : \"py-[var(--space-3)] sm:py-[var(--space-4)]\",\n  );\n\n  return (\n    <>\n      {shouldRenderNeomorphicFrameStyles ? <NeomorphicFrameStyles /> : null}\n      <header\n        className={cx(\n          \"z-[999] relative isolate\",\n          isNeo &&\n            \"rounded-card r-card-lg bg-card/70 backdrop-blur-md hero2-neomorph\",\n          isNeo && \"overflow-hidden\",\n          translucentSurfaceClasses,\n\n          // Underline accent\n          underline &&\n            cx(\n              \"after:absolute after:left-0 after:bottom-0 after:h-px after:w-full after:bg-gradient-to-r after:z-[2]\",\n              underlineTone === \"brand\"\n                ? \"after:from-primary after:via-accent after:to-transparent\"\n                : \"after:from-card-hairline after:via-card-hairline-70 after:to-transparent\",\n            ),\n\n          className,\n        )}\n        {...rest}\n      >\n        {/* Top bar */}\n        <div\n          className={cx(\n            stickyClasses,\n            \"relative flex items-center gap-[var(--space-3)] sm:gap-[var(--space-4)]\",\n            barPadding,\n            minHeightClass,\n            shouldRenderNeomorphicFrameStyles && \"z-[2]\",\n            hasNav && \"flex-wrap gap-y-[var(--space-2)] sm:flex-nowrap\",\n            barClassName,\n          )}\n        >\n          {/* Left: icon + text */}\n          <div\n            className={cx(\n              \"flex min-w-0 flex-1 items-center gap-[var(--space-3)] sm:gap-[var(--space-4)]\",\n              hasNav && \"flex-wrap gap-y-[var(--space-2)] sm:flex-nowrap\",\n            )}\n          >\n            <div className=\"flex min-w-0 items-center gap-[var(--space-2)] sm:gap-[var(--space-3)]\">\n              {icon ? (\n                <span className=\"shrink-0 opacity-90\">{icon}</span>\n              ) : null}\n              <div className=\"min-w-0\">\n                {eyebrow ? (\n                  <div className=\"mb-[var(--space-1)] text-balance break-words text-label font-medium tracking-[0.02em] uppercase text-muted-foreground\">\n                    {eyebrow}\n                  </div>\n                ) : null}\n                <div className=\"flex min-w-0 items-baseline gap-[var(--space-2)]\">\n                  <h1 className=\"text-balance break-words text-title leading-tight text-foreground sm:text-title-lg font-semibold tracking-[-0.01em]\">\n                    {heading}\n                  </h1>\n                  {subtitle ? (\n                    <span className=\"hidden truncate text-label font-medium tracking-[0.02em] text-muted-foreground sm:inline\">\n                      {subtitle}\n                    </span>\n                  ) : null}\n                </div>\n              </div>\n            </div>\n            {hasNav ? (\n              <div\n                className={cx(\n                  \"flex min-w-0 flex-1 items-center gap-[var(--space-1)] overflow-x-auto whitespace-nowrap text-label font-medium text-muted-foreground sm:text-ui sm:overflow-visible\",\n                  \"[&_[data-state=active]]:text-foreground [&_[data-state=active]]:opacity-100\",\n                  \"[&_[data-state=inactive]]:text-muted-foreground [&_[data-state=inactive]:hover]:text-foreground [&_[data-state=inactive]:focus-visible]:text-foreground\",\n                )}\n                data-slot=\"primary-nav\"\n              >\n                {nav}\n              </div>\n            ) : null}\n          </div>\n\n          {/* Right slot / tabs */}\n          {showRightStack ? (\n            <div className=\"ml-auto flex min-w-0 items-center gap-[var(--space-3)] self-start sm:gap-[var(--space-4)]\">\n              {hasTabs ? tabControl : null}\n              {hasRight ? (\n                <div className=\"flex shrink-0 items-center gap-[var(--space-2)]\">\n                  {right}\n                </div>\n              ) : null}\n              {hasUtilities ? (\n                <div\n                  className={cx(\n                    \"flex shrink-0 items-center gap-[var(--space-2)] text-muted-foreground\",\n                    \"[&_[data-state=active]]:text-foreground [&_[data-state=open]]:text-foreground\",\n                  )}\n                  data-slot=\"utilities\"\n                >\n                  {utilities}\n                </div>\n              ) : null}\n            </div>\n          ) : null}\n        </div>\n\n        {/* Body under the bar */}\n        {children ? (\n          <div\n            className={cx(\n              \"relative\",\n              shouldRenderNeomorphicFrameStyles && \"z-[2]\",\n              bodyPadding,\n              bodyClassName,\n            )}\n          >\n            {children}\n          </div>\n        ) : null}\n      </header>\n    </>\n  );\n}\n\n/** @deprecated Use the `tabs` prop on `Header` instead. */\nexport function HeaderTabs<Key extends string = string>({\n  tabs,\n  activeKey,\n  onChange,\n  ariaLabel,\n  ariaLabelledBy,\n}: {\n  tabs: HeaderTab<Key>[];\n  activeKey: Key;\n  onChange: (key: Key) => void;\n  ariaLabel?: string;\n  ariaLabelledBy?: string;\n}) {\n  const sanitizedAriaLabel =\n    typeof ariaLabel === \"string\" && ariaLabel.trim().length > 0\n      ? ariaLabel.trim()\n      : undefined;\n  const sanitizedAriaLabelledBy =\n    typeof ariaLabelledBy === \"string\" && ariaLabelledBy.trim().length > 0\n      ? ariaLabelledBy.trim()\n      : undefined;\n  const sanitizedItems = tabs.map(({ hint, ...item }) => {\n    void hint;\n    return item;\n  });\n\n  return (\n    <HeaderTabsControl\n      items={sanitizedItems}\n      value={activeKey}\n      onChange={onChange}\n      ariaLabel={sanitizedAriaLabel ?? \"Header tabs\"}\n      ariaLabelledBy={sanitizedAriaLabelledBy}\n    />\n  );\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"PillarBadge_root__9zdqD\",\"icon\":\"PillarBadge_icon__Wsax8\",\"label\":\"PillarBadge_label__26M75\"};","\"use client\";\n\nimport * as React from \"react\";\n\nimport { useOrganicDepthEnabled } from \"@/lib/depth-theme-context\";\nimport { cn } from \"@/lib/utils\";\n\nimport BlobContainer from \"./BlobContainer\";\nimport styles from \"./Badge.module.css\";\nimport neumorphicStyles from \"../neumorphic.module.css\";\n\ntype BaseSize = \"sm\" | \"md\" | \"lg\" | \"xl\";\ntype Size = \"xs\" | BaseSize;\ntype Tone =\n  | \"neutral\"\n  | \"primary\"\n  | \"accent\"\n  | \"top\"\n  | \"jungle\"\n  | \"mid\"\n  | \"bot\"\n  | \"support\";\n\ntype BadgeOwnProps<T extends React.ElementType = \"span\"> = {\n  size?: Size;\n  tone?: Tone;\n  interactive?: boolean;\n  selected?: boolean;\n  glitch?: boolean;\n  as?: T;\n  disabled?: boolean;\n};\n\nexport type BadgeProps<T extends React.ElementType = \"span\"> =\n  BadgeOwnProps<T> &\n    Omit<React.ComponentPropsWithoutRef<T>, keyof BadgeOwnProps<T>>;\n\nconst baseSizeMap: Record<BaseSize, string> = {\n  sm: \"px-[var(--space-2)] py-[var(--space-1)] text-label leading-none [&_svg]:size-[var(--icon-size-xs)]\",\n  md: \"px-[var(--space-3)] py-[var(--space-2)] text-label leading-none [&_svg]:size-[var(--icon-size-sm)]\",\n  lg: \"px-[var(--space-4)] py-[var(--space-2)] text-ui leading-none [&_svg]:size-[var(--icon-size-md)]\",\n  xl: \"px-[var(--space-5)] py-[var(--space-3)] text-title leading-none [&_svg]:size-[var(--icon-size-xl)]\",\n};\n\nconst sizeMap: Record<Size, string> = {\n  xs: baseSizeMap.sm,\n  ...baseSizeMap,\n};\n\nconst toneBorder: Record<Tone, string> = {\n  neutral: \"border-card-hairline\",\n  primary: \"border-ring\",\n  accent: \"border-accent-overlay\",\n  top: \"border-tone-top\",\n  jungle: \"border-tone-jg\",\n  mid: \"border-tone-mid\",\n  bot: \"border-tone-bot\",\n  support: \"border-tone-sup\",\n};\n\nconst toneInteraction: Record<Tone, string> = {\n  neutral: \"[--hover:hsl(var(--muted)/0.28)] [--active:hsl(var(--muted)/0.36)]\",\n  primary: \"[--hover:hsl(var(--primary)/0.22)] [--active:hsl(var(--primary)/0.3)]\",\n  accent: \"[--hover:hsl(var(--accent)/0.22)] [--active:hsl(var(--accent)/0.32)]\",\n  top: \"[--hover:hsl(var(--tone-top)/0.24)] [--active:hsl(var(--tone-top)/0.34)]\",\n  jungle: \"[--hover:hsl(var(--tone-jg)/0.24)] [--active:hsl(var(--tone-jg)/0.34)]\",\n  mid: \"[--hover:hsl(var(--tone-mid)/0.24)] [--active:hsl(var(--tone-mid)/0.34)]\",\n  bot: \"[--hover:hsl(var(--tone-bot)/0.24)] [--active:hsl(var(--tone-bot)/0.34)]\",\n  support: \"[--hover:hsl(var(--tone-sup)/0.24)] [--active:hsl(var(--tone-sup)/0.34)]\",\n};\n\nexport default function Badge<T extends React.ElementType = \"span\">(\n  props: BadgeProps<T>,\n) {\n  const {\n    size = \"md\",\n    tone = \"neutral\",\n    interactive = false,\n    selected,\n    glitch = false,\n    disabled = false,\n    as,\n    className,\n    children,\n    ...rest\n  } = props;\n  const Comp = (as ?? (interactive ? \"button\" : \"span\")) as React.ElementType;\n  const isStringElement = typeof Comp === \"string\";\n  const isButtonElement = isStringElement && Comp === \"button\";\n  const isToggleBadge = Object.prototype.hasOwnProperty.call(props, \"selected\");\n  const isSelected = selected ?? false;\n  const {\n    onKeyDown: userOnKeyDown,\n    onClick: userOnClick,\n    [\"data-text\"]: providedGlitchText,\n    ...restProps\n  } = rest as typeof rest & {\n    onKeyDown?: React.KeyboardEventHandler<HTMLElement>;\n    onClick?: React.MouseEventHandler<HTMLElement>;\n    \"data-text\"?: string;\n  };\n\n  const typeProps =\n    isButtonElement && !Object.prototype.hasOwnProperty.call(restProps, \"type\")\n      ? { type: \"button\" as const }\n      : {};\n\n  const roleProps =\n    interactive && isStringElement && !isButtonElement\n      ? {\n          role: \"button\" as const,\n          ...(Object.prototype.hasOwnProperty.call(restProps, \"tabIndex\")\n            ? {}\n            : { tabIndex: 0 }),\n        }\n      : {};\n  const disabledProps =\n    isButtonElement || !isStringElement ? { disabled } : {};\n  const mergedOnKeyDown: React.KeyboardEventHandler<HTMLElement> | undefined =\n    interactive && !isButtonElement\n      ? (event) => {\n          userOnKeyDown?.(event);\n          if (event.defaultPrevented || disabled) {\n            return;\n          }\n\n          if (\n            event.key === \"Enter\" ||\n            event.key === \" \" ||\n            event.key === \"Space\" ||\n            event.key === \"Spacebar\"\n          ) {\n            event.preventDefault();\n            const element = event.currentTarget as HTMLElement | null;\n            element?.click();\n          }\n        }\n      : userOnKeyDown;\n\n  const organicDepth = useOrganicDepthEnabled();\n  const glitchText = glitch\n    ? providedGlitchText ??\n      (typeof children === \"string\" ? children : undefined)\n    : providedGlitchText;\n\n  return (\n    <Comp\n      {...restProps}\n      {...typeProps}\n      {...roleProps}\n      {...disabledProps}\n      onClick={userOnClick}\n      onKeyDown={mergedOnKeyDown}\n      data-selected={isSelected ? \"true\" : undefined}\n      data-disabled={disabled ? \"true\" : undefined}\n      aria-disabled={disabled ? \"true\" : undefined}\n      aria-pressed={interactive && isToggleBadge ? isSelected : undefined}\n      data-text={glitchText}\n      className={cn(\n        neumorphicStyles.neu,\n        styles.root,\n        organicDepth && styles.organicBadge,\n        \"relative inline-flex max-w-full items-center gap-[var(--space-2)] whitespace-nowrap font-medium tracking-[0.02em]\",\n        \"border\",\n        sizeMap[size],\n        toneBorder[tone],\n        interactive &&\n          cn(\n            styles.interactive,\n            toneInteraction[tone],\n            \"focus-visible:ring-2 focus-visible:ring-[var(--ring-contrast)] focus-visible:shadow-[var(--shadow-glow-md)] focus-visible:[outline:var(--spacing-0-5)_solid_var(--ring-contrast)] focus-visible:[outline-offset:var(--spacing-0-5)] focus-visible:ring-offset-2 focus-visible:ring-offset-[hsl(var(--surface-2))]\",\n            \"data-[disabled=true]:cursor-default\",\n            !isButtonElement && \"data-[disabled=true]:pointer-events-none\",\n          ),\n        isSelected &&\n          \"bg-primary-soft/36 border-ring-contrast shadow-glow-xl text-on-accent\",\n        glitch &&\n          cn(styles.glitch, \"group/glitch isolate\"),\n        \"data-[disabled=true]:opacity-disabled\",\n        className,\n      )}\n    >\n      {glitch ? (\n        <BlobContainer overlayToken=\"glitch-overlay-button-opacity-reduced\" />\n      ) : null}\n      {children}\n    </Comp>\n  );\n}\n","// src/components/ui/PillarBadge.tsx\n\"use client\";\n\nimport * as React from \"react\";\nimport clsx from \"clsx\";\nimport type { Pillar } from \"@/lib/types\";\nimport { Waves, HandCoins, Eye, Timer, Crosshair, MessagesSquare } from \"lucide-react\";\nimport styles from \"./PillarBadge.module.css\";\n\ntype Size = \"sm\" | \"md\" | \"lg\";\ntype AsTag = \"button\" | \"span\" | \"div\";\n\ntype Props = {\n  pillar: Pillar;\n  size?: Size;\n  className?: string;\n  withIcon?: boolean;\n  /** If true, badge is clickable by default (unless you override `as`). */\n  interactive?: boolean;\n  /** Visual active state (drives gradient). */\n  active?: boolean;\n  /** Click handler. Works with `as=\"button\"` or with role+tabIndex on non-buttons. */\n  onClick?: () => void;\n  /** Force the rendered element. Use `as=\"span\"` inside a parent <button>. */\n  as?: AsTag;\n  /** Optional native title/disabled passthrough. */\n  title?: string;\n  disabled?: boolean;\n};\n\n/**\n * PillarBadge  Lavender-Glitch chip for pillar tags.\n *\n * Important:\n * - If you render this INSIDE another <button>, set `as=\"span\"` here.\n *   HTML forbids <button> inside <button>, and React will warn during hydration.\n */\nexport default function PillarBadge({\n  pillar,\n  size = \"md\",\n  className = \"\",\n  withIcon = true,\n  interactive = false,\n  active = false,\n  onClick,\n  as,\n  title,\n  disabled,\n}: Props) {\n  const theme = PILLAR_THEME[pillar];\n  const Icon = theme.icon;\n\n  const sizeCls =\n    size === \"lg\"\n      ? \"h-[var(--control-h-md)] px-[var(--space-4)] text-body gap-[var(--space-2)]\"\n      : size === \"sm\"\n        ? \"h-[var(--space-6)] px-[var(--space-3)] text-label gap-[var(--space-2)]\"\n        : \"h-[var(--control-h-sm)] px-[var(--space-4)] text-ui gap-[var(--space-2)]\";\n\n  // Default element: \"button\" if interactive, else \"span\".\n  const Tag: AsTag = as ?? (interactive ? \"button\" : \"span\");\n\n  // Common class list\n  const cls = clsx(styles.root, \"rounded-full\", sizeCls, className);\n\n  // If not a real button but still clickable, apply minimal semantics\n  const nonButtonInteractiveProps =\n    Tag !== \"button\" && (interactive || onClick)\n      ? { role: \"button\" as const, tabIndex: 0, onClick }\n      : {};\n\n  // Keyboard activate for non-button interactive usage\n  function onKeyDown(e: React.KeyboardEvent<HTMLElement>) {\n    if (!nonButtonInteractiveProps) return;\n    if (e.key === \" \" || e.key === \"Enter\") {\n      e.preventDefault();\n      onClick?.();\n    }\n  }\n\n  return (\n    <Tag\n      // Button-only attributes\n      {...(Tag === \"button\"\n        ? {\n            type: \"button\",\n            onClick,\n            disabled,\n            \"aria-pressed\": interactive ? active : undefined,\n          }\n        : {})}\n      // Non-button semantics when clickable\n      {...nonButtonInteractiveProps}\n      onKeyDown={Tag === \"button\" ? undefined : onKeyDown}\n      // Shared props\n      className={cls}\n      data-interactive={interactive ? \"true\" : undefined}\n      data-selected={active ? \"true\" : undefined}\n      data-pillar={pillar}\n      title={title ?? pillar}\n    >\n      {withIcon && <Icon className={styles.icon} aria-hidden=\"true\" />}\n      <span className={styles.label}>{pillar}</span>\n    </Tag>\n  );\n}\n\ntype PillarThemeEntry = {\n  start: string;\n  end: string;\n  shadow: string;\n  icon: React.ComponentType<React.SVGProps<SVGSVGElement>>;\n};\n\nconst PILLAR_THEME: Record<Pillar, PillarThemeEntry> = {\n  Wave: {\n    start: \"pillar-wave-start\",\n    end: \"pillar-wave-end\",\n    shadow: \"pillar-wave-shadow\",\n    icon: Waves,\n  },\n  Trading: {\n    start: \"pillar-trading-start\",\n    end: \"pillar-trading-end\",\n    shadow: \"pillar-trading-shadow\",\n    icon: HandCoins,\n  },\n  Vision: {\n    start: \"pillar-vision-start\",\n    end: \"pillar-vision-end\",\n    shadow: \"pillar-vision-shadow\",\n    icon: Eye,\n  },\n  Tempo: {\n    start: \"pillar-tempo-start\",\n    end: \"pillar-tempo-end\",\n    shadow: \"pillar-tempo-shadow\",\n    icon: Timer,\n  },\n  Positioning: {\n    start: \"pillar-positioning-start\",\n    end: \"pillar-positioning-end\",\n    shadow: \"pillar-positioning-shadow\",\n    icon: Crosshair,\n  },\n  Comms: {\n    start: \"pillar-comms-start\",\n    end: \"pillar-comms-end\",\n    shadow: \"pillar-comms-shadow\",\n    icon: MessagesSquare,\n  },\n};\n","\"use client\";\n\nimport * as React from \"react\";\n\nimport { createGalleryPreview, defineGallerySection } from \"@/components/gallery/registry\";\nimport { Button } from \"@/components/ui\";\n\nimport SearchBar from \"./SearchBar\";\n\ntype SearchBarStateHelpers = {\n  interactiveValue: string;\n  onInteractiveChange: (value: string) => void;\n  noop: (value: string) => void;\n  renderFiltersButton: () => React.ReactNode;\n};\n\ntype SearchBarStateSpec = {\n  id: string;\n  name: string;\n  getProps: (\n    helpers: SearchBarStateHelpers,\n  ) => React.ComponentProps<typeof SearchBar>;\n  code?: string;\n};\n\nconst SEARCH_BAR_NOOP = (value: string) => {\n  void value;\n};\n\nconst SEARCH_BAR_STATES: readonly SearchBarStateSpec[] = [\n  {\n    id: \"default\",\n    name: \"Default\",\n    getProps: ({ interactiveValue, onInteractiveChange }) => ({\n      value: interactiveValue,\n      onValueChange: onInteractiveChange,\n      placeholder: \"Search components\",\n    }),\n    code: \"<SearchBar value={query} onValueChange={setQuery} placeholder=\\\"Search components\\\" />\",\n  },\n  {\n    id: \"with-label\",\n    name: \"With label\",\n    getProps: ({ noop, renderFiltersButton }) => ({\n      value: \"\",\n      onValueChange: noop,\n      label: \"Search library\",\n      placeholder: \"With label\",\n      right: renderFiltersButton(),\n    }),\n    code: \"<SearchBar label=\\\"Search library\\\" right={<Button size=\\\"sm\\\">Filters</Button>} />\",\n  },\n  {\n    id: \"hover\",\n    name: \"Hover\",\n    getProps: ({ noop }) => ({\n      value: \"Hover\",\n      onValueChange: noop,\n      placeholder: \"Hover\",\n      fieldClassName: \"bg-[--hover]\",\n    }),\n    code: \"<SearchBar fieldClassName=\\\"bg-[--hover]\\\" placeholder=\\\"Hover\\\" />\",\n  },\n  {\n    id: \"focus-visible\",\n    name: \"Focus-visible\",\n    getProps: ({ noop }) => ({\n      value: \"Focus-visible\",\n      onValueChange: noop,\n      placeholder: \"Focus-visible\",\n      fieldClassName:\n        \"ring-2 ring-[hsl(var(--ring))] ring-offset-0 ring-offset-[hsl(var(--bg))]\",\n    }),\n    code: \"<SearchBar fieldClassName=\\\"ring-2 ring-[hsl(var(--ring))] ring-offset-0 ring-offset-[hsl(var(--bg))]\\\" placeholder=\\\"Focus-visible\\\" />\",\n  },\n  {\n    id: \"active\",\n    name: \"Active\",\n    getProps: ({ noop }) => ({\n      value: \"Active\",\n      onValueChange: noop,\n      placeholder: \"Active\",\n      fieldClassName: \"bg-[--active]\",\n    }),\n    code: \"<SearchBar fieldClassName=\\\"bg-[--active]\\\" placeholder=\\\"Active\\\" />\",\n  },\n  {\n    id: \"disabled\",\n    name: \"Disabled\",\n    getProps: ({ noop }) => ({\n      value: \"Disabled\",\n      onValueChange: noop,\n      placeholder: \"Disabled\",\n      disabled: true,\n    }),\n    code: \"<SearchBar placeholder=\\\"Disabled\\\" disabled />\",\n  },\n  {\n    id: \"loading\",\n    name: \"Loading\",\n    getProps: ({ noop }) => ({\n      value: \"Loading\",\n      onValueChange: noop,\n      placeholder: \"Loading\",\n      loading: true,\n    }),\n    code: \"<SearchBar placeholder=\\\"Loading\\\" loading />\",\n  },\n];\n\nfunction SearchBarStatePreview({\n  state,\n  helpers,\n}: {\n  state: SearchBarStateSpec;\n  helpers: SearchBarStateHelpers;\n}) {\n  const props = state.getProps(helpers);\n  return <SearchBar {...props} />;\n}\n\nfunction SearchBarGalleryPreview() {\n  const [query, setQuery] = React.useState(\"Champion counters\");\n  const renderFiltersButton = React.useCallback(\n    () => <Button size=\"sm\">Filters</Button>,\n    [],\n  );\n  const helpers = React.useMemo(\n    () => ({\n      interactiveValue: query,\n      onInteractiveChange: setQuery,\n      noop: SEARCH_BAR_NOOP,\n      renderFiltersButton,\n    }),\n    [query, renderFiltersButton, setQuery],\n  );\n\n  return (\n    <div className=\"flex flex-col gap-[var(--space-3)]\">\n      {SEARCH_BAR_STATES.map((state) => (\n        <SearchBarStatePreview key={state.id} state={state} helpers={helpers} />\n      ))}\n    </div>\n  );\n}\n\nexport default defineGallerySection({\n  id: \"inputs\",\n  entries: [\n    {\n      id: \"search-bar\",\n      name: \"SearchBar\",\n      description: \"Debounced search input with optional label and slots\",\n      kind: \"primitive\",\n      tags: [\"search\", \"input\"],\n      props: [\n        { name: \"value\", type: \"string\", required: true },\n        { name: \"onValueChange\", type: \"(value: string) => void\" },\n        { name: \"placeholder\", type: \"string\" },\n        { name: \"label\", type: \"React.ReactNode\" },\n        { name: \"right\", type: \"React.ReactNode\" },\n        { name: \"loading\", type: \"boolean\", defaultValue: \"false\" },\n        { name: \"disabled\", type: \"boolean\", defaultValue: \"false\" },\n        { name: \"variant\", type: '\"default\" | \"neo\"', defaultValue: '\"default\"' },\n      ],\n      axes: [\n        {\n          id: \"state\",\n          label: \"State\",\n          type: \"state\",\n          values: SEARCH_BAR_STATES.map(({ name }) => ({ value: name })),\n        },\n      ],\n      preview: createGalleryPreview({\n        id: \"ui:search-bar:states\",\n        render: () => <SearchBarGalleryPreview />,\n      }),\n      states: SEARCH_BAR_STATES.map((state) => ({\n        id: state.id,\n        name: state.name,\n        code: state.code,\n        preview: createGalleryPreview({\n          id: `ui:search-bar:state:${state.id}`,\n          render: () => (\n            <SearchBarStatePreview\n              state={state}\n              helpers={{\n                interactiveValue: \"Champion counters\",\n                onInteractiveChange: SEARCH_BAR_NOOP,\n                noop: SEARCH_BAR_NOOP,\n                renderFiltersButton: () => <Button size=\"sm\">Filters</Button>,\n              }}\n            />\n          ),\n        }),\n      })),\n      code: `const [query, setQuery] = React.useState(\"Champion counters\");\nconst handleNoop = React.useCallback((_value: string) => {}, []);\n\n<SearchBar\n  value={query}\n  onValueChange={setQuery}\n  placeholder=\"Search components\"\n/>\n<SearchBar\n  value=\"\"\n  onValueChange={handleNoop}\n  label=\"Search library\"\n  placeholder=\"With label\"\n  right={<Button size=\"sm\">Filters</Button>}\n/>\n<SearchBar\n  value=\"Hover\"\n  onValueChange={handleNoop}\n  placeholder=\"Hover\"\n  fieldClassName=\"bg-[--hover]\"\n/>\n<SearchBar\n  value=\"Focus-visible\"\n  onValueChange={handleNoop}\n  placeholder=\"Focus-visible\"\n  fieldClassName=\"ring-2 ring-[hsl(var(--ring))] ring-offset-0 ring-offset-[hsl(var(--bg))]\"\n/>\n<SearchBar\n  value=\"Active\"\n  onValueChange={handleNoop}\n  placeholder=\"Active\"\n  fieldClassName=\"bg-[--active]\"\n/>\n<SearchBar\n  value=\"Disabled\"\n  onValueChange={handleNoop}\n  placeholder=\"Disabled\"\n  disabled\n/>\n<SearchBar\n  value=\"Loading\"\n  onValueChange={handleNoop}\n  placeholder=\"Loading\"\n  loading\n/>`,\n    },\n  ],\n});\n","import * as React from \"react\";\n\nimport type { InputSize } from \"../primitives/Input\";\n\nexport type SelectItem = {\n  value: string;\n  label: React.ReactNode;\n  disabled?: boolean;\n  loading?: boolean;\n  className?: string;\n  onSelect?: () => void;\n};\n\ntype Align = \"left\" | \"right\";\n\ntype CommonSelectProps = {\n  id?: string;\n  label?: React.ReactNode;\n  prefixLabel?: React.ReactNode;\n  items: SelectItem[];\n  value?: string;\n  onChange?: (v: string) => void;\n  className?: string;\n};\n\nexport type AnimatedSelectProps = CommonSelectProps & {\n  dropdownClassName?: string;\n  buttonClassName?: string;\n  containerClassName?: string;\n  placeholder?: string;\n  disabled?: boolean;\n  hideLabel?: boolean;\n  ariaLabel?: string;\n  align?: Align;\n  matchTriggerWidth?: boolean;\n  size?: InputSize;\n};\n\nexport interface NativeSelectProps\n  extends Omit<\n    React.SelectHTMLAttributes<HTMLSelectElement>,\n    \"children\" | \"value\" | \"onChange\"\n  > {\n  items: SelectItem[];\n  value?: string;\n  onChange?: (v: string) => void;\n  helperText?: string;\n  errorText?: string;\n  success?: boolean;\n  selectClassName?: string;\n}\n\nexport type SelectProps =\n  | (AnimatedSelectProps & { variant?: \"animated\" })\n  | (NativeSelectProps & { variant: \"native\" });\n\nexport type SelectRef = HTMLSelectElement | HTMLButtonElement;\n\nexport function isNativeSelect(props: SelectProps): props is NativeSelectProps & {\n  variant: \"native\";\n} {\n  return props.variant === \"native\";\n}\n","\"use client\";\n\nimport * as React from \"react\";\n\nimport AnimatedSelect from \"./select/AnimatedSelect\";\nimport NativeSelect from \"./select/NativeSelect\";\nimport selectStyles from \"./select/Select.module.css\";\nimport type {\n  AnimatedSelectProps,\n  NativeSelectProps,\n  SelectProps,\n  SelectRef,\n} from \"./select/shared\";\nimport { isNativeSelect } from \"./select/shared\";\n\nconst Select = React.forwardRef<SelectRef, SelectProps>(function Select(\n  props,\n  ref,\n) {\n  if (isNativeSelect(props)) {\n    const { variant, ...rest } = props as NativeSelectProps & {\n      variant: \"native\";\n    };\n    void variant;\n    return (\n      <NativeSelect\n        ref={ref as React.Ref<HTMLSelectElement>}\n        {...rest}\n      />\n    );\n  }\n  const { variant, ...rest } = props as AnimatedSelectProps & {\n    variant?: \"animated\";\n  };\n  void variant;\n  return (\n    <AnimatedSelect\n      ref={ref as React.Ref<HTMLButtonElement>}\n      styles={selectStyles}\n      {...rest}\n    />\n  );\n});\n\nSelect.displayName = \"Select\";\n\nexport default Select;\nexport { AnimatedSelect, NativeSelect };\nexport * from \"./select/shared\";\n","\"use client\";\n\nimport * as React from \"react\";\nimport type { SelectItem } from \"@/components/ui\";\nimport { VARIANTS, Variant } from \"@/lib/theme\";\nimport SettingsSelect from \"./SettingsSelect\";\n\nexport type ThemePickerProps = {\n  variant: Variant;\n  onVariantChange: (v: Variant) => void;\n  className?: string;\n  buttonClassName?: string;\n  disabled?: boolean;\n  loadingVariant?: Variant | null;\n};\n\nexport default function ThemePicker({\n  variant,\n  onVariantChange,\n  className = \"\",\n  buttonClassName,\n  disabled = false,\n  loadingVariant = null,\n}: ThemePickerProps) {\n  const items: SelectItem[] = React.useMemo(\n    () =>\n      VARIANTS.map((v) => ({\n        value: v.id,\n        label: v.label,\n        loading: loadingVariant === v.id,\n      })),\n    [loadingVariant],\n  );\n  return (\n    <SettingsSelect\n      ariaLabel=\"Theme\"\n      prefixLabel=\"Theme\"\n      items={items}\n      value={variant}\n      onChange={(v) => onVariantChange(v as Variant)}\n      className={className}\n      buttonClassName={buttonClassName}\n      disabled={disabled}\n    />\n  );\n}\n","\"use client\";\n\nimport * as React from \"react\";\nimport { createPortal } from \"react-dom\";\n\nimport useMounted from \"@/lib/useMounted\";\nimport { cn } from \"@/lib/utils\";\n\nimport { AnimatedSelectList } from \"./AnimatedSelectList\";\nimport { AnimatedSelectTrigger } from \"./AnimatedSelectTrigger\";\nimport defaultStyles from \"./Select.module.css\";\nimport type { AnimatedSelectProps } from \"./shared\";\nimport { useAnimatedSelect } from \"./useAnimatedSelect\";\n\ntype SelectStyles = Record<string, string>;\n\ntype AnimatedSelectComponentProps = AnimatedSelectProps & {\n  styles?: SelectStyles;\n};\n\ntype SelectSize = NonNullable<AnimatedSelectProps[\"size\"]>;\n\nconst DEFAULT_TRIGGER_SIZE: SelectSize = \"md\";\n\nconst SIZE_STYLES: Record<\n  SelectSize,\n  {\n    height: string;\n    paddingX: string;\n    caret: string;\n    prefix: string;\n  }\n> = {\n  sm: {\n    height: \"h-[var(--control-h-sm)]\",\n    paddingX: \"px-[var(--space-3)]\",\n    caret: \"size-[var(--space-4)]\",\n    prefix: \"size-[var(--space-4)]\",\n  },\n  md: {\n    height: \"h-[var(--control-h-md)]\",\n    paddingX: \"px-[var(--space-3)]\",\n    caret: \"size-[var(--space-5)]\",\n    prefix: \"size-[var(--space-5)]\",\n  },\n  lg: {\n    height: \"h-[var(--control-h-lg)]\",\n    paddingX: \"px-[var(--space-4)]\",\n    caret: \"size-[var(--space-6)]\",\n    prefix: \"size-[var(--space-6)]\",\n  },\n  xl: {\n    height: \"h-[var(--control-h-xl)]\",\n    paddingX: \"px-[var(--space-4)]\",\n    caret: \"size-[var(--space-6)]\",\n    prefix: \"size-[var(--space-6)]\",\n  },\n};\n\nconst AnimatedSelect = React.forwardRef<\n  HTMLButtonElement,\n  AnimatedSelectComponentProps\n>(function AnimatedSelect(\n  {\n    id,\n    label,\n    prefixLabel,\n    items,\n    value,\n    onChange,\n    className = \"\",\n    dropdownClassName = \"\",\n    buttonClassName = \"\",\n    containerClassName,\n    placeholder = \"Select\",\n    disabled = false,\n    hideLabel = false,\n    ariaLabel,\n    align = \"left\",\n    matchTriggerWidth = true,\n    size = DEFAULT_TRIGGER_SIZE,\n    styles: stylesOverride,\n  },\n  ref,\n) {\n  const styles = stylesOverride ?? defaultStyles;\n  const sizeStyles = SIZE_STYLES[size] ?? SIZE_STYLES[DEFAULT_TRIGGER_SIZE];\n  const mounted = useMounted();\n\n  const {\n    open,\n    setOpen,\n    setTriggerRef,\n    onTriggerKeyDown,\n    onListKeyDown,\n    listRef,\n    current,\n    lit,\n    labelId,\n    listboxId,\n    triggerAria,\n    scheduleMeasure,\n    selectByIndex,\n    setActiveIndex,\n    placement,\n    fixedStyles,\n    reduceMotion,\n    yOffset,\n    motionDurationSm,\n  } = useAnimatedSelect({\n    items,\n    value,\n    onChange,\n    matchTriggerWidth,\n    align,\n    size,\n    label,\n    prefixLabel,\n    ariaLabel,\n    forwardedRef: ref,\n  });\n\n  const handleToggle = React.useCallback(() => {\n    scheduleMeasure();\n    setOpen((prev) => !prev);\n  }, [scheduleMeasure, setOpen]);\n\n  return (\n    <div id={id} className={cn(\"glitch-wrapper\", className)}>\n      {label ? (\n        <div\n          id={labelId}\n          className={cn(\n            hideLabel\n              ? \"sr-only\"\n              : \"mb-[var(--space-1)] text-label text-muted-foreground\",\n          )}\n        >\n          {label}\n        </div>\n      ) : null}\n\n      <AnimatedSelectTrigger\n        triggerRef={setTriggerRef}\n        onToggle={handleToggle}\n        onKeyDown={onTriggerKeyDown}\n        open={open}\n        lit={lit}\n        disabled={disabled}\n        label={label}\n        labelId={labelId}\n        triggerAria={triggerAria}\n        listboxId={listboxId}\n        styles={styles}\n        sizeStyles={sizeStyles}\n        buttonClassName={buttonClassName}\n        containerClassName={containerClassName}\n        current={current}\n        placeholder={placeholder}\n        prefixLabel={prefixLabel}\n      />\n\n      {mounted &&\n        createPortal(\n          <AnimatedSelectList\n            open={open}\n            items={items}\n            value={value}\n            setActiveIndex={setActiveIndex}\n            selectByIndex={selectByIndex}\n            onKeyDown={onListKeyDown}\n            listRef={listRef}\n            styles={styles}\n            dropdownClassName={dropdownClassName}\n            triggerAria={triggerAria}\n            label={label}\n            labelId={labelId}\n            listboxId={listboxId}\n            fixedStyles={fixedStyles}\n            placement={placement}\n            reduceMotion={reduceMotion}\n            motionDurationSm={motionDurationSm}\n            yOffset={yOffset}\n          />, \n          document.body\n        )}\n    </div>\n  );\n});\n\nAnimatedSelect.displayName = \"AnimatedSelect\";\n\nexport default AnimatedSelect;\n","import * as React from \"react\";\n\nimport { createGalleryPreview, defineGallerySection } from \"@/components/gallery/registry\";\nimport { Input } from \"@/components/ui\";\n\nimport Label from \"./Label\";\n\ntype LabelState = {\n  id: string;\n  name: string;\n  label: string;\n  disabled?: boolean;\n  labelClassName?: string;\n  inputClassName?: string;\n  code: string;\n};\n\nconst LABEL_STATES: readonly LabelState[] = [\n  {\n    id: \"default\",\n    name: \"Default\",\n    label: \"Email\",\n    code: `<div className=\"flex flex-col gap-[var(--space-1)]\">\n  <Label htmlFor=\"label-state-default\">Email</Label>\n  <Input id=\"label-state-default\" placeholder=\"player@example.gg\" />\n</div>`,\n  },\n  {\n    id: \"hover\",\n    name: \"Hover\",\n    label: \"Email\",\n    labelClassName: \"text-accent transition-colors\",\n    inputClassName: \"border-primary/60\",\n    code: `<div className=\"flex flex-col gap-[var(--space-1)]\">\n  <Label htmlFor=\"label-state-hover\" className=\"text-accent transition-colors\">Email</Label>\n  <Input\n    id=\"label-state-hover\"\n    placeholder=\"player@example.gg\"\n    className=\"border-primary/60\"\n  />\n</div>`,\n  },\n  {\n    id: \"focus-visible\",\n    name: \"Focus-visible\",\n    label: \"Email\",\n    labelClassName: \"text-ring transition-colors\",\n    inputClassName:\n      \"ring-2 ring-[var(--ring)] ring-offset-2 ring-offset-[var(--surface-2)] focus-visible:ring-2 focus-visible:ring-[var(--ring)] focus-visible:ring-offset-2 focus-visible:ring-offset-[var(--surface-2)]\",\n    code: `<div className=\"flex flex-col gap-[var(--space-1)]\">\n  <Label htmlFor=\"label-state-focus\" className=\"text-ring transition-colors\">Email</Label>\n  <Input\n    id=\"label-state-focus\"\n    placeholder=\"player@example.gg\"\n    className=\"ring-2 ring-[var(--ring)] ring-offset-2 ring-offset-[var(--surface-2)] focus-visible:ring-2 focus-visible:ring-[var(--ring)] focus-visible:ring-offset-2 focus-visible:ring-offset-[var(--surface-2)]\"\n  />\n</div>`,\n  },\n  {\n    id: \"disabled\",\n    name: \"Disabled\",\n    label: \"Email\",\n    disabled: true,\n    code: `<div className=\"flex flex-col gap-[var(--space-1)] opacity-80\">\n  <Label htmlFor=\"label-state-disabled\">Email</Label>\n  <Input id=\"label-state-disabled\" placeholder=\"player@example.gg\" disabled />\n</div>`,\n  },\n];\n\nfunction LabelStatePreview({ state }: { state: LabelState }) {\n  const inputId = `label-state-${state.id}`;\n  const containerClassName = state.disabled\n    ? \"flex flex-col gap-[var(--space-1)] opacity-80\"\n    : \"flex flex-col gap-[var(--space-1)]\";\n\n  return (\n    <div className={containerClassName}>\n      <Label htmlFor={inputId} className={state.labelClassName}>\n        {state.label}\n      </Label>\n      <Input\n        id={inputId}\n        placeholder=\"player@example.gg\"\n        disabled={state.disabled}\n        className={state.inputClassName}\n      />\n    </div>\n  );\n}\n\nfunction LabelGalleryPreview() {\n  return (\n    <div className=\"flex w-[calc(var(--space-8)*4)] flex-col gap-[var(--space-3)]\">\n      <div>\n        <Label htmlFor=\"label-default\">Email</Label>\n        <Input id=\"label-default\" placeholder=\"player@example.gg\" />\n      </div>\n      <div className=\"opacity-80\">\n        <Label htmlFor=\"label-disabled\">Disabled</Label>\n        <Input id=\"label-disabled\" placeholder=\"Disabled input\" disabled />\n      </div>\n    </div>\n  );\n}\n\nexport default defineGallerySection({\n  id: \"inputs\",\n  entries: [\n    {\n      id: \"label\",\n      name: \"Label\",\n      description: \"Text label paired with inputs for accessible forms\",\n      kind: \"primitive\",\n      tags: [\"label\", \"input\"],\n      props: [\n        { name: \"htmlFor\", type: \"string\" },\n        { name: \"className\", type: \"string\" },\n      ],\n      axes: [\n        {\n          id: \"state\",\n          label: \"State\",\n          type: \"state\",\n          values: [\n            { value: \"Default\" },\n            { value: \"Hover\" },\n            { value: \"Focus-visible\" },\n            { value: \"Disabled\" },\n          ],\n        },\n      ],\n      preview: createGalleryPreview({\n        id: \"ui:label:pairing\",\n        render: () => <LabelGalleryPreview />,\n      }),\n      states: LABEL_STATES.map((state) => ({\n        id: state.id,\n        name: state.name,\n        code: state.code,\n        preview: createGalleryPreview({\n          id: `ui:label:state:${state.id}`,\n          render: () => <LabelStatePreview state={state} />,\n        }),\n      })),\n      code: `<div className=\"w-[calc(var(--space-8)*4)] space-y-[var(--space-3)]\">\n  <div>\n    <Label htmlFor=\"label-default\">Email</Label>\n    <Input id=\"label-default\" placeholder=\"player@example.gg\" />\n  </div>\n  <div className=\"opacity-80\">\n    <Label htmlFor=\"label-disabled\">Disabled</Label>\n    <Input id=\"label-disabled\" placeholder=\"Disabled input\" disabled />\n  </div>\n</div>`,\n    },\n  ],\n});\n","\"use client\";\n\nimport { persistenceLogger } from \"./logging\";\n\ntype BinaryPayload = {\n  __planner_binary__: true;\n  t: string;\n  d: string;\n  o?: number;\n  l?: number;\n};\n\nconst binaryMarker = \"__planner_binary__\";\n\nfunction getTypedArrayConstructor(type: string):\n  | (new (buffer: ArrayBuffer, byteOffset?: number, length?: number) => ArrayBufferView)\n  | null {\n  const ctor = (globalThis as Record<string, unknown>)[type];\n  if (typeof ctor === \"function\") {\n    return ctor as new (\n      buffer: ArrayBuffer,\n      byteOffset?: number,\n      length?: number,\n    ) => ArrayBufferView;\n  }\n  return null;\n}\n\ntype BufferLike = {\n  from(\n    input: ArrayBufferLike | string,\n    encoding?: string,\n  ): {\n    buffer: ArrayBuffer;\n    byteOffset: number;\n    byteLength: number;\n    toString(encoding: string): string;\n  };\n};\n\nfunction getBuffer(): BufferLike | null {\n  const bufferCtor = (globalThis as { Buffer?: BufferLike }).Buffer;\n  return bufferCtor ?? null;\n}\n\nfunction bytesToBase64(bytes: Uint8Array): string {\n  if (typeof btoa === \"function\") {\n    let binary = \"\";\n    const chunkSize = 0x8000;\n    for (let i = 0; i < bytes.length; i += chunkSize) {\n      const chunk = bytes.subarray(i, i + chunkSize);\n      binary += String.fromCharCode(...chunk);\n    }\n    return btoa(binary);\n  }\n  const bufferCtor = getBuffer();\n  if (bufferCtor) {\n    return bufferCtor\n      .from(bytes.buffer.slice(bytes.byteOffset, bytes.byteOffset + bytes.byteLength))\n      .toString(\"base64\");\n  }\n  return \"\";\n}\n\nfunction base64ToBytes(encoded: string): Uint8Array {\n  if (typeof atob === \"function\") {\n    const binary = atob(encoded);\n    const length = binary.length;\n    const bytes = new Uint8Array(length);\n    for (let i = 0; i < length; i += 1) {\n      bytes[i] = binary.charCodeAt(i);\n    }\n    return bytes;\n  }\n  const bufferCtor = getBuffer();\n  if (bufferCtor) {\n    const buffer = bufferCtor.from(encoded, \"base64\");\n    return new Uint8Array(buffer.buffer, buffer.byteOffset, buffer.byteLength);\n  }\n  return new Uint8Array();\n}\n\nfunction encodeBinary(value: ArrayBuffer | ArrayBufferView): BinaryPayload {\n  const view =\n    value instanceof ArrayBuffer\n      ? new Uint8Array(value)\n      : new Uint8Array(value.buffer, value.byteOffset, value.byteLength);\n  const type = value instanceof ArrayBuffer ? \"ArrayBuffer\" : value.constructor.name;\n  const payload: BinaryPayload = {\n    __planner_binary__: true,\n    t: type,\n    d: bytesToBase64(view),\n  };\n  if (!(value instanceof ArrayBuffer)) {\n    payload.o = value.byteOffset;\n    payload.l =\n      \"BYTES_PER_ELEMENT\" in value && typeof value.BYTES_PER_ELEMENT === \"number\"\n        ? value.byteLength / value.BYTES_PER_ELEMENT\n        : value.byteLength;\n  }\n  return payload;\n}\n\nfunction decodeBinary(payload: BinaryPayload): ArrayBuffer | ArrayBufferView {\n  const bytes = base64ToBytes(payload.d);\n  if (payload.t === \"ArrayBuffer\") {\n    const buffer = new ArrayBuffer(bytes.byteLength);\n    new Uint8Array(buffer).set(bytes);\n    return buffer;\n  }\n  const ctor = getTypedArrayConstructor(payload.t);\n  if (!ctor) {\n    return bytes.slice();\n  }\n  if (payload.t === \"DataView\") {\n    const byteOffset = payload.o ?? 0;\n    const totalLength = byteOffset + bytes.byteLength;\n    const buffer = new ArrayBuffer(totalLength);\n    new Uint8Array(buffer).set(bytes, byteOffset);\n    return new DataView(buffer, byteOffset, payload.l);\n  }\n  const byteOffset = payload.o ?? 0;\n  const totalLength = byteOffset + bytes.byteLength;\n  const buffer = new ArrayBuffer(totalLength);\n  new Uint8Array(buffer).set(bytes, byteOffset);\n  if (payload.l !== undefined) {\n    return new ctor(buffer, byteOffset, payload.l);\n  }\n  return new ctor(buffer, byteOffset);\n}\n\nfunction binaryReplacer(_key: string, value: unknown): unknown {\n  if (value instanceof ArrayBuffer || ArrayBuffer.isView(value)) {\n    return encodeBinary(value);\n  }\n  return value;\n}\n\nfunction binaryReviver(_key: string, value: unknown): unknown {\n  if (\n    value &&\n    typeof value === \"object\" &&\n    binaryMarker in value &&\n    (value as BinaryPayload).__planner_binary__\n  ) {\n    return decodeBinary(value as BinaryPayload);\n  }\n  return value;\n}\n\nexport function stringifyWithBinary(value: unknown): string {\n  const serialized = JSON.stringify(value, binaryReplacer);\n  if (typeof serialized !== \"string\") {\n    throw new Error(\"Unable to serialize value\");\n  }\n  return serialized;\n}\n\nexport function parseJSON<T>(raw: string | null): T | null {\n  if (!raw) return null;\n  try {\n    return JSON.parse(raw, binaryReviver) as T;\n  } catch {\n    return null;\n  }\n}\n\nexport function readLocal<T>(key: string): T | null {\n  try {\n    const raw =\n      typeof window === \"undefined\" ? null : window.localStorage.getItem(key);\n    return parseJSON<T>(raw);\n  } catch (error) {\n    persistenceLogger.warn(\n      `local-bootstrap readLocal(\"${key}\") failed; returning null.`,\n      error,\n    );\n    return null;\n  }\n}\n\nexport function writeLocal(key: string, value: unknown) {\n  try {\n    if (typeof window === \"undefined\") return;\n    if (value === undefined || value === null) {\n      window.localStorage.removeItem(key);\n    } else {\n      window.localStorage.setItem(key, stringifyWithBinary(value));\n    }\n  } catch (error) {\n    persistenceLogger.warn(\n      `local-bootstrap writeLocal(\"${key}\") failed; ignoring value.`,\n      error,\n    );\n  }\n}\n\n/** Inline helpers for early bootstrap scripts */\nexport function localBootstrapScript(): string {\n  return [\n    \"const a='__planner_binary__';\",\n    \"function e(r){if(!r)return null;try{return JSON.parse(r,n);}catch{return null;}}\",\n    \"function t(r){try{return e(localStorage.getItem(r));}catch{return null;}}\",\n    \"function o(r){try{if(r==null)localStorage.removeItem(r);else localStorage.setItem(r,JSON.stringify(r,i));}catch{}}\",\n    \"function n(r,l){if(l&&typeof l==='object'&&l[a])return s(l);return l;}\",\n    \"function i(r,l){if(l instanceof ArrayBuffer||ArrayBuffer.isView(l))return c(l);return l;}\",\n    \"function f(r){if(typeof btoa==='function'){let l='',u=0x8000;for(let e=0;e<r.length;e+=u){const t=r.subarray(e,e+u);l+=String.fromCharCode(...t);}return btoa(l);}if(typeof Buffer!=='undefined')return Buffer.from(r.buffer,r.byteOffset,r.byteLength).toString('base64');return'';}\",\n    \"function y(r){if(typeof atob==='function'){const l=atob(r),u=l.length,t=new Uint8Array(u);for(let e=0;e<u;e+=1)t[e]=l.charCodeAt(e);return t;}if(typeof Buffer!=='undefined'){const l=Buffer.from(r,'base64');return new Uint8Array(l.buffer,l.byteOffset,l.byteLength);}return new Uint8Array;}\",\n    \"function c(r){const l=r instanceof ArrayBuffer?new Uint8Array(r):new Uint8Array(r.buffer,r.byteOffset,r.byteLength),u=r instanceof ArrayBuffer?'ArrayBuffer':r.constructor.name,t={__planner_binary__:!0,t:u,d:f(l)};if(!(r instanceof ArrayBuffer)){t.o=r.byteOffset,t.l='BYTES_PER_ELEMENT'in r&&typeof r.BYTES_PER_ELEMENT==='number'?r.byteLength/r.BYTES_PER_ELEMENT:r.byteLength;}return t;}\",\n    \"function s(r){const l=y(r.d);if(r.t==='ArrayBuffer'){const e=new ArrayBuffer(l.byteLength);return new Uint8Array(e).set(l),e;}const u=globalThis[r.t];if(typeof u!=='function')return l.slice();const o=r.o??0,c=o+l.byteLength,f=new ArrayBuffer(c);new Uint8Array(f).set(l,o);if(r.t==='DataView')return new DataView(f,o,r.l);if(r.l!==undefined)return new u(f,o,r.l);return new u(f,o);}\",\n    \"function parseJSON(raw){return e(raw);}function readLocal(key){return t(key);}function writeLocal(key,val){return o(key,val);}\",\n  ].join(\"\");\n}\n","const STORAGE_PREFIX = 'noxis-planner:'\nconst STORAGE_VERSION = 'v1'\nconst OLD_STORAGE_PREFIX = '13lr:'\n\nconst VERSIONED_STORAGE_PREFIX = `${STORAGE_PREFIX}${STORAGE_VERSION}:`\nconst LEGACY_VERSION_PATTERN = /^v\\d+$/u\n\nconst isBrowser = typeof window !== 'undefined'\n\nlet migrated = false\n\nfunction ensureMigration() {\n  if (!isBrowser || migrated) return\n\n  migrated = true\n\n  try {\n    const removals = new Set<string>()\n    const migrations: Array<{ source: string; target: string }> = []\n\n    for (let i = 0; i < window.localStorage.length; i += 1) {\n      const key = window.localStorage.key(i)\n      if (!key) continue\n\n      if (key.startsWith(OLD_STORAGE_PREFIX)) {\n        const suffix = key.slice(OLD_STORAGE_PREFIX.length)\n        const target = `${VERSIONED_STORAGE_PREFIX}${suffix}`\n        migrations.push({ source: key, target })\n        removals.add(key)\n        continue\n      }\n\n      if (!key.startsWith(STORAGE_PREFIX)) continue\n\n      if (key.startsWith(VERSIONED_STORAGE_PREFIX)) continue\n\n      const remainder = key.slice(STORAGE_PREFIX.length)\n      const separatorIndex = remainder.indexOf(':')\n\n      if (separatorIndex > -1) {\n        const candidateVersion = remainder.slice(0, separatorIndex)\n        if (\n          candidateVersion &&\n          candidateVersion !== STORAGE_VERSION &&\n          LEGACY_VERSION_PATTERN.test(candidateVersion)\n        ) {\n          removals.add(key)\n          continue\n        }\n      }\n\n      const target = `${VERSIONED_STORAGE_PREFIX}${remainder}`\n      migrations.push({ source: key, target })\n      removals.add(key)\n    }\n\n    for (const { source, target } of migrations) {\n      if (source === target) continue\n      if (window.localStorage.getItem(target) !== null) continue\n\n      const value = window.localStorage.getItem(source)\n      if (value !== null) {\n        window.localStorage.setItem(target, value)\n      }\n    }\n\n    for (const key of removals) {\n      window.localStorage.removeItem(key)\n    }\n  } catch {\n    // ignore\n  }\n}\n\nexport function createStorageKey(key: string): string {\n  ensureMigration()\n  return `${VERSIONED_STORAGE_PREFIX}${key}`\n}\n\nexport { STORAGE_PREFIX, STORAGE_VERSION, VERSIONED_STORAGE_PREFIX, OLD_STORAGE_PREFIX }\n","// src/lib/db.ts\n// Local-first helpers for Noxis Planner\n// - Hydration-safe: first render returns `initial`; no localStorage read until after mount\n// - SSR-safe: never touches window/localStorage on the server\n// - Tiny and predictable\n\n\"use client\";\n\nimport * as React from \"react\";\nimport {\n  parseJSON,\n  readLocal as baseReadLocal,\n  writeLocal as baseWriteLocal,\n  stringifyWithBinary,\n} from \"./local-bootstrap\";\nimport { persistenceLogger } from \"./logging\";\nimport { createStorageKey, OLD_STORAGE_PREFIX } from \"./storage-key\";\n\nexport { createStorageKey } from \"./storage-key\";\n\n/** SSR guard */\nconst isBrowser = typeof window !== \"undefined\";\n\ndeclare global {\n  interface Window {\n    __planner_flush_bound?: boolean;\n  }\n}\n\ntype QueuedWrite =\n  | { type: \"raw\"; value: unknown }\n  | { type: \"json\"; serialized: string };\n\n// Debounced write queue\nconst writeQueue = new Map<string, QueuedWrite>();\nlet writeTimer: ReturnType<typeof setTimeout> | null = null;\n\nexport let writeLocalDelay = 50;\nexport function setWriteLocalDelay(ms: number) {\n  writeLocalDelay = Math.max(0, ms);\n}\n\nfunction flushWriteQueue() {\n  if (writeTimer) {\n    clearTimeout(writeTimer);\n    writeTimer = null;\n  }\n  for (const [k, entry] of writeQueue) {\n    try {\n      if (entry.type === \"json\") {\n        if (typeof window === \"undefined\") continue;\n        window.localStorage.setItem(k, entry.serialized);\n      } else {\n        baseWriteLocal(k, entry.value);\n      }\n    } catch (error) {\n      persistenceLogger.warn(\n        `Failed to flush write for \"${k}\"; dropping queued value.`,\n        error,\n      );\n    }\n  }\n  writeQueue.clear();\n}\n\nexport function flushWriteLocal() {\n  if (!isBrowser) return;\n  flushWriteQueue();\n}\n\nfunction describeNonSerializable(\n  value: unknown,\n  path = \"value\",\n  stack: Set<object> = new Set(),\n): string | null {\n  if (\n    value === null ||\n    typeof value === \"string\" ||\n    typeof value === \"number\" ||\n    typeof value === \"boolean\" ||\n    typeof value === \"undefined\"\n  ) {\n    return null;\n  }\n\n  if (typeof value === \"function\") {\n    return `${path} is a function`;\n  }\n\n  if (typeof value === \"symbol\") {\n    return `${path} is a symbol`;\n  }\n\n  if (typeof value === \"bigint\") {\n    return `${path} is a bigint`;\n  }\n\n  if (typeof value !== \"object\") {\n    return `${path} has unsupported type ${typeof value}`;\n  }\n\n  const obj = value as Record<PropertyKey, unknown>;\n  if (stack.has(obj)) {\n    return `${path} contains a circular reference`;\n  }\n  stack.add(obj);\n\n  if (Array.isArray(obj)) {\n    for (let i = 0; i < obj.length; i += 1) {\n      const issue = describeNonSerializable(obj[i], `${path}[${i}]`, stack);\n      if (issue) {\n        stack.delete(obj);\n        return issue;\n      }\n    }\n    stack.delete(obj);\n    return null;\n  }\n\n  if (obj instanceof Date) {\n    stack.delete(obj);\n    return null;\n  }\n\n  if (\n    obj instanceof Map ||\n    obj instanceof Set ||\n    obj instanceof WeakMap ||\n    obj instanceof WeakSet\n  ) {\n    stack.delete(obj);\n    return `${path} is a ${obj.constructor.name}`;\n  }\n\n  if (obj instanceof Promise) {\n    stack.delete(obj);\n    return `${path} is a Promise`;\n  }\n\n  if (ArrayBuffer.isView(obj) || obj instanceof ArrayBuffer) {\n    stack.delete(obj);\n    return null;\n  }\n\n  const proto = Object.getPrototypeOf(obj);\n  if (proto !== null && proto !== Object.prototype) {\n    if (typeof (obj as { toJSON?: unknown }).toJSON === \"function\") {\n      stack.delete(obj);\n      return null;\n    }\n    const protoName = proto.constructor?.name ?? \"object\";\n    stack.delete(obj);\n    return `${path} has unsupported prototype ${protoName}`;\n  }\n\n  if (Object.getOwnPropertySymbols(obj).length > 0) {\n    stack.delete(obj);\n    return `${path} has symbol-keyed properties`;\n  }\n\n  for (const [prop, propValue] of Object.entries(\n    obj as Record<string, unknown>,\n  )) {\n    const issue = describeNonSerializable(propValue, `${path}.${prop}`, stack);\n    if (issue) {\n      stack.delete(obj);\n      return issue;\n    }\n  }\n\n  stack.delete(obj);\n  return null;\n}\n\nexport function scheduleWrite(key: string, value: unknown) {\n  let issue: string | null = null;\n  if (process.env.NODE_ENV !== \"production\") {\n    issue = describeNonSerializable(value);\n  }\n  if (issue) {\n    persistenceLogger.warn(\n      `Skipping persistence for \"${key}\" because ${issue}.`,\n      value,\n    );\n    return;\n  }\n  let entry: QueuedWrite;\n  if (value !== null && typeof value === \"object\") {\n    let serialized: string | null = null;\n    try {\n      serialized = stringifyWithBinary(value);\n    } catch {\n      serialized = null;\n    }\n\n    if (serialized !== null) {\n      entry = { type: \"json\", serialized };\n    } else {\n      const clonedValue =\n        typeof structuredClone === \"function\"\n          ? (() => {\n              try {\n                return structuredClone(value);\n              } catch {\n                return undefined;\n              }\n            })()\n          : undefined;\n      if (typeof clonedValue === \"undefined\") {\n        persistenceLogger.warn(\n          `Skipping persistence for \"${key}\" because value could not be cloned.`,\n          value,\n        );\n        return;\n      }\n      entry = { type: \"raw\", value: clonedValue };\n    }\n  } else {\n    entry = { type: \"raw\", value };\n  }\n  writeQueue.set(key, entry);\n  if (writeTimer) clearTimeout(writeTimer);\n  writeTimer = setTimeout(flushWriteQueue, writeLocalDelay);\n}\n\nif (isBrowser && !window.__planner_flush_bound) {\n  window.addEventListener(\"beforeunload\", flushWriteQueue);\n  window.addEventListener(\"pagehide\", flushWriteQueue);\n  document.addEventListener(\"visibilitychange\", () => {\n    if (document.visibilityState === \"hidden\") flushWriteQueue();\n  });\n  window.__planner_flush_bound = true;\n}\n\n/** Read from localStorage without throwing on SSR or privacy modes */\nexport function readLocal<T>(key: string): T | null {\n  if (!isBrowser) return null;\n  try {\n    const storageKey = createStorageKey(key);\n    const value = baseReadLocal<T>(storageKey);\n    if (value !== null) return value;\n    if (storageKey !== key) {\n      const legacyValue = baseReadLocal<T>(`${OLD_STORAGE_PREFIX}${key}`);\n      if (legacyValue !== null) return legacyValue;\n      const rawValue = baseReadLocal<T>(key);\n      if (rawValue !== null) return rawValue;\n    }\n    return null;\n  } catch (error) {\n    persistenceLogger.warn(\n      `readLocal(\"${key}\") failed; returning null.`,\n      error,\n    );\n    return null;\n  }\n}\n\n/** Write to localStorage safely */\nexport function writeLocal(key: string, value: unknown) {\n  if (!isBrowser) return;\n  try {\n    scheduleWrite(createStorageKey(key), value);\n  } catch (error) {\n    persistenceLogger.warn(\n      `writeLocal(\"${key}\") failed; ignoring value due to storage restrictions.`,\n      error,\n    );\n  }\n}\n\n/** Remove a key from localStorage safely */\nexport function removeLocal(key: string) {\n  if (!isBrowser) return;\n  const targets = new Set<string>();\n  try {\n    targets.add(createStorageKey(key));\n  } catch (error) {\n    persistenceLogger.warn(\n      `removeLocal(\"${key}\") could not resolve namespaced key.`,\n      error,\n    );\n  }\n  targets.add(`${OLD_STORAGE_PREFIX}${key}`);\n  targets.add(key);\n  for (const target of targets) {\n    try {\n      window.localStorage.removeItem(target);\n    } catch (error) {\n      persistenceLogger.warn(\n        `removeLocal(\"${target}\") failed; continuing cleanup.`,\n        error,\n      );\n    }\n  }\n}\n\n/**\n * Listen for changes to a localStorage key and notify via callback.\n */\nexport function useStorageSync(\n  key: string,\n  onChange: (raw: string | null) => void,\n) {\n  React.useEffect(() => {\n    if (!isBrowser) return;\n    const fullKey = createStorageKey(key);\n    const handler = (e: StorageEvent) => {\n      if (e.storageArea !== window.localStorage) return;\n      if (e.key !== fullKey) return;\n      onChange(e.newValue);\n    };\n    window.addEventListener(\"storage\", handler);\n    return () => window.removeEventListener(\"storage\", handler);\n  }, [key, onChange]);\n}\n\n/**\n * usePersistentState<T>(key, initial)\n * Hydration-safe local state that:\n *  - Returns `initial` on first render (no storage reads during SSR/hydration)\n *  - After mount, loads from localStorage (if present) and replaces state.\n *  - Any change to state is persisted to localStorage.\n *  - Cross-tab: uses `useStorageSync` to stay in sync.\n */\ntype PersistentStateDecode<T> = (value: unknown) => T | null | undefined;\ntype PersistentStateEncode<T> = (value: T) => unknown;\n\ntype PersistentStateOptions<T> = {\n  decode?: PersistentStateDecode<T>;\n  encode?: PersistentStateEncode<T>;\n};\n\nexport function usePersistentState<T>(\n  key: string,\n  initial: T,\n  options?: PersistentStateOptions<T>,\n): [T, React.Dispatch<React.SetStateAction<T>>] {\n  const [state, setState] = React.useState<T>(() => initial);\n\n  const initialRef = React.useRef(initial);\n  const stateRef = React.useRef(state);\n  const stateRevisionRef = React.useRef(0);\n  const lastAppliedInitialSignatureRef = React.useRef<string | null>(null);\n  React.useEffect(() => {\n    stateRef.current = state;\n    stateRevisionRef.current += 1;\n  }, [state]);\n\n  const decodeRef = React.useRef<PersistentStateDecode<T> | null>(\n    options?.decode ?? null,\n  );\n  const encodeRef = React.useRef<PersistentStateEncode<T> | null>(\n    options?.encode ?? null,\n  );\n  React.useEffect(() => {\n    decodeRef.current = options?.decode ?? null;\n  }, [options?.decode]);\n  React.useEffect(() => {\n    encodeRef.current = options?.encode ?? null;\n  }, [options?.encode]);\n\n  const computeSignature = React.useCallback(\n    (value: T): string | null => {\n      try {\n        const encode = encodeRef.current;\n        const encoded = encode ? encode(value) : value;\n        return stringifyWithBinary(encoded);\n      } catch {\n        return null;\n      }\n    },\n    [],\n  );\n\n  const decodeValue = React.useCallback(\n    (value: unknown): T | null => {\n      if (value === null) return null;\n      const decode = decodeRef.current;\n      if (!decode) return value as T;\n      try {\n        const result = decode(value);\n        if (typeof result === \"undefined\" || result === null) return null;\n        return result;\n      } catch {\n        return null;\n      }\n    },\n    [],\n  );\n\n  const encodeValue = React.useCallback(\n    (value: T): unknown => {\n      const encode = encodeRef.current;\n      if (!encode) return value;\n      try {\n        return encode(value);\n      } catch {\n        return value;\n      }\n    },\n    [],\n  );\n\n  const fullKeyRef = React.useRef(createStorageKey(key));\n  const loadedRef = React.useRef(false);\n  const pendingPersistenceRef = React.useRef(false);\n  const hasHydratedRef = React.useRef(false);\n  const pendingInitialResetKeyRef = React.useRef<string | null>(key);\n  const lastAppliedInitialRef = React.useRef<T | null>(initial);\n  const ignoreNextStorageHydrationRef = React.useRef(false);\n  const renderRevision = stateRevisionRef.current;\n\n  React.useEffect(() => {\n    const nextFull = createStorageKey(key);\n    if (fullKeyRef.current !== nextFull) {\n      fullKeyRef.current = nextFull;\n      loadedRef.current = false;\n      hasHydratedRef.current = false;\n      pendingInitialResetKeyRef.current = key;\n      pendingPersistenceRef.current = false;\n    }\n  }, [key]);\n\n  React.useEffect(() => {\n    const previousAppliedInitial = lastAppliedInitialRef.current;\n    const initialChanged = !Object.is(initialRef.current, initial);\n    if (initialChanged) {\n      initialRef.current = initial;\n      let stateMatchesAppliedInitial =\n        previousAppliedInitial !== null &&\n        Object.is(stateRef.current, previousAppliedInitial);\n      if (!stateMatchesAppliedInitial) {\n        const referenceSignature =\n          previousAppliedInitial !== null\n            ? computeSignature(previousAppliedInitial)\n            : lastAppliedInitialSignatureRef.current;\n        if (previousAppliedInitial !== null) {\n          lastAppliedInitialSignatureRef.current = referenceSignature;\n        }\n        if (referenceSignature !== null) {\n          const currentSignature = computeSignature(stateRef.current);\n          if (\n            currentSignature !== null &&\n            currentSignature === referenceSignature\n          ) {\n            stateMatchesAppliedInitial = true;\n          }\n        }\n      }\n      if (\n        pendingInitialResetKeyRef.current !== null ||\n        stateMatchesAppliedInitial\n      ) {\n        pendingInitialResetKeyRef.current = key;\n      }\n    }\n\n    const shouldUseInitial =\n      pendingInitialResetKeyRef.current === key ||\n      (!hasHydratedRef.current && pendingInitialResetKeyRef.current !== null);\n\n    if (shouldUseInitial) {\n      const nextInitial = initialRef.current;\n      if (!Object.is(stateRef.current, nextInitial)) {\n        setState(nextInitial);\n        ignoreNextStorageHydrationRef.current = true;\n      }\n      lastAppliedInitialRef.current = nextInitial;\n      lastAppliedInitialSignatureRef.current = computeSignature(nextInitial);\n      pendingInitialResetKeyRef.current = null;\n    }\n  }, [initial, key, computeSignature]);\n\n  React.useEffect(() => {\n    if (!isBrowser) return;\n    if (!loadedRef.current) {\n      const fullKey = fullKeyRef.current;\n      let fallbackKey: string | null = null;\n      let fromStorage = baseReadLocal<unknown>(fullKey);\n      if (fromStorage === null) {\n        const legacyKey = `${OLD_STORAGE_PREFIX}${key}`;\n        const legacyValue = baseReadLocal<unknown>(legacyKey);\n        if (legacyValue !== null) {\n          fromStorage = legacyValue;\n          fallbackKey = legacyKey;\n        } else {\n          const rawValue = baseReadLocal<unknown>(key);\n          if (rawValue !== null) {\n            fromStorage = rawValue;\n            fallbackKey = key;\n          }\n        }\n      }\n      const queuedRevision = renderRevision;\n      const stateChangedSinceQueue = () =>\n        stateRevisionRef.current !== queuedRevision;\n\n      let shouldUpdateState = false;\n      let nextState: T = stateRef.current;\n\n      const skipStorageHydration = ignoreNextStorageHydrationRef.current;\n      ignoreNextStorageHydrationRef.current = false;\n      if (skipStorageHydration) {\n        // Intentionally skip applying storage to honor a freshly-applied initial state.\n      } else if (fromStorage !== null) {\n        const decoded = decodeValue(fromStorage);\n        if (decoded !== null) {\n          if (!Object.is(stateRef.current, decoded)) {\n            shouldUpdateState = true;\n            nextState = decoded;\n            pendingInitialResetKeyRef.current = null;\n          }\n        } else if (!stateChangedSinceQueue()) {\n          if (hasHydratedRef.current) {\n            if (!Object.is(stateRef.current, initialRef.current)) {\n              shouldUpdateState = true;\n              nextState = initialRef.current;\n              pendingInitialResetKeyRef.current = key;\n            }\n          }\n        }\n      } else if (!stateChangedSinceQueue()) {\n        if (hasHydratedRef.current) {\n          if (!Object.is(stateRef.current, initialRef.current)) {\n            shouldUpdateState = true;\n            nextState = initialRef.current;\n            pendingInitialResetKeyRef.current = key;\n          }\n        }\n      }\n\n      hasHydratedRef.current = true;\n      loadedRef.current = true;\n\n      if (pendingPersistenceRef.current) {\n        pendingPersistenceRef.current = false;\n        try {\n          const encoded = encodeValue(stateRef.current);\n          scheduleWrite(fullKeyRef.current, encoded);\n        } catch (error) {\n          persistenceLogger.warn(\n            `Failed to persist key \"${fullKeyRef.current}\" after hydration.`,\n            error,\n          );\n        }\n      }\n\n      if (fallbackKey && fallbackKey !== fullKey) {\n        try {\n          window.localStorage.removeItem(fallbackKey);\n        } catch (error) {\n          persistenceLogger.warn(\n            `Failed to remove legacy storage key \"${fallbackKey}\" during migration.`,\n            error,\n          );\n        }\n      }\n\n      if (shouldUpdateState) {\n        setState(nextState);\n        const initialMatches =\n          Object.is(nextState, initialRef.current) ||\n          (() => {\n            const nextSignature = computeSignature(nextState);\n            if (nextSignature === null) return false;\n            const initialSignature = computeSignature(initialRef.current);\n            return (\n              initialSignature !== null && nextSignature === initialSignature\n            );\n          })();\n        if (initialMatches) {\n          lastAppliedInitialRef.current = initialRef.current;\n          lastAppliedInitialSignatureRef.current = computeSignature(\n            initialRef.current,\n          );\n        } else {\n          lastAppliedInitialRef.current = null;\n          lastAppliedInitialSignatureRef.current = null;\n        }\n      }\n    }\n  }, [key, decodeValue, encodeValue, renderRevision, computeSignature]);\n\n  const handleExternal = React.useCallback(\n    (raw: string | null) => {\n      if (!hasHydratedRef.current) return;\n      if (raw === null) {\n        pendingInitialResetKeyRef.current = key;\n        if (!Object.is(stateRef.current, initialRef.current))\n          setState(initialRef.current);\n        lastAppliedInitialRef.current = initialRef.current;\n        lastAppliedInitialSignatureRef.current = computeSignature(\n          initialRef.current,\n        );\n        return;\n      }\n      const parsed = parseJSON<unknown>(raw);\n      if (parsed === null) return;\n      const decoded = decodeValue(parsed);\n      if (decoded !== null) {\n        pendingInitialResetKeyRef.current = null;\n        if (!Object.is(stateRef.current, decoded)) setState(decoded);\n        lastAppliedInitialRef.current = null;\n        lastAppliedInitialSignatureRef.current = null;\n        return;\n      }\n      pendingInitialResetKeyRef.current = key;\n      if (!Object.is(stateRef.current, initialRef.current))\n        setState(initialRef.current);\n      lastAppliedInitialRef.current = initialRef.current;\n      lastAppliedInitialSignatureRef.current = computeSignature(\n        initialRef.current,\n      );\n    },\n    [decodeValue, key, computeSignature],\n  );\n\n  useStorageSync(key, handleExternal);\n\n  const setPersistentState = React.useCallback(\n    (value: React.SetStateAction<T>) => {\n      pendingInitialResetKeyRef.current = null;\n      lastAppliedInitialRef.current = null;\n      lastAppliedInitialSignatureRef.current = null;\n      setState(value);\n    },\n    [setState],\n  );\n\n  React.useEffect(() => {\n    if (!isBrowser) return;\n    if (!loadedRef.current) {\n      pendingPersistenceRef.current = true;\n      return;\n    }\n    try {\n      const encoded = encodeValue(state);\n      scheduleWrite(fullKeyRef.current, encoded);\n      pendingPersistenceRef.current = false;\n    } catch (error) {\n      persistenceLogger.warn(\n        `Failed to persist key \"${fullKeyRef.current}\" after state update.`,\n        error,\n      );\n    }\n  }, [state, encodeValue]);\n\n  return [state, setPersistentState];\n}\n\n/**\n * Generates a random suffix using `crypto.getRandomValues` when available.\n */\nfunction cryptoRandomSuffix(cryptoObj?: Crypto): string {\n  if (!cryptoObj?.getRandomValues) return \"\";\n  const bytes = new Uint8Array(16);\n  cryptoObj.getRandomValues(bytes);\n  let result = \"\";\n  for (const byte of bytes) {\n    result += byte.toString(36).padStart(2, \"0\");\n  }\n  return result;\n}\n\n/**\n * Generates a unique identifier using `crypto.randomUUID`.\n * If a prefix is provided, it is prepended followed by an underscore.\n */\nlet uidCounter = 0;\nexport function uid(prefix = \"\"): string {\n  const cryptoObj = globalThis.crypto;\n  const id =\n    cryptoObj?.randomUUID?.() ??\n    `${Date.now().toString(36)}${(uidCounter++).toString(36)}${cryptoRandomSuffix(\n      cryptoObj,\n    )}`;\n  return prefix ? `${prefix}_${id}` : id;\n}\n","import * as React from \"react\";\n\nimport { slugify } from \"./utils\";\n\nexport type FieldNamingOptions = {\n  /** Optional id override */\n  id?: string;\n  /** Optional name override */\n  name?: string;\n  /** Optional aria-label used to derive the name */\n  ariaLabel?: string;\n  /**\n   * Controls when the aria-label should be used to derive the field name.\n   * - \"always\": always attempt to use the aria-label slug.\n   * - \"custom-id\": only use the aria-label when an explicit id is provided.\n   * - \"never\": never use the aria-label slug.\n   */\n  ariaLabelStrategy?: \"always\" | \"custom-id\" | \"never\";\n  /** When true, slugify the fallback name derived from the id. */\n  slugifyFallback?: boolean;\n};\n\nexport type FieldNamingResult = {\n  id: string;\n  name: string;\n};\n\nexport default function useFieldNaming(\n  options: FieldNamingOptions = {},\n): FieldNamingResult {\n  const {\n    id,\n    name,\n    ariaLabel,\n    ariaLabelStrategy = \"always\",\n    slugifyFallback = false,\n  } = options;\n\n  const generatedId = React.useId();\n  const finalId = id ?? generatedId;\n\n  const fromAria = slugify(ariaLabel);\n  const shouldUseAria =\n    ariaLabelStrategy === \"always\"\n      ? true\n      : ariaLabelStrategy === \"custom-id\"\n        ? Boolean(id)\n        : false;\n\n  const fallbackName = slugifyFallback ? slugify(finalId) : finalId;\n\n  const finalName =\n    name ||\n    (shouldUseAria ? fromAria || undefined : undefined) ||\n    fallbackName;\n\n  return { id: finalId, name: finalName };\n}\n","// src/lib/useFieldIds.ts\nimport { type AriaAttributes } from \"react\";\n\nimport useFieldNaming, {\n  type FieldNamingOptions,\n} from \"./useFieldNaming\";\n\nexport type UseFieldIdsOptions = Pick<\n  FieldNamingOptions,\n  \"ariaLabelStrategy\" | \"slugifyFallback\"\n> & {\n  ariaInvalid?: AriaAttributes[\"aria-invalid\"];\n};\n\nexport type UseFieldIdsResult = {\n  id: string;\n  name: string;\n  isInvalid: boolean;\n};\n\nexport function useFieldIds(\n  ariaLabel?: string,\n  idProp?: string,\n  nameProp?: string,\n): UseFieldIdsResult;\nexport function useFieldIds(\n  ariaLabel?: string,\n  idProp?: string,\n  nameProp?: string,\n  options?: UseFieldIdsOptions,\n): UseFieldIdsResult;\nexport function useFieldIds(\n  ariaLabel?: string,\n  idProp?: string,\n  nameProp?: string,\n  options: UseFieldIdsOptions = {},\n): UseFieldIdsResult {\n  const { ariaInvalid, ariaLabelStrategy, slugifyFallback } = options;\n\n  const namingOptions: FieldNamingOptions = {\n    id: idProp,\n    name: nameProp,\n    ariaLabel,\n    ariaLabelStrategy,\n    slugifyFallback,\n  };\n\n  const { id, name } = useFieldNaming(namingOptions);\n\n  const normalizedInvalid =\n    typeof ariaInvalid === \"string\" ? ariaInvalid.trim().toLowerCase() : null;\n  const isInvalid =\n    ariaInvalid === true ||\n    (normalizedInvalid !== null &&\n      normalizedInvalid.length > 0 &&\n      normalizedInvalid !== \"false\");\n\n  return { id, name, isInvalid };\n}\n\nexport default useFieldIds;\n","import * as React from \"react\";\nimport { Plus } from \"lucide-react\";\n\nimport { createGalleryPreview, defineGallerySection } from \"@/components/gallery/registry\";\n\nimport IconButton from \"./IconButton\";\n\nexport type IconButtonStateSpec = {\n  id: string;\n  name: string;\n  className?: string;\n  props: React.ComponentProps<typeof IconButton>;\n  code?: string;\n};\n\nconst ICON_BUTTON_STATES: readonly IconButtonStateSpec[] = [\n  {\n    id: \"default\",\n    name: \"Default\",\n    props: { \"aria-label\": \"Default\", children: <Plus aria-hidden /> },\n    code: \"<IconButton aria-label=\\\"Default\\\">\\n  <Plus />\\n</IconButton>\",\n  },\n  {\n    id: \"hover\",\n    name: \"Hover\",\n    className: \"bg-[--hover]\",\n    props: { \"aria-label\": \"Hover\", children: <Plus aria-hidden /> },\n    code: \"<IconButton className=\\\"bg-[--hover]\\\" aria-label=\\\"Hover\\\">\\n  <Plus />\\n</IconButton>\",\n  },\n  {\n    id: \"focus\",\n    name: \"Focus\",\n    className:\n      \"ring-2 ring-[var(--ring-contrast)] shadow-[var(--shadow-glow-md)] [outline:var(--spacing-0-5)_solid_var(--ring-contrast)] [outline-offset:var(--spacing-0-5)]\",\n    props: { \"aria-label\": \"Focus\", children: <Plus aria-hidden /> },\n    code:\n      \"<IconButton className=\\\"ring-2 ring-[var(--ring-contrast)] shadow-[var(--shadow-glow-md)] [outline:var(--spacing-0-5)_solid_var(--ring-contrast)] [outline-offset:var(--spacing-0-5)]\\\" aria-label=\\\"Focus\\\">\\n  <Plus />\\n</IconButton>\",\n  },\n  {\n    id: \"active\",\n    name: \"Active\",\n    className: \"bg-[--active]\",\n    props: {\n      \"aria-label\": \"Active\",\n      \"aria-pressed\": true,\n      children: <Plus aria-hidden />,\n    },\n    code: \"<IconButton\\n  className=\\\"bg-[--active]\\\"\\n  aria-label=\\\"Active\\\"\\n  aria-pressed\\n>\\n  <Plus />\\n</IconButton>\",\n  },\n  {\n    id: \"disabled\",\n    name: \"Disabled\",\n    props: {\n      \"aria-label\": \"Disabled\",\n      children: <Plus aria-hidden />,\n      disabled: true,\n    },\n    code: \"<IconButton disabled aria-label=\\\"Disabled\\\">\\n  <Plus />\\n</IconButton>\",\n  },\n  {\n    id: \"loading\",\n    name: \"Loading\",\n    props: {\n      \"aria-label\": \"Loading\",\n      children: <Plus aria-hidden />,\n      loading: true,\n    },\n    code: \"<IconButton loading aria-label=\\\"Loading\\\">\\n  <Plus />\\n</IconButton>\",\n  },\n  {\n    id: \"glitch\",\n    name: \"Glitch overlay\",\n    props: {\n      \"aria-label\": \"Glitch overlay\",\n      children: <Plus aria-hidden />,\n      glitch: true,\n      glitchIntensity: \"glitch-overlay-button-opacity\",\n    },\n    code: \"<IconButton glitch glitchIntensity=\\\"glitch-overlay-button-opacity\\\" aria-label=\\\"Glitch overlay\\\">\\n  <Plus />\\n</IconButton>\",\n  },\n];\n\nexport const ICON_BUTTON_STATE_SPECS: readonly IconButtonStateSpec[] =\n  ICON_BUTTON_STATES;\n\nconst DEFAULT_ICON_BUTTON_STATES: readonly IconButtonStateSpec[] = [\n  {\n    id: \"default-variant\",\n    name: \"Default variant\",\n    props: {\n      \"aria-label\": \"Default variant\",\n      variant: \"default\",\n      children: <Plus aria-hidden />,\n    },\n    code: \"<IconButton variant=\\\"default\\\" aria-label=\\\"Default variant\\\">\\n  <Plus />\\n</IconButton>\",\n  },\n  {\n    id: \"default-hover\",\n    name: \"Default hover\",\n    className: \"bg-[--hover] shadow-[var(--shadow-neon-strong)]\",\n    props: {\n      \"aria-label\": \"Default hover\",\n      variant: \"default\",\n      children: <Plus aria-hidden />,\n    },\n    code: \"<IconButton\\n  className=\\\"bg-[--hover] shadow-[var(--shadow-neon-strong)]\\\"\\n  variant=\\\"default\\\"\\n  aria-label=\\\"Default hover\\\"\\n>\\n  <Plus />\\n</IconButton>\",\n  },\n  {\n    id: \"default-active\",\n    name: \"Default active\",\n    className:\n      \"bg-[--active] shadow-[var(--shadow-inset-contrast),var(--shadow-neon-soft)]\",\n    props: {\n      \"aria-label\": \"Default active\",\n      \"aria-pressed\": true,\n      variant: \"default\",\n      children: <Plus aria-hidden />,\n    },\n    code: \"<IconButton\\n  className=\\\"bg-[--active] shadow-[var(--shadow-inset-contrast),var(--shadow-neon-soft)]\\\"\\n  variant=\\\"default\\\"\\n  aria-label=\\\"Default active\\\"\\n  aria-pressed\\n>\\n  <Plus />\\n</IconButton>\",\n  },\n];\n\nfunction IconButtonStatePreview({ state }: { state: IconButtonStateSpec }) {\n  const { className, props } = state;\n  return <IconButton className={className} {...props} />;\n}\n\nconst ICON_BUTTON_SIZES = [\"sm\", \"md\", \"lg\", \"xl\"] as const;\n\nfunction IconButtonGalleryPreview() {\n  const glitchState = ICON_BUTTON_STATES.find((state) => state.id === \"glitch\");\n  const standardIconStates = ICON_BUTTON_STATES.filter(\n    (state) => state.id !== \"glitch\",\n  );\n\n  return (\n    <div className=\"flex flex-col gap-[var(--space-4)]\">\n      <div className=\"flex flex-wrap gap-[var(--space-2)]\">\n        {ICON_BUTTON_SIZES.map((size) => (\n          <IconButton\n            key={size}\n            size={size}\n            variant=\"quiet\"\n            aria-label={`Add item ${size}`}\n          >\n            <Plus aria-hidden />\n          </IconButton>\n        ))}\n        <IconButton\n          size=\"md\"\n          variant=\"neo\"\n          aria-label=\"Add item soft\"\n        >\n          <Plus aria-hidden />\n        </IconButton>\n        <IconButton\n          size=\"md\"\n          variant=\"default\"\n          aria-label=\"Add item default\"\n        >\n          <Plus aria-hidden />\n        </IconButton>\n      </div>\n      <div className=\"flex flex-wrap gap-[var(--space-2)]\">\n        {standardIconStates.map((state) => (\n          <IconButtonStatePreview key={state.id} state={state} />\n        ))}\n      </div>\n      {glitchState ? (\n        <div className=\"space-y-[var(--space-1)]\">\n          <div className=\"flex flex-wrap gap-[var(--space-2)]\">\n            <IconButtonStatePreview state={glitchState} />\n          </div>\n          <p className=\"text-caption text-muted-foreground\">\n            Default variant glitch tokens hue-shift per theme; Noir and\n            Hardstuck thin the ring/halo alpha to hold 3:1 contrast around the\n            control silhouette.\n          </p>\n        </div>\n      ) : null}\n      <div className=\"flex flex-wrap gap-[var(--space-2)]\">\n        {DEFAULT_ICON_BUTTON_STATES.map((state) => (\n          <IconButtonStatePreview key={state.id} state={state} />\n        ))}\n      </div>\n    </div>\n  );\n}\n\nexport default defineGallerySection({\n  id: \"buttons\",\n  entries: [\n    {\n      id: \"icon-button\",\n      name: \"IconButton\",\n      description: \"Size, variant, and state coverage\",\n      kind: \"primitive\",\n      tags: [\"button\", \"icon\"],\n      props: [\n        {\n          name: \"variant\",\n          type: '\"default\" | \"neo\" | \"quiet\" | \"glitch\"',\n          description:\n            'Visual treatment. Use \"default\" for solid, \"neo\" for tinted depth, \"quiet\" for low-emphasis. Legacy aliases (primary/secondary/soft/ghost/minimal) map to these.',\n        },\n        {\n          name: \"size\",\n          type: '\"sm\" | \"md\" | \"lg\" | \"xl\"',\n        },\n        {\n          name: \"loading\",\n          type: \"boolean\",\n          defaultValue: \"false\",\n        },\n      ],\n      axes: [\n        {\n          id: \"variant\",\n          label: \"Variant\",\n          type: \"variant\",\n          values: [\n            { value: \"Quiet\" },\n            { value: \"Neo\" },\n            { value: \"Default\" },\n            { value: \"Glitch\" },\n          ],\n        },\n        {\n          id: \"state\",\n          label: \"State\",\n          type: \"state\",\n          values: [...ICON_BUTTON_STATES, ...DEFAULT_ICON_BUTTON_STATES].map(\n            ({ name, id }) => ({\n              value: name,\n              description:\n                id === \"glitch\"\n                  ? \"Glitch overlay uses theme hue + alpha adjustments so Noir and Hardstuck keep the halo readable.\"\n                  : undefined,\n            }),\n          ),\n        },\n      ],\n      preview: createGalleryPreview({\n        id: \"ui:icon-button:matrix\",\n        render: () => <IconButtonGalleryPreview />,\n      }),\n      states: [...ICON_BUTTON_STATES, ...DEFAULT_ICON_BUTTON_STATES].map(\n        (state) => ({\n          id: state.id,\n          name: state.name,\n          code: state.code,\n          preview: createGalleryPreview({\n            id: `ui:icon-button:state:${state.id}`,\n            render: () => <IconButtonStatePreview state={state} />,\n          }),\n        }),\n      ),\n      code: `<div className=\"flex flex-col gap-[var(--space-4)]\">\n  <div className=\"flex flex-wrap gap-[var(--space-2)]\">\n    <IconButton size=\"sm\" variant=\"quiet\" aria-label=\"Add item sm\">\n      <Plus />\n    </IconButton>\n    <IconButton size=\"md\" variant=\"quiet\" aria-label=\"Add item md\">\n      <Plus />\n    </IconButton>\n    <IconButton size=\"lg\" variant=\"quiet\" aria-label=\"Add item lg\">\n      <Plus />\n    </IconButton>\n    <IconButton size=\"xl\" variant=\"quiet\" aria-label=\"Add item xl\">\n      <Plus />\n    </IconButton>\n    <IconButton size=\"md\" variant=\"neo\" aria-label=\"Add item neo\">\n      <Plus />\n    </IconButton>\n    <IconButton size=\"md\" variant=\"default\" aria-label=\"Add item default\">\n      <Plus />\n    </IconButton>\n  </div>\n  <div className=\"flex flex-wrap gap-[var(--space-2)]\">\n    <IconButton aria-label=\"Default\">\n      <Plus />\n    </IconButton>\n    <IconButton className=\"bg-[--hover]\" aria-label=\"Hover\">\n      <Plus />\n    </IconButton>\n    <IconButton className=\"ring-2 ring-[var(--focus)]\" aria-label=\"Focus\">\n      <Plus />\n    </IconButton>\n    <IconButton\n      className=\"bg-[--active]\"\n      aria-pressed\n      aria-label=\"Active\"\n    >\n      <Plus />\n    </IconButton>\n    <IconButton disabled aria-label=\"Disabled\">\n      <Plus />\n    </IconButton>\n    <IconButton loading aria-label=\"Loading\">\n      <Plus />\n    </IconButton>\n  </div>\n  <div className=\"flex flex-wrap gap-[var(--space-2)]\">\n    <IconButton variant=\"default\" aria-label=\"Default variant\">\n      <Plus />\n    </IconButton>\n    <IconButton\n      className=\"bg-[--hover] shadow-[var(--shadow-neon-strong)]\"\n      variant=\"default\"\n      aria-label=\"Default hover\"\n    >\n      <Plus />\n    </IconButton>\n    <IconButton\n      className=\"bg-[--active] shadow-[var(--shadow-inset-contrast),var(--shadow-neon-soft)]\"\n      variant=\"default\"\n      aria-label=\"Default active\"\n      aria-pressed\n    >\n      <Plus />\n    </IconButton>\n  </div>\n</div>`,\n    },\n  ],\n});\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"Card_root__tNIrY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"CheckCircle_button__MGlRr\",\"rim\":\"CheckCircle_rim__h0Yw4\",\"rimAnimated\":\"CheckCircle_rimAnimated__Tzk31\",\"ccShift\":\"CheckCircle_ccShift__FWZRK\",\"scanlines\":\"CheckCircle_scanlines__dU59e\",\"scanlinesAnimated\":\"CheckCircle_scanlinesAnimated__N49L1\",\"ccScan\":\"CheckCircle_ccScan__ByX6W\",\"bloom\":\"CheckCircle_bloom__UGJZS\",\"ignite\":\"CheckCircle_ignite__u9fZB\",\"powerdown\":\"CheckCircle_powerdown__cs3l2\",\"igniteAnimated\":\"CheckCircle_igniteAnimated__29fo9\",\"igniteFlicker\":\"CheckCircle_igniteFlicker__rPMrM\",\"powerdownAnimated\":\"CheckCircle_powerdownAnimated__u250h\",\"powerDown\":\"CheckCircle_powerDown___4Z8H\",\"check\":\"CheckCircle_check__mTg94\"};","\nexport type Variant =\n  | \"lg\"\n  | \"aurora\"\n  | \"citrus\"\n  | \"noir\"\n  | \"ocean\"\n  | \"kitten\"\n  | \"hardstuck\";\nexport type Background = 0 | 1 | 2 | 3 | 4;\nexport interface ThemeState {\n  variant: Variant;\n  bg: Background;\n}\n\nexport const THEME_STORAGE_KEY = \"ui:theme\";\nexport const THEME_BOOTSTRAP_SCRIPT_PATH = \"/scripts/theme-bootstrap.js\";\n\nexport const BG_CLASSES = [\n  \"\",\n  \"bg-alt1\",\n  \"bg-alt2\",\n  \"bg-vhs\",\n  \"bg-streak\",\n] as const;\n\nconst BG_CLASS_SET = new Set<string>(\n  BG_CLASSES.filter((className) => className.length > 0),\n);\n\nexport function resetThemeClasses(classList: DOMTokenList) {\n  const classesToRemove: string[] = [];\n\n  classList.forEach((className) => {\n    if (className.startsWith(\"theme-\") || BG_CLASS_SET.has(className)) {\n      classesToRemove.push(className);\n    }\n  });\n\n  if (classesToRemove.length > 0) {\n    classList.remove(...classesToRemove);\n  }\n}\n\nexport const COLOR_PALETTES = {\n  aurora: [\"aurora-g\", \"aurora-g-light\", \"aurora-p\", \"aurora-p-light\"],\n  neutrals: [\n    \"background\",\n    \"bg\",\n    \"foreground\",\n    \"text\",\n    \"card\",\n    \"panel\",\n    \"border\",\n    \"line\",\n    \"input\",\n    \"ring\",\n    \"muted\",\n    \"muted-foreground\",\n    \"surface\",\n    \"surface-2\",\n    \"surface-vhs\",\n    \"surface-streak\",\n    \"icon-fg\",\n  ],\n  accents: [\n    \"accent\",\n    \"accent-2\",\n    \"accent-3\",\n    \"accent-foreground\",\n    \"danger\",\n    \"success\",\n    \"glow-strong\",\n    \"glow-soft\",\n    \"stat-good\",\n    \"stat-warn\",\n    \"stat-bad\",\n  ],\n} as const;\n\nexport type ColorPalette = keyof typeof COLOR_PALETTES;\n\nexport const COLOR_TOKENS = [\n  ...COLOR_PALETTES.neutrals,\n  ...COLOR_PALETTES.accents,\n  ...COLOR_PALETTES.aurora,\n] as const;\n\nexport const VARIANTS: { id: Variant; label: string }[] = [\n  { id: \"lg\", label: \"Glitch\" },\n  { id: \"aurora\", label: \"Aurora\" },\n  { id: \"kitten\", label: \"Kitten\" },\n  { id: \"ocean\", label: \"Oceanic\" },\n  { id: \"citrus\", label: \"Citrus\" },\n  { id: \"noir\", label: \"Noir\" },\n  { id: \"hardstuck\", label: \"Hardstuck\" },\n];\n\nexport const VARIANT_LABELS: Record<Variant, string> = VARIANTS.reduce(\n  (acc, { id, label }) => {\n    acc[id] = label;\n    return acc;\n  },\n  {} as Record<Variant, string>,\n);\n\nconst VARIANT_ID_SET = new Set<Variant>(VARIANTS.map((variant) => variant.id));\n\nfunction isRecord(value: unknown): value is Record<string, unknown> {\n  return typeof value === \"object\" && value !== null && !Array.isArray(value);\n}\n\nfunction isVariant(value: unknown): value is Variant {\n  return typeof value === \"string\" && VARIANT_ID_SET.has(value as Variant);\n}\n\nfunction isBackground(value: unknown): value is Background {\n  return (\n    typeof value === \"number\" &&\n    Number.isInteger(value) &&\n    value >= 0 &&\n    value < BG_CLASSES.length\n  );\n}\n\nexport function decodeThemeState(value: unknown): ThemeState | null {\n  if (!isRecord(value)) {\n    return null;\n  }\n\n  const rawVariant = value[\"variant\"];\n  if (!isVariant(rawVariant)) {\n    return null;\n  }\n\n  const rawBackground = value[\"bg\"];\n  const background = isBackground(rawBackground) ? rawBackground : 0;\n\n  return { variant: rawVariant, bg: background };\n}\n\nexport function defaultTheme(): ThemeState {\n  return { variant: \"lg\", bg: 0 };\n}\n\nexport function applyTheme({ variant, bg }: ThemeState) {\n  if (typeof document === \"undefined\") {\n    return;\n  }\n\n  const { documentElement } = document;\n  if (!documentElement) {\n    return;\n  }\n\n  const { classList: cl, dataset } = documentElement;\n  resetThemeClasses(cl);\n  cl.add(`theme-${variant}`);\n  const isValidBgIndex =\n    Number.isInteger(bg) && bg >= 0 && bg < BG_CLASSES.length;\n  if (isValidBgIndex && bg > 0) cl.add(BG_CLASSES[bg]);\n  const pref = dataset.themePref === \"system\" ? \"system\" : \"persisted\";\n\n  let prefersDark = true;\n  if (pref === \"system\") {\n    try {\n      if (typeof window !== \"undefined\" && window.matchMedia) {\n        prefersDark = window\n          .matchMedia(\"(prefers-color-scheme: dark)\")\n          .matches;\n      }\n    } catch {\n      prefersDark = true;\n    }\n  }\n\n  cl.toggle(\"dark\", prefersDark);\n  cl.remove(\"color-scheme-dark\", \"color-scheme-light\");\n  cl.add(prefersDark ? \"color-scheme-dark\" : \"color-scheme-light\");\n}\n\n","// src/components/ui/theme/ThemeToggle.tsx\n\"use client\";\n\nimport * as React from \"react\";\nimport { Image as ImageIcon } from \"lucide-react\";\nimport { Button, Select, type SelectItem } from \"@/components/ui\";\nimport useMounted from \"@/lib/useMounted\";\nimport { useTheme } from \"@/lib/theme-context\";\nimport {\n  VARIANTS,\n  VARIANT_LABELS,\n  BG_CLASSES,\n  type Variant,\n  type Background,\n} from \"@/lib/theme\";\n\nconst BG_LABELS = [\"Default\", \"Alt 1\", \"Alt 2\", \"VHS\", \"Streak\"] as const;\n\ntype ThemeToggleProps = {\n  className?: string;\n  id?: string;\n  ariaLabel?: string; // preferred\n  \"aria-label\"?: string; // backward compat\n  cycleDisabled?: boolean;\n  cycleLoading?: boolean;\n};\n\nexport default function ThemeToggle({\n  className = \"\",\n  id,\n  ariaLabel,\n  \"aria-label\": ariaLabelAttr,\n  cycleDisabled = false,\n  cycleLoading = false,\n}: ThemeToggleProps) {\n  const aria = ariaLabel ?? ariaLabelAttr ?? \"Theme\";\n\n  const mounted = useMounted();\n  const [state, setState] = useTheme();\n  const { variant, bg } = state;\n  const hasMultipleBackgrounds = BG_CLASSES.length > 1;\n  const isCycleDisabled = cycleDisabled || !hasMultipleBackgrounds;\n  const isCycleLoading = cycleLoading;\n  const [announcement, setAnnouncement] = React.useState(\"\");\n  const prevVariantRef = React.useRef<Variant>(variant);\n  const prevBgRef = React.useRef<Background>(bg);\n  const initializedRef = React.useRef(false);\n  const showFallback = !mounted;\n  const groupLabel = `${aria} controls`;\n\n  const setVariantPersist = React.useCallback(\n    (v: Variant) => setState((prev) => ({ variant: v, bg: prev.bg })),\n    [setState],\n  );\n  const handleChange = React.useCallback(\n    (v: string) => setVariantPersist(v as Variant),\n    [setVariantPersist],\n  );\n  const items: SelectItem[] = React.useMemo(\n    () =>\n      VARIANTS.map((v) => ({\n        value: v.id,\n        label: v.label,\n      })),\n    [],\n  );\n\n  function cycleBg() {\n    if (isCycleDisabled || isCycleLoading) {\n      return;\n    }\n    setState((prev) => ({\n      ...prev,\n      bg: ((prev.bg + 1) % BG_CLASSES.length) as Background,\n    }));\n  }\n\n  React.useEffect(() => {\n    if (!mounted) {\n      prevVariantRef.current = variant;\n      prevBgRef.current = bg;\n      return;\n    }\n\n    if (!initializedRef.current) {\n      initializedRef.current = true;\n      prevVariantRef.current = variant;\n      prevBgRef.current = bg;\n      return;\n    }\n\n    if (variant !== prevVariantRef.current) {\n      setAnnouncement(`Theme switched to ${VARIANT_LABELS[variant]}`);\n    } else if (bg !== prevBgRef.current) {\n      setAnnouncement(`Background switched to ${BG_LABELS[bg]}`);\n    }\n\n    prevVariantRef.current = variant;\n    prevBgRef.current = bg;\n  }, [variant, bg, mounted]);\n\n  React.useEffect(() => {\n    if (!announcement) {\n      return;\n    }\n\n    const timeout = window.setTimeout(() => {\n      setAnnouncement(\"\");\n    }, 1000);\n\n    return () => {\n      window.clearTimeout(timeout);\n    };\n  }, [announcement]);\n\n  return (\n    <div\n      className={`flex items-center gap-[var(--space-2)] whitespace-nowrap ${className}`}\n      role=\"group\"\n      aria-label={groupLabel}\n    >\n      {/* background cycle */}\n      <Button\n        id={id}\n        variant=\"neo\"\n        size=\"sm\"\n        tactile\n        className=\"shrink-0 px-[var(--space-2)]\"\n        aria-label={`${aria}: cycle background`}\n        title={showFallback ? \"Theme controls loading\" : \"Change background\"}\n        onClick={cycleBg}\n        disabled={isCycleDisabled || showFallback}\n        loading={isCycleLoading}\n      >\n        <ImageIcon aria-hidden className=\"h-[var(--space-4)] w-[var(--space-4)]\" />\n        <span className=\"sr-only\">Cycle background</span>\n      </Button>\n\n      {/* dropdown  no visible title; uses aria label */}\n      {showFallback ? (\n        <Button\n          variant=\"neo\"\n          size=\"sm\"\n          className=\"pointer-events-none !rounded-full !px-[var(--space-3)] !text-ui text-muted-foreground\"\n          aria-label={`${aria}: waiting for theme controls`}\n          disabled\n        >\n          {aria}\n        </Button>\n      ) : (\n        <Select\n          variant=\"animated\"\n          ariaLabel={aria}\n          items={items}\n          value={variant}\n          onChange={handleChange}\n          size=\"sm\"\n          buttonClassName=\"!rounded-full !text-ui !w-auto\"\n          matchTriggerWidth={false}\n          align=\"right\"\n          className=\"shrink-0\"\n        />\n      )}\n      <div aria-live=\"polite\" className=\"sr-only\">\n        {announcement}\n      </div>\n    </div>\n  );\n}\n","\"use client\";\n\n// src/components/ui/layout/hero/HeroGlitchStyles.tsx\n\nimport \"./HeroGlitchStyles.css\";\n\nexport function HeroGlitchStyles() {\n  return null;\n}\n","\"use client\";\n\nimport * as React from \"react\";\n\nconst DIMENSION_PROPERTIES = new Set<keyof React.CSSProperties>([\n  \"top\",\n  \"bottom\",\n  \"left\",\n  \"right\",\n  \"minWidth\",\n  \"maxHeight\",\n  \"width\",\n  \"height\",\n]);\n\nfunction formatCssValue(\n  property: keyof React.CSSProperties,\n  value: string | number | undefined | null,\n) {\n  if (value === undefined || value === null) {\n    return undefined;\n  }\n\n  if (typeof value === \"number\") {\n    if (DIMENSION_PROPERTIES.has(property)) {\n      return `${value}px`;\n    }\n\n    return `${value}`;\n  }\n\n  return value;\n}\n\nfunction withFallback(\n  property: keyof React.CSSProperties,\n  value: string | number | undefined,\n  fallback: string,\n) {\n  const resolved = value ?? fallback;\n  return formatCssValue(property, resolved);\n}\n\nexport function useFloatingStyleClass(fixedStyles?: React.CSSProperties) {\n  const positionValue = fixedStyles?.position;\n  const topValue = fixedStyles?.top;\n  const leftValue = fixedStyles?.left;\n  const transformValue = fixedStyles?.transform;\n  const bottomValue = fixedStyles?.bottom;\n  const rightValue = fixedStyles?.right;\n  const minWidthValue = fixedStyles?.minWidth;\n  const maxHeightValue = fixedStyles?.maxHeight;\n  const widthValue = fixedStyles?.width;\n  const heightValue = fixedStyles?.height;\n  const zIndexValue = fixedStyles?.zIndex;\n  const transformOriginValue = fixedStyles?.transformOrigin;\n  const hasFixedStyles = Boolean(fixedStyles);\n\n  const floatingStyle = React.useMemo(() => {\n    if (!hasFixedStyles) {\n      return undefined;\n    }\n\n    const style: React.CSSProperties = {};\n\n    const assign = (\n      property: keyof React.CSSProperties,\n      value: string | number | undefined,\n      fallback?: string,\n    ) => {\n      const formatted =\n        fallback === undefined\n          ? formatCssValue(property, value)\n          : withFallback(property, value, fallback);\n      if (formatted === undefined) {\n        return;\n      }\n      style[property] = formatted as never;\n    };\n\n    assign(\"position\", positionValue, \"fixed\");\n    assign(\"top\", topValue, \"auto\");\n    assign(\"left\", leftValue, \"auto\");\n    assign(\"transform\", transformValue, \"none\");\n    assign(\"bottom\", bottomValue);\n    assign(\"right\", rightValue);\n    assign(\"minWidth\", minWidthValue);\n    assign(\"maxHeight\", maxHeightValue);\n    assign(\"width\", widthValue);\n    assign(\"height\", heightValue);\n    assign(\"zIndex\", zIndexValue);\n    assign(\"transformOrigin\", transformOriginValue);\n\n    return style;\n  }, [\n    hasFixedStyles,\n    positionValue,\n    topValue,\n    leftValue,\n    transformValue,\n    bottomValue,\n    rightValue,\n    minWidthValue,\n    maxHeightValue,\n    widthValue,\n    heightValue,\n    zIndexValue,\n    transformOriginValue,\n  ]);\n\n  return {\n    floatingStyle,\n  } as const;\n}\n","import * as React from \"react\";\n\nimport { createGalleryPreview, defineGallerySection } from \"@/components/gallery/registry\";\n\nimport Badge from \"./Badge\";\n\nconst ROLE_BADGES = [\n  { tone: \"top\", label: \"Top lane\" },\n  { tone: \"jungle\", label: \"Jungle\" },\n  { tone: \"mid\", label: \"Mid lane\" },\n  { tone: \"bot\", label: \"Bot lane\" },\n  { tone: \"support\", label: \"Support\" },\n] as const;\n\nconst SIZE_OPTIONS = [\n  { token: \"sm\", label: \"Small\" },\n  { token: \"md\", label: \"Medium\" },\n  { token: \"lg\", label: \"Large\" },\n  { token: \"xl\", label: \"Extra large\" },\n] as const;\n\nfunction BadgeGalleryPreview() {\n  return (\n    <div className=\"flex flex-col gap-[var(--space-3)]\">\n      <div className=\"flex flex-col gap-[var(--space-1)]\">\n        <div className=\"flex flex-wrap gap-[var(--space-2)]\">\n          {SIZE_OPTIONS.map(({ token, label }) => (\n            <Badge key={token} size={token}>\n              {label}\n            </Badge>\n          ))}\n        </div>\n        <p className=\"text-caption text-muted-foreground\">\n          <code>xs</code> is available as an alias of <code>sm</code> for legacy badges.\n        </p>\n      </div>\n      <div className=\"flex flex-wrap gap-[var(--space-2)]\">\n        <Badge tone=\"neutral\">Neutral</Badge>\n        <Badge tone=\"accent\">Accent</Badge>\n        <Badge tone=\"primary\">Primary</Badge>\n        <Badge tone=\"primary\" interactive selected>\n          Selected\n        </Badge>\n        <Badge tone=\"accent\" interactive disabled>\n          Disabled\n        </Badge>\n      </div>\n      <div className=\"flex flex-wrap gap-[var(--space-2)]\">\n        {ROLE_BADGES.map(({ tone, label }) => (\n          <Badge key={tone} tone={tone} glitch>\n            {label}\n          </Badge>\n        ))}\n      </div>\n      <p className=\"text-caption text-muted-foreground\">\n        Glitch rail tokens hue-shift per theme; Noir + Hardstuck clamp the\n        overlay alpha so these role badges keep 3:1 text contrast across the\n        noise.\n      </p>\n    </div>\n  );\n}\n\nexport default defineGallerySection({\n  id: \"buttons\",\n  entries: [\n    {\n      id: \"badge\",\n      name: \"Badge\",\n      description:\n        \"Compact pill with tone-driven styles. Accent tones now meet 4.5:1 contrast for white content\",\n      kind: \"primitive\",\n      tags: [\"badge\", \"pill\"],\n      props: [\n        {\n          name: \"tone\",\n          type:\n            '\"neutral\" | \"primary\" | \"accent\" | \"top\" | \"jungle\" | \"mid\" | \"bot\" | \"support\"',\n          defaultValue: '\"neutral\"',\n        },\n        {\n          name: \"size\",\n          type: '\"sm\" | \"md\" | \"lg\" | \"xl\"',\n          defaultValue: '\"md\"',\n          description: 'Use \"xs\" as an alias for \"sm\" when migrating legacy code.',\n        },\n        { name: \"interactive\", type: \"boolean\", defaultValue: \"false\" },\n        { name: \"selected\", type: \"boolean\", defaultValue: \"false\" },\n        { name: \"glitch\", type: \"boolean\", defaultValue: \"false\" },\n      ],\n      axes: [\n        {\n          id: \"tone\",\n          label: \"Tone\",\n          type: \"variant\",\n          values: [\n            { value: \"Neutral\" },\n            { value: \"Accent\" },\n            { value: \"Primary\" },\n            { value: \"Top lane\" },\n            { value: \"Jungle\" },\n            { value: \"Mid lane\" },\n            { value: \"Bot lane\" },\n            { value: \"Support\" },\n          ],\n        },\n        {\n          id: \"size\",\n          label: \"Size\",\n          type: \"variant\",\n          values: SIZE_OPTIONS.map(({ label }) => ({ value: label })),\n        },\n        {\n          id: \"state\",\n          label: \"State\",\n          type: \"state\",\n          values: [\n            { value: \"Default\" },\n            { value: \"Interactive\" },\n            { value: \"Selected\" },\n            { value: \"Disabled\" },\n            {\n              value: \"Glitch overlay\",\n              description:\n                \"Glitch rail uses theme hue/alpha clamps so Noir + Hardstuck preserve 3:1 text contrast.\",\n            },\n          ],\n        },\n      ],\n      preview: createGalleryPreview({\n        id: \"ui:badge:tones\",\n        render: () => <BadgeGalleryPreview />,\n      }),\n      code: `<div className=\"flex flex-col gap-[var(--space-3)]\">\n  <div className=\"flex flex-wrap gap-[var(--space-2)]\">\n    <Badge size=\"sm\">Small</Badge>\n    <Badge size=\"md\">Medium</Badge>\n    <Badge size=\"lg\">Large</Badge>\n    <Badge size=\"xl\">Extra large</Badge>\n  </div>\n  <p className=\"text-caption text-muted-foreground\">\n    <code>xs</code> is available as an alias of <code>sm</code> for legacy badges.\n  </p>\n  <div className=\"flex flex-wrap gap-[var(--space-2)]\">\n    <Badge tone=\"neutral\">Neutral</Badge>\n    <Badge tone=\"accent\">Accent</Badge>\n    <Badge tone=\"primary\">Primary</Badge>\n    <Badge tone=\"primary\" interactive selected>\n      Selected\n    </Badge>\n    <Badge tone=\"accent\" interactive disabled>\n      Disabled\n    </Badge>\n  </div>\n  <div className=\"flex flex-wrap gap-[var(--space-2)]\">\n    <Badge tone=\"top\" glitch>\n      Top lane\n    </Badge>\n    <Badge tone=\"jungle\" glitch>\n      Jungle\n    </Badge>\n    <Badge tone=\"mid\" glitch>\n      Mid lane\n    </Badge>\n    <Badge tone=\"bot\" glitch>\n      Bot lane\n    </Badge>\n    <Badge tone=\"support\" glitch>\n      Support\n    </Badge>\n  </div>\n</div>`,\n    },\n  ],\n});\n","\"use client\";\n\n// src/components/ui/layout/hero/useHeroStyles.ts\n\nimport * as React from \"react\";\nimport { cn } from \"@/lib/utils\";\nimport type { TabBarProps } from \"../TabBar\";\nimport styles from \"./Hero.module.css\";\n\ntype HeroTabVariant = Extract<TabBarProps[\"variant\"], \"neo\">;\n\nexport interface HeroStyleOptions {\n  frame: boolean;\n  sticky: boolean;\n  topClassName?: string;\n  padding: \"default\" | \"none\";\n  barVariant: \"flat\" | \"raised\";\n  tone: \"heroic\" | \"supportive\";\n  glitch: \"default\" | \"subtle\" | \"off\";\n}\n\nexport interface HeroStyleResult {\n  heroVariant: HeroTabVariant | undefined;\n  shouldRenderGlitchStyles: boolean;\n  isRaisedBar: boolean;\n  showRail: boolean;\n  showDividerGlow: boolean;\n  classes: {\n    shell: string;\n    bar: string;\n    labelCluster: string;\n    raisedLabelBar: string;\n    utilities: string;\n    body: string;\n    actionRow: string;\n    searchWell: string;\n    actionsWell: string;\n    actionCluster: string;\n    heading: string;\n    subtitle: string;\n    rail: string;\n    dividerLine: string;\n    dividerGlow: string;\n    divider: string;\n  };\n}\n\nexport function useHeroStyles(options: HeroStyleOptions): HeroStyleResult {\n  const {\n    frame,\n    sticky,\n    topClassName,\n    padding,\n    barVariant,\n    tone,\n    glitch,\n  } = options;\n\n  return React.useMemo(() => {\n    const glitchMode: NonNullable<HeroStyleOptions[\"glitch\"]> = glitch ?? \"subtle\";\n    const isGlitchDefault = glitchMode === \"default\";\n    const isGlitchSubtle = glitchMode === \"subtle\";\n    const isGlitchOff = glitchMode === \"off\";\n    const heroVariant: HeroTabVariant | undefined = frame ? \"neo\" : undefined;\n    const shouldRenderGlitchStyles = frame && isGlitchDefault;\n    const isRaisedBar = barVariant === \"raised\";\n    const showRail = false;\n    const showDividerGlow = frame && !isGlitchOff;\n    const stickyClasses = sticky ? cn(\"sticky sticky-blur\", topClassName) : \"\";\n\n    const shellPadding =\n      padding === \"default\"\n        ? \"px-[var(--space-6)] py-[var(--space-6)] md:px-[var(--space-7)] md:py-[var(--space-7)] lg:px-[var(--space-8)] lg:py-[var(--space-8)]\"\n        : undefined;\n\n    const shell = cn(\n      stickyClasses,\n      frame\n        ? cn(\n            \"group/hero relative z-0 isolate overflow-hidden rounded-card r-card-lg border border-border/55 bg-card/70 text-foreground shadow-outline-subtle hero2-frame hero2-neomorph\",\n            shellPadding,\n          )\n        : padding === \"default\"\n          ? \"px-[var(--space-2)] sm:px-[var(--space-4)] lg:px-[var(--space-5)]\"\n          : undefined,\n    );\n\n    const bar = frame\n      ? \"relative z-[2] grid grid-cols-1 md:grid-cols-12 items-start md:items-center gap-y-[var(--space-4)] md:gap-y-0 md:gap-x-[var(--space-4)] lg:gap-x-[var(--space-6)]\"\n      : \"relative z-[2] grid grid-cols-1 md:grid-cols-12 items-start md:items-center gap-y-[var(--space-2)] md:gap-y-0 md:gap-x-[var(--space-4)] lg:gap-x-[var(--space-5)] py-[var(--space-4)] md:py-[var(--space-5)]\";\n\n    const slotWellSurface = cn(\n      \"group/hero-slot relative isolate flex w-full min-w-0 flex-col gap-[var(--space-2)] overflow-hidden rounded-card r-card-lg border border-border/45 bg-card/70 px-[var(--space-4)] py-[var(--space-3)] text-foreground\",\n      \"[--neo-inset-shadow:var(--depth-shadow-inner)] neo-inset hero-focus transition-[box-shadow,transform] duration-motion-md ease-out\",\n      \"motion-reduce:transform-none motion-reduce:transition-none focus-within:ring-1 focus-within:ring-ring/60\",\n      \"before:pointer-events-none before:absolute before:inset-0 before:z-0 before:content-[''] before:rounded-[inherit] before:bg-hero-slot-highlight before:opacity-70 before:mix-blend-screen\",\n      \"after:pointer-events-none after:absolute after:inset-0 after:z-0 after:content-[''] after:rounded-[inherit] after:translate-x-[calc(var(--space-1)/2)] after:translate-y-[calc(var(--space-1)/2)] after:bg-hero-slot-shadow after:shadow-[var(--hero-slot-shadow,var(--depth-shadow-soft))] after:opacity-65\",\n      \"hover:[--neo-inset-shadow:var(--depth-shadow-soft)] focus-visible:[--neo-inset-shadow:var(--depth-shadow-soft)] focus-within:[--neo-inset-shadow:var(--depth-shadow-soft)]\",\n      \"hover:-translate-y-[var(--hairline-w)] focus-visible:-translate-y-[var(--hairline-w)] focus-within:-translate-y-[var(--hairline-w)]\",\n    );\n\n    const baseSearchWell = \"w-full min-w-0 md:flex-1\";\n\n    const searchWell = frame\n      ? cn(slotWellSurface, baseSearchWell)\n      : baseSearchWell;\n\n    const baseActionWell = \"w-full md:w-auto\";\n\n    const baseActionCluster =\n      \"flex w-full flex-wrap items-center gap-[var(--space-2)] md:w-auto md:flex-nowrap\";\n\n    const actionsWell = frame\n      ? cn(\n          slotWellSurface,\n          \"flex-row flex-wrap gap-[var(--space-2)] md:flex-nowrap md:items-center md:justify-end md:gap-[var(--space-3)]\",\n        )\n      : baseActionWell;\n\n    const actionCluster = frame\n      ? \"flex w-full flex-wrap items-center gap-[var(--space-2)] md:flex-nowrap md:justify-end\"\n      : baseActionCluster;\n\n    const clusterGapClass = frame\n      ? \"gap-[var(--space-4)] md:gap-[var(--space-5)]\"\n      : \"gap-[var(--space-2)] md:gap-[var(--space-4)]\";\n\n    const labelCluster = cn(\n      \"relative col-span-full md:col-span-8 flex min-w-0 flex-wrap items-start md:flex-nowrap\",\n      isRaisedBar ? \"md:items-stretch\" : \"md:items-center\",\n      clusterGapClass,\n    );\n\n    const raisedLabelBar = cn(\n      \"flex w-full min-w-0 flex-wrap items-start md:flex-nowrap md:items-center\",\n      clusterGapClass,\n      \"z-0 overflow-hidden rounded-card r-card-lg border border-border/45 bg-card/70 px-[var(--space-4)] py-[var(--space-4)] md:px-[var(--space-4)] text-foreground shadow-depth-soft backdrop-blur-md hero2-frame hero2-neomorph\",\n    );\n\n    const utilities = cn(\n      \"col-span-full flex w-full min-w-0 justify-start md:col-span-4 md:w-auto md:justify-end\",\n      \"flex-wrap items-start gap-[var(--space-2)] md:flex-nowrap md:items-center\",\n    );\n\n    const body = frame\n      ? \"relative z-[2] mt-[var(--space-5)] md:mt-[var(--space-6)] flex flex-col gap-[var(--space-5)] md:gap-[var(--space-6)]\"\n      : \"relative z-[2] mt-[var(--space-4)] md:mt-[var(--space-5)] flex flex-col gap-[var(--space-4)] md:gap-[var(--space-5)]\";\n\n    const actionRow = frame\n      ? \"flex w-full min-w-0 flex-wrap items-start gap-[var(--space-4)] md:flex-nowrap md:items-center md:justify-between md:gap-[var(--space-5)] lg:gap-[var(--space-6)] pt-[var(--space-5)] md:pt-[var(--space-6)]\"\n      : \"flex w-full min-w-0 flex-wrap items-start gap-[var(--space-2)] md:flex-nowrap md:items-center md:justify-between md:gap-[var(--space-4)] lg:gap-[var(--space-5)] pt-[var(--space-4)] md:pt-[var(--space-5)]\";\n\n    const heading = cn(\n      \"font-semibold tracking-[-0.01em] text-balance break-words text-foreground\",\n      tone === \"supportive\"\n        ? \"text-title md:text-title\"\n        : \"text-title-lg md:text-title-lg\",\n      frame && !isGlitchOff && \"hero2-title\",\n    );\n\n    const subtitle = cn(\n      \"text-ui md:text-body text-muted-foreground break-words\",\n      tone === \"supportive\" ? \"font-normal\" : \"font-medium\",\n    );\n\n    const railClassName = \"\";\n\n    const dividerLine = cn(\n      \"block h-px\",\n      frame\n        ? isGlitchOff\n          ? \"hero2-divider-line bg-[hsl(var(--divider))/0.18]\"\n          : isGlitchSubtle\n            ? \"hero2-divider-line bg-[hsl(var(--divider))/0.24]\"\n            : \"hero2-divider-line bg-[hsl(var(--divider))/0.35]\"\n        : \"bg-[hsl(var(--divider))/0.28]\",\n    );\n\n    const dividerGlow = cn(\n      \"hero2-divider-glow absolute inset-x-0 top-0 h-px bg-[hsl(var(--divider))]\",\n      isGlitchSubtle ? \"opacity-35\" : \"opacity-60\",\n    );\n\n    return {\n      heroVariant,\n      shouldRenderGlitchStyles,\n      isRaisedBar,\n      showRail,\n      showDividerGlow,\n      classes: {\n        shell,\n        bar,\n        labelCluster,\n        raisedLabelBar,\n        utilities,\n        body,\n        actionRow,\n        searchWell,\n        actionsWell,\n        actionCluster,\n        heading,\n        subtitle,\n        rail: railClassName,\n        dividerLine,\n        dividerGlow,\n        divider: styles.divider,\n      },\n    } satisfies HeroStyleResult;\n  }, [\n    frame,\n    sticky,\n    topClassName,\n    padding,\n    barVariant,\n    tone,\n    glitch,\n  ]);\n}\n\n","// src/components/ui/Progress.tsx\n\"use client\";\n\nimport * as React from \"react\";\n\n/** Simple progress bar (0..100), with SR label */\nexport default function Progress({ value, label }: { value: number; label?: string }) {\n  const v = Math.max(0, Math.min(100, Math.round(value)));\n\n  return (\n    <div\n      className=\"h-[var(--space-2)] w-full rounded-full bg-muted shadow-depth-inner\"\n    >\n        <div\n          className=\"h-full w-full overflow-hidden rounded-full bg-panel/90 shadow-depth-inner\"\n        >\n          <span\n            className={`progress-fill progress-${v} block h-full rounded-full shadow-depth-soft`}\n          aria-valuemin={0}\n          aria-valuemax={100}\n          aria-valuenow={v}\n          aria-label={label}\n          data-progress={v}\n          role=\"progressbar\"\n        >\n          <span className=\"sr-only\">{v}%</span>\n        </span>\n      </div>\n    </div>\n  );\n}\n","\"use client\";\n\nimport * as React from \"react\";\nimport { cn, slugify } from \"@/lib/utils\";\nimport styles from \"./GlitchSegmented.module.css\";\n\nexport interface GlitchSegmentedGroupProps {\n  value: string;\n  onChange?: (v: string) => void;\n  ariaLabel?: string;\n  ariaLabelledby?: string;\n  children: React.ReactNode;\n  className?: string;\n}\n\nexport interface GlitchSegmentedButtonProps\n  extends Omit<React.ButtonHTMLAttributes<HTMLButtonElement>, \"onChange\"> {\n  value: string;\n  icon?: React.ReactNode;\n  selected?: boolean;\n  onSelect?: () => void;\n}\n\nexport const GlitchSegmentedGroup = ({\n  value,\n  onChange = () => {},\n  ariaLabel,\n  ariaLabelledby,\n  children,\n  className,\n}: GlitchSegmentedGroupProps) => {\n  const btnRefs = React.useRef<(HTMLButtonElement | null)[]>([]);\n  const setBtnRef = (index: number) => (el: HTMLButtonElement | null) => {\n    btnRefs.current[index] = el;\n  };\n\n  const childArray = React.Children.toArray(children);\n  const buttonChildren = childArray.filter(\n    (child): child is React.ReactElement<GlitchSegmentedButtonProps> =>\n      React.isValidElement<GlitchSegmentedButtonProps>(child) &&\n      child.type === GlitchSegmentedButton,\n  );\n  const values = buttonChildren.map((child) => child.props.value);\n  btnRefs.current.length = buttonChildren.length;\n\n  const onKeyDown = (e: React.KeyboardEvent) => {\n    const idx = values.findIndex((v) => v === value);\n    if (idx < 0) return;\n    if (e.key === \"ArrowRight\" || e.key === \"ArrowDown\") {\n      const next = (idx + 1) % values.length;\n      onChange(values[next]);\n      btnRefs.current[next]?.focus();\n      e.preventDefault();\n    } else if (e.key === \"ArrowLeft\" || e.key === \"ArrowUp\") {\n      const prev = (idx - 1 + values.length) % values.length;\n      onChange(values[prev]);\n      btnRefs.current[prev]?.focus();\n      e.preventDefault();\n    } else if (e.key === \"Home\") {\n      onChange(values[0]);\n      btnRefs.current[0]?.focus();\n      e.preventDefault();\n    } else if (e.key === \"End\") {\n      const last = values.length - 1;\n      onChange(values[last]);\n      btnRefs.current[last]?.focus();\n      e.preventDefault();\n    }\n  };\n\n  let buttonIndex = 0;\n\n  return (\n    <div\n      role=\"tablist\"\n      aria-label={ariaLabelledby ? undefined : ariaLabel}\n      aria-labelledby={ariaLabelledby}\n      className={cn(\n        \"inline-flex rounded-card r-card-md bg-[var(--btn-bg)] p-[var(--space-1)] gap-[var(--space-1)]\",\n        \"[--hover:hsl(var(--foreground)/0.08)] [--focus:var(--ring-contrast)] [--active:hsl(var(--foreground)/0.12)] [--disabled:0.5]\",\n        className,\n      )}\n      onKeyDown={onKeyDown}\n    >\n      {React.Children.map(children, (child) => {\n        if (\n          !(\n            React.isValidElement<GlitchSegmentedButtonProps>(child) &&\n            child.type === GlitchSegmentedButton\n          )\n        ) {\n          return child;\n        }\n        const currentIndex = buttonIndex++;\n        const selected = child.props.value === value;\n        const normalizedValue = normalizeValueForId(child.props.value);\n\n        return React.cloneElement(child, {\n          ref: setBtnRef(currentIndex),\n          tabIndex: selected ? 0 : -1,\n          selected,\n          onSelect: () => onChange(child.props.value),\n          id: child.props.id ?? `${normalizedValue}-tab`,\n          \"aria-controls\":\n            child.props[\"aria-controls\"] ?? `${normalizedValue}-panel`,\n        } as Partial<GlitchSegmentedButtonProps> &\n          React.RefAttributes<HTMLButtonElement>);\n      })}\n    </div>\n  );\n};\n\nexport const GlitchSegmentedButton = React.forwardRef<\n  HTMLButtonElement,\n  GlitchSegmentedButtonProps\n>(({ icon, children, className, selected, onSelect, ...rest }, ref) => {\n  return (\n    <button\n      ref={ref}\n      type=\"button\"\n      role=\"tab\"\n      aria-selected={selected}\n      data-selected={selected ? \"true\" : undefined}\n      onClick={onSelect}\n      className={cn(\n        styles.glitchScanlines,\n        \"flex-1 h-[var(--control-h-sm)] px-[var(--space-3)] inline-flex items-center justify-center gap-[var(--space-2)] text-ui font-medium select-none\",\n        \"rounded-card r-card-md transition focus-visible:ring-2 focus-visible:ring-[var(--ring-contrast)] focus-visible:shadow-[var(--shadow-glow-md)] focus-visible:[outline:var(--spacing-0-5)_solid_var(--ring-contrast)] focus-visible:[outline-offset:var(--spacing-0-5)]\",\n        \"bg-[var(--btn-bg)] text-[var(--btn-fg)] hover:bg-[--hover] active:bg-[--active]\",\n        \"motion-safe:hover:-translate-y-[var(--spacing-0-25)] motion-safe:hover:shadow-neon-soft\",\n        \"motion-safe:active:shadow-neon-soft motion-safe:active:scale-95 motion-reduce:transform-none\",\n        \"data-[selected=true]:shadow-neon-strong data-[selected=true]:ring-1 data-[selected=true]:ring-[var(--neon-soft)]\",\n        \"disabled:opacity-disabled disabled:pointer-events-none\",\n        className,\n      )}\n      {...rest}\n    >\n      {icon ? (\n        <span className=\"inline-flex h-[var(--space-4)] w-[var(--space-4)] items-center justify-center\">\n          {icon}\n        </span>\n      ) : null}\n      <span className=\"truncate\">{children}</span>\n    </button>\n  );\n});\n\nGlitchSegmentedButton.displayName = \"GlitchSegmentedButton\";\n\nconst normalizeValueForId = (value: string): string => {\n  const slug = slugify(value);\n  if (slug) return slug;\n\n  const hexFallback = Array.from(value).reduce((acc, char) => {\n    const codePoint = char.codePointAt(0);\n    if (codePoint === undefined) return acc;\n    return acc + codePoint.toString(16).padStart(2, \"0\");\n  }, \"\");\n\n  return hexFallback || \"segment\";\n};\n","// src/components/ui/layout/NeomorphicFrameStyles.tsx\n\"use client\";\n\nimport \"./NeomorphicFrameStyles.css\";\n\nexport function NeomorphicFrameStyles() {\n  return null;\n}\n","\"use client\";\n\nimport * as React from \"react\";\n\nimport { createGalleryPreview, defineGallerySection } from \"@/components/gallery/registry\";\n\nimport Field from \"./Field\";\n\nconst options = [\n  { value: \"one\", label: \"One\" },\n  { value: \"two\", label: \"Two\" },\n];\n\nexport type FieldStateSpec = {\n  id: string;\n  name: string;\n  Component: React.ComponentType;\n  code?: string;\n};\n\nconst DefaultFieldState: React.FC = () => (\n  <Field.Root helper=\"Compose primitives\">\n    <Field.Input placeholder=\"Default field\" />\n  </Field.Root>\n);\n\nconst FocusVisibleFieldState: React.FC = () => (\n  <Field.Root\n    className=\"ring-2 ring-[hsl(var(--ring))]\"\n    helper=\"Helper text aligns with counter\"\n    helperId=\"field-focus-helper\"\n    counter=\"64 / 100\"\n    counterId=\"field-focus-counter\"\n  >\n    <Field.Input\n      aria-describedby=\"field-focus-helper field-focus-counter\"\n      placeholder=\"Forced focus ring\"\n    />\n  </Field.Root>\n);\n\nconst InvalidFieldState: React.FC = () => (\n  <Field.Root invalid helper=\"Incorrect format\" helperTone=\"danger\">\n    <Field.Input placeholder=\"Invalid field\" aria-invalid />\n  </Field.Root>\n);\n\nconst LoadingFieldState: React.FC = () => (\n  <Field.Root loading helper=\"Loading state\">\n    <Field.Input placeholder=\"Loading field\" />\n  </Field.Root>\n);\n\nconst DisabledFieldState: React.FC = () => (\n  <Field.Root disabled helper=\"Disabled field\">\n    <Field.Input placeholder=\"Disabled field\" disabled />\n  </Field.Root>\n);\n\nconst FieldWithCounterState: React.FC = () => (\n  <Field.Root\n    counter=\"120 / 200\"\n    counterId=\"field-counter\"\n    helper=\"Helper with counter\"\n    helperId=\"field-helper\"\n  >\n    <Field.Textarea\n      aria-describedby=\"field-helper field-counter\"\n      placeholder=\"Textarea within a field\"\n      rows={3}\n    />\n  </Field.Root>\n);\n\nconst SelectFieldState: React.FC = () => (\n  <Field.Root>\n    <Field.Select defaultValue=\"one\">\n      {options.map((option) => (\n        <option key={option.value} value={option.value}>\n          {option.label}\n        </option>\n      ))}\n    </Field.Select>\n  </Field.Root>\n);\n\nconst SearchFieldState: React.FC = () => {\n  const [search, setSearch] = React.useState(\"Scouting\");\n\n  return (\n    <Field.Root>\n      <Field.Search\n        value={search}\n        onChange={(event) => setSearch(event.target.value)}\n        placeholder=\"Search fields\"\n        clearLabel=\"Clear search\"\n      />\n    </Field.Root>\n  );\n};\n\nconst GlitchFieldState: React.FC = () => (\n  <Field.Root\n    glitch\n    glitchText=\"Player lookup\"\n    helper=\"Overlay pulls from accent + ring tokens\"\n    helperId=\"field-glitch-helper\"\n  >\n    <Field.Input\n      aria-describedby=\"field-glitch-helper\"\n      placeholder=\"Glitch overlay\"\n      indent\n    />\n  </Field.Root>\n);\n\nconst FIELD_STATES: readonly FieldStateSpec[] = [\n  {\n    id: \"default\",\n    name: \"Default\",\n    Component: DefaultFieldState,\n    code: `<Field.Root helper=\"Compose primitives\">\n  <Field.Input placeholder=\"Default field\" />\n</Field.Root>`,\n  },\n  {\n    id: \"focus-visible\",\n    name: \"Focus visible\",\n    Component: FocusVisibleFieldState,\n    code: `<Field.Root\n  className=\"ring-2 ring-[hsl(var(--ring))]\"\n  helper=\"Helper text aligns with counter\"\n  helperId=\"field-focus-helper\"\n  counter=\"64 / 100\"\n  counterId=\"field-focus-counter\"\n>\n  <Field.Input\n    aria-describedby=\"field-focus-helper field-focus-counter\"\n    placeholder=\"Forced focus ring\"\n  />\n</Field.Root>`,\n  },\n  {\n    id: \"invalid\",\n    name: \"Invalid\",\n    Component: InvalidFieldState,\n    code: `<Field.Root invalid helper=\"Incorrect format\" helperTone=\"danger\">\n  <Field.Input placeholder=\"Invalid field\" aria-invalid />\n</Field.Root>`,\n  },\n  {\n    id: \"loading\",\n    name: \"Loading\",\n    Component: LoadingFieldState,\n    code: `<Field.Root loading helper=\"Loading state\">\n  <Field.Input placeholder=\"Loading field\" />\n</Field.Root>`,\n  },\n  {\n    id: \"disabled\",\n    name: \"Disabled\",\n    Component: DisabledFieldState,\n    code: `<Field.Root disabled helper=\"Disabled field\">\n  <Field.Input placeholder=\"Disabled field\" disabled />\n</Field.Root>`,\n  },\n  {\n    id: \"with-counter\",\n    name: \"With counter\",\n    Component: FieldWithCounterState,\n    code: `<Field.Root\n  counter=\"120 / 200\"\n  counterId=\"field-counter\"\n  helper=\"Helper with counter\"\n  helperId=\"field-helper\"\n>\n  <Field.Textarea\n    aria-describedby=\"field-helper field-counter\"\n    placeholder=\"Textarea within a field\"\n    rows={3}\n  />\n</Field.Root>`,\n  },\n  {\n    id: \"select\",\n    name: \"Select\",\n    Component: SelectFieldState,\n    code: `const options = [\n  { value: \"one\", label: \"One\" },\n  { value: \"two\", label: \"Two\" },\n];\n\n<Field.Root>\n  <Field.Select defaultValue=\"one\">\n    {options.map((option) => (\n      <option key={option.value} value={option.value}>\n        {option.label}\n      </option>\n    ))}\n  </Field.Select>\n</Field.Root>`,\n  },\n  {\n    id: \"search\",\n    name: \"Search\",\n    Component: SearchFieldState,\n    code: `const [search, setSearch] = React.useState(\"Scouting\");\n\n<Field.Root>\n  <Field.Search\n    value={search}\n    onChange={(event) => setSearch(event.target.value)}\n    placeholder=\"Search fields\"\n    clearLabel=\"Clear search\"\n  />\n</Field.Root>`,\n  },\n  {\n    id: \"glitch\",\n    name: \"Glitch overlay\",\n    Component: GlitchFieldState,\n    code: `<Field.Root glitch glitchText=\"Player lookup\" helper=\"Overlay pulls from accent + ring tokens\" helperId=\"field-glitch-helper\">\\n  <Field.Input aria-describedby=\"field-glitch-helper\" placeholder=\"Glitch overlay\" indent />\\n</Field.Root>`,\n  },\n];\n\nexport const FIELD_STATE_SPECS: readonly FieldStateSpec[] = FIELD_STATES;\n\nfunction FieldGalleryPreview() {\n  return (\n    <div className=\"flex flex-col gap-[var(--space-3)]\">\n      {FIELD_STATES.filter((state) => state.id !== \"glitch\").map(\n        ({ id, Component }) => (\n          <Component key={id} />\n        ),\n      )}\n      <div className=\"space-y-[var(--space-1)]\">\n        <GlitchFieldState />\n        <p className=\"text-caption text-muted-foreground\">\n          Glitch fields default to{\" \"}\n          <code className=\"mx-[var(--space-1)]\">\n            --glitch-overlay-button-opacity-reduced\n          </code>\n          so Noir and Hardstuck keep helper/counter copy legible while the\n          chroma noise animates.\n        </p>\n      </div>\n    </div>\n  );\n}\n\nexport default defineGallerySection({\n  id: \"inputs\",\n  entries: [\n    {\n      id: \"field\",\n      name: \"Field\",\n      description: \"Composable shell for custom inputs, search, and selects\",\n      kind: \"primitive\",\n      tags: [\"field\", \"input\"],\n      props: [\n        { name: \"height\", type: '\"sm\" | \"md\" | \"lg\" | \"xl\" | number', defaultValue: '\"md\"' },\n        { name: \"disabled\", type: \"boolean\", defaultValue: \"false\" },\n        { name: \"invalid\", type: \"boolean\", defaultValue: \"false\" },\n        { name: \"loading\", type: \"boolean\", defaultValue: \"false\" },\n        { name: \"readOnly\", type: \"boolean\", defaultValue: \"false\" },\n        { name: \"helper\", type: \"React.ReactNode\" },\n        { name: \"helperTone\", type: '\"muted\" | \"danger\" | \"success\"' },\n        { name: \"counter\", type: \"React.ReactNode\" },\n      ],\n      axes: [\n        {\n          id: \"state\",\n          label: \"State\",\n          type: \"state\",\n          values: FIELD_STATES.map(({ name, id }) => ({\n            value: name,\n            description:\n              id === \"glitch\"\n                ? \"Glitch overlay rides reduced opacity + hue tokens to keep helper/counter text readable in Noir + Hardstuck.\"\n                : undefined,\n          })),\n        },\n      ],\n      preview: createGalleryPreview({\n        id: \"ui:field:states\",\n        render: () => <FieldGalleryPreview />,\n      }),\n      states: FIELD_STATES.map((state) => ({\n        id: state.id,\n        name: state.name,\n        code: state.code,\n        preview: createGalleryPreview({\n          id: `ui:field:state:${state.id}`,\n          render: () => <state.Component />,\n        }),\n      })),\n      code: `const [search, setSearch] = React.useState(\"Scouting\");\n\n<Field.Root helper=\"Compose primitives\">\n  <Field.Input placeholder=\"Default field\" />\n</Field.Root>\n<Field.Root\n  className=\"ring-2 ring-[hsl(var(--ring))]\"\n  helper=\"Helper text aligns with counter\"\n  helperId=\"field-focus-helper\"\n  counter=\"64 / 100\"\n  counterId=\"field-focus-counter\"\n>\n  <Field.Input\n    aria-describedby=\"field-focus-helper field-focus-counter\"\n    placeholder=\"Forced focus ring\"\n  />\n</Field.Root>\n<Field.Root invalid helper=\"Incorrect format\" helperTone=\"danger\">\n  <Field.Input placeholder=\"Invalid field\" aria-invalid />\n</Field.Root>\n<Field.Root loading helper=\"Loading state\">\n  <Field.Input placeholder=\"Loading field\" />\n</Field.Root>\n<Field.Root disabled helper=\"Disabled field\">\n  <Field.Input placeholder=\"Disabled field\" disabled />\n</Field.Root>\n<Field.Root\n  counter=\"120 / 200\"\n  counterId=\"field-counter\"\n  helper=\"Helper with counter\"\n  helperId=\"field-helper\"\n>\n  <Field.Textarea\n    aria-describedby=\"field-helper field-counter\"\n    placeholder=\"Textarea within a field\"\n    rows={3}\n  />\n</Field.Root>\n<Field.Root>\n  <Field.Select defaultValue=\"one\">\n    <option value=\"one\">One</option>\n    <option value=\"two\">Two</option>\n  </Field.Select>\n</Field.Root>\n<Field.Root>\n  <Field.Search\n    value={search}\n    onChange={(event) => setSearch(event.target.value)}\n    placeholder=\"Search fields\"\n    clearLabel=\"Clear search\"\n  />\n</Field.Root>`,\n    },\n  ],\n});\n","// src/components/ui/layout/hero/index.ts\n\nexport { default } from \"./Hero\";\nexport type { HeroProps } from \"./Hero\";\nexport * from \"./Hero\";\nexport { HeroTabs } from \"./HeroTabs\";\nexport type { HeroTabsProps, HeroTab } from \"./HeroTabs\";\nexport { HeroSearchBar } from \"./HeroSearchBar\";\nexport type { HeroSearchBarProps } from \"./HeroSearchBar\";\nexport { HeroGlitchStyles } from \"./HeroGlitchStyles\";\nexport { HeroImage } from \"./HeroImage\";\nexport type { HeroImageProps } from \"./HeroImage\";\nexport { useHeroStyles } from \"./useHeroStyles\";\nexport type { HeroStyleOptions, HeroStyleResult } from \"./useHeroStyles\";\n","// src/components/ui/layout/Hero.ts\n\nexport { default } from \"./hero\";\nexport * from \"./hero\";\n","import * as React from \"react\";\nimport { Info } from \"lucide-react\";\n\nimport { Button } from \"@/components/ui\";\nimport { cn } from \"@/lib/utils\";\n\nexport type AIExplainTooltipAlignment = \"start\" | \"center\" | \"end\";\nexport type AIExplainTooltipTone = \"accent\" | \"neutral\";\ntype TriggerElement = HTMLButtonElement | HTMLAnchorElement;\n\nexport interface AIExplainTooltipProps extends React.ComponentPropsWithoutRef<\"div\"> {\n  readonly triggerLabel: string;\n  readonly explanation: React.ReactNode;\n  readonly shortcutHint?: string;\n  readonly icon?: React.ReactNode;\n  readonly alignment?: AIExplainTooltipAlignment;\n  readonly tone?: AIExplainTooltipTone;\n  readonly open?: boolean;\n  readonly defaultOpen?: boolean;\n  readonly onOpenChange?: (open: boolean) => void;\n  readonly triggerProps?: React.ComponentPropsWithoutRef<typeof Button>;\n}\n\nconst toneBackground: Record<AIExplainTooltipTone, string> = {\n  accent: \"bg-[hsl(var(--accent-soft))] border-[hsl(var(--accent)/0.4)] text-[hsl(var(--accent-foreground))]\",\n  neutral: \"bg-[hsl(var(--surface)/0.9)] border-[hsl(var(--border)/0.6)] text-foreground\",\n};\n\nconst AIExplainTooltip = React.forwardRef<HTMLDivElement, AIExplainTooltipProps>(\n  (\n    {\n      triggerLabel,\n      explanation,\n      shortcutHint,\n      icon,\n      alignment = \"start\",\n      tone = \"accent\",\n      open,\n      defaultOpen,\n      onOpenChange,\n      triggerProps,\n      className,\n      ...props\n    },\n    ref,\n  ) => {\n    const id = React.useId();\n    const [uncontrolledOpen, setUncontrolledOpen] = React.useState(defaultOpen ?? false);\n    const isControlled = open !== undefined;\n    const isOpen = isControlled ? open : uncontrolledOpen;\n\n    const setOpen = React.useCallback(\n      (value: boolean) => {\n        if (!isControlled) {\n          setUncontrolledOpen(value);\n        }\n        onOpenChange?.(value);\n      },\n      [isControlled, onOpenChange],\n    );\n\n    const handleToggle = React.useCallback(() => {\n      setOpen(!isOpen);\n    }, [isOpen, setOpen]);\n\n    const close = React.useCallback(() => {\n      setOpen(false);\n    }, [setOpen]);\n\n    const handleKeyDown = React.useCallback(\n      (event: React.KeyboardEvent<TriggerElement>) => {\n        if (event.key === \"Escape\") {\n          event.preventDefault();\n          close();\n        }\n      },\n      [close],\n    );\n\n    const handleFocus = React.useCallback(() => {\n      setOpen(true);\n    }, [setOpen]);\n\n    const handleBlur = React.useCallback(\n      (event: React.FocusEvent<TriggerElement>) => {\n        if (!event.currentTarget.contains(event.relatedTarget as Node | null)) {\n          close();\n        }\n      },\n      [close],\n    );\n\n    const handlePointerEnter = React.useCallback(() => {\n      setOpen(true);\n    }, [setOpen]);\n\n    const handlePointerLeave = React.useCallback(() => {\n      close();\n    }, [close]);\n\n    const {\n      className: triggerClassName,\n      onClick: onTriggerClick,\n      onFocus: onTriggerFocus,\n      onBlur: onTriggerBlur,\n      onPointerEnter: onTriggerPointerEnter,\n      onPointerLeave: onTriggerPointerLeave,\n      onKeyDown: onTriggerKeyDown,\n      tone: triggerTone,\n      ...restTriggerProps\n    } = triggerProps ?? {};\n\n    const resolvedTone = triggerTone ?? (tone === \"accent\" ? \"accent\" : \"primary\");\n\n    return (\n      <div\n        ref={ref}\n        className={cn(\"relative inline-flex flex-col items-start\", className)}\n        {...props}\n      >\n        <Button\n          type=\"button\"\n          size=\"sm\"\n          variant=\"quiet\"\n          tone={resolvedTone}\n          aria-expanded={isOpen}\n          aria-controls={id}\n          aria-describedby={isOpen ? id : undefined}\n          onClick={(event: React.MouseEvent<TriggerElement>) => {\n            const clickHandler =\n              onTriggerClick as ((event: React.MouseEvent<TriggerElement>) => void) | undefined;\n            clickHandler?.(event);\n            if (!event.defaultPrevented) {\n              handleToggle();\n            }\n          }}\n          onKeyDown={(event: React.KeyboardEvent<TriggerElement>) => {\n            const keyHandler =\n              onTriggerKeyDown as ((event: React.KeyboardEvent<TriggerElement>) => void) | undefined;\n            keyHandler?.(event);\n            if (!event.defaultPrevented) {\n              handleKeyDown(event);\n            }\n          }}\n          onFocus={(event: React.FocusEvent<TriggerElement>) => {\n            const focusHandler =\n              onTriggerFocus as ((event: React.FocusEvent<TriggerElement>) => void) | undefined;\n            focusHandler?.(event);\n            if (!event.defaultPrevented) {\n              handleFocus();\n            }\n          }}\n          onBlur={(event: React.FocusEvent<TriggerElement>) => {\n            const blurHandler =\n              onTriggerBlur as ((event: React.FocusEvent<TriggerElement>) => void) | undefined;\n            blurHandler?.(event);\n            if (!event.defaultPrevented) {\n              handleBlur(event);\n            }\n          }}\n          onPointerEnter={(event: React.PointerEvent<TriggerElement>) => {\n            const pointerEnterHandler =\n              onTriggerPointerEnter as ((event: React.PointerEvent<TriggerElement>) => void) | undefined;\n            pointerEnterHandler?.(event);\n            if (!event.defaultPrevented) {\n              handlePointerEnter();\n            }\n          }}\n          onPointerLeave={(event: React.PointerEvent<TriggerElement>) => {\n            const pointerLeaveHandler =\n              onTriggerPointerLeave as ((event: React.PointerEvent<TriggerElement>) => void) | undefined;\n            pointerLeaveHandler?.(event);\n            if (!event.defaultPrevented) {\n              handlePointerLeave();\n            }\n          }}\n          className={cn(\"gap-[var(--space-1-5)] px-[var(--space-3)]\", triggerClassName)}\n          {...restTriggerProps}\n        >\n          {icon ?? <Info className=\"size-[var(--space-4)]\" aria-hidden />}\n          <span>{triggerLabel}</span>\n        </Button>\n        <div\n          id={id}\n          role=\"tooltip\"\n          data-state={isOpen ? \"open\" : \"closed\"}\n          aria-hidden={isOpen ? undefined : \"true\"}\n          className={cn(\n            \"pointer-events-none absolute z-10 mt-[var(--space-2)] min-w-[min(22rem,calc(100vw-2rem))] rounded-card border p-[var(--space-3)] text-left shadow-[var(--shadow-outline-subtle)] transition-opacity duration-200 ease-out\",\n            toneBackground[tone],\n            alignClassNames[alignment],\n            isOpen ? \"opacity-100\" : \"opacity-0\",\n          )}\n        >\n          <p className=\"text-label font-medium leading-snug\">{explanation}</p>\n          {shortcutHint ? (\n            <p className=\"pt-[var(--space-1-5)] text-caption opacity-80\">{shortcutHint}</p>\n          ) : null}\n        </div>\n      </div>\n    );\n  },\n);\n\nAIExplainTooltip.displayName = \"AIExplainTooltip\";\n\nexport default AIExplainTooltip;\n\nconst alignClassNames: Record<AIExplainTooltipAlignment, string> = {\n  start: \"left-0\",\n  center: \"left-1/2 -translate-x-1/2 transform\",\n  end: \"right-0\",\n};\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"progressTrack\":\"Toast_progressTrack__YVOv_\",\"progressFill\":\"Toast_progressFill__BbE7g\"};","import * as React from \"react\";\nimport type { ImageProps } from \"next/image\";\n\nimport { cn } from \"@/lib/utils\";\n\nimport styles from \"./AvatarFrame.module.css\";\n\ntype AvatarFrameSize = \"sm\" | \"md\" | \"lg\";\n\ntype MediaElement = React.ReactElement<\n  ImageProps | React.ImgHTMLAttributes<HTMLImageElement>\n>;\n\ntype AvatarFrameOwnProps<T extends React.ElementType = \"div\"> = {\n  as?: T;\n  frame?: boolean;\n  size?: AvatarFrameSize;\n  media?: MediaElement;\n  before?: React.ReactNode;\n  after?: React.ReactNode;\n  children?: React.ReactNode;\n  innerClassName?: string;\n  surfaceClassName?: string;\n  rimClassName?: string;\n  glowClassName?: string;\n  railClassName?: string;\n};\n\nexport type AvatarFrameProps<T extends React.ElementType = \"div\"> =\n  AvatarFrameOwnProps<T> &\n    Omit<React.ComponentPropsWithoutRef<T>, keyof AvatarFrameOwnProps<T>>;\n\nconst sizeClassNames: Record<AvatarFrameSize, string> = {\n  sm: styles.sizeSm,\n  md: styles.sizeMd,\n  lg: styles.sizeLg,\n};\n\nfunction coerceMedia(media?: MediaElement) {\n  if (!media || !React.isValidElement(media)) {\n    return media;\n  }\n\n  return React.cloneElement(media, {\n    className: cn(\n      \"h-full w-full object-contain object-[center_20%]\",\n      styles.media,\n      media.props.className,\n    ),\n  });\n}\n\nfunction AvatarFrame<T extends React.ElementType = \"div\">({\n  as,\n  frame = true,\n  size = \"md\",\n  media,\n  before,\n  after,\n  children,\n  className,\n  innerClassName,\n  surfaceClassName,\n  rimClassName,\n  glowClassName,\n  railClassName,\n  ...rest\n}: AvatarFrameProps<T>) {\n  const Comp = (as ?? \"div\") as React.ElementType;\n  const processedMedia = coerceMedia(media);\n\n  return (\n    <Comp\n      className={cn(\n        \"relative isolate flex shrink-0 items-center justify-center\",\n        styles.root,\n        sizeClassNames[size],\n        className,\n      )}\n      {...rest}\n    >\n      {before}\n      {frame ? (\n        <>\n          <span\n            aria-hidden\n            className={cn(\n              \"pointer-events-none absolute -inset-[calc(var(--portrait-rim)*1.6)] rounded-full blur-[var(--hero-illustration-blur,var(--portrait-glow))] opacity-[var(--hero-illustration-opacity,0.8)]\",\n              styles.glow,\n              glowClassName,\n            )}\n          />\n          <span\n            aria-hidden\n            className={cn(\n              \"glitch-rail pointer-events-none absolute -inset-[calc(var(--portrait-rim)*1.1)] rounded-full mix-blend-screen opacity-[var(--glitch-intensity-hero-rail,0.74)]\",\n              railClassName,\n            )}\n          />\n          <div\n            className={cn(\n              \"relative flex items-center justify-center rounded-full shadow-depth-outer\",\n              styles.rim,\n              rimClassName,\n            )}\n          >\n            <div\n              className={cn(\n                \"relative aspect-[1/1] w-full overflow-hidden rounded-full\",\n                styles.inner,\n                innerClassName,\n              )}\n            >\n              {processedMedia}\n              {children}\n            </div>\n          </div>\n        </>\n      ) : (\n        <div\n          className={cn(\n            \"relative aspect-[1/1] w-full overflow-hidden rounded-full shadow-depth-outer\",\n            styles.framelessSurface,\n            surfaceClassName,\n          )}\n        >\n          {processedMedia}\n          {children}\n        </div>\n      )}\n      {after}\n    </Comp>\n  );\n}\n\nAvatarFrame.displayName = \"AvatarFrame\";\n\nexport default AvatarFrame;\n","import * as React from \"react\";\nimport { Plus } from \"lucide-react\";\n\nimport { createGalleryPreview, defineGallerySection } from \"@/components/gallery/registry\";\n\nimport Button, { buttonSizes, type ButtonSize } from \"./Button\";\n\nexport type ButtonStateSpec = {\n  id: string;\n  name: string;\n  className?: string;\n  props: React.ComponentProps<typeof Button>;\n  code?: string;\n};\n\nconst BUTTON_STATES: readonly ButtonStateSpec[] = [\n  {\n    id: \"default\",\n    name: \"Default\",\n    props: { children: \"Default\" },\n    code: \"<Button>Default</Button>\",\n  },\n  {\n    id: \"hover\",\n    name: \"Hover\",\n    className: \"bg-[--hover]\",\n    props: { children: \"Hover\" },\n    code: \"<Button className=\\\"bg-[--hover]\\\">Hover</Button>\",\n  },\n  {\n    id: \"focus\",\n    name: \"Focus\",\n    className:\n      \"ring-2 ring-[var(--ring-contrast)] shadow-[var(--shadow-glow-md)] [outline:var(--spacing-0-5)_solid_var(--ring-contrast)] [outline-offset:var(--spacing-0-5)]\",\n    props: { children: \"Focus\" },\n    code:\n      \"<Button className=\\\"ring-2 ring-[var(--ring-contrast)] shadow-[var(--shadow-glow-md)] [outline:var(--spacing-0-5)_solid_var(--ring-contrast)] [outline-offset:var(--spacing-0-5)]\\\">Focus</Button>\",\n  },\n  {\n    id: \"active\",\n    name: \"Active\",\n    className: \"bg-[--active]\",\n    props: { children: \"Active\" },\n    code: \"<Button className=\\\"bg-[--active]\\\">Active</Button>\",\n  },\n  {\n    id: \"disabled\",\n    name: \"Disabled\",\n    props: { children: \"Disabled\", disabled: true },\n    code: \"<Button disabled>Disabled</Button>\",\n  },\n  {\n    id: \"loading\",\n    name: \"Loading\",\n    props: { children: \"Loading\", loading: true },\n    code: \"<Button loading>Loading</Button>\",\n  },\n  {\n    id: \"glitch\",\n    name: \"Glitch overlay\",\n    props: {\n      children: \"Glitch overlay\",\n      glitch: true,\n      glitchIntensity: \"glitch-overlay-button-opacity\",\n    },\n    code: `<Button glitch glitchIntensity=\"glitch-overlay-button-opacity\">Glitch overlay</Button>`,\n  },\n];\n\nexport const BUTTON_STATE_SPECS: readonly ButtonStateSpec[] = BUTTON_STATES;\n\nconst BUTTON_SIZE_ORDER: readonly ButtonSize[] = [\"sm\", \"md\", \"lg\", \"xl\"];\n\nconst BUTTON_SIZE_LABELS: Record<ButtonSize, string> = {\n  sm: \"Small\",\n  md: \"Medium\",\n  lg: \"Large\",\n  xl: \"Extra large\",\n};\n\nconst ICON_VARIANTS = [\n  { id: \"leading\", label: \"Leading icon\" },\n  { id: \"trailing\", label: \"Trailing icon\" },\n] as const;\n\nfunction ButtonStatePreview({ state }: { state: ButtonStateSpec }) {\n  const { className, props } = state;\n  return <Button className={className} {...props} />;\n}\n\nfunction ButtonGalleryPreview() {\n  const glitchState = BUTTON_STATES.find((state) => state.id === \"glitch\");\n  const standardStates = BUTTON_STATES.filter((state) => state.id !== \"glitch\");\n\n  return (\n    <div className=\"flex flex-col gap-[var(--space-4)]\">\n      <div className=\"flex flex-wrap gap-[var(--space-2)]\">\n        <Button tone=\"primary\" variant=\"default\">\n          Primary tone\n        </Button>\n        <Button tone=\"accent\" variant=\"default\">\n          Accent tone\n        </Button>\n        <Button tone=\"info\" variant=\"quiet\">\n          Info ghost\n        </Button>\n        <Button tone=\"danger\" variant=\"default\">\n          Danger primary\n        </Button>\n        <Button disabled>Disabled</Button>\n      </div>\n      <div className=\"space-y-[var(--space-2)]\">\n        <div className=\"grid grid-cols-[max-content_repeat(2,minmax(0,1fr))] gap-[var(--space-3)] text-label text-muted-foreground\">\n          <span className=\"sr-only\">Size</span>\n          {ICON_VARIANTS.map((variant) => (\n            <span key={variant.id}>{variant.label}</span>\n          ))}\n        </div>\n        {BUTTON_SIZE_ORDER.map((size) => (\n          <div\n            key={size}\n            className={`grid grid-cols-1 items-center sm:grid-cols-[max-content_repeat(2,minmax(0,1fr))] ${buttonSizes[size].gap}`}\n          >\n            <span className=\"text-label text-muted-foreground sm:text-ui\">\n              {BUTTON_SIZE_LABELS[size]}\n            </span>\n            {ICON_VARIANTS.map((variant) => (\n              <Button key={variant.id} size={size}>\n                {variant.id === \"leading\" ? <Plus aria-hidden /> : null}\n                {BUTTON_SIZE_LABELS[size]}\n                {variant.id === \"trailing\" ? <Plus aria-hidden /> : null}\n              </Button>\n            ))}\n          </div>\n        ))}\n      </div>\n      <div className=\"flex flex-wrap gap-[var(--space-2)]\">\n        {standardStates.map((state) => (\n          <ButtonStatePreview key={state.id} state={state} />\n        ))}\n      </div>\n      {glitchState ? (\n        <div className=\"space-y-[var(--space-1)]\">\n          <div className=\"flex flex-wrap gap-[var(--space-2)]\">\n            <ButtonStatePreview state={glitchState} />\n          </div>\n          <p className=\"text-caption text-muted-foreground\">\n            Glitch overlay uses theme noise tokens so Noir and Hardstuck clamp\n            the static mix for 3:1 contrastkeep copy on the default{\" \"}\n            <code className=\"ml-[var(--space-1)]\">text-foreground</code> tone.\n          </p>\n        </div>\n      ) : null}\n    </div>\n  );\n}\n\nexport default defineGallerySection({\n  id: \"buttons\",\n  entries: [\n    {\n      id: \"button\",\n      name: \"Button\",\n      description: \"Tone, size, icon placement, and interaction states\",\n      kind: \"primitive\",\n      tags: [\"button\", \"action\"],\n      props: [\n        {\n          name: \"variant\",\n          type: '\"default\" | \"neo\" | \"quiet\" | \"glitch\"',\n          description:\n            'Canonical variants. Legacy aliases map as: \"primary\"  \"default\", \"secondary\"/\"soft\"  \"neo\", \"ghost\"/\"minimal\"  \"quiet\".',\n        },\n        {\n          name: \"tone\",\n          type: '\"primary\" | \"accent\" | \"info\" | \"danger\"',\n        },\n        {\n          name: \"size\",\n          type: '\"sm\" | \"md\" | \"lg\" | \"xl\"',\n        },\n        {\n          name: \"loading\",\n          type: \"boolean\",\n          defaultValue: \"false\",\n        },\n      ],\n      axes: [\n        {\n          id: \"tone\",\n          label: \"Tone\",\n          type: \"variant\",\n          values: [\n            { value: \"Primary\" },\n            { value: \"Accent\" },\n            { value: \"Info\" },\n            { value: \"Danger\" },\n          ],\n        },\n        {\n          id: \"size\",\n          label: \"Size & icons\",\n          type: \"variant\",\n          values: BUTTON_SIZE_ORDER.map((size) => ({\n            value: BUTTON_SIZE_LABELS[size],\n            description: `Leading and trailing icons align to the ${BUTTON_SIZE_LABELS[size].toLowerCase()} control gap.`,\n          })),\n        },\n        {\n          id: \"state\",\n          label: \"State\",\n          type: \"state\",\n          values: BUTTON_STATES.map(({ name, id }) => ({\n            value: name,\n            description:\n              id === \"glitch\"\n                ? \"Glitch overlay relies on --glitch-overlay-button-opacity and theme noise tokens; Noir + Hardstuck clamp intensity for 3:1 contrast.\"\n                : undefined,\n          })),\n        },\n      ],\n      preview: createGalleryPreview({\n        id: \"ui:button:matrix\",\n        render: () => <ButtonGalleryPreview />,\n      }),\n      states: BUTTON_STATES.map((state) => ({\n        id: state.id,\n        name: state.name,\n        code: state.code,\n        preview: createGalleryPreview({\n          id: `ui:button:state:${state.id}`,\n          render: () => <ButtonStatePreview state={state} />,\n        }),\n      })),\n      code: `<div className=\"flex flex-col gap-[var(--space-4)]\">\n  <div className=\"flex flex-wrap gap-[var(--space-2)]\">\n    <Button tone=\"primary\" variant=\"default\">\n      Primary tone\n    </Button>\n    <Button tone=\"accent\" variant=\"default\">\n      Accent tone\n    </Button>\n    <Button tone=\"info\" variant=\"quiet\">\n      Info ghost\n    </Button>\n    <Button tone=\"danger\" variant=\"default\">\n      Danger primary\n    </Button>\n    <Button disabled>Disabled</Button>\n  </div>\n  <div className=\"space-y-[var(--space-2)]\">\n    <div className=\"grid grid-cols-[max-content_repeat(2,minmax(0,1fr))] gap-[var(--space-3)] text-label text-muted-foreground\">\n      <span className=\"sr-only\">Size</span>\n      <span>Leading icon</span>\n      <span>Trailing icon</span>\n    </div>\n    <div className=\"grid grid-cols-1 items-center gap-[var(--space-1)] sm:grid-cols-[max-content_repeat(2,minmax(0,1fr))]\">\n      <span className=\"text-label text-muted-foreground sm:text-ui\">Small</span>\n      <Button size=\"sm\">\n        <Plus aria-hidden />\n        Small\n      </Button>\n      <Button size=\"sm\">\n        Small\n        <Plus aria-hidden />\n      </Button>\n    </div>\n    <div className=\"grid grid-cols-1 items-center gap-[var(--space-2)] sm:grid-cols-[max-content_repeat(2,minmax(0,1fr))]\">\n      <span className=\"text-label text-muted-foreground sm:text-ui\">Medium</span>\n      <Button size=\"md\">\n        <Plus aria-hidden />\n        Medium\n      </Button>\n      <Button size=\"md\">\n        Medium\n        <Plus aria-hidden />\n      </Button>\n    </div>\n    <div className=\"grid grid-cols-1 items-center gap-[var(--space-4)] sm:grid-cols-[max-content_repeat(2,minmax(0,1fr))]\">\n      <span className=\"text-label text-muted-foreground sm:text-ui\">Large</span>\n      <Button size=\"lg\">\n        <Plus aria-hidden />\n        Large\n      </Button>\n      <Button size=\"lg\">\n        Large\n        <Plus aria-hidden />\n      </Button>\n    </div>\n    <div className=\"grid grid-cols-1 items-center gap-[calc(var(--control-h-xl)/3)] sm:grid-cols-[max-content_repeat(2,minmax(0,1fr))]\">\n      <span className=\"text-label text-muted-foreground sm:text-ui\">Extra large</span>\n      <Button size=\"xl\">\n        <Plus aria-hidden />\n        Extra large\n      </Button>\n      <Button size=\"xl\">\n        Extra large\n        <Plus aria-hidden />\n      </Button>\n    </div>\n  </div>\n  <div className=\"flex flex-wrap gap-[var(--space-2)]\">\n    <Button>Default</Button>\n    <Button className=\"bg-[--hover]\">Hover</Button>\n    <Button className=\"ring-2 ring-[var(--focus)]\">Focus</Button>\n    <Button className=\"bg-[--active]\">Active</Button>\n    <Button disabled>Disabled</Button>\n    <Button loading>Loading</Button>\n  </div>\n</div>`,\n    },\n  ],\n});\n","\"use client\";\n\nimport * as React from \"react\";\nimport { useReducedMotion } from \"framer-motion\";\n\nimport type { AnimatedSelectProps } from \"./shared\";\n\nexport type UseAnimatedSelectArgs = {\n  items: AnimatedSelectProps[\"items\"];\n  value?: string;\n  onChange?: AnimatedSelectProps[\"onChange\"];\n  matchTriggerWidth: NonNullable<AnimatedSelectProps[\"matchTriggerWidth\"]>;\n  align: NonNullable<AnimatedSelectProps[\"align\"]>;\n  size: NonNullable<AnimatedSelectProps[\"size\"]>;\n  label?: AnimatedSelectProps[\"label\"];\n  prefixLabel?: AnimatedSelectProps[\"prefixLabel\"];\n  ariaLabel?: AnimatedSelectProps[\"ariaLabel\"];\n  forwardedRef: React.Ref<HTMLButtonElement>;\n};\n\nconst GAP_PX = 8;\n\nfunction getInitialActiveIndex(\n  items: AnimatedSelectProps[\"items\"],\n  value?: string,\n) {\n  const selectedIndex = items.findIndex(\n    (item) => item.value === value && !item.disabled && !item.loading,\n  );\n\n  if (selectedIndex !== -1) {\n    return selectedIndex;\n  }\n\n  for (let i = 0; i < items.length; i += 1) {\n    const candidate = items[i];\n    if (candidate && !candidate.disabled && !candidate.loading) {\n      return i;\n    }\n  }\n\n  return -1;\n}\n\nexport function useAnimatedSelect({\n  items,\n  value,\n  onChange,\n  matchTriggerWidth,\n  align,\n  size,\n  label,\n  prefixLabel,\n  ariaLabel,\n  forwardedRef,\n}: UseAnimatedSelectArgs) {\n  const [open, setOpen] = React.useState(false);\n  const [activeIndex, setActiveIndex] = React.useState<number>(() =>\n    getInitialActiveIndex(items, value),\n  );\n\n  const triggerRef = React.useRef<HTMLButtonElement | null>(null);\n  const listRef = React.useRef<HTMLUListElement | null>(null);\n\n  const setTriggerRef = React.useCallback(\n    (node: HTMLButtonElement | null) => {\n      triggerRef.current = node;\n\n      if (typeof forwardedRef === \"function\") {\n        forwardedRef(node);\n        return;\n      }\n\n      if (forwardedRef) {\n        (forwardedRef as React.MutableRefObject<HTMLButtonElement | null>).current =\n          node;\n      }\n    },\n    [forwardedRef],\n  );\n\n  const isOptionFocusable = React.useCallback(\n    (index: number) => {\n      const option = items[index];\n      return !!option && !option.disabled && !option.loading;\n    },\n    [items],\n  );\n\n  const getFirstFocusableIndex = React.useCallback(() => {\n    for (let i = 0; i < items.length; i += 1) {\n      if (isOptionFocusable(i)) {\n        return i;\n      }\n    }\n    return -1;\n  }, [items, isOptionFocusable]);\n\n  const getLastFocusableIndex = React.useCallback(() => {\n    for (let i = items.length - 1; i >= 0; i -= 1) {\n      if (isOptionFocusable(i)) {\n        return i;\n      }\n    }\n    return -1;\n  }, [items, isOptionFocusable]);\n\n  const getNextFocusableIndex = React.useCallback(\n    (start: number, direction: 1 | -1) => {\n      if (items.length === 0) {\n        return -1;\n      }\n\n      let index = start;\n      for (let i = 0; i < items.length; i += 1) {\n        index = (index + direction + items.length) % items.length;\n        if (isOptionFocusable(index)) {\n          return index;\n        }\n      }\n\n      return -1;\n    },\n    [items, isOptionFocusable],\n  );\n\n  const focusItem = React.useCallback(\n    (index: number) => {\n      if (!isOptionFocusable(index)) return;\n\n      listRef.current\n        ?.querySelector<HTMLElement>(`[data-index=\"${index}\"]`)\n        ?.focus();\n    },\n    [isOptionFocusable],\n  );\n\n  const idBase = React.useId();\n  const labelId = `${idBase}-label`;\n  const listboxId = `${idBase}-listbox`;\n\n  const [rect, setRect] = React.useState<DOMRect | null>(null);\n  const [menuWidth, setMenuWidth] = React.useState<number | null>(null);\n\n  const reduceMotion = useReducedMotion();\n\n  const motionDurationSm = React.useMemo(() => {\n    if (typeof window === \"undefined\") return 0.14;\n\n    const valueFromCss = parseFloat(\n      getComputedStyle(document.documentElement).getPropertyValue(\n        \"--motion-duration-sm\",\n      ),\n    );\n\n    return (Number.isNaN(valueFromCss) ? 140 : valueFromCss) / 1000;\n  }, []);\n\n  const measure = React.useCallback(() => {\n    const r = triggerRef.current?.getBoundingClientRect();\n    if (!r) return;\n\n    setRect(r);\n    if (matchTriggerWidth) {\n      setMenuWidth(r.width);\n    }\n  }, [matchTriggerWidth]);\n\n  const rafId = React.useRef<number | null>(null);\n\n  const scheduleMeasure = React.useCallback(() => {\n    if (rafId.current !== null) {\n      cancelAnimationFrame(rafId.current);\n    }\n\n    rafId.current = requestAnimationFrame(() => {\n      rafId.current = null;\n      measure();\n    });\n  }, [measure]);\n\n  React.useEffect(() => {\n    return () => {\n      if (rafId.current !== null) {\n        cancelAnimationFrame(rafId.current);\n      }\n    };\n  }, []);\n\n  React.useLayoutEffect(() => {\n    if (!open) return;\n    scheduleMeasure();\n  }, [open, scheduleMeasure]);\n\n  React.useEffect(() => {\n    if (!open) return;\n\n    const handler = () => scheduleMeasure();\n    window.addEventListener(\"resize\", handler, { passive: true });\n    window.addEventListener(\"scroll\", handler, { passive: true });\n\n    return () => {\n      window.removeEventListener(\"resize\", handler);\n      window.removeEventListener(\"scroll\", handler);\n    };\n  }, [open, scheduleMeasure]);\n\n  React.useEffect(() => {\n    if (!open) return;\n    scheduleMeasure();\n  }, [open, scheduleMeasure, size]);\n\n  React.useEffect(() => {\n    if (!open) return;\n\n    const selectedIndex = items.findIndex((item) => item.value === value);\n    const nextIndex =\n      selectedIndex !== -1 && isOptionFocusable(selectedIndex)\n        ? selectedIndex\n        : getFirstFocusableIndex();\n\n    setActiveIndex(nextIndex);\n\n    if (nextIndex === -1) {\n      return;\n    }\n\n    const timer = setTimeout(() => {\n      focusItem(nextIndex);\n    }, 0);\n\n    return () => clearTimeout(timer);\n  }, [\n    open,\n    items,\n    value,\n    focusItem,\n    getFirstFocusableIndex,\n    isOptionFocusable,\n  ]);\n\n  React.useEffect(() => {\n    if (activeIndex === -1) return;\n    if (isOptionFocusable(activeIndex)) return;\n\n    setActiveIndex(getFirstFocusableIndex());\n  }, [activeIndex, getFirstFocusableIndex, isOptionFocusable, items]);\n\n  React.useEffect(() => {\n    if (open) return;\n\n    const timer = setTimeout(() => {\n      triggerRef.current?.focus();\n    }, 0);\n\n    return () => clearTimeout(timer);\n  }, [open]);\n\n  React.useEffect(() => {\n    if (!open) return;\n\n    const onDocPointerDown = (event: PointerEvent) => {\n      const target = event.target as Node;\n      if (triggerRef.current?.contains(target)) return;\n      if (listRef.current?.contains(target)) return;\n\n      setOpen(false);\n    };\n\n    document.addEventListener(\"pointerdown\", onDocPointerDown, true);\n    return () => {\n      document.removeEventListener(\"pointerdown\", onDocPointerDown, true);\n    };\n  }, [open]);\n\n  const selectByIndex = React.useCallback(\n    (index: number) => {\n      const option = items[index];\n      if (!option || option.disabled || option.loading) return;\n\n      onChange?.(option.value);\n      option.onSelect?.();\n      setOpen(false);\n    },\n    [items, onChange],\n  );\n\n  const onTriggerKeyDown = React.useCallback(\n    (event: React.KeyboardEvent<HTMLButtonElement>) => {\n      if (event.key === \"ArrowDown\" || event.key === \"Enter\" || event.key === \" \") {\n        event.preventDefault();\n        scheduleMeasure();\n        setOpen(true);\n      }\n\n      if (event.key === \"ArrowUp\") {\n        event.preventDefault();\n        scheduleMeasure();\n        setOpen(true);\n      }\n    },\n    [scheduleMeasure],\n  );\n\n  const onListKeyDown = React.useCallback(\n    (event: React.KeyboardEvent<HTMLUListElement>) => {\n      if (event.key === \"Escape\") {\n        event.preventDefault();\n        setOpen(false);\n        return;\n      }\n\n      if (event.key === \"Tab\") {\n        setOpen(false);\n        return;\n      }\n\n      if (event.key === \"Home\") {\n        event.preventDefault();\n        const first = getFirstFocusableIndex();\n        if (first !== -1) {\n          setActiveIndex(first);\n          focusItem(first);\n        }\n        return;\n      }\n\n      if (event.key === \"End\") {\n        event.preventDefault();\n        const last = getLastFocusableIndex();\n        if (last !== -1) {\n          setActiveIndex(last);\n          focusItem(last);\n        }\n        return;\n      }\n\n      if (event.key === \"ArrowDown\") {\n        event.preventDefault();\n        const next = getNextFocusableIndex(activeIndex, 1);\n        if (next !== -1) {\n          setActiveIndex(next);\n          focusItem(next);\n        }\n        return;\n      }\n\n      if (event.key === \"ArrowUp\") {\n        event.preventDefault();\n        const prev = getNextFocusableIndex(activeIndex, -1);\n        if (prev !== -1) {\n          setActiveIndex(prev);\n          focusItem(prev);\n        }\n        return;\n      }\n\n      if (event.key === \"Enter\" || event.key === \" \") {\n        event.preventDefault();\n        selectByIndex(activeIndex);\n      }\n    },\n    [\n      activeIndex,\n      focusItem,\n      getFirstFocusableIndex,\n      getLastFocusableIndex,\n      getNextFocusableIndex,\n      selectByIndex,\n    ],\n  );\n\n  const menuPosition = React.useMemo(() => {\n    if (!rect) return null;\n    if (typeof window === \"undefined\") return null;\n\n    const viewportWidth = window.innerWidth;\n    const viewportHeight = window.innerHeight;\n    const widthForClamp = menuWidth ?? rect.width;\n    const measuredWidth = widthForClamp || rect.width;\n\n    let left = align === \"right\" ? rect.right - measuredWidth : rect.left;\n    const maxLeft = Math.max(GAP_PX, viewportWidth - measuredWidth - GAP_PX);\n    left = Math.min(Math.max(GAP_PX, left), maxLeft);\n\n    const spaceBelow = Math.max(viewportHeight - rect.bottom - GAP_PX, 0);\n    const spaceAbove = Math.max(rect.top - GAP_PX, 0);\n    const openDown = spaceBelow >= spaceAbove;\n    const fallbackSpace = Math.max(viewportHeight - GAP_PX * 2, 0);\n    const availableSpace = openDown ? spaceBelow : spaceAbove;\n    const baseMaxHeight = Math.round(viewportHeight * 0.6);\n    const resolvedMaxHeight = Math.max(\n      0,\n      Math.min(\n        baseMaxHeight,\n        availableSpace > 0 ? availableSpace : fallbackSpace,\n      ),\n    );\n\n    const style: React.CSSProperties = {\n      position: \"fixed\",\n      left: Math.round(left),\n      minWidth: matchTriggerWidth ? Math.round(rect.width) : undefined,\n      zIndex: 10_000,\n      transformOrigin: openDown ? \"top\" : \"bottom\",\n    };\n\n    if (resolvedMaxHeight > 0) {\n      style.maxHeight = Math.round(resolvedMaxHeight);\n    }\n\n    if (openDown) {\n      style.top = Math.round(rect.bottom + GAP_PX);\n    } else {\n      style.bottom = Math.round(viewportHeight - rect.top + GAP_PX);\n    }\n\n    return {\n      style,\n      placement: openDown ? (\"bottom\" as const) : (\"top\" as const),\n    };\n  }, [align, matchTriggerWidth, menuWidth, rect]);\n\n  const placement = menuPosition?.placement ?? \"bottom\";\n  const fixedStyles = menuPosition?.style;\n  const yOffset = placement === \"bottom\" ? -4 : 4;\n\n  const triggerAria =\n    ariaLabel ??\n    (typeof label === \"string\"\n      ? label\n      : typeof prefixLabel === \"string\"\n        ? prefixLabel\n        : \"Select option\");\n\n  const current = React.useMemo(\n    () => items.find((item) => item.value === value),\n    [items, value],\n  );\n  const lit = !!current;\n\n  return {\n    activeIndex,\n    current,\n    fixedStyles,\n    labelId,\n    listRef,\n    listboxId,\n    lit,\n    onListKeyDown,\n    onTriggerKeyDown,\n    open,\n    placement,\n    reduceMotion,\n    scheduleMeasure,\n    selectByIndex,\n    setActiveIndex,\n    setOpen,\n    setTriggerRef,\n    triggerAria,\n    yOffset,\n    motionDurationSm,\n  } as const;\n}\n\nexport type UseAnimatedSelectReturn = ReturnType<typeof useAnimatedSelect>;\n","import * as React from \"react\";\nimport { ChevronDown, ChevronRight } from \"lucide-react\";\n\nimport { cn } from \"@/lib/utils\";\n\nimport type { UseAnimatedSelectReturn } from \"./useAnimatedSelect\";\n\ntype SelectStyles = Record<string, string>;\n\ntype SizeStyles = {\n  height: string;\n  paddingX: string;\n  caret: string;\n  prefix: string;\n};\n\ntype AnimatedSelectTriggerProps = {\n  triggerRef: (node: HTMLButtonElement | null) => void;\n  onToggle: () => void;\n  onKeyDown: UseAnimatedSelectReturn[\"onTriggerKeyDown\"];\n  open: boolean;\n  lit: boolean;\n  disabled?: boolean;\n  label?: React.ReactNode;\n  labelId: string;\n  triggerAria?: string;\n  listboxId: string;\n  styles: SelectStyles;\n  sizeStyles: SizeStyles;\n  buttonClassName?: string;\n  containerClassName?: string;\n  current: UseAnimatedSelectReturn[\"current\"];\n  placeholder: string;\n  prefixLabel?: React.ReactNode;\n};\n\nexport function AnimatedSelectTrigger({\n  triggerRef,\n  onToggle,\n  onKeyDown,\n  open,\n  lit,\n  disabled,\n  label,\n  labelId,\n  triggerAria,\n  listboxId,\n  styles,\n  sizeStyles,\n  buttonClassName,\n  containerClassName,\n  current,\n  placeholder,\n  prefixLabel,\n}: AnimatedSelectTriggerProps) {\n  const triggerCls = cn(\n    styles.glitchTrigger,\n    \"relative flex items-center rounded-[var(--control-radius)] overflow-hidden\",\n    sizeStyles.height,\n    sizeStyles.paddingX,\n    \"bg-surface-muted hover:bg-surface-hover\",\n    \"transition-colors transition-shadow duration-motion-sm ease-out motion-reduce:transition-none\",\n    \"focus:outline-none focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-accent focus-visible:ring-offset-2 focus-visible:ring-offset-surface\",\n    buttonClassName,\n  );\n\n  const containerCls = cn(\n    \"group inline-flex rounded-[var(--control-radius)] border border-border-subtle shadow-elev-1 transition-shadow duration-motion-sm ease-out motion-reduce:transition-none\",\n    \"hover:shadow-elev-2 focus-within:ring-2 focus-within:ring-accent focus-within:ring-offset-2 focus-within:ring-offset-surface focus-within:shadow-elev-2\",\n    containerClassName,\n  );\n\n  const caretCls = cn(\n    styles.caret,\n    \"ml-auto shrink-0 opacity-75\",\n    sizeStyles.caret,\n    open && styles.caretOpen,\n  );\n\n  const textCls = cn(\n    \"font-medium transition-colors duration-motion-sm ease-out motion-reduce:transition-none\",\n    styles.glitchText,\n    current\n      ? [lit ? \"text-foreground\" : \"text-muted-foreground\", \"group-hover:text-foreground\"]\n      : [\"text-muted-foreground\", \"group-hover:text-muted-foreground\"],\n  );\n\n  return (\n    <div className={containerCls}>\n      <button\n        ref={triggerRef}\n        type=\"button\"\n        disabled={disabled}\n        onClick={onToggle}\n        onKeyDown={onKeyDown}\n        aria-haspopup=\"listbox\"\n        aria-expanded={open}\n        aria-controls={listboxId}\n        aria-labelledby={label ? labelId : undefined}\n        aria-label={label ? undefined : triggerAria}\n        className={triggerCls}\n        data-lit={lit ? \"true\" : \"false\"}\n        data-open={open ? \"true\" : \"false\"}\n      >\n        {prefixLabel ? (\n          <ChevronRight\n            aria-hidden=\"true\"\n            className={cn(\n              \"shrink-0 text-muted-foreground opacity-80 transition-colors duration-motion-sm ease-out motion-reduce:transition-none\",\n              sizeStyles.prefix,\n            )}\n          />\n        ) : null}\n\n        <span className={textCls}>{current ? current.label : placeholder}</span>\n\n        <ChevronDown className={caretCls} aria-hidden=\"true\" />\n\n        <span aria-hidden className={styles.gbIris} />\n        <span aria-hidden className={styles.gbChroma} />\n        <span aria-hidden className={styles.gbFlicker} />\n        <span aria-hidden className={styles.gbScan} />\n      </button>\n    </div>\n  );\n}\n","\"use client\";\n\nimport * as React from \"react\";\nimport Select from \"../Select\";\nimport type { AnimatedSelectProps } from \"../select/shared\";\nimport { cn } from \"@/lib/utils\";\n\nconst SETTINGS_SELECT_BUTTON_CLASS = \"chip-trigger\";\nconst SETTINGS_SELECT_CONTAINER_CLASS = \"chip-trigger-container\";\n\nexport type SettingsSelectProps = Omit<\n  AnimatedSelectProps,\n  \"variant\" | \"size\" | \"matchTriggerWidth\" | \"buttonClassName\"\n> & {\n  buttonClassName?: string;\n};\n\nexport default function SettingsSelect({\n  buttonClassName,\n  containerClassName,\n  ...props\n}: SettingsSelectProps) {\n  return (\n    <Select\n      variant=\"animated\"\n      size=\"sm\"\n      matchTriggerWidth={false}\n      buttonClassName={cn(SETTINGS_SELECT_BUTTON_CLASS, buttonClassName)}\n      containerClassName={cn(SETTINGS_SELECT_CONTAINER_CLASS, containerClassName)}\n      {...props}\n    />\n  );\n}\n","// src/components/ui/TitleBar.tsx\n\"use client\";\n\nimport * as React from \"react\";\n\nimport { cn } from \"@/lib/utils\";\n\nimport styles from \"./TitleBar.module.css\";\n\ntype Props = {\n  label: string;\n  idText?: string; // optional right-side pill (defaults to NOXI vibe)\n};\n\nexport default function TitleBar({ label, idText = \"ID:0x13LG\" }: Props) {\n  return (\n    <div\n      className={cn(\n        \"flex items-center gap-[var(--space-2)] px-[var(--space-2)] py-[var(--space-2)] rounded-full border border-border\",\n        styles.termMini,\n      )}\n    >\n      <span className={cn(styles.termMiniText, \"text-muted-foreground\")}>\n        {label}\n      </span>\n      <span className=\"pill pill--pulse ml-auto\">{idText}</span>\n    </div>\n  );\n}\n","import type { ReactNode } from \"react\";\nimport type { Background, Variant } from \"@/lib/theme\";\n\nexport type GalleryEntryKind = \"primitive\" | \"component\" | \"complex\" | \"token\";\nexport type GalleryAxisKind = \"variant\" | \"state\";\n\nexport interface GalleryPropMeta {\n  name: string;\n  type: string;\n  required?: boolean;\n  defaultValue?: string;\n  description?: string;\n}\n\nexport interface GalleryAxisValue {\n  value: string;\n  description?: string;\n}\n\nexport interface GalleryAxis {\n  id: string;\n  label: string;\n  type: GalleryAxisKind;\n  values: readonly GalleryAxisValue[];\n  description?: string;\n}\n\nexport interface GalleryUsageNote {\n  title: string;\n  description: string;\n  kind: \"do\" | \"dont\";\n}\n\nexport interface GalleryStateDefinition {\n  id: string;\n  name: string;\n  description?: string;\n  code?: string;\n  preview: GalleryPreview;\n}\n\nexport interface GalleryRelatedSurface {\n  id: string;\n  description?: string;\n}\n\nexport interface GalleryEntryRelated {\n  surfaces?: readonly GalleryRelatedSurface[];\n}\n\nexport type GalleryPreviewRenderer = () => ReactNode;\n\nexport interface GalleryPreview {\n  id: string;\n  render: GalleryPreviewRenderer;\n}\n\nexport interface GalleryEntry {\n  id: string;\n  name: string;\n  kind: GalleryEntryKind;\n  description?: string;\n  tags?: readonly string[];\n  props?: readonly GalleryPropMeta[];\n  axes?: readonly GalleryAxis[];\n  usage?: readonly GalleryUsageNote[];\n  related?: GalleryEntryRelated;\n  preview: GalleryPreview;\n  code?: string;\n  states?: readonly GalleryStateDefinition[];\n}\n\nexport const GALLERY_SECTION_IDS = [\n  \"buttons\",\n  \"inputs\",\n  \"toggles\",\n  \"feedback\",\n  \"prompts\",\n  \"cards\",\n  \"layout\",\n  \"page-header\",\n  \"misc\",\n  \"homepage\",\n  \"reviews\",\n  \"planner\",\n  \"goals\",\n  \"team\",\n  \"components\",\n] as const;\n\nexport type GallerySectionId = (typeof GALLERY_SECTION_IDS)[number];\n\nexport interface GallerySection {\n  id: GallerySectionId;\n  entries: readonly GalleryEntry[];\n}\n\nexport const defineGallerySection = (section: GallerySection): GallerySection => {\n  return section;\n};\n\nexport const createGalleryPreview = (preview: GalleryPreview): GalleryPreview => {\n  if (!preview.id) {\n    throw new Error(\"Gallery preview requires a stable id\");\n  }\n  return preview;\n};\n\nexport interface GallerySerializablePreview {\n  id: string;\n}\n\nexport type GallerySerializableStateDefinition = Omit<\n  GalleryStateDefinition,\n  \"preview\"\n> & {\n  preview: GallerySerializablePreview;\n};\n\nexport type GallerySerializableEntry = Omit<\n  GalleryEntry,\n  \"preview\" | \"states\"\n> & {\n  preview: GallerySerializablePreview;\n  states?: readonly GallerySerializableStateDefinition[];\n};\n\nexport interface GallerySerializableSection {\n  id: GallerySectionId;\n  entries: readonly GallerySerializableEntry[];\n}\n\nexport interface GalleryRegistryPayload {\n  sections: readonly GallerySerializableSection[];\n  byKind: Record<GalleryEntryKind, GallerySerializableEntry[]>;\n}\n\nexport interface GalleryRegistry {\n  payload: GalleryRegistryPayload;\n  previews: Map<string, GalleryPreviewRenderer>;\n}\n\nexport interface GalleryPreviewAxisOption {\n  readonly value: string;\n  readonly label: string;\n}\n\nexport interface GalleryPreviewAxisParam {\n  readonly key: string;\n  readonly label: string;\n  readonly type: GalleryAxisKind;\n  readonly options: readonly GalleryPreviewAxisOption[];\n}\n\nexport interface GalleryPreviewRoute {\n  readonly slug: string;\n  readonly previewId: string;\n  readonly entryId: string;\n  readonly entryName: string;\n  readonly sectionId: GallerySectionId;\n  readonly stateId: string | null;\n  readonly stateName: string | null;\n  readonly themeVariant: Variant;\n  readonly themeBackground: Background;\n}\n\nexport const getGalleryEntryAxes = (\n  payload: GalleryRegistryPayload,\n  entryId: string,\n): readonly GalleryAxis[] => {\n  for (const section of payload.sections) {\n    const entry = section.entries.find((candidate) => candidate.id === entryId);\n    if (entry) {\n      return entry.axes ?? [];\n    }\n  }\n  return [];\n};\n\nexport const createGalleryRegistry = (\n  sections: readonly GallerySection[],\n): GalleryRegistry => {\n  const previews = new Map<string, GalleryPreviewRenderer>();\n  const sectionOrder: GallerySectionId[] = [];\n  const sectionsById = new Map<GallerySectionId, GalleryEntry[]>();\n\n  for (const section of sections) {\n    if (!sectionsById.has(section.id)) {\n      sectionOrder.push(section.id);\n      sectionsById.set(section.id, []);\n    }\n\n    sectionsById.get(section.id)!.push(...section.entries);\n  }\n\n  const serializableSections: GallerySerializableSection[] = sectionOrder.map((sectionId) => ({\n    id: sectionId,\n    entries: (sectionsById.get(sectionId) ?? []).map((entry) => {\n      const { preview, states, ...rest } = entry;\n      previews.set(preview.id, preview.render);\n      const serializableStates = states?.map((state) => {\n        previews.set(state.preview.id, state.preview.render);\n        const { preview: statePreview, ...stateRest } = state;\n        return {\n          ...stateRest,\n          preview: { id: statePreview.id },\n        } satisfies GallerySerializableStateDefinition;\n      });\n      return {\n        ...rest,\n        preview: { id: preview.id },\n        states: serializableStates,\n      } satisfies GallerySerializableEntry;\n    }),\n  }));\n\n  const byKind: Record<GalleryEntryKind, GallerySerializableEntry[]> = {\n    primitive: [],\n    component: [],\n    complex: [],\n    token: [],\n  };\n\n  for (const section of serializableSections) {\n    for (const entry of section.entries) {\n      byKind[entry.kind].push(entry);\n    }\n  }\n\n  return {\n    payload: {\n      sections: serializableSections,\n      byKind,\n    },\n    previews,\n  };\n};\n\nexport const formatGallerySectionLabel = (section: GallerySectionId): string =>\n  section\n    .split(\"-\")\n    .map((part) => part.charAt(0).toUpperCase() + part.slice(1))\n    .join(\" \");\n","\"use client\";\n\nimport * as React from \"react\";\nimport { AnimatePresence, motion } from \"framer-motion\";\nimport { Check } from \"lucide-react\";\n\nimport { cn } from \"@/lib/utils\";\n\nimport Spinner from \"../feedback/Spinner\";\nimport { useFloatingStyleClass } from \"../hooks/useFloatingStyleClass\";\nimport type { AnimatedSelectProps } from \"./shared\";\nimport type { UseAnimatedSelectReturn } from \"./useAnimatedSelect\";\n\ntype SelectStyles = Record<string, string>;\n\ntype AnimatedSelectListProps = {\n  open: boolean;\n  items: AnimatedSelectProps[\"items\"];\n  value?: string;\n  setActiveIndex: UseAnimatedSelectReturn[\"setActiveIndex\"];\n  selectByIndex: UseAnimatedSelectReturn[\"selectByIndex\"];\n  onKeyDown: UseAnimatedSelectReturn[\"onListKeyDown\"];\n  listRef: UseAnimatedSelectReturn[\"listRef\"];\n  styles: SelectStyles;\n  dropdownClassName?: string;\n  triggerAria?: string;\n  label?: React.ReactNode;\n  labelId: string;\n  listboxId: string;\n  fixedStyles?: React.CSSProperties;\n  placement: UseAnimatedSelectReturn[\"placement\"];\n  reduceMotion: UseAnimatedSelectReturn[\"reduceMotion\"];\n  motionDurationSm: UseAnimatedSelectReturn[\"motionDurationSm\"];\n  yOffset: UseAnimatedSelectReturn[\"yOffset\"];\n};\n\nexport function AnimatedSelectList({\n  open,\n  items,\n  value,\n  setActiveIndex,\n  selectByIndex,\n  onKeyDown,\n  listRef,\n  styles,\n  dropdownClassName,\n  triggerAria,\n  label,\n  labelId,\n  listboxId,\n  fixedStyles,\n  placement,\n  reduceMotion,\n  motionDurationSm,\n  yOffset,\n}: AnimatedSelectListProps) {\n  const { floatingStyle } = useFloatingStyleClass(fixedStyles);\n\n  return (\n    <>\n      <AnimatePresence>\n        {open && (\n          <motion.ul\n            ref={listRef}\n            key=\"menu\"\n            role=\"listbox\"\n            id={listboxId}\n            tabIndex={-1}\n            aria-labelledby={label ? labelId : undefined}\n            aria-label={label ? undefined : triggerAria}\n            initial={\n              reduceMotion ? { opacity: 0 } : { opacity: 0, y: yOffset, scale: 0.98 }\n            }\n            animate={reduceMotion ? { opacity: 1 } : { opacity: 1, y: 0, scale: 1 }}\n            exit={\n              reduceMotion ? { opacity: 0 } : { opacity: 0, y: yOffset, scale: 0.98 }\n            }\n            transition={\n              reduceMotion\n                ? { duration: 0 }\n                : { duration: motionDurationSm, ease: \"easeOut\" }\n            }\n            style={floatingStyle}\n            onKeyDown={onKeyDown}\n            className={cn(\n              \"relative pointer-events-auto rounded-[var(--radius-2xl)] overflow-hidden\",\n              \"bg-card/92 backdrop-blur-xl\",\n              \"shadow-dropdown ring-1 ring-ring/18\",\n              \"p-[var(--space-2)]\",\n              \"max-h-[var(--select-menu-max-height)] min-w-[calc(var(--space-8)*3.5)] overflow-y-auto scrollbar-thin\",\n              \"scrollbar-thumb-foreground/12 scrollbar-track-transparent\",\n              dropdownClassName,\n            )}\n            data-open=\"true\"\n            data-side={placement}\n          >\n            <li\n              aria-hidden\n              role=\"presentation\"\n              className={cn(styles.glitchOverlays, styles.glitchOverlayItem)}\n            >\n              <span className={styles.gbIris} />\n              <span className={styles.gbChroma} />\n              <span className={styles.gbFlicker} />\n              <span className={styles.gbScan} />\n            </li>\n            {items.map((item, index) => {\n              const active = item.value === value;\n              const disabledItem = !!item.disabled || item.loading;\n\n              return (\n                <li key={String(item.value)} role=\"presentation\">\n                  <button\n                    type=\"button\"\n                    role=\"option\"\n                    aria-selected={active}\n                    data-index={index}\n                    disabled={disabledItem}\n                    aria-disabled={disabledItem || undefined}\n                    aria-busy={item.loading || undefined}\n                    onClick={() => selectByIndex(index)}\n                    onFocus={() => setActiveIndex(index)}\n                    className={cn(\n                      \"group relative w-full rounded-[var(--radius-xl)] px-[var(--space-4)] py-[var(--space-3)] text-left transition-colors duration-motion-sm ease-out motion-reduce:transition-none hover:bg-[--hover] active:bg-[--active] [--hover:hsl(var(--foreground)/0.05)] [--active:hsl(var(--foreground)/0.1)]\",\n                      disabledItem ? \"cursor-not-allowed\" : \"cursor-pointer\",\n                      \"disabled:opacity-disabled disabled:pointer-events-none\",\n                      active\n                        ? \"bg-primary/14 text-primary-foreground [--hover:hsl(var(--primary)/0.25)] [--active:hsl(var(--primary)/0.35)]\"\n                        : undefined,\n                      \"focus:outline-none focus-visible:ring-2 focus-visible:ring-[var(--ring-contrast)] focus-visible:shadow-[var(--shadow-glow-md)] focus-visible:[outline:var(--spacing-0-5)_solid_var(--ring-contrast)] focus-visible:[outline-offset:var(--spacing-0-5)] data-[loading=true]:opacity-loading data-[loading=true]:pointer-events-none\",\n                      item.className,\n                    )}\n                    data-loading={item.loading}\n                  >\n                    <div className=\"flex items-center justify-between gap-[var(--space-3)]\">\n                      <span className={cn(\"text-ui leading-none\", styles.glitchText)}>\n                        {item.label}\n                      </span>\n                      {item.loading ? (\n                        <span\n                          aria-hidden=\"true\"\n                          className=\"flex size-[var(--space-4)] shrink-0 items-center justify-center\"\n                        >\n                          <Spinner\n                            size=\"sm\"\n                            className=\"border-border border-t-transparent opacity-80\"\n                          />\n                        </span>\n                      ) : (\n                        <Check\n                          className={cn(\n                            \"size-[var(--space-4)] shrink-0 transition-opacity duration-motion-sm ease-out motion-reduce:transition-none\",\n                            active ? \"opacity-90\" : \"opacity-0 group-hover:opacity-30\",\n                          )}\n                          aria-hidden=\"true\"\n                        />\n                      )}\n                    </div>\n\n                    <span\n                      aria-hidden\n                      className={cn(\n                        \"pointer-events-none absolute left-0 top-1/2 h-3/4 w-[calc(var(--space-1)/2)] -translate-y-1/2 rounded-[var(--radius-md)]\",\n                        active ? \"bg-ring\" : \"bg-transparent\",\n                      )}\n                    />\n                  </button>\n                </li>\n              );\n            })}\n          </motion.ul>\n        )}\n      </AnimatePresence>\n    </>\n  );\n}\n","\"use client\";\n\nimport * as React from \"react\";\n\nexport type RovingTabItem<Key extends string> = {\n  key: Key;\n  disabled?: boolean;\n};\n\nexport interface UseRovingTabStateOptions<\n  Key extends string,\n  Item extends RovingTabItem<Key>,\n> {\n  items: Item[];\n  value?: Key;\n  defaultValue?: Key;\n  onValueChange?: (key: Key) => void;\n}\n\nexport interface UseRovingTabStateResult<Key extends string> {\n  activeKey: Key;\n  isControlled: boolean;\n  setActiveValue: (key: Key) => void;\n  focusTab: (key: Key) => void;\n  registerTab: (key: Key, node: HTMLElement | null) => void;\n  onKeyDown: (event: React.KeyboardEvent<HTMLElement>) => void;\n}\n\n/**\n * Shared roving tabindex logic for horizontal tab lists.\n */\nexport function useRovingTabState<\n  Key extends string,\n  Item extends RovingTabItem<Key>,\n>({ items, value, defaultValue, onValueChange }: UseRovingTabStateOptions<Key, Item>): UseRovingTabStateResult<Key> {\n  const isControlled = value !== undefined;\n  const [internal, setInternal] = React.useState<Key>(() => {\n    if (value !== undefined) return value;\n    if (defaultValue !== undefined) return defaultValue;\n    const fallback = items.find((item) => !item.disabled)?.key ?? items[0]?.key;\n    return (fallback ?? \"\") as Key;\n  });\n\n  const activeKey = (isControlled ? value : internal) as Key;\n\n  const setActiveValue = React.useCallback(\n    (next: Key) => {\n      if (!isControlled) {\n        setInternal(next);\n      }\n      onValueChange?.(next);\n    },\n    [isControlled, onValueChange],\n  );\n\n  const tabRefs = React.useRef<Partial<Record<Key, HTMLElement | null>>>({});\n\n  const registerTab = React.useCallback(\n    (key: Key, node: HTMLElement | null) => {\n      tabRefs.current[key] = node;\n    },\n    [],\n  );\n\n  const focusTab = React.useCallback((key: Key) => {\n    const target = tabRefs.current[key];\n    target?.focus();\n  }, []);\n\n  const setAndFocus = React.useCallback(\n    (next: Key) => {\n      setActiveValue(next);\n      focusTab(next);\n    },\n    [focusTab, setActiveValue],\n  );\n\n  const onKeyDown = React.useCallback(\n    (event: React.KeyboardEvent<HTMLElement>) => {\n      const key = event.key;\n      if (key !== \"ArrowLeft\" && key !== \"ArrowRight\" && key !== \"Home\" && key !== \"End\") {\n        return;\n      }\n\n      event.preventDefault();\n\n      const enabled = items.filter((item) => !item.disabled);\n      if (enabled.length === 0) return;\n\n      const currentIndex = enabled.findIndex((item) => item.key === activeKey);\n\n      if (key === \"Home\") {\n        setAndFocus(enabled[0].key);\n        return;\n      }\n\n      if (key === \"End\") {\n        setAndFocus(enabled[enabled.length - 1].key);\n        return;\n      }\n\n      if (key === \"ArrowLeft\") {\n        const nextIndex = currentIndex <= 0 ? enabled.length - 1 : currentIndex - 1;\n        setAndFocus(enabled[nextIndex].key);\n        return;\n      }\n\n      if (key === \"ArrowRight\") {\n        const nextIndex = currentIndex >= enabled.length - 1 ? 0 : currentIndex + 1;\n        setAndFocus(enabled[nextIndex].key);\n      }\n    },\n    [activeKey, items, setAndFocus],\n  );\n\n  return {\n    activeKey,\n    isControlled,\n    setActiveValue,\n    focusTab,\n    registerTab,\n    onKeyDown,\n  };\n}\n","// src/components/ui/SideSelector.tsx\n\"use client\";\n\nimport * as React from \"react\";\nimport { cn } from \"@/lib/utils\";\nimport styles from \"./SideSelector.module.css\";\n\nexport type GameSide = \"Blue\" | \"Red\";\n\ntype Props = {\n  value?: GameSide;\n  onChange?: (v: GameSide) => void;\n  className?: string;\n  leftLabel?: string; // defaults \"Blue\"\n  rightLabel?: string; // defaults \"Red\"\n  disabled?: boolean;\n  loading?: boolean;\n};\n\n/**\n * SideSelector  Blue/Red with glitch flicker\n * - Responsive intrinsic size (no fixed width)\n * - Keyboard: Space/Enter toggles;   selects\n */\nexport default function SideSelector({\n  value = \"Blue\",\n  onChange,\n  className,\n  leftLabel = \"Blue\",\n  rightLabel = \"Red\",\n  disabled = false,\n  loading = false,\n}: Props) {\n  const isRight = value === \"Red\";\n  const [flick, setFlick] = React.useState(false);\n  const flickTimeoutRef = React.useRef<number | null>(null);\n\n  function triggerFlick() {\n    if (flickTimeoutRef.current) {\n      window.clearTimeout(flickTimeoutRef.current);\n    }\n    setFlick(true);\n    flickTimeoutRef.current = window.setTimeout(() => setFlick(false), 220);\n  }\n\n  React.useEffect(() => {\n    return () => {\n      if (flickTimeoutRef.current) {\n        window.clearTimeout(flickTimeoutRef.current);\n      }\n    };\n  }, []);\n\n  function toggle() {\n    if (disabled || loading) return;\n    onChange?.(isRight ? \"Blue\" : \"Red\");\n    triggerFlick();\n  }\n\n  function onKey(e: React.KeyboardEvent<HTMLButtonElement>) {\n    if (disabled || loading) return;\n    if (e.key === \" \" || e.key === \"Enter\") {\n      e.preventDefault();\n      toggle();\n    }\n    if (e.key === \"ArrowLeft\") onChange?.(\"Blue\");\n    if (e.key === \"ArrowRight\") onChange?.(\"Red\");\n  }\n\n  return (\n    <button\n      type=\"button\"\n      role=\"switch\"\n      aria-checked={isRight}\n      aria-label=\"Select side\"\n      disabled={disabled}\n      data-loading={loading || undefined}\n      onClick={toggle}\n      onKeyDown={onKey}\n      className={cn(\n        \"relative inline-flex select-none items-center overflow-hidden rounded-full\",\n        \"border border-border bg-card\",\n        \"hover:bg-[--hover] active:bg-[--active]\",\n        \"focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring\",\n        \"disabled:opacity-disabled disabled:pointer-events-none\",\n        \"data-[loading=true]:opacity-loading data-[loading=true]:pointer-events-none\",\n        \"[--hover:hsl(var(--accent)/0.08)] [--active:hsl(var(--accent)/0.15)]\",\n        \"min-w-[calc(var(--space-8)*3+var(--space-6))]\",\n        \"sm:min-w-[calc(var(--space-8)*4)]\",\n        \"w-full max-w-[calc(var(--space-8)*5)] h-[var(--control-h)]\", // responsive default aligned to tokens\n        styles.root,\n        className,\n      )}\n      data-side={value}\n    >\n      {/* Glitch flicker overlays */}\n      <span\n        aria-hidden\n        className={cn(\n          \"pointer-events-none absolute inset-0 mix-blend-screen\",\n          styles.flicker,\n        )}\n        data-flick={flick || undefined}\n      />\n\n      {/* Sliding indicator */}\n      <span\n        aria-hidden\n        className={cn(\n          \"absolute top-[var(--space-1)] bottom-[var(--space-1)] left-[var(--space-1)] rounded-full\",\n          styles.indicator,\n        )}\n      />\n\n      {/* Labels */}\n      <div className=\"relative z-10 grid w-full grid-cols-2 text-ui font-mono\">\n        <div\n          className={cn(\n            \"py-[var(--space-2)] text-center transition-colors\",\n            styles.label,\n            styles.leftLabel,\n            !isRight ? \"text-foreground/70\" : \"text-muted-foreground\",\n          )}\n          data-active={!isRight ? \"true\" : undefined}\n        >\n          {leftLabel}\n        </div>\n        <div\n          className={cn(\n            \"py-[var(--space-2)] text-center transition-colors\",\n            styles.label,\n            styles.rightLabel,\n            isRight ? \"text-foreground/70\" : \"text-muted-foreground\",\n          )}\n          data-active={isRight ? \"true\" : undefined}\n        >\n          {rightLabel}\n        </div>\n      </div>\n    </button>\n  );\n}\n","// src/components/ui/layout/PageShell.tsx\n\"use client\";\n\nimport * as React from \"react\";\nimport { cn } from \"@/lib/utils\";\n\ntype PageShellElement = \"div\" | \"main\" | \"section\" | \"article\" | \"aside\" | \"header\" | \"footer\" | \"nav\";\n\ntype PageShellOwnProps<T extends PageShellElement = \"div\"> = {\n  /** Semantic element for the shell container. Defaults to a <div>. */\n  as?: T;\n  className?: string;\n  /**\n   * Enables the standardized 12-column grid within the page shell.\n   * When set, children should define their own col-span wrappers.\n   */\n  grid?: boolean;\n  /** Additional classes for the inner grid container when `grid` is enabled. */\n  contentClassName?: string;\n};\n\nexport type PageShellProps<T extends PageShellElement = \"div\"> =\n  PageShellOwnProps<T> &\n    Omit<React.ComponentPropsWithoutRef<T>, keyof PageShellOwnProps<T>>;\n\n/**\n * PageShell  width-constrained wrapper that applies the global `page-shell` class.\n * Use the `grid` prop to opt into the standard 12-column layout inside the shell.\n */\nexport const layoutGridClassName =\n  \"[--grid-gutter:var(--space-4)] grid grid-cols-1 gap-[var(--grid-gutter)] md:[--grid-gutter:var(--space-5)]\";\n\nexport default function PageShell<T extends PageShellElement = \"div\">({\n  as,\n  className,\n  grid = false,\n  contentClassName,\n  children,\n  ...rest\n}: PageShellProps<T>) {\n  const Component = (as ?? \"div\") as PageShellElement;\n\n  return (\n    <Component\n      className={cn(\"page-shell\", className)}\n      {...rest}\n    >\n      {grid ? (\n        <div\n          className={cn(\n            layoutGridClassName,\n            \"md:grid-cols-12\",\n            contentClassName,\n          )}\n        >\n          {children}\n        </div>\n      ) : (\n        children\n      )}\n    </Component>\n  );\n}\n","\"use client\";\n\nimport * as React from \"react\";\nimport type { SelectItem } from \"@/components/ui\";\nimport { BG_CLASSES, Background } from \"@/lib/theme\";\nimport { cn } from \"@/lib/utils\";\nimport SettingsSelect from \"./SettingsSelect\";\n\nconst BG_NAMES = [\"Default\", \"Alt 1\", \"Alt 2\", \"VHS\", \"Streak\"];\n\nfunction Swatch({ className }: { className: string }) {\n  return (\n    <div\n      className={cn(\n        \"flex items-center gap-[var(--space-1)] rounded-full p-[var(--space-1)]\",\n        className,\n      )}\n    >\n      <span className=\"h-[var(--space-3)] w-[var(--space-3)] rounded-full bg-background\" />\n      <span className=\"h-[var(--space-3)] w-[var(--space-3)] rounded-full bg-card\" />\n      <span className=\"h-[var(--space-3)] w-[var(--space-3)] rounded-full bg-gradient-to-br from-accent to-accent-2\" />\n    </div>\n  );\n}\n\nexport type BackgroundPickerProps = {\n  bg: Background;\n  onBgChange: (bg: Background) => void;\n  className?: string;\n  buttonClassName?: string;\n  disabled?: boolean;\n  loadingBackground?: Background | null;\n};\n\nexport default function BackgroundPicker({\n  bg,\n  onBgChange,\n  className = \"\",\n  buttonClassName,\n  disabled = false,\n  loadingBackground = null,\n}: BackgroundPickerProps) {\n  const items: SelectItem[] = React.useMemo(\n    () =>\n      BG_CLASSES.map((cls, idx) => {\n        const background = idx as Background;\n        return {\n          value: String(idx),\n          label: (\n            <div className=\"flex items-center gap-[var(--space-2)]\">\n              <Swatch className={cls} />\n              <span>{BG_NAMES[idx]}</span>\n            </div>\n          ),\n          loading: loadingBackground === background,\n        } satisfies SelectItem;\n      }),\n    [loadingBackground],\n  );\n  return (\n    <SettingsSelect\n      ariaLabel=\"Background\"\n      prefixLabel=\"Background\"\n      items={items}\n      value={String(bg)}\n      onChange={(v) => onBgChange(Number(v) as Background)}\n      className={className}\n      buttonClassName={buttonClassName}\n      disabled={disabled}\n    />\n  );\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"defaultTablist\":\"TabBar_defaultTablist__WB4oJ\",\"defaultTab\":\"TabBar_defaultTab__eo6Ar\",\"neoTablist\":\"TabBar_neoTablist__raOs3\"};","\"use client\";\n\nimport * as React from \"react\";\n\nexport default function useMounted(): boolean {\n  const [mounted, setMounted] = React.useState(false);\n\n  React.useEffect(() => {\n    setMounted(true);\n  }, []);\n\n  return mounted;\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"Button_root__Fuu5G\",\"organicControl\":\"Button_organicControl__NSKlH\"};","\"use client\";\n\nimport * as React from \"react\";\nimport { Zap, ZapOff } from \"lucide-react\";\nimport Spinner from \"./feedback/Spinner\";\nimport { usePersistentState, readLocal, writeLocal } from \"@/lib/db\";\nimport { cn } from \"@/lib/utils\";\nimport { usePrefersReducedMotion } from \"@/lib/useReducedMotion\";\n\nconst KEY = \"ui:animations\";\n\nexport default function AnimationToggle({\n  loading = false,\n}: {\n  loading?: boolean;\n}) {\n  const [enabled, setEnabled] = usePersistentState<boolean>(KEY, true);\n  const reduceMotion = usePrefersReducedMotion();\n  const appliedByToggleRef = React.useRef(false);\n  const latestEnabledRef = React.useRef(enabled);\n  latestEnabledRef.current = enabled;\n\n  React.useEffect(() => {\n    if (readLocal<boolean>(KEY) === null && reduceMotion) {\n      setEnabled(false);\n      writeLocal(KEY, false);\n    }\n  }, [reduceMotion, setEnabled]);\n\n  React.useEffect(() => {\n    const root = document.documentElement;\n\n    if (!enabled) {\n      if (!root.classList.contains(\"no-animations\")) {\n        root.classList.add(\"no-animations\");\n      }\n      appliedByToggleRef.current = true;\n    }\n\n    return () => {\n      if (appliedByToggleRef.current) {\n        root.classList.remove(\"no-animations\");\n        appliedByToggleRef.current = false;\n      }\n    };\n  }, [enabled]);\n\n  function toggle() {\n    const next = !enabled;\n    setEnabled(next);\n  }\n\n  return (\n    <div className=\"flex items-center gap-[var(--space-2)]\">\n      <button\n        type=\"button\"\n        aria-pressed={enabled}\n        aria-label={enabled ? \"Disable animations\" : \"Enable animations\"}\n        onClick={toggle}\n        aria-busy={loading}\n        disabled={loading}\n        className={cn(\n          \"inline-flex h-[var(--control-h-sm)] w-[var(--control-h-sm)] shrink-0 items-center justify-center rounded-[var(--control-radius)]\",\n          \"border border-border bg-card shadow-[var(--shadow-control)]\",\n          \"hover:shadow-[var(--shadow-control-hover)]\",\n          \"focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring\",\n          \"active:bg-surface\",\n          \"disabled:opacity-disabled disabled:pointer-events-none disabled:cursor-not-allowed\",\n        )}\n      >\n        {loading ? (\n          <Spinner size=\"sm\" />\n        ) : enabled ? (\n          <Zap className=\"h-[var(--space-4)] w-[var(--space-4)]\" />\n        ) : (\n          <ZapOff className=\"h-[var(--space-4)] w-[var(--space-4)]\" />\n        )}\n      </button>\n    </div>\n  );\n}\n","// src/components/ui/layout/TabBar.tsx\n\"use client\";\n\n/**\n * TabBar  segmented pills with soft depth\n * - Inset shadow segments; active uses accent gradient with glow.\n * - Keyboard:   Home End; role=\"tablist\".\n * - Panels should set `aria-labelledby` to the controlling tab id.\n */\n\nimport * as React from \"react\";\nimport { useId } from \"react\";\nimport { cn } from \"@/lib/utils\";\nimport { useRovingTabState } from \"@/components/tabs/useRovingTabState\";\nimport styles from \"./TabBar.module.css\";\nimport segmentedButtonStyles from \"../primitives/SegmentedButton.module.css\";\nimport { resolveUIVariant, type UIVariant } from \"@/components/ui/variants\";\n\nexport type TabItem<K extends string = string> = {\n  key: K;\n  label: React.ReactNode;\n  icon?: React.ReactNode;\n  disabled?: boolean;\n  loading?: boolean;\n  badge?: React.ReactNode;\n  className?: string;\n  /** Optional explicit id for the tab button; defaults to `${key}-tab`. */\n  id?: string;\n  /** Optional override for associated panel id; defaults to `${key}-panel`. */\n  controls?: string;\n};\n\ntype Align = \"start\" | \"center\" | \"end\" | \"between\";\ntype Size = \"sm\" | \"md\" | \"lg\";\nconst TAB_BAR_VARIANTS = [\"default\", \"neo\", \"glitch\"] as const satisfies readonly UIVariant[];\ntype TabBarVariant = (typeof TAB_BAR_VARIANTS)[number];\n\ntype WithExtras<\n  K extends string,\n  Extra extends Record<string, unknown> | undefined,\n> = Extra extends Record<string, unknown> ? TabItem<K> & Extra : TabItem<K>;\n\nexport type TabElementProps = React.HTMLAttributes<HTMLElement> & {\n  role: \"tab\";\n  tabIndex: number;\n  \"aria-selected\": boolean;\n  \"aria-controls\"?: string;\n  \"aria-disabled\"?: boolean;\n  \"aria-busy\"?: boolean;\n  \"data-active\"?: boolean;\n  \"data-loading\"?: boolean;\n  \"data-disabled\"?: boolean;\n  \"data-variant\"?: TabBarVariant;\n  \"data-selected\"?: string;\n  \"data-glitch\"?: string;\n  \"data-depth\"?: string;\n};\n\nexport type TabRenderContext<\n  K extends string = string,\n  Item extends TabItem<K> = TabItem<K>,\n> = {\n  item: Item;\n  active: boolean;\n  disabled: boolean;\n  loading: boolean;\n  select: () => void;\n  ref: React.RefCallback<HTMLElement>;\n  props: TabElementProps;\n  defaultChildren: React.ReactNode;\n  size: Size;\n  variant: TabBarVariant;\n};\n\nexport type TabBarA11yProps =\n  | {\n      ariaLabel: string;\n      ariaLabelledBy?: string;\n    }\n  | {\n      ariaLabel?: string;\n      ariaLabelledBy: string;\n    };\n\ntype TabBarBaseProps<\n  K extends string = string,\n  Extra extends Record<string, unknown> | undefined = undefined,\n> = {\n  items: Array<WithExtras<K, Extra>>;\n  value?: K;\n  defaultValue?: K;\n  onValueChange?: (key: K) => void;\n  size?: Size;\n  align?: Align;\n  className?: string;\n  right?: React.ReactNode;\n  showBaseline?: boolean;\n  linkPanels?: boolean;\n  variant?: TabBarVariant;\n  tablistClassName?: string;\n  renderItem?: (\n    context: TabRenderContext<K, WithExtras<K, Extra>>,\n  ) => React.ReactNode;\n  /**\n   * Base string applied to tab and panel ids when linking panels.\n   * Defaults to an auto-generated React id to ensure uniqueness.\n   */\n  idBase?: string;\n};\n\nexport type TabBarProps<\n  K extends string = string,\n  Extra extends Record<string, unknown> | undefined = undefined,\n> = TabBarBaseProps<K, Extra> & TabBarA11yProps;\n\nconst sizeMap: Record<Size, { h: string; px: string; text: string }> = {\n  sm: {\n    h: \"h-[var(--control-h-sm)]\",\n    px: \"px-[var(--space-3)]\",\n    text: \"text-ui\",\n  },\n  md: {\n    h: \"h-[var(--control-h-md)]\",\n    px: \"px-[var(--space-4)]\",\n    text: \"text-ui\",\n  },\n  lg: {\n    h: \"h-[var(--control-h-lg)]\",\n    px: \"px-[var(--space-8)]\",\n    text: \"text-body\",\n  },\n};\n\nexport default function TabBar<\n  K extends string = string,\n  Extra extends Record<string, unknown> | undefined = undefined,\n>({\n  items,\n  value,\n  defaultValue,\n  onValueChange,\n  size = \"md\",\n  align = \"start\",\n  className,\n  right,\n  ariaLabel,\n  ariaLabelledBy,\n  showBaseline = false,\n  linkPanels = true,\n  variant = \"default\",\n  tablistClassName,\n  renderItem,\n  idBase,\n}: TabBarProps<K, Extra>) {\n  const ariaLabelAttr =\n    typeof ariaLabel === \"string\" && ariaLabel.trim().length > 0\n      ? ariaLabel.trim()\n      : undefined;\n  const ariaLabelledByAttr =\n    typeof ariaLabelledBy === \"string\" && ariaLabelledBy.trim().length > 0\n      ? ariaLabelledBy.trim()\n      : undefined;\n\n  React.useEffect(() => {\n    if (process.env.NODE_ENV !== \"production\") {\n      if (!ariaLabelAttr && !ariaLabelledByAttr) {\n        console.warn(\n          \"TabBar requires an ariaLabel or ariaLabelledBy prop to describe the tablist.\",\n        );\n      }\n    }\n  }, [ariaLabelAttr, ariaLabelledByAttr]);\n\n  const uid = useId();\n  const baseId = idBase ?? uid;\n  const { activeKey, setActiveValue, registerTab, onKeyDown } =\n    useRovingTabState({\n      items,\n      value,\n      defaultValue,\n      onValueChange,\n    });\n\n  const justify = {\n    start: \"justify-start\",\n    center: \"justify-center\",\n    end: \"justify-end\",\n    between: \"justify-between\",\n  }[align];\n\n  const s = sizeMap[size];\n  const resolvedVariant = resolveUIVariant<TabBarVariant>(variant, {\n    allowed: TAB_BAR_VARIANTS,\n    fallback: \"default\",\n  });\n  const isNeo = resolvedVariant === \"neo\";\n  const isGlitch = resolvedVariant === \"glitch\";\n\n  const neoVariantClassName = isNeo ? styles.neoTablist : undefined;\n  const defaultVariantClassName = !isNeo && !isGlitch ? styles.defaultTablist : undefined;\n\n  const containerVariant = isNeo\n    ? \"hero2-frame border-border/45 bg-[var(--neo-tablist-bg)] shadow-[var(--neo-tablist-shadow)] [--hover:var(--neo-tab-bg)] [--active:var(--neo-tab-bg)] [--focus:var(--theme-ring)]\"\n    : \"[--focus:var(--theme-ring)]\";\n\n  const containerClasses = cn(\n    \"inline-flex max-w-full items-center overflow-x-auto\",\n    isGlitch\n      ? \"gap-[var(--space-2)] py-[var(--space-2)]\"\n      : \"gap-[var(--space-1)] rounded-card r-card-md border p-[var(--space-1)]\",\n    containerVariant,\n    tablistClassName,\n  );\n\n  const tabVariant = isNeo\n    ? \"bg-[var(--neo-tab-bg)] shadow-[var(--shadow-raised)] hover:shadow-[var(--shadow-raised-hover,var(--shadow-raised))] active:shadow-[var(--shadow-inset)] data-[active=true]:shadow-[var(--shadow-inset)] data-[active=true]:hover:shadow-[var(--shadow-inset)] data-[active=true]:active:shadow-[var(--shadow-inset)] data-[active=true]:ring-1 data-[active=true]:ring-ring/60\"\n    : isGlitch\n      ? \"\"\n      : styles.defaultTab;\n\n  return (\n    <div className={cn(\"relative w-full\", className)}>\n      <div\n        className={cn(\n          \"flex flex-wrap items-center\",\n          justify,\n          \"gap-[var(--space-3)]\",\n        )}\n      >\n        {/* Tabs group */}\n        <div\n          role=\"tablist\"\n          aria-label={ariaLabelAttr}\n          aria-labelledby={ariaLabelledByAttr}\n          aria-orientation=\"horizontal\"\n          onKeyDown={onKeyDown}\n          data-variant={resolvedVariant}\n          className={cn(containerClasses, neoVariantClassName, defaultVariantClassName)}\n        >\n          {items.map((item) => {\n            const active = item.key === activeKey;\n            const tabId = `${baseId}-${item.id ?? `${item.key}-tab`}`;\n            const panelId = `${baseId}-${item.controls ?? `${item.key}-panel`}`;\n            const isLoading = Boolean(item.loading);\n            const isDisabled = Boolean(item.disabled || isLoading);\n            const select = () => {\n              if (isDisabled) return;\n              setActiveValue(item.key);\n            };\n            const setRef: React.RefCallback<HTMLElement> = (el) => {\n              registerTab(item.key, el);\n            };\n            const defaultChildren = (\n              <>\n                {item.icon && (\n                  <span\n                    className={cn(\n                      \"mr-[var(--space-2)] grid place-items-center\",\n                      size !== \"lg\"\n                        ? \"[&>svg]:h-[var(--space-4)] [&>svg]:w-[var(--space-4)]\"\n                        : \"[&>svg]:h-[var(--space-5)] [&>svg]:w-[var(--space-5)]\",\n                    )}\n                  >\n                    {item.icon}\n                  </span>\n                )}\n                <span className={cn(\"truncate\", isGlitch && \"relative z-10\")}>{\n                  item.label\n                }</span>\n                {item.badge != null && (\n                  <span className=\"ml-[var(--space-2)] inline-flex items-center justify-center rounded-full px-[var(--space-2)] py-[var(--space-1)] text-label leading-none bg-primary-soft text-foreground\">\n                    {item.badge}\n                  </span>\n                )}\n              </>\n            );\n\n            const baseClass = isGlitch\n              ? cn(\n                  segmentedButtonStyles.root,\n                  \"font-mono text-ui\",\n                  size === \"lg\" ? \"text-body\" : \"text-ui\",\n                  active && segmentedButtonStyles.glitch,\n                  active && \"glitch-wrapper group/glitch is-active\",\n                  isDisabled && \"pointer-events-none opacity-disabled\",\n                  item.className,\n                )\n              : cn(\n                  \"relative inline-flex items-center justify-center select-none rounded-card r-card-md transition-[background,box-shadow,color] duration-motion-sm ease-out\",\n                  s.h,\n                  s.px,\n                  s.text,\n                  size === \"lg\" ? \"font-medium\" : \"font-normal\",\n                  \"text-foreground/85 hover:text-foreground hover:bg-[--hover] active:bg-[--active]\",\n                  tabVariant,\n                  \"focus-visible:ring-2 focus-visible:ring-[var(--ring-contrast)] focus-visible:shadow-[var(--shadow-glow-md)] focus-visible:[outline:var(--spacing-0-5)_solid_var(--ring-contrast)] focus-visible:[outline-offset:var(--spacing-0-5)]\",\n                  \"data-[active=true]:text-foreground data-[active=true]:bg-[var(--seg-active-grad)] data-[active=true]:hover:bg-[var(--seg-active-grad)] data-[active=true]:active:bg-[var(--seg-active-grad)]\",\n                  \"disabled:opacity-disabled disabled:pointer-events-none\",\n                  \"data-[loading=true]:opacity-loading data-[loading=true]:pointer-events-none\",\n                  item.className,\n                );\n\n            const tabProps: TabElementProps = {\n              id: linkPanels ? tabId : undefined,\n              role: \"tab\",\n              \"aria-selected\": active,\n              \"aria-disabled\": isDisabled || undefined,\n              \"aria-busy\": isLoading || undefined,\n              \"aria-controls\": linkPanels ? panelId : undefined,\n              tabIndex: isDisabled ? -1 : active ? 0 : -1,\n              \"data-active\": active || undefined,\n              \"data-loading\": isLoading || undefined,\n              \"data-disabled\": isDisabled || undefined,\n              \"data-variant\": resolvedVariant,\n              \"data-selected\": active ? \"true\" : undefined,\n              \"data-glitch\": isGlitch && active ? \"true\" : undefined,\n              \"data-depth\": isGlitch ? \"raised\" : undefined,\n              className: baseClass,\n              onClick: (event) => {\n                if (isDisabled) {\n                  event.preventDefault();\n                  event.stopPropagation();\n                  return;\n                }\n                select();\n              },\n            };\n\n            const context: TabRenderContext<K, WithExtras<K, Extra>> = {\n              item,\n              active,\n              disabled: isDisabled,\n              loading: isLoading,\n              select,\n              ref: setRef,\n              props: tabProps,\n              defaultChildren,\n              size,\n              variant: resolvedVariant,\n            };\n\n            const customNode = renderItem?.(context);\n            if (customNode != null) {\n              return <React.Fragment key={item.key}>{customNode}</React.Fragment>;\n            }\n\n            return (\n              <button\n                key={item.key}\n                type=\"button\"\n                disabled={isDisabled}\n                {...tabProps}\n                ref={setRef as React.Ref<HTMLButtonElement>}\n              >\n                {defaultChildren}\n              </button>\n            );\n          })}\n        </div>\n\n        {/* Right slot */}\n        {right && (\n          <div className=\"ml-auto flex items-center gap-[var(--space-2)]\">{right}</div>\n        )}\n      </div>\n\n      {/* Optional baseline divider */}\n      {showBaseline && (\n        <div\n          aria-hidden\n          className=\"absolute -bottom-2.5 left-0 right-0 h-px opacity-70 [background:linear-gradient(90deg,transparent,hsla(var(--ring),0.5),transparent)]\"\n        />\n      )}\n    </div>\n  );\n}\n","// src/components/ui/layout/NeomorphicHeroFrame.tsx\n\"use client\";\n\nimport * as React from \"react\";\n\nimport { cn } from \"@/lib/utils\";\n\nimport { NeomorphicFrameStyles } from \"./NeomorphicFrameStyles\";\n\ntype FrameElement = Extract<\n  keyof React.JSX.IntrinsicElements,\n  \"div\" | \"header\" | \"section\" | \"nav\" | \"article\" | \"aside\" | \"main\"\n>;\n\nexport type HeroVariant = \"default\" | \"compact\" | \"dense\" | \"unstyled\";\nexport type Align = \"start\" | \"center\" | \"end\" | \"between\";\n\nconst heroSlotOrder = [\"tabs\", \"search\", \"actions\"] as const;\ntype HeroSlotKey = (typeof heroSlotOrder)[number];\ntype NormalizedHeroSlots = Partial<Record<HeroSlotKey, HeroSlot>>;\n\nexport interface HeroSlot {\n  node: React.ReactNode;\n  className?: string;\n  label?: string;\n  labelledById?: string;\n  unstyled?: boolean;\n}\n\nexport type HeroSlotInput = React.ReactNode | HeroSlot;\n\nexport type HeroSlots = Partial<Record<HeroSlotKey, HeroSlotInput>>;\n\nexport interface NeomorphicHeroFrameProps\n  extends Omit<React.HTMLAttributes<HTMLElement>, \"style\"> {\n  as?: FrameElement;\n  variant?: HeroVariant;\n  align?: Align;\n  label?: string;\n  labelledById?: string;\n  slots?: HeroSlots | null;\n  children?: React.ReactNode;\n  \"data-hero-divider-tint\"?: \"primary\" | \"life\";\n  \"data-hero-slot-shadow\"?: \"soft\" | \"strong\" | \"none\";\n}\n\ntype VariantSlotConfig = {\n  marginTop: string;\n  paddingTop: string;\n  gapY: string;\n  gapMd: string;\n  single: {\n    marginTop: string;\n    paddingTop: string;\n  };\n};\n\ntype VariantConfig = {\n  radius: string;\n  padding: string;\n  contentSpacing: string;\n  slot: VariantSlotConfig;\n};\n\nconst variantMap: Record<Exclude<HeroVariant, \"unstyled\">, VariantConfig> = {\n  default: {\n    radius: \"rounded-card r-card-lg\",\n    padding:\n      \"px-[var(--space-6)] py-[var(--space-6)] md:px-[var(--space-7)] md:py-[var(--space-7)] lg:px-[var(--space-8)] lg:py-[var(--space-8)]\",\n    contentSpacing:\n      \"space-y-[var(--space-5)] md:space-y-[var(--space-6)]\",\n    slot: {\n      marginTop: \"mt-[var(--space-6)] md:mt-[var(--space-7)]\",\n      paddingTop: \"pt-[var(--space-5)] md:pt-[var(--space-6)]\",\n      gapY: \"gap-[var(--space-3)]\",\n      gapMd: \"md:gap-[var(--space-4)]\",\n      single: {\n        marginTop: \"mt-[var(--space-4)] md:mt-[var(--space-5)]\",\n        paddingTop: \"pt-[var(--space-4)] md:pt-[var(--space-5)]\",\n      },\n    },\n  },\n  compact: {\n    radius: \"rounded-card r-card-md\",\n    padding:\n      \"px-[var(--space-4)] py-[var(--space-4)] md:px-[var(--space-5)] md:py-[var(--space-5)] lg:px-[var(--space-6)] lg:py-[var(--space-6)]\",\n    contentSpacing:\n      \"space-y-[var(--space-4)] md:space-y-[var(--space-5)]\",\n    slot: {\n      marginTop: \"mt-[var(--space-5)]\",\n      paddingTop: \"pt-[var(--space-4)] md:pt-[var(--space-5)]\",\n      gapY: \"gap-[var(--space-3)]\",\n      gapMd: \"md:gap-[var(--space-3)]\",\n      single: {\n        marginTop: \"mt-[var(--space-4)]\",\n        paddingTop: \"pt-[var(--space-3)] md:pt-[var(--space-4)]\",\n      },\n    },\n  },\n  dense: {\n    radius: \"rounded-card r-card-md\",\n    padding:\n      \"px-[var(--space-3)] py-[var(--space-3)] md:px-[var(--space-4)] md:py-[var(--space-4)] lg:px-[var(--space-5)] lg:py-[var(--space-5)]\",\n    contentSpacing:\n      \"space-y-[var(--space-3)] md:space-y-[var(--space-4)]\",\n    slot: {\n      marginTop: \"mt-[var(--space-4)]\",\n      paddingTop: \"pt-[var(--space-3)] md:pt-[var(--space-4)]\",\n      gapY: \"gap-[var(--space-2)]\",\n      gapMd: \"md:gap-[var(--space-3)]\",\n      single: {\n        marginTop: \"mt-[var(--space-3)]\",\n        paddingTop: \"pt-[var(--space-2)] md:pt-[var(--space-3)]\",\n      },\n    },\n  },\n};\n\nconst alignClassMap: Record<Align, { tabs: string; search: string; actions: string }> = {\n  start: {\n    tabs: \"md:justify-self-start\",\n    search: \"md:justify-self-start\",\n    actions: \"md:justify-self-start\",\n  },\n  center: {\n    tabs: \"md:justify-self-center\",\n    search: \"md:justify-self-center\",\n    actions: \"md:justify-self-center\",\n  },\n  end: {\n    tabs: \"md:justify-self-end\",\n    search: \"md:justify-self-end\",\n    actions: \"md:justify-self-end\",\n  },\n  between: {\n    tabs: \"md:justify-self-start\",\n    search: \"md:justify-self-stretch\",\n    actions: \"md:justify-self-end\",\n  },\n};\n\nconst spanClassMap = {\n  tabs: {\n    three: \"md:col-span-5\",\n    twoWithActions: \"md:col-span-7\",\n    two: \"md:col-span-6\",\n    solo: \"md:col-span-12\",\n  },\n  search: {\n    three: \"md:col-span-4\",\n    twoWithActions: \"md:col-span-7\",\n    two: \"md:col-span-6\",\n    solo: \"md:col-span-12\",\n  },\n  actions: {\n    three: \"md:col-span-3\",\n    twoWithTabs: \"md:col-span-5\",\n    two: \"md:col-span-5\",\n    solo: \"md:col-span-12\",\n  },\n} as const satisfies Record<HeroSlotKey, Record<string, string>>;\n\ntype LayoutState = {\n  tabs?: string;\n  search?: string;\n  actions?: string;\n};\n\nfunction getSlotLayout(\n  present: Record<HeroSlotKey, boolean>,\n): LayoutState {\n  const { tabs, search, actions } = present;\n  if (tabs && search && actions) {\n    return {\n      tabs: spanClassMap.tabs.three,\n      search: spanClassMap.search.three,\n      actions: spanClassMap.actions.three,\n    };\n  }\n  if (tabs && search) {\n    return {\n      tabs: spanClassMap.tabs.two,\n      search: spanClassMap.search.two,\n      actions: spanClassMap.actions.solo,\n    };\n  }\n  if (tabs && actions) {\n    return {\n      tabs: spanClassMap.tabs.twoWithActions,\n      search: spanClassMap.search.solo,\n      actions: spanClassMap.actions.twoWithTabs,\n    };\n  }\n  if (search && actions) {\n    return {\n      tabs: spanClassMap.tabs.solo,\n      search: spanClassMap.search.twoWithActions,\n      actions: spanClassMap.actions.two,\n    };\n  }\n  return {\n    tabs: spanClassMap.tabs.solo,\n    search: spanClassMap.search.solo,\n    actions: spanClassMap.actions.solo,\n  };\n}\n\nfunction isSlotConfig(value: HeroSlotInput | undefined): value is HeroSlot {\n  return (\n    typeof value === \"object\" &&\n    value !== null &&\n    !React.isValidElement(value) &&\n    Object.prototype.hasOwnProperty.call(value, \"node\")\n  );\n}\n\nfunction normalizeSlot(value: HeroSlotInput | undefined): HeroSlot | null {\n  if (value === null || value === undefined) {\n    return null;\n  }\n  if (isSlotConfig(value)) {\n    return value.node === null || value.node === undefined\n      ? null\n      : value;\n  }\n  return { node: value };\n}\n\nconst slotWellBaseClass =\n  \"hero-slot-well group/hero-slot relative isolate flex min-w-0 flex-col gap-[var(--space-2)] overflow-hidden rounded-card r-card-md bg-card/75 px-[var(--space-3)] py-[var(--space-2)] [--neo-inset-shadow:var(--depth-shadow-inner)] neo-inset hero-focus transition-[box-shadow,transform] duration-motion-md ease-out motion-reduce:transform-none motion-reduce:transition-none focus-within:ring-1 focus-within:ring-ring/60 before:pointer-events-none before:absolute before:inset-0 before:z-0 before:content-[''] before:rounded-[inherit] before:bg-hero-slot-highlight before:opacity-70 before:mix-blend-screen after:pointer-events-none after:absolute after:inset-0 after:z-0 after:content-[''] after:rounded-[inherit] after:translate-x-[calc(var(--space-1)/2)] after:translate-y-[calc(var(--space-1)/2)] after:bg-hero-slot-shadow after:shadow-[var(--hero-slot-shadow,var(--depth-shadow-soft))] after:opacity-65 hover:[--neo-inset-shadow:var(--depth-shadow-soft)] focus-visible:[--neo-inset-shadow:var(--depth-shadow-soft)] focus-within:[--neo-inset-shadow:var(--depth-shadow-soft)] hover:-translate-y-[var(--hairline-w)] focus-visible:-translate-y-[var(--hairline-w)] focus-within:-translate-y-[var(--hairline-w)]\";\n\nconst slotBareBaseClass =\n  \"group/hero-slot relative isolate flex min-w-0 flex-col\";\n\nconst slotContentClass = \"relative z-[1] flex w-full min-w-0 flex-col\";\n\nconst heroGridGaps: Record<Exclude<HeroVariant, \"unstyled\">, string> = {\n  default: \"gap-[var(--space-4)] md:gap-[var(--space-5)]\",\n  compact: \"gap-[var(--space-3)] md:gap-[var(--space-5)]\",\n  dense: \"gap-[var(--space-2)] md:gap-[var(--space-3)]\",\n};\n\nexport interface HeroGridProps extends React.HTMLAttributes<HTMLDivElement> {\n  variant?: Exclude<HeroVariant, \"unstyled\">;\n}\n\nexport const HeroGrid = React.forwardRef<HTMLDivElement, HeroGridProps>(\n  ({ variant = \"default\", className, ...rest }, ref) => {\n    return (\n      <div\n        ref={ref}\n        className={cn(\n          \"grid grid-cols-1 md:grid-cols-12\",\n          heroGridGaps[variant],\n          className,\n        )}\n        {...rest}\n      />\n    );\n  },\n);\n\nHeroGrid.displayName = \"HeroGrid\";\n\nconst heroColSpanClasses = {\n  1: \"md:col-span-1\",\n  2: \"md:col-span-2\",\n  3: \"md:col-span-3\",\n  4: \"md:col-span-4\",\n  5: \"md:col-span-5\",\n  6: \"md:col-span-6\",\n  7: \"md:col-span-7\",\n  8: \"md:col-span-8\",\n  9: \"md:col-span-9\",\n  10: \"md:col-span-10\",\n  11: \"md:col-span-11\",\n  12: \"md:col-span-12\",\n} as const;\n\nconst heroColSpanLgClasses = {\n  1: \"lg:col-span-1\",\n  2: \"lg:col-span-2\",\n  3: \"lg:col-span-3\",\n  4: \"lg:col-span-4\",\n  5: \"lg:col-span-5\",\n  6: \"lg:col-span-6\",\n  7: \"lg:col-span-7\",\n  8: \"lg:col-span-8\",\n  9: \"lg:col-span-9\",\n  10: \"lg:col-span-10\",\n  11: \"lg:col-span-11\",\n  12: \"lg:col-span-12\",\n} as const;\n\nexport interface HeroColProps extends React.HTMLAttributes<HTMLDivElement> {\n  span?: keyof typeof heroColSpanClasses;\n  spanLg?: keyof typeof heroColSpanLgClasses;\n}\n\nexport const HeroCol = React.forwardRef<HTMLDivElement, HeroColProps>(\n  ({ span = 12, spanLg, className, ...rest }, ref) => {\n    return (\n      <div\n        ref={ref}\n        className={cn(\n          \"col-span-full min-w-0\",\n          heroColSpanClasses[span],\n          spanLg ? heroColSpanLgClasses[spanLg] : undefined,\n          className,\n        )}\n        {...rest}\n      />\n    );\n  },\n);\n\nHeroCol.displayName = \"HeroCol\";\n\nconst NeomorphicHeroFrame = React.forwardRef<HTMLElement, NeomorphicHeroFrameProps>(\n  (\n    {\n      as,\n      variant = \"default\",\n      align = \"between\",\n      label,\n      labelledById,\n      slots,\n      children,\n      className,\n      role: roleProp,\n      tabIndex,\n      onFocusCapture,\n      onBlurCapture,\n      ...rest\n    },\n    ref,\n  ) => {\n    const Component = (as ?? \"div\") as FrameElement;\n    const Comp = Component as React.ElementType;\n    const {\n      [\"data-hero-divider-tint\"]: heroDividerTintAttr,\n      [\"data-hero-slot-shadow\"]: heroSlotShadowAttr,\n      ...restWithoutCustomAttrs\n    } = rest;\n    const sanitizedFrameDividerTint =\n      heroDividerTintAttr === \"life\"\n        ? \"life\"\n        : heroDividerTintAttr === \"primary\"\n        ? \"primary\"\n        : undefined;\n    const frameDividerTint = sanitizedFrameDividerTint ?? \"primary\";\n    const frameSlotShadow =\n      heroSlotShadowAttr === \"soft\" ||\n      heroSlotShadowAttr === \"strong\" ||\n      heroSlotShadowAttr === \"none\"\n        ? heroSlotShadowAttr\n        : undefined;\n    const variantStyles =\n      variant !== \"unstyled\" ? variantMap[variant] : undefined;\n    const [hasFocus, setHasFocus] = React.useState(false);\n\n    const normalizedSlots = React.useMemo<\n      NormalizedHeroSlots | null | undefined\n    >(() => {\n      if (slots === null) return null;\n      if (!slots) return undefined;\n      const entries: NormalizedHeroSlots = {};\n      let hasSlot = false;\n      for (const key of heroSlotOrder) {\n        const normalized = normalizeSlot(slots[key]);\n        if (normalized) {\n          entries[key] = normalized;\n          hasSlot = true;\n        }\n      }\n      return hasSlot ? entries : undefined;\n    }, [slots]);\n\n    const hasTabs = Boolean(normalizedSlots?.tabs);\n    const hasSearch = Boolean(normalizedSlots?.search);\n    const hasActions = Boolean(normalizedSlots?.actions);\n    const slotCount = Number(hasTabs) + Number(hasSearch) + Number(hasActions);\n\n    const layout = React.useMemo(\n      () =>\n        normalizedSlots\n          ? getSlotLayout({\n              tabs: hasTabs,\n              search: hasSearch,\n              actions: hasActions,\n            })\n          : undefined,\n      [normalizedSlots, hasTabs, hasSearch, hasActions],\n    );\n\n    const aligns = alignClassMap[align];\n\n    const handleFocusCapture = React.useCallback(\n      (event: React.FocusEvent<HTMLElement>) => {\n        setHasFocus(true);\n        onFocusCapture?.(event);\n      },\n      [onFocusCapture],\n    );\n\n    const handleBlurCapture = React.useCallback(\n      (event: React.FocusEvent<HTMLElement>) => {\n        const nextTarget = event.relatedTarget as Node | null;\n        if (nextTarget && event.currentTarget.contains(nextTarget)) {\n          onBlurCapture?.(event);\n          return;\n        }\n        setHasFocus(false);\n        onBlurCapture?.(event);\n      },\n      [onBlurCapture],\n    );\n\n    const roleFromElement =\n      as === \"header\"\n        ? \"banner\"\n        : as === \"nav\"\n        ? \"navigation\"\n        : undefined;\n\n    const resolvedChildren = variantStyles ? (\n      <div\n        className={cn(\n          \"relative z-[1]\",\n          variantStyles.contentSpacing,\n        )}\n      >\n        {children}\n      </div>\n    ) : (\n      children\n    );\n\n    const slotMarginTopClass =\n      slotCount === 1\n        ? variantStyles?.slot.single.marginTop ?? variantStyles?.slot.marginTop\n        : variantStyles?.slot.marginTop;\n    const slotPaddingTopClass =\n      slotCount === 1\n        ? variantStyles?.slot.single.paddingTop ?? variantStyles?.slot.paddingTop\n        : variantStyles?.slot.paddingTop;\n\n    const slotArea = normalizedSlots ? (\n      <div\n        role=\"group\"\n        className={cn(\n          \"group/hero-slots relative z-[1] isolate w-full grid grid-cols-1\",\n          slotMarginTopClass,\n          slotPaddingTopClass,\n          variantStyles?.slot.gapY,\n          variantStyles?.slot.gapMd,\n          \"md:grid-cols-12\",\n          \"before:pointer-events-none before:absolute before:inset-x-0 before:top-0 before:h-px before:bg-[hsl(var(--hero-slot-divider,var(--ring)))] before:opacity-60 before:content-['']\",\n          \"after:pointer-events-none after:absolute after:inset-x-0 after:top-0 after:h-px after:bg-[hsl(var(--hero-slot-divider,var(--ring)))] after:opacity-40 after:[filter:blur(var(--hero-divider-blur,calc(var(--spacing-1)*1.5)))] after:shadow-[var(--hero-slot-divider-shadow,0_0_0_calc(var(--hairline-w)*3)_hsl(var(--ring)/0.45))] after:content-['']\",\n        )}\n        data-align={align}\n      >\n        {heroSlotOrder.map((key) => {\n          const slot = normalizedSlots[key];\n          if (!slot) return null;\n          const slotLabel =\n            typeof slot.label === \"string\" && slot.label.trim().length > 0\n              ? slot.label.trim()\n              : undefined;\n          const slotLabelledById =\n            typeof slot.labelledById === \"string\" &&\n            slot.labelledById.trim().length > 0\n              ? slot.labelledById.trim()\n              : undefined;\n          return (\n            <div\n              key={key}\n              data-slot={key}\n              className={cn(\n                slot.unstyled ? slotBareBaseClass : slotWellBaseClass,\n                layout?.[key],\n                aligns[key],\n                slot.className,\n              )}\n              role=\"group\"\n              aria-label={slotLabel}\n              aria-labelledby={slotLabelledById}\n            >\n              <div className={slotContentClass}>{slot.node}</div>\n            </div>\n          );\n        })}\n      </div>\n    ) : null;\n\n    const haloClasses =\n      \"before:pointer-events-none before:absolute before:inset-0 before:-z-10 before:rounded-[inherit] before:transition before:duration-motion-lg before:ease-out before:content-[''] motion-reduce:before:transition-none\";\n\n    return (\n      <>\n        {variant !== \"unstyled\" ? <NeomorphicFrameStyles /> : null}\n        <Comp\n          ref={ref}\n          {...restWithoutCustomAttrs}\n          className={cn(\n            \"group/hero-frame relative z-0 isolate flex flex-col overflow-visible hero-focus\",\n            variantStyles\n              ? cn(\n                  \"border border-border/55 bg-card/70 text-foreground shadow-outline-subtle hero2-frame hero2-neomorph\",\n                  haloClasses,\n                  \"has-[:focus-visible]:before:[--hero2-focus-ring:var(--hero2-focus-ring-active)]\",\n                  \"data-[has-focus=true]:before:[--hero2-focus-ring:var(--hero2-focus-ring-active)]\",\n                  variantStyles.radius,\n                  variantStyles.padding,\n                )\n              : undefined,\n            className,\n          )}\n          data-has-focus={hasFocus ? \"true\" : undefined}\n          data-variant={variant}\n          role={roleProp ?? roleFromElement}\n          aria-label={label}\n          aria-labelledby={labelledById}\n          tabIndex={tabIndex ?? -1}\n          onFocusCapture={handleFocusCapture}\n          onBlurCapture={handleBlurCapture}\n          data-hero-divider-tint={frameDividerTint}\n          data-hero-slot-shadow={frameSlotShadow}\n        >\n          {resolvedChildren}\n          {slotArea}\n        </Comp>\n      </>\n    );\n  },\n);\n\nNeomorphicHeroFrame.displayName = \"NeomorphicHeroFrame\";\n\nexport default NeomorphicHeroFrame;\n","// extracted by mini-css-extract-plugin","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"DripEdge_root__AjLe_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"SideSelector_root__P_qRy\",\"indicator\":\"SideSelector_indicator__ll_Yf\",\"label\":\"SideSelector_label__BID58\",\"leftLabel\":\"SideSelector_leftLabel__SH7bg\",\"rightLabel\":\"SideSelector_rightLabel__1FDlg\",\"flicker\":\"SideSelector_flicker__9HNXY\",\"side-selector-flicker\":\"SideSelector_side-selector-flicker__z8_9_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"switcher\":\"Switcher_switcher__GzljL\"};","import * as React from \"react\";\nimport { StopCircle } from \"lucide-react\";\n\nimport { Button, type ButtonProps } from \"@/components/ui\";\nimport { cn } from \"@/lib/utils\";\n\ntype ButtonElementProps = Extract<ButtonProps, { asChild?: false; href?: undefined }>;\n\nexport interface AIAbortButtonProps\n  extends Omit<ButtonElementProps, \"onClick\" | \"children\"> {\n  readonly onAbort: () => void;\n  readonly label?: string;\n  readonly busy?: boolean;\n  readonly children?: React.ReactNode;\n  readonly icon?: React.ReactNode;\n}\n\nconst DEFAULT_LABEL = \"Stop generation\";\n\nconst AIAbortButton = React.forwardRef<HTMLButtonElement, AIAbortButtonProps>(\n  (\n    { onAbort, label = DEFAULT_LABEL, busy = false, icon, className, children, disabled, ...props },\n    ref,\n  ) => {\n    const resolvedDisabled = disabled ?? !busy;\n\n    return (\n      <Button\n        ref={ref}\n        type=\"button\"\n        size=\"sm\"\n        tone=\"danger\"\n        variant=\"quiet\"\n        onClick={onAbort}\n        disabled={resolvedDisabled}\n        data-busy={busy ? \"true\" : undefined}\n        className={cn(\n          \"gap-[var(--space-2)] px-[var(--space-3)] text-label font-medium\",\n          className,\n        )}\n        aria-label={children ? undefined : label}\n        aria-live=\"polite\"\n        {...props}\n      >\n        <span aria-hidden className=\"inline-flex items-center\">\n          {icon ?? <StopCircle className=\"size-[var(--space-4)]\" aria-hidden />}\n        </span>\n        <span className=\"sr-only sm:not-sr-only\">{children ?? label}</span>\n      </Button>\n    );\n  },\n);\n\nAIAbortButton.displayName = \"AIAbortButton\";\n\nexport default AIAbortButton;\n","import { readClientEnv } from \"./load-client-env\";\n\nconst {\n  NEXT_PUBLIC_FEATURE_SVG_NUMERIC_FILTERS: rawSvgNumericFilters,\n  NEXT_PUBLIC_DEPTH_THEME: rawDepthTheme,\n  NEXT_PUBLIC_ORGANIC_DEPTH: rawOrganicDepth,\n  NEXT_PUBLIC_FEATURE_GLITCH_LANDING: rawFeatureGlitchLanding,\n  NEXT_PUBLIC_UI_GLITCH_LANDING: rawLegacyGlitchLanding,\n  NEXT_PUBLIC_SAFE_MODE: rawSafeMode,\n} = readClientEnv();\n\nconst enabledValues = new Set([\"1\", \"true\", \"on\", \"yes\"]);\nconst disabledValues = new Set([\"0\", \"false\", \"off\", \"no\"]);\n\nfunction parseBooleanFlag(raw: string | undefined, fallback: boolean): boolean {\n  if (typeof raw !== \"string\") {\n    return fallback;\n  }\n\n  const normalized = raw.trim().toLowerCase();\n\n  if (enabledValues.has(normalized)) {\n    return true;\n  }\n\n  if (disabledValues.has(normalized)) {\n    return false;\n  }\n\n  return fallback;\n}\n\nconst svgNumericFilters = parseBooleanFlag(rawSvgNumericFilters, true);\nconst depthThemeEnabled = parseBooleanFlag(rawDepthTheme, false);\nconst organicDepthEnabled = parseBooleanFlag(rawOrganicDepth, false);\nconst glitchLandingRaw =\n  rawFeatureGlitchLanding !== undefined\n    ? rawFeatureGlitchLanding\n    : rawLegacyGlitchLanding;\nconst glitchLandingEnabled = parseBooleanFlag(glitchLandingRaw, true);\nconst safeModeEnabled = parseBooleanFlag(rawSafeMode, true);\n\nexport function isSafeModeEnabled(): boolean {\n  return safeModeEnabled;\n}\n\nexport {\n  depthThemeEnabled,\n  glitchLandingEnabled,\n  organicDepthEnabled,\n  safeModeEnabled,\n  svgNumericFilters,\n};\n","import * as React from \"react\";\n\nimport { createGalleryPreview, defineGallerySection } from \"@/components/gallery/registry\";\n\nimport SegmentedButton from \"./SegmentedButton\";\n\nconst SEGMENTED_BUTTON_HOVER_STATE_CLASSNAME =\n  \"[--hover:var(--seg-hover-base)] bg-[--hover] text-[hsl(var(--foreground))] [text-shadow:0_0_calc(var(--space-2)-var(--spacing-0-5))_hsl(var(--accent)/0.25)]\";\n\nconst SEGMENTED_BUTTON_FOCUS_VISIBLE_STATE_CLASSNAME =\n  \"ring-2 ring-[--theme-ring] ring-offset-0 outline-none\";\n\nexport type SegmentedButtonStateSpec = {\n  id: string;\n  name: string;\n  props: React.ComponentProps<typeof SegmentedButton>;\n  code?: string;\n};\n\nconst SEGMENTED_BUTTON_STATES: readonly SegmentedButtonStateSpec[] = [\n  {\n    id: \"default\",\n    name: \"Default\",\n    props: { children: \"Default\" },\n    code: \"<SegmentedButton>Default</SegmentedButton>\",\n  },\n  {\n    id: \"hover\",\n    name: \"Hover\",\n    props: {\n      children: \"Hover\",\n      className: SEGMENTED_BUTTON_HOVER_STATE_CLASSNAME,\n    },\n    code: `<SegmentedButton className=\"${SEGMENTED_BUTTON_HOVER_STATE_CLASSNAME}\">Hover</SegmentedButton>`,\n  },\n  {\n    id: \"active\",\n    name: \"Active\",\n    props: { children: \"Active\", selected: true },\n    code: \"<SegmentedButton selected>Active</SegmentedButton>\",\n  },\n  {\n    id: \"focus-visible\",\n    name: \"Focus-visible\",\n    props: {\n      children: \"Focus-visible\",\n      className: SEGMENTED_BUTTON_FOCUS_VISIBLE_STATE_CLASSNAME,\n    },\n    code: `<SegmentedButton className=\"${SEGMENTED_BUTTON_FOCUS_VISIBLE_STATE_CLASSNAME}\">Focus-visible</SegmentedButton>`,\n  },\n  {\n    id: \"disabled\",\n    name: \"Disabled\",\n    props: { children: \"Disabled\", disabled: true },\n    code: \"<SegmentedButton disabled>Disabled</SegmentedButton>\",\n  },\n  {\n    id: \"disabled-link\",\n    name: \"Disabled link\",\n    props: { as: \"a\", href: \"#\", children: \"Disabled link\", disabled: true },\n    code: \"<SegmentedButton as=\\\"a\\\" href=\\\"#\\\" disabled>Disabled link</SegmentedButton>\",\n  },\n  {\n    id: \"loading\",\n    name: \"Loading\",\n    props: { children: \"Loading\", loading: true },\n    code: \"<SegmentedButton loading>Loading</SegmentedButton>\",\n  },\n];\n\nexport const SEGMENTED_BUTTON_STATE_SPECS: readonly SegmentedButtonStateSpec[] =\n  SEGMENTED_BUTTON_STATES;\n\nfunction SegmentedButtonStatePreview({\n  state,\n}: {\n  state: SegmentedButtonStateSpec;\n}) {\n  return <SegmentedButton {...state.props} />;\n}\n\nfunction SegmentedButtonGalleryPreview() {\n  return (\n    <div className=\"flex flex-wrap gap-[var(--space-2)]\">\n      {SEGMENTED_BUTTON_STATES.map((state) => (\n        <SegmentedButtonStatePreview key={state.id} state={state} />\n      ))}\n    </div>\n  );\n}\n\nexport default defineGallerySection({\n  id: \"buttons\",\n  entries: [\n    {\n      id: \"segmented-button\",\n      name: \"SegmentedButton\",\n      description: \"Inline segmented action with pressed and loading states\",\n      kind: \"primitive\",\n      tags: [\"button\", \"segmented\"],\n      props: [\n        { name: \"as\", type: \"React.ElementType\" },\n        { name: \"href\", type: \"string\" },\n        { name: \"selected\", type: \"boolean\", defaultValue: \"false\" },\n        { name: \"loading\", type: \"boolean\", defaultValue: \"false\" },\n        { name: \"disabled\", type: \"boolean\", defaultValue: \"false\" },\n      ],\n      axes: [\n        {\n          id: \"state\",\n          label: \"State\",\n          type: \"state\",\n          values: SEGMENTED_BUTTON_STATES.map(({ name }) => ({ value: name })),\n        },\n      ],\n      preview: createGalleryPreview({\n        id: \"ui:segmented-button:states\",\n        render: () => <SegmentedButtonGalleryPreview />,\n      }),\n      states: SEGMENTED_BUTTON_STATES.map((state) => ({\n        id: state.id,\n        name: state.name,\n        code: state.code,\n        preview: createGalleryPreview({\n          id: `ui:segmented-button:state:${state.id}`,\n          render: () => <SegmentedButtonStatePreview state={state} />,\n        }),\n      })),\n      code: `<div className=\"flex flex-wrap gap-[var(--space-2)]\">\n  <SegmentedButton>Default</SegmentedButton>\n  <SegmentedButton className=\"${SEGMENTED_BUTTON_HOVER_STATE_CLASSNAME}\">Hover</SegmentedButton>\n  <SegmentedButton selected>Active</SegmentedButton>\n  <SegmentedButton className=\"${SEGMENTED_BUTTON_FOCUS_VISIBLE_STATE_CLASSNAME}\">Focus-visible</SegmentedButton>\n  <SegmentedButton disabled>Disabled</SegmentedButton>\n  <SegmentedButton as=\"a\" href=\"#\" disabled>Disabled link</SegmentedButton>\n  <SegmentedButton loading>Loading</SegmentedButton>\n</div>`,\n    },\n  ],\n});\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"IconButton_root___50oR\",\"glitch\":\"IconButton_glitch__0ihCU\"};","import * as React from \"react\";\nimport CatCompanionIcon from \"@/icons/CatCompanionIcon\";\n\nexport default function CatCompanion() {\n  return (\n    <div className=\"fixed bottom-[var(--space-4)] left-[var(--space-4)] z-50 pointer-events-none select-none\">\n      <CatCompanionIcon\n        className=\"w-[var(--space-8)] h-[var(--space-8)] text-foreground/80 motion-safe:animate-[cat-float_3s_ease-in-out_infinite]\"\n        aria-label=\"Cat companion\"\n        tabIndex={-1}\n      />\n    </div>\n  );\n}\n","import type React from \"react\";\n\nexport type LayoutElement =\n  | \"article\"\n  | \"aside\"\n  | \"div\"\n  | \"footer\"\n  | \"header\"\n  | \"main\"\n  | \"nav\"\n  | \"section\";\n\nexport type SpacingToken =\n  | \"0\"\n  | \"0-125\"\n  | \"0-25\"\n  | \"0-5\"\n  | \"0-75\"\n  | \"1\"\n  | \"2\"\n  | \"3\"\n  | \"4\"\n  | \"5\"\n  | \"6\"\n  | \"7\"\n  | \"8\";\n\nexport function getSpacingValue(token?: SpacingToken): string | undefined {\n  if (!token) {\n    return undefined;\n  }\n  if (token === \"0\") {\n    return \"0px\";\n  }\n  return `var(--spacing-${token})`;\n}\n\nexport function mergeStyleVars(\n  style: React.CSSProperties | undefined,\n  vars: Record<string, string | undefined>,\n): React.CSSProperties | undefined {\n  const entries = Object.entries(vars).filter(\n    (entry): entry is [string, string] => Boolean(entry[1]),\n  );\n  if (entries.length === 0) {\n    return style;\n  }\n  const varStyle = Object.fromEntries(entries) as React.CSSProperties;\n  return style ? { ...varStyle, ...style } : varStyle;\n}\n","import * as React from \"react\";\n\nimport { cn } from \"@/lib/utils\";\n\nimport styles from \"./Cluster.module.css\";\nimport {\n  getSpacingValue,\n  mergeStyleVars,\n  type LayoutElement,\n  type SpacingToken,\n} from \"./shared\";\n\ntype ClusterCollapseMode = \"stack\" | \"start\" | \"none\";\n\ntype ClusterOwnProps<TElement extends LayoutElement> = {\n  as?: TElement;\n  className?: string;\n  style?: React.CSSProperties;\n  gap?: SpacingToken;\n  rowGap?: SpacingToken;\n  align?: React.CSSProperties[\"alignItems\"];\n  justify?: React.CSSProperties[\"justifyContent\"];\n  /** Disable wrapping when set to false. */\n  wrap?: boolean;\n  /** Width threshold for responsive adjustments. Defaults to `40rem`. */\n  collapseBelow?: string;\n  /** Behaviour when the container width drops below the threshold. */\n  collapse?: ClusterCollapseMode;\n  children?: React.ReactNode;\n};\n\nexport type ClusterProps<TElement extends LayoutElement = \"div\"> =\n  ClusterOwnProps<TElement> &\n    Omit<\n      React.ComponentPropsWithoutRef<TElement>,\n      keyof ClusterOwnProps<TElement>\n    >;\n\nexport default function Cluster<TElement extends LayoutElement = \"div\">({\n  as,\n  className,\n  style,\n  gap,\n  rowGap,\n  align,\n  justify,\n  wrap = true,\n  collapseBelow,\n  collapse = \"stack\",\n  children,\n  ...rest\n}: ClusterProps<TElement>) {\n  const Component = (as ?? \"div\") as LayoutElement;\n  const gapValue = getSpacingValue(gap);\n  const rowGapValue = getSpacingValue(rowGap);\n\n  let mergedStyle = mergeStyleVars(style, {\n    \"--cluster-gap\": gapValue,\n    \"--cluster-row-gap\": rowGapValue,\n    \"--cluster-collapse\": collapseBelow,\n  });\n\n  if (align) {\n    mergedStyle = { ...(mergedStyle ?? {}), alignItems: align };\n  }\n\n  if (justify) {\n    mergedStyle = { ...(mergedStyle ?? {}), justifyContent: justify };\n  }\n\n  return (\n    <Component\n      className={cn(styles.cluster, className)}\n      data-nowrap={wrap ? undefined : \"true\"}\n      data-collapse={collapse === \"none\" ? undefined : collapse}\n      style={mergedStyle}\n      {...rest}\n    >\n      {children}\n    </Component>\n  );\n}\n","import Cluster from \"@/components/layout/Cluster\";\n\nexport default Cluster;\nexport type { ClusterProps } from \"@/components/layout/Cluster\";\n","import * as React from \"react\";\n\nimport { cn } from \"@/lib/utils\";\n\nimport styles from \"./Grid.module.css\";\nimport {\n  getSpacingValue,\n  mergeStyleVars,\n  type LayoutElement,\n  type SpacingToken,\n} from \"./shared\";\n\nexport type GridTemplateCell<T extends string> = T | \".\";\nexport type GridTemplateRow<T extends string> = readonly GridTemplateCell<T>[];\nexport type GridTemplate<T extends string> = readonly GridTemplateRow<T>[];\n\nexport type GridCollapseMode = \"stack\" | \"none\";\n\ntype GridOwnProps<TAreas extends string, TElement extends LayoutElement> = {\n  as?: TElement;\n  className?: string;\n  style?: React.CSSProperties;\n  /** Mapping of grid area name to the rendered node. */\n  areas: Partial<Record<TAreas, React.ReactNode>>;\n  /** Named template area definition. */\n  template: GridTemplate<TAreas>;\n  /** Gap between rows and columns, defaults to the layout spacing token. */\n  gap?: SpacingToken;\n  /** Overrides the row gap while preserving the column gap. */\n  rowGap?: SpacingToken;\n  /** Overrides the column gap while preserving the row gap. */\n  columnGap?: SpacingToken;\n  /** Custom value for `grid-template-columns`. */\n  columns?: React.CSSProperties[\"gridTemplateColumns\"];\n  /** Custom value for `grid-template-rows`. */\n  rows?: React.CSSProperties[\"gridTemplateRows\"];\n  /** Custom value for `grid-auto-flow`. */\n  flow?: React.CSSProperties[\"gridAutoFlow\"];\n  /** Aligns items inside the grid. */\n  alignItems?: React.CSSProperties[\"alignItems\"];\n  /** Aligns columns horizontally. */\n  justifyItems?: React.CSSProperties[\"justifyItems\"];\n  /**\n   * Collapse the template into a single column when the container width drops\n   * below this measurement. Defaults to `64ch`.\n   */\n  collapseBelow?: string;\n  /** Switches responsive collapse behaviour off when set to `\"none\"`. */\n  collapse?: GridCollapseMode;\n  children?: React.ReactNode;\n};\n\nexport type GridProps<\n  TAreas extends string,\n  TElement extends LayoutElement = \"div\",\n> = GridOwnProps<TAreas, TElement> &\n  Omit<React.ComponentPropsWithoutRef<TElement>, keyof GridOwnProps<TAreas, TElement>>;\n\nfunction formatTemplate<TAreas extends string>(\n  template: GridTemplate<TAreas>,\n): string {\n  return template.map((row) => `\"${row.join(\" \")}\"`).join(\" \");\n}\n\nfunction collectTemplateAreas<TAreas extends string>(\n  template: GridTemplate<TAreas>,\n): TAreas[] {\n  const seen = new Set<TAreas>();\n  const order: TAreas[] = [];\n  template.forEach((row) => {\n    row.forEach((cell) => {\n      if (cell === \".\") {\n        return;\n      }\n      if (!seen.has(cell)) {\n        seen.add(cell);\n        order.push(cell);\n      }\n    });\n  });\n  return order;\n}\n\nexport default function Grid<\n  TAreas extends string,\n  TElement extends LayoutElement = \"div\",\n>({\n  as,\n  className,\n  style,\n  areas,\n  template,\n  gap,\n  rowGap,\n  columnGap,\n  columns,\n  rows,\n  flow,\n  alignItems,\n  justifyItems,\n  collapseBelow,\n  collapse = \"stack\",\n  children,\n  ...rest\n}: GridProps<TAreas, TElement>) {\n  const Component = (as ?? \"div\") as LayoutElement;\n  const templateAreas = React.useMemo(\n    () => collectTemplateAreas(template),\n    [template],\n  );\n\n  const orderedAreaKeys = React.useMemo(() => {\n    const keys = [...templateAreas];\n    Object.entries(areas).forEach(([key, content]) => {\n      if (content == null) {\n        return;\n      }\n      const typedKey = key as TAreas;\n      if (!keys.includes(typedKey)) {\n        keys.push(typedKey);\n      }\n    });\n    return keys;\n  }, [areas, templateAreas]);\n\n  const gapValue = getSpacingValue(gap);\n  const rowGapValue = getSpacingValue(rowGap);\n  const columnGapValue = getSpacingValue(columnGap);\n\n  let mergedStyle = mergeStyleVars(style, {\n    \"--grid-gap\": gapValue,\n    \"--grid-row-gap\": rowGapValue,\n    \"--grid-column-gap\": columnGapValue,\n    \"--grid-collapse\": collapseBelow,\n  });\n\n  if (alignItems) {\n    mergedStyle = { ...(mergedStyle ?? {}), alignItems };\n  }\n\n  if (justifyItems) {\n    mergedStyle = { ...(mergedStyle ?? {}), justifyItems };\n  }\n\n  if (columns) {\n    mergedStyle = { ...(mergedStyle ?? {}), gridTemplateColumns: columns };\n  }\n\n  if (rows) {\n    mergedStyle = { ...(mergedStyle ?? {}), gridTemplateRows: rows };\n  }\n\n  if (flow) {\n    mergedStyle = { ...(mergedStyle ?? {}), gridAutoFlow: flow };\n  }\n\n  const templateString = React.useMemo(\n    () => formatTemplate(template),\n    [template],\n  );\n\n  const collapsedTemplateString = React.useMemo(() => {\n    if (collapse !== \"stack\" || orderedAreaKeys.length === 0) {\n      return undefined;\n    }\n    return orderedAreaKeys.map((area) => `\"${area}\"`).join(\" \");\n  }, [collapse, orderedAreaKeys]);\n\n  const areaNodes: React.ReactElement[] = [];\n\n  templateAreas.forEach((key) => {\n    const content = areas[key];\n    if (content == null) {\n      return;\n    }\n    const definedContent = content as React.ReactNode;\n    areaNodes.push(\n      <div key={key} style={{ gridArea: key }}>\n        {definedContent}\n      </div>,\n    );\n  });\n\n  Object.entries(areas).forEach(([key, content]) => {\n    if (content == null || templateAreas.includes(key as TAreas)) {\n      return;\n    }\n    const definedContent = content as React.ReactNode;\n    areaNodes.push(\n      <div key={key} style={{ gridArea: key }}>\n        {definedContent}\n      </div>,\n    );\n  });\n\n  const finalStyle = {\n    ...(mergedStyle ?? {}),\n    \"--grid-template-areas\": templateString,\n    ...(collapsedTemplateString\n      ? { \"--grid-template-areas-collapsed\": collapsedTemplateString }\n      : undefined),\n  } as React.CSSProperties;\n\n  return (\n    <Component\n      className={cn(styles.grid, className)}\n      style={finalStyle}\n      data-collapse={collapse === \"none\" ? undefined : collapse}\n      data-flow={flow === \"column\" ? \"column\" : undefined}\n      {...rest}\n    >\n      {areaNodes}\n      {children}\n    </Component>\n  );\n}\n","import Grid from \"@/components/layout/Grid\";\n\nexport default Grid;\nexport type {\n  GridCollapseMode,\n  GridProps,\n  GridTemplate,\n  GridTemplateCell,\n  GridTemplateRow,\n} from \"@/components/layout/Grid\";\nexport type { SpacingToken } from \"@/components/layout/shared\";\n","// src/components/ui/layout/DecorLayer.tsx\nimport { forwardRef, type HTMLAttributes } from \"react\";\n\nimport { cn } from \"@/lib/utils\";\n\nexport type DecorLayerVariant = \"grid\" | \"drip\";\n\nexport interface DecorLayerProps\n  extends Omit<HTMLAttributes<HTMLDivElement>, \"aria-hidden\"> {\n  variant: DecorLayerVariant;\n}\n\nconst DecorLayer = forwardRef<HTMLDivElement, DecorLayerProps>(\n  ({ className, variant, ...rest }, ref) => {\n    return (\n      <div\n        {...rest}\n        ref={ref}\n        aria-hidden\n        data-variant={variant}\n        className={cn(\n          \"pointer-events-none isolation-isolate z-[var(--z-decor)]\",\n          className\n        )}\n      />\n    );\n  }\n);\n\nDecorLayer.displayName = \"DecorLayer\";\n\nexport default DecorLayer;\n","import * as React from \"react\";\n\nimport { cn } from \"@/lib/utils\";\n\nimport styles from \"./Sidebar.module.css\";\nimport {\n  getSpacingValue,\n  mergeStyleVars,\n  type LayoutElement,\n  type SpacingToken,\n} from \"./shared\";\n\ntype SidebarSide = \"start\" | \"end\";\n\ntype SidebarOwnProps<TElement extends LayoutElement> = {\n  as?: TElement;\n  className?: string;\n  style?: React.CSSProperties;\n  /** Content rendered inside the sidebar pane. */\n  sidebar: React.ReactNode;\n  gap?: SpacingToken;\n  /** Width reserved for the sidebar column on wide layouts. */\n  width?: string;\n  /** Switches the sidebar column to the opposite edge. */\n  side?: SidebarSide;\n  /** Container width that triggers the stacked layout. Defaults to `64ch`. */\n  collapseBelow?: string;\n  /** Overrides the collapsed order independent of `side`. */\n  collapseTo?: SidebarSide;\n  children?: React.ReactNode;\n};\n\nexport type SidebarProps<TElement extends LayoutElement = \"section\"> =\n  SidebarOwnProps<TElement> &\n    Omit<\n      React.ComponentPropsWithoutRef<TElement>,\n      keyof SidebarOwnProps<TElement>\n    >;\n\nexport default function Sidebar<TElement extends LayoutElement = \"section\">({\n  as,\n  className,\n  style,\n  sidebar,\n  gap,\n  width,\n  side = \"start\",\n  collapseBelow,\n  collapseTo,\n  children,\n  ...rest\n}: SidebarProps<TElement>) {\n  const Component = (as ?? \"section\") as LayoutElement;\n  const gapValue = getSpacingValue(gap);\n  const collapseOrder = collapseTo ?? (side === \"start\" ? \"start\" : \"end\");\n\n  const mergedStyle = mergeStyleVars(style, {\n    \"--sidebar-gap\": gapValue,\n    \"--sidebar-width\": width,\n    \"--sidebar-breakpoint\": collapseBelow,\n  });\n\n  return (\n    <Component\n      className={cn(styles.sidebar, className)}\n      data-side={side}\n      data-collapse={collapseOrder}\n      style={mergedStyle}\n      {...rest}\n    >\n      <div className={styles.pane}>{sidebar}</div>\n      <div className={styles.content}>{children}</div>\n    </Component>\n  );\n}\n","import Sidebar from \"@/components/layout/Sidebar\";\n\nexport default Sidebar;\nexport type { SidebarProps } from \"@/components/layout/Sidebar\";\n","import * as React from \"react\";\n\nimport { cn } from \"@/lib/utils\";\n\nexport interface SkipLinkProps\n  extends Omit<React.ComponentPropsWithoutRef<\"a\">, \"href\"> {\n  /**\n   * ID of the landmark to focus when activated. A leading `#` is optional.\n   */\n  targetId: string;\n  /**\n   * Accessible label for the skip action. Defaults to \"Skip to main content\".\n   */\n  children?: React.ReactNode;\n  /**\n   * Optional href override when linking outside of the current page.\n   */\n  href?: string;\n}\n\nconst BASE_CLASSES =\n  \"fixed left-[var(--space-4)] top-[var(--space-4)] z-50 inline-flex items-center rounded-[var(--radius-lg)] bg-background px-[var(--space-4)] py-[var(--space-2)] text-ui font-medium text-foreground shadow-outline-subtle outline-none transition-all duration-motion-sm ease-out opacity-0 -translate-y-full pointer-events-none focus-visible:translate-y-0 focus-visible:opacity-100 focus-visible:pointer-events-auto focus-visible:shadow-ring focus-visible:no-underline focus-visible:outline-none hover:shadow-ring focus-visible:active:translate-y-[var(--space-1)]\";\n\nconst SkipLink = React.forwardRef<HTMLAnchorElement, SkipLinkProps>(\n  (\n    {\n      targetId,\n      children = \"Skip to main content\",\n      className,\n      href,\n      ...props\n    },\n    ref,\n  ) => {\n    const normalizedTarget = targetId.startsWith(\"#\")\n      ? targetId\n      : `#${targetId}`;\n    const resolvedHref = href ?? normalizedTarget;\n\n    return (\n      <a\n        {...props}\n        ref={ref}\n        className={cn(BASE_CLASSES, className)}\n        href={resolvedHref}\n      >\n        {children}\n      </a>\n    );\n  },\n);\n\nSkipLink.displayName = \"SkipLink\";\n\nexport default SkipLink;\n","import * as React from \"react\";\n\nimport { cn } from \"@/lib/utils\";\n\nimport styles from \"./Stack.module.css\";\nimport {\n  getSpacingValue,\n  mergeStyleVars,\n  type LayoutElement,\n  type SpacingToken,\n} from \"./shared\";\n\ntype StackOwnProps<TElement extends LayoutElement> = {\n  as?: TElement;\n  className?: string;\n  style?: React.CSSProperties;\n  gap?: SpacingToken;\n  /** Optional larger gap applied once the container exceeds 48rem. */\n  largeGap?: SpacingToken;\n  align?: React.CSSProperties[\"alignItems\"];\n  justify?: React.CSSProperties[\"justifyContent\"];\n  children?: React.ReactNode;\n};\n\nexport type StackProps<TElement extends LayoutElement = \"div\"> =\n  StackOwnProps<TElement> &\n    Omit<\n      React.ComponentPropsWithoutRef<TElement>,\n      keyof StackOwnProps<TElement>\n    >;\n\nexport default function Stack<TElement extends LayoutElement = \"div\">({\n  as,\n  className,\n  style,\n  gap,\n  largeGap,\n  align,\n  justify,\n  children,\n  ...rest\n}: StackProps<TElement>) {\n  const Component = (as ?? \"div\") as LayoutElement;\n  const gapValue = getSpacingValue(gap);\n  const largeGapValue = getSpacingValue(largeGap);\n\n  let mergedStyle = mergeStyleVars(style, {\n    \"--stack-gap\": gapValue,\n    \"--stack-gap-lg\": largeGapValue,\n  });\n\n  if (align) {\n    mergedStyle = { ...(mergedStyle ?? {}), alignItems: align };\n  }\n\n  if (justify) {\n    mergedStyle = { ...(mergedStyle ?? {}), justifyContent: justify };\n  }\n\n  return (\n    <Component\n      className={cn(styles.stack, className)}\n      style={mergedStyle}\n      {...rest}\n    >\n      {children}\n    </Component>\n  );\n}\n","import Stack from \"@/components/layout/Stack\";\n\nexport default Stack;\nexport type { StackProps } from \"@/components/layout/Stack\";\n","import * as React from \"react\";\n\nimport { cn } from \"@/lib/utils\";\n\nimport styles from \"./Switcher.module.css\";\nimport {\n  getSpacingValue,\n  mergeStyleVars,\n  type LayoutElement,\n  type SpacingToken,\n} from \"./shared\";\n\ntype SwitcherDistribution = \"fit\" | \"fill\";\n\ntype SwitcherOwnProps<TElement extends LayoutElement> = {\n  as?: TElement;\n  className?: string;\n  style?: React.CSSProperties;\n  gap?: SpacingToken;\n  align?: React.CSSProperties[\"alignItems\"];\n  /** Minimum column width before items wrap to the next row. */\n  minItemWidth?: string;\n  /** Container width at which the layout switches to columns. */\n  threshold?: string;\n  /**\n   * Controls how tracks fill the available space. `fit` uses `auto-fit`, while\n   * `fill` uses `auto-fill` to preserve empty tracks.\n   */\n  distribution?: SwitcherDistribution;\n  children?: React.ReactNode;\n};\n\nexport type SwitcherProps<TElement extends LayoutElement = \"div\"> =\n  SwitcherOwnProps<TElement> &\n    Omit<\n      React.ComponentPropsWithoutRef<TElement>,\n      keyof SwitcherOwnProps<TElement>\n    >;\n\nexport default function Switcher<TElement extends LayoutElement = \"div\">({\n  as,\n  className,\n  style,\n  gap,\n  align,\n  minItemWidth,\n  threshold,\n  distribution = \"fit\",\n  children,\n  ...rest\n}: SwitcherProps<TElement>) {\n  const Component = (as ?? \"div\") as LayoutElement;\n  const gapValue = getSpacingValue(gap);\n\n  let mergedStyle = mergeStyleVars(style, {\n    \"--switcher-gap\": gapValue,\n    \"--switcher-align\": align,\n    \"--switcher-min\": minItemWidth,\n    \"--switcher-threshold\": threshold,\n  });\n\n  if (align) {\n    mergedStyle = { ...(mergedStyle ?? {}), alignItems: align };\n  }\n\n  return (\n    <Component\n      className={cn(styles.switcher, className)}\n      data-distribution={distribution === \"fill\" ? \"fill\" : undefined}\n      style={mergedStyle}\n      {...rest}\n    >\n      {children}\n    </Component>\n  );\n}\n","import Switcher from \"@/components/layout/Switcher\";\n\nexport default Switcher;\nexport type { SwitcherProps } from \"@/components/layout/Switcher\";\n","// Auto-generated by scripts/generate-ui-index.ts\n// Do not edit directly.\nexport { default as AIAbortButton } from \"./ai/AIAbortButton\";\nexport * from \"./ai/AIAbortButton\";\nexport { default as AIConfidenceHint } from \"./ai/AIConfidenceHint\";\nexport * from \"./ai/AIConfidenceHint\";\nexport { default as AIErrorCard } from \"./ai/AIErrorCard\";\nexport * from \"./ai/AIErrorCard\";\nexport { default as AIExplainTooltip } from \"./ai/AIExplainTooltip\";\nexport * from \"./ai/AIExplainTooltip\";\nexport { default as AILoadingShimmer } from \"./ai/AILoadingShimmer\";\nexport * from \"./ai/AILoadingShimmer\";\nexport { default as AIRetryErrorBubble } from \"./ai/AIRetryErrorBubble\";\nexport * from \"./ai/AIRetryErrorBubble\";\nexport { default as AITypingIndicator } from \"./ai/AITypingIndicator\";\nexport * from \"./ai/AITypingIndicator\";\nexport { default as AnimationToggle } from \"./AnimationToggle\";\nexport { default as CatCompanion } from \"./CatCompanion\";\nexport { default as Cluster } from \"./Cluster\";\nexport * from \"./Cluster\";\nexport { default as Progress } from \"./feedback/Progress\";\nexport { default as Skeleton } from \"./feedback/Skeleton\";\nexport * from \"./feedback/Skeleton\";\nexport { default as Snackbar } from \"./feedback/Snackbar\";\nexport { default as Spinner } from \"./feedback/Spinner\";\nexport * from \"./feedback/Spinner\";\nexport { default as Grid } from \"./Grid\";\nexport * from \"./Grid\";\nexport { default as HeroImage } from \"./HeroImage\";\nexport * from \"./HeroImage\";\nexport * from \"./hooks/useDialogTrap\";\nexport * from \"./hooks/useFloatingStyleClass\";\nexport * from \"./hooks/useScopedCssVars\";\nexport { default as Label } from \"./Label\";\nexport * from \"./Label\";\nexport { default as DecorLayer } from \"./layout/DecorLayer\";\nexport * from \"./layout/DecorLayer\";\nexport { default as Header } from \"./layout/Header\";\nexport * from \"./layout/Header\";\nexport * from \"./layout/Hero\";\nexport { default as Hero } from \"./layout/hero/Hero\";\nexport * from \"./layout/hero/Hero\";\nexport * from \"./layout/hero/HeroGlitchStyles\";\nexport * from \"./layout/hero/HeroImage\";\nexport * from \"./layout/hero/HeroSearchBar\";\nexport * from \"./layout/hero/HeroTabs\";\nexport * from \"./layout/hero/useHeroStyles\";\nexport * from \"./layout/NeomorphicFrameStyles\";\nexport { default as NeomorphicHeroFrame } from \"./layout/NeomorphicHeroFrame\";\nexport * from \"./layout/NeomorphicHeroFrame\";\nexport { default as PageHeader } from \"./layout/PageHeader\";\nexport * from \"./layout/PageHeader\";\nexport { default as PageShell } from \"./layout/PageShell\";\nexport * from \"./layout/PageShell\";\nexport { default as SectionCard } from \"./layout/SectionCard\";\nexport * from \"./layout/SectionCard\";\nexport { default as Split } from \"./layout/Split\";\nexport { default as TabBar } from \"./layout/TabBar\";\nexport * from \"./layout/TabBar\";\nexport { default as TitleBar } from \"./layout/TitleBar\";\nexport { default as PillarBadge } from \"./league/pillars/PillarBadge\";\nexport { default as PillarSelector } from \"./league/pillars/PillarSelector\";\nexport { default as SideSelector } from \"./league/SideSelector\";\nexport * from \"./league/SideSelector\";\nexport { default as Modal } from \"./Modal\";\nexport * from \"./Modal\";\nexport { default as AvatarFrame } from \"./primitives/AvatarFrame\";\nexport * from \"./primitives/AvatarFrame\";\nexport { default as Badge } from \"./primitives/Badge\";\nexport * from \"./primitives/Badge\";\nexport { default as BlobContainer } from \"./primitives/BlobContainer\";\nexport * from \"./primitives/BlobContainer\";\nexport { default as Button } from \"./primitives/Button\";\nexport * from \"./primitives/Button\";\nexport { default as Card } from \"./primitives/Card\";\nexport * from \"./primitives/Card\";\nexport { default as DripEdge } from \"./primitives/DripEdge\";\nexport * from \"./primitives/DripEdge\";\nexport { default as Field } from \"./primitives/Field\";\nexport * from \"./primitives/Field\";\nexport { default as GlitchProgress } from \"./primitives/GlitchProgress\";\nexport * from \"./primitives/GlitchProgress\";\nexport * from \"./primitives/GlitchSegmented\";\nexport { default as IconButton } from \"./primitives/IconButton\";\nexport * from \"./primitives/IconButton\";\nexport { default as Input } from \"./primitives/Input\";\nexport * from \"./primitives/Input\";\nexport { default as IssueBadge } from \"./primitives/IssueBadge\";\nexport * from \"./primitives/IssueBadge\";\nexport { default as NeoCard } from \"./primitives/NeoCard\";\nexport * from \"./primitives/NeoCard\";\nexport * from \"./primitives/Neu\";\nexport { default as SearchBar } from \"./primitives/SearchBar\";\nexport * from \"./primitives/SearchBar\";\nexport { default as SegmentedButton } from \"./primitives/SegmentedButton\";\nexport * from \"./primitives/SegmentedButton\";\nexport { default as Tabs } from \"./primitives/Tabs\";\nexport * from \"./primitives/Tabs\";\nexport { default as Textarea } from \"./primitives/Textarea\";\nexport * from \"./primitives/Textarea\";\nexport { default as VirtualizedList } from \"./primitives/VirtualizedList\";\nexport * from \"./primitives/VirtualizedList\";\nexport { default as RadioIconGroup } from \"./radio/RadioIconGroup\";\nexport * from \"./radio/RadioIconGroup\";\nexport * from \"./radio/tone\";\nexport { default as Select } from \"./Select\";\nexport * from \"./Select\";\nexport { default as AnimatedSelect } from \"./select/AnimatedSelect\";\nexport * from \"./select/AnimatedSelectList\";\nexport * from \"./select/AnimatedSelectTrigger\";\nexport { default as NativeSelect } from \"./select/NativeSelect\";\nexport * from \"./select/shared\";\nexport * from \"./select/useAnimatedSelect\";\nexport { default as Sheet } from \"./Sheet\";\nexport * from \"./Sheet\";\nexport { default as Sidebar } from \"./Sidebar\";\nexport * from \"./Sidebar\";\nexport { default as SkipLink } from \"./SkipLink\";\nexport * from \"./SkipLink\";\nexport { default as Stack } from \"./Stack\";\nexport * from \"./Stack\";\nexport { default as Switcher } from \"./Switcher\";\nexport * from \"./Switcher\";\nexport { default as BackgroundPicker } from \"./theme/BackgroundPicker\";\nexport * from \"./theme/BackgroundPicker\";\nexport { default as SettingsSelect } from \"./theme/SettingsSelect\";\nexport * from \"./theme/SettingsSelect\";\nexport { default as ThemePicker } from \"./theme/ThemePicker\";\nexport * from \"./theme/ThemePicker\";\nexport { default as ThemeToggle } from \"./theme/ThemeToggle\";\nexport { default as Toast } from \"./Toast\";\nexport * from \"./Toast\";\nexport { default as CheckCircle } from \"./toggles/CheckCircle\";\nexport * from \"./toggles/NeonIcon\";\nexport { default as Toggle } from \"./toggles/Toggle\";\nexport * from \"./variants\";\nexport { default as LabelGallery } from \"./Label.gallery\";\nexport { default as HeaderGallery } from \"./layout/Header.gallery\";\nexport { default as TabBarGallery } from \"./layout/TabBar.gallery\";\nexport { default as BadgeGallery } from \"./primitives/Badge.gallery\";\nexport { default as ButtonGallery } from \"./primitives/Button.gallery\";\nexport * from \"./primitives/Button.gallery\";\nexport { default as FieldGallery } from \"./primitives/Field.gallery\";\nexport * from \"./primitives/Field.gallery\";\nexport { default as IconButtonGallery } from \"./primitives/IconButton.gallery\";\nexport * from \"./primitives/IconButton.gallery\";\nexport { default as InputGallery } from \"./primitives/Input.gallery\";\nexport * from \"./primitives/Input.gallery\";\nexport { default as SearchBarGallery } from \"./primitives/SearchBar.gallery\";\nexport { default as SegmentedButtonGallery } from \"./primitives/SegmentedButton.gallery\";\nexport * from \"./primitives/SegmentedButton.gallery\";\nexport { default as TabsGallery } from \"./primitives/Tabs.gallery\";\nexport { default as TextareaGallery } from \"./primitives/Textarea.gallery\";\nexport { default as RadioIconGroupGallery } from \"./radio/RadioIconGroup.gallery\";\nexport * from \"./radio/RadioIconGroup.gallery\";\nexport { default as SelectGallery } from \"./Select.gallery\";\nexport { default as NeonIconGallery } from \"./toggles/NeonIcon.gallery\";\nexport { default as ToggleGallery } from \"./toggles/Toggle.gallery\";\n","\"use client\";\n\nimport * as React from \"react\";\n\nimport { createGalleryPreview, defineGallerySection } from \"@/components/gallery/registry\";\nimport { cn } from \"@/lib/utils\";\n\nimport Select from \"./Select\";\nimport type { AnimatedSelectProps } from \"./select/shared\";\n\ntype SelectStateSpec = {\n  id: string;\n  name: string;\n  buttonClassName?: string;\n  className?: string;\n  props?:\n    | (Partial<Omit<AnimatedSelectProps, \"items\">> & {\n        items?: AnimatedSelectProps[\"items\"];\n      })\n    | undefined;\n  code?: string;\n};\n\nconst SELECT_STATES: readonly SelectStateSpec[] = [\n  {\n    id: \"default\",\n    name: \"Default\",\n    code: \"<Select placeholder=\\\"Animated select\\\" items={items} />\",\n  },\n  {\n    id: \"hover\",\n    name: \"Hover\",\n    buttonClassName: \"bg-[--hover]\",\n    code: \"<Select buttonClassName=\\\"bg-[--hover]\\\" placeholder=\\\"Hover\\\" items={items} />\",\n  },\n  {\n    id: \"focus-visible\",\n    name: \"Focus-visible\",\n    className:\n      \"rounded-[var(--control-radius)] ring-2 ring-[hsl(var(--ring))] ring-offset-0\",\n    code: \"<Select className=\\\"rounded-[var(--control-radius)] ring-2 ring-[hsl(var(--ring))] ring-offset-0\\\" placeholder=\\\"Focus-visible\\\" items={items} />\",\n  },\n  {\n    id: \"active\",\n    name: \"Active\",\n    buttonClassName: \"bg-[--active]\",\n    code: \"<Select buttonClassName=\\\"bg-[--active]\\\" placeholder=\\\"Active\\\" items={items} />\",\n  },\n  {\n    id: \"disabled\",\n    name: \"Disabled\",\n    props: { disabled: true },\n    code: \"<Select placeholder=\\\"Disabled\\\" disabled items={items} />\",\n  },\n  {\n    id: \"loading\",\n    name: \"Loading\",\n    buttonClassName: \"pointer-events-none opacity-loading\",\n    code: \"<Select buttonClassName=\\\"pointer-events-none opacity-loading\\\" placeholder=\\\"Loading\\\" items={items} />\",\n  },\n];\n\nconst ITEMS = [\n  { value: \"one\", label: \"One\" },\n  { value: \"two\", label: \"Two\" },\n  { value: \"three\", label: \"Three\" },\n] as const;\n\ntype ItemValue = (typeof ITEMS)[number][\"value\"];\n\nfunction SelectStatePreview({ state }: { state: SelectStateSpec }) {\n  const { props, className, buttonClassName, name } = state;\n  const { items: stateItems, placeholder, ariaLabel, ...restProps } = props ?? {};\n  const sampleItems = stateItems ?? ITEMS;\n  const baseClassName = \"w-full sm:w-auto\";\n  const finalClassName = cn(baseClassName, className);\n\n  return (\n    <Select\n      items={[...sampleItems]}\n      placeholder={placeholder ?? name}\n      ariaLabel={ariaLabel ?? name}\n      buttonClassName={buttonClassName}\n      className={finalClassName}\n      {...restProps}\n    />\n  );\n}\n\nfunction SelectGalleryPreview() {\n  const [value, setValue] = React.useState<ItemValue>(ITEMS[0]?.value ?? \"one\");\n\n  return (\n    <div className=\"flex flex-col gap-[var(--space-4)]\">\n      <div className=\"grid grid-cols-1 gap-[var(--space-3)] sm:grid-cols-2\">\n        <Select\n          items={[...ITEMS]}\n          value={value}\n          onChange={(next) => setValue(next as ItemValue)}\n          placeholder=\"Animated select\"\n          className=\"w-full sm:w-auto\"\n        />\n        <Select\n          items={[...ITEMS]}\n          variant=\"native\"\n          value={value}\n          onChange={(next) => setValue(next as ItemValue)}\n          aria-label=\"Native select\"\n          className=\"w-full sm:w-auto\"\n        />\n      </div>\n      <div className=\"flex flex-col gap-[var(--space-2)]\">\n        <p className=\"text-caption text-muted-foreground\">States</p>\n        <div className=\"flex flex-wrap gap-[var(--space-2)]\">\n          {SELECT_STATES.map((state) => (\n            <SelectStatePreview key={state.id} state={state} />\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default defineGallerySection({\n  id: \"inputs\",\n  entries: [\n    {\n      id: \"select\",\n      name: \"Select\",\n      description: \"Animated trigger with native fallback\",\n      kind: \"primitive\",\n      tags: [\"select\", \"input\"],\n      props: [\n        {\n          name: \"items\",\n          type: \"readonly { value: string; label: React.ReactNode }[]\",\n          required: true,\n        },\n        { name: \"value\", type: \"string | undefined\" },\n        { name: \"onChange\", type: \"(value: string) => void\" },\n        { name: \"placeholder\", type: \"string\" },\n        { name: \"variant\", type: '\"animated\" | \"native\"', defaultValue: '\"animated\"' },\n        { name: \"disabled\", type: \"boolean\", defaultValue: \"false\" },\n      ],\n      axes: [\n        {\n          id: \"variant\",\n          label: \"Variant\",\n          type: \"variant\",\n          values: [\n            { value: \"Animated\" },\n            { value: \"Native\" },\n          ],\n        },\n        {\n          id: \"state\",\n          label: \"State\",\n          type: \"state\",\n          values: SELECT_STATES.map(({ name }) => ({ value: name })),\n        },\n      ],\n      preview: createGalleryPreview({\n        id: \"ui:select:variants\",\n        render: () => <SelectGalleryPreview />,\n      }),\n      states: SELECT_STATES.map((state) => ({\n        id: state.id,\n        name: state.name,\n        code: state.code,\n        preview: createGalleryPreview({\n          id: `ui:select:state:${state.id}`,\n          render: () => <SelectStatePreview state={state} />,\n        }),\n      })),\n        code: `import { cn } from \"@/lib/utils\";\n\nconst items = [\n  { value: \"one\", label: \"One\" },\n  { value: \"two\", label: \"Two\" },\n  { value: \"three\", label: \"Three\" },\n];\n\n  const SELECT_STATES = [\n    { label: \"Default\" },\n    { label: \"Hover\", buttonClassName: \"bg-[--hover]\" },\n    {\n      label: \"Focus-visible\",\n      className: \"rounded-[var(--control-radius)] ring-2 ring-[hsl(var(--ring))] ring-offset-0\",\n    },\n    { label: \"Active\", buttonClassName: \"bg-[--active]\" },\n    { label: \"Disabled\", props: { disabled: true } },\n    {\n      label: \"Loading\",\n      buttonClassName: \"pointer-events-none opacity-loading\",\n    },\n  ];\n\nconst [value, setValue] = React.useState(items[0]?.value ?? \"\");\n\n<div className=\"flex flex-col gap-[var(--space-4)]\">\n  <div className=\"grid grid-cols-1 gap-[var(--space-3)] sm:grid-cols-2\">\n    <Select\n      items={items}\n      value={value}\n      onChange={setValue}\n      placeholder=\"Animated select\"\n      className=\"w-full sm:w-auto\"\n    />\n    <Select\n      items={items}\n      variant=\"native\"\n      value={value}\n      onChange={setValue}\n      aria-label=\"Native select\"\n      className=\"w-full sm:w-auto\"\n    />\n  </div>\n  <div className=\"flex flex-col gap-[var(--space-2)]\">\n    <p className=\"text-caption text-muted-foreground\">States</p>\n    <div className=\"flex flex-wrap gap-[var(--space-2)]\">\n        {SELECT_STATES.map(({ label, buttonClassName, className, props }) => {\n          const { items: stateItems, ...restProps } = props ?? {};\n          const sampleItems = stateItems ?? items;\n          const baseClassName = \"w-full sm:w-auto\";\n          const finalClassName = cn(baseClassName, className);\n\n          return (\n            <Select\n              key={label}\n              items={[...sampleItems]}\n              placeholder={label}\n              ariaLabel={label}\n              buttonClassName={buttonClassName}\n              className={finalClassName}\n              {...restProps}\n            />\n          );\n        })}\n    </div>\n  </div>\n</div>`,\n    },\n  ],\n});\n","\"use client\";\n\nimport * as React from \"react\";\n\nimport { createGalleryPreview, defineGallerySection } from \"@/components/gallery/registry\";\n\nimport Card from \"./Card\";\nimport Tabs, { TabList, TabPanel, type TabListItem } from \"./Tabs\";\n\ntype ProjectTabKey = \"overview\" | \"activity\" | \"files\";\ntype StatusTabKey = \"inbox\" | \"updates\" | \"archive\" | \"disabled\" | \"sync\";\n\nconst focusVisibleClassName = \"ring-2 ring-[var(--theme-ring)] ring-offset-0 outline-none\";\nconst hoverClassName =\n  \"text-foreground bg-[--hover] shadow-[var(--tab-shadow-hover,var(--tab-shadow))]\";\n\nconst projectTabs: TabListItem<ProjectTabKey>[] = [\n  { key: \"overview\", label: \"Overview\" },\n  { key: \"activity\", label: \"Activity\" },\n  { key: \"files\", label: \"Files\" },\n];\n\nconst statusTabs: TabListItem<StatusTabKey>[] = [\n  { key: \"inbox\", label: \"Inbox\" },\n  { key: \"updates\", label: \"Updates\", className: focusVisibleClassName },\n  { key: \"archive\", label: \"Archive\" },\n  { key: \"disabled\", label: \"Disabled\", disabled: true },\n  { key: \"sync\", label: \"Syncing\", loading: true },\n];\n\nconst statusLabels: Record<StatusTabKey, string> = {\n  inbox: \"Inbox\",\n  updates: \"Updates\",\n  archive: \"Archive\",\n  disabled: \"Disabled\",\n  sync: \"Syncing\",\n};\n\ntype PanelCardProps = {\n  title: string;\n  description: string;\n};\n\ntype TabsStateSpec = {\n  id: string;\n  name: string;\n  value: StatusTabKey;\n  items: readonly TabListItem<StatusTabKey>[];\n  code?: string;\n};\n\nconst TABS_STATE_ITEMS: Record<\n  \"active\" | \"hover\" | \"focus-visible\" | \"disabled\" | \"loading\",\n  readonly TabListItem<StatusTabKey>[]\n> = {\n  active: [\n    { key: \"inbox\", label: \"Inbox\" },\n    { key: \"updates\", label: \"Updates\" },\n  ],\n  hover: [\n    { key: \"inbox\", label: \"Inbox\" },\n    { key: \"updates\", label: \"Updates\", className: hoverClassName },\n  ],\n  \"focus-visible\": [\n    { key: \"inbox\", label: \"Inbox\" },\n    { key: \"updates\", label: \"Updates\", className: focusVisibleClassName },\n  ],\n  disabled: [\n    { key: \"inbox\", label: \"Inbox\" },\n    { key: \"disabled\", label: \"Disabled\", disabled: true },\n  ],\n  loading: [\n    { key: \"inbox\", label: \"Inbox\" },\n    { key: \"sync\", label: \"Syncing\", loading: true },\n  ],\n};\n\nconst TABS_STATES: readonly TabsStateSpec[] = [\n  {\n    id: \"active\",\n    name: \"Active\",\n    value: \"updates\",\n    items: TABS_STATE_ITEMS.active,\n    code: `<Tabs value=\"updates\" onValueChange={() => {}}>\n  <TabList\n    ariaLabel=\"Tab state preview\"\n    items={[\n      { key: \"inbox\", label: \"Inbox\" },\n      { key: \"updates\", label: \"Updates\" },\n    ]}\n    linkPanels={false}\n    showBaseline\n  />\n</Tabs>`,\n  },\n  {\n    id: \"hover\",\n    name: \"Hover\",\n    value: \"inbox\",\n    items: TABS_STATE_ITEMS.hover,\n    code: `<Tabs value=\"inbox\" onValueChange={() => {}}>\n  <TabList\n    ariaLabel=\"Tab state preview\"\n    items={[\n      { key: \"inbox\", label: \"Inbox\" },\n      {\n        key: \"updates\",\n        label: \"Updates\",\n        className: \"${hoverClassName}\",\n      },\n    ]}\n    linkPanels={false}\n    showBaseline\n  />\n</Tabs>`,\n  },\n  {\n    id: \"focus-visible\",\n    name: \"Focus-visible\",\n    value: \"inbox\",\n    items: TABS_STATE_ITEMS[\"focus-visible\"],\n    code: `<Tabs value=\"inbox\" onValueChange={() => {}}>\n  <TabList\n    ariaLabel=\"Tab state preview\"\n    items={[\n      { key: \"inbox\", label: \"Inbox\" },\n      {\n        key: \"updates\",\n        label: \"Updates\",\n        className: \"${focusVisibleClassName}\",\n      },\n    ]}\n    linkPanels={false}\n    showBaseline\n  />\n</Tabs>`,\n  },\n  {\n    id: \"disabled\",\n    name: \"Disabled\",\n    value: \"inbox\",\n    items: TABS_STATE_ITEMS.disabled,\n    code: `<Tabs value=\"inbox\" onValueChange={() => {}}>\n  <TabList\n    ariaLabel=\"Tab state preview\"\n    items={[\n      { key: \"inbox\", label: \"Inbox\" },\n      { key: \"disabled\", label: \"Disabled\", disabled: true },\n    ]}\n    linkPanels={false}\n    showBaseline\n  />\n</Tabs>`,\n  },\n  {\n    id: \"loading\",\n    name: \"Loading\",\n    value: \"inbox\",\n    items: TABS_STATE_ITEMS.loading,\n    code: `<Tabs value=\"inbox\" onValueChange={() => {}}>\n  <TabList\n    ariaLabel=\"Tab state preview\"\n    items={[\n      { key: \"inbox\", label: \"Inbox\" },\n      { key: \"sync\", label: \"Syncing\", loading: true },\n    ]}\n    linkPanels={false}\n    showBaseline\n  />\n</Tabs>`,\n  },\n];\n\nfunction PanelCard({ title, description }: PanelCardProps) {\n  return (\n    <Card className=\"space-y-[var(--space-2)]\">\n      <p className=\"text-title font-semibold tracking-[-0.01em]\">{title}</p>\n      <p className=\"text-ui text-muted-foreground\">{description}</p>\n    </Card>\n  );\n}\n\nfunction TabsGalleryPreview() {\n  const [statusTab, setStatusTab] = React.useState<StatusTabKey>(\"inbox\");\n\n  return (\n    <div className=\"flex flex-col gap-[var(--space-6)]\">\n      <Tabs defaultValue=\"overview\">\n        <div className=\"space-y-[var(--space-3)]\">\n          <TabList ariaLabel=\"Project sections\" items={projectTabs} />\n          <TabPanel value=\"overview\">\n            <PanelCard\n              title=\"Overview\"\n              description=\"Keep a high-level summary of the plan visible for the team.\"\n            />\n          </TabPanel>\n          <TabPanel value=\"activity\">\n            <PanelCard\n              title=\"Activity\"\n              description=\"Show chronological activity without leaving the workspace.\"\n            />\n          </TabPanel>\n          <TabPanel value=\"files\">\n            <PanelCard\n              title=\"Files\"\n              description=\"Store briefs, shared assets, and notes alongside the plan.\"\n            />\n          </TabPanel>\n        </div>\n      </Tabs>\n\n      <Tabs value={statusTab} onValueChange={setStatusTab}>\n        <div className=\"space-y-[var(--space-3)]\">\n          <TabList\n            ariaLabel=\"Notification filters\"\n            items={statusTabs}\n            linkPanels={false}\n            showBaseline\n          />\n          <Card className=\"text-ui text-muted-foreground\">\n            Active tab: <span className=\"font-medium text-foreground\">{statusLabels[statusTab]}</span>\n          </Card>\n        </div>\n      </Tabs>\n    </div>\n  );\n}\n\nfunction TabsStatePreview({ state }: { state: TabsStateSpec }) {\n  return (\n    <Tabs value={state.value} onValueChange={() => {}}>\n      <div className=\"space-y-[var(--space-3)]\">\n        <TabList\n          ariaLabel=\"Tab state preview\"\n          items={[...state.items]}\n          linkPanels={false}\n          showBaseline\n        />\n      </div>\n    </Tabs>\n  );\n}\n\nexport default defineGallerySection({\n  id: \"toggles\",\n  entries: [\n    {\n      id: \"tabs\",\n      name: \"Tabs\",\n      description: \"Context provider that links TabList controls with TabPanel content.\",\n      kind: \"primitive\",\n      tags: [\"tabs\", \"navigation\"],\n      axes: [\n        {\n          id: \"layout\",\n          label: \"Layout\",\n          type: \"variant\",\n          values: [\n            { value: \"Panels\" },\n            { value: \"Controlled list\" },\n          ],\n        },\n        {\n          id: \"state\",\n          label: \"State\",\n          type: \"state\",\n          values: TABS_STATES.map(({ name }) => ({ value: name })),\n        },\n      ],\n      preview: createGalleryPreview({\n        id: \"ui:tabs:wiring\",\n        render: () => <TabsGalleryPreview />,\n      }),\n      states: TABS_STATES.map((state) => ({\n        id: state.id,\n        name: state.name,\n        code: state.code,\n        preview: createGalleryPreview({\n          id: `ui:tabs:state:${state.id}`,\n          render: () => <TabsStatePreview state={state} />,\n        }),\n      })),\n      code: `<Tabs defaultValue=\"overview\">\n  <div className=\"space-y-[var(--space-3)]\">\n    <TabList\n      items={[\n        { key: \"overview\", label: \"Overview\" },\n        { key: \"activity\", label: \"Activity\" },\n        { key: \"files\", label: \"Files\" },\n      ]}\n      ariaLabel=\"Project sections\"\n    />\n    <TabPanel value=\"overview\">\n      <Card className=\"space-y-[var(--space-2)]\">\n        <p className=\"text-title font-semibold tracking-[-0.01em]\">Overview</p>\n        <p className=\"text-ui text-muted-foreground\">\n          Keep a high-level summary of the plan visible for the team.\n        </p>\n      </Card>\n    </TabPanel>\n    <TabPanel value=\"activity\">\n      <Card className=\"space-y-[var(--space-2)]\">\n        <p className=\"text-title font-semibold tracking-[-0.01em]\">Activity</p>\n        <p className=\"text-ui text-muted-foreground\">\n          Show chronological activity without leaving the workspace.\n        </p>\n      </Card>\n    </TabPanel>\n    <TabPanel value=\"files\">\n      <Card className=\"space-y-[var(--space-2)]\">\n        <p className=\"text-title font-semibold tracking-[-0.01em]\">Files</p>\n        <p className=\"text-ui text-muted-foreground\">\n          Store briefs, shared assets, and notes alongside the plan.\n        </p>\n      </Card>\n    </TabPanel>\n  </div>\n</Tabs>\n\n<Tabs value=\"inbox\" onValueChange={() => {}}>\n  <div className=\"space-y-[var(--space-3)]\">\n    <TabList\n      ariaLabel=\"Notification filters\"\n      items={[\n        { key: \"inbox\", label: \"Inbox\" },\n        {\n          key: \"updates\",\n          label: \"Updates\",\n          className: \"ring-2 ring-[var(--theme-ring)] ring-offset-0 outline-none\",\n        },\n        { key: \"archive\", label: \"Archive\" },\n        { key: \"disabled\", label: \"Disabled\", disabled: true },\n        { key: \"sync\", label: \"Syncing\", loading: true },\n      ]}\n      linkPanels={false}\n      showBaseline\n    />\n    <Card className=\"text-ui text-muted-foreground\">\n      Active tab: <span className=\"font-medium text-foreground\">Inbox</span>\n    </Card>\n  </div>\n</Tabs>`,\n    },\n  ],\n});\n","import * as React from \"react\";\n\nimport { createGalleryPreview, defineGallerySection } from \"@/components/gallery/registry\";\n\nimport Input from \"./Input\";\n\nexport type InputStateSpec = {\n  id: string;\n  name: string;\n  className?: string;\n  props: React.ComponentProps<typeof Input>;\n  code?: string;\n};\n\nconst INPUT_STATES: readonly InputStateSpec[] = [\n  {\n    id: \"default\",\n    name: \"Default\",\n    props: { placeholder: \"Default\" },\n    code: \"<Input placeholder=\\\"Default\\\" />\",\n  },\n  {\n    id: \"hover\",\n    name: \"Hover\",\n    className: \"bg-[--hover]\",\n    props: { placeholder: \"Hover\" },\n    code: \"<Input className=\\\"bg-[--hover]\\\" placeholder=\\\"Hover\\\" />\",\n  },\n  {\n    id: \"focus\",\n    name: \"Focus\",\n    className:\n      \"ring-2 ring-[var(--ring-contrast)] shadow-[var(--shadow-glow-md)] [outline:var(--spacing-0-5)_solid_var(--ring-contrast)] [outline-offset:var(--spacing-0-5)]\",\n    props: { placeholder: \"Focus\" },\n    code:\n      \"<Input className=\\\"ring-2 ring-[var(--ring-contrast)] shadow-[var(--shadow-glow-md)] [outline:var(--spacing-0-5)_solid_var(--ring-contrast)] [outline-offset:var(--spacing-0-5)]\\\" placeholder=\\\"Focus\\\" />\",\n  },\n  {\n    id: \"active\",\n    name: \"Active\",\n    className: \"bg-[--active]\",\n    props: { placeholder: \"Active\" },\n    code: \"<Input className=\\\"bg-[--active]\\\" placeholder=\\\"Active\\\" />\",\n  },\n  {\n    id: \"disabled\",\n    name: \"Disabled\",\n    props: { placeholder: \"Disabled\", disabled: true },\n    code: \"<Input placeholder=\\\"Disabled\\\" disabled />\",\n  },\n  {\n    id: \"loading\",\n    name: \"Loading\",\n    props: { placeholder: \"Loading\", \"data-loading\": true },\n    code: \"<Input placeholder=\\\"Loading\\\" data-loading />\",\n  },\n  {\n    id: \"custom-ring\",\n    name: \"Custom ring\",\n    props: { placeholder: \"Custom ring\", ringTone: \"danger\" },\n    code: \"<Input placeholder=\\\"Custom ring\\\" ringTone=\\\"danger\\\" />\",\n  },\n  {\n    id: \"glitch\",\n    name: \"Glitch overlay\",\n    props: {\n      placeholder: \"Glitch overlay\",\n      glitch: true,\n      glitchText: \"Summoner search\",\n    },\n    code: `<Input glitch glitchText=\"Summoner search\" placeholder=\"Glitch overlay\" />`,\n  },\n];\n\nexport const INPUT_STATE_SPECS: readonly InputStateSpec[] = INPUT_STATES;\n\nfunction InputStatePreview({ state }: { state: InputStateSpec }) {\n  const { className, props } = state;\n  return <Input className={className} {...props} />;\n}\n\nfunction InputGalleryPreview() {\n  const glitchState = INPUT_STATES.find((state) => state.id === \"glitch\");\n  const standardStates = INPUT_STATES.filter((state) => state.id !== \"glitch\");\n\n  return (\n    <div className=\"flex flex-col gap-[var(--space-2)]\">\n      {standardStates.map((state) => (\n        <InputStatePreview key={state.id} state={state} />\n      ))}\n      {glitchState ? (\n        <div className=\"space-y-[var(--space-1)]\">\n          <InputStatePreview state={glitchState} />\n          <p className=\"text-caption text-muted-foreground\">\n            Field shells use{\" \"}\n            <code className=\"mx-[var(--space-1)]\">\n              --glitch-overlay-button-opacity-reduced\n            </code>\n            so Noir and Hardstuck maintain 4.5:1 placeholder contrast while the\n            overlay animates.\n          </p>\n        </div>\n      ) : null}\n    </div>\n  );\n}\n\nexport default defineGallerySection({\n  id: \"inputs\",\n  entries: [\n    {\n      id: \"input\",\n      name: \"Input\",\n      description: \"Standard text input with semantic states\",\n      kind: \"primitive\",\n      tags: [\"input\", \"text\"],\n      props: [\n        { name: \"placeholder\", type: \"string\" },\n        { name: \"height\", type: '\"sm\" | \"md\" | \"lg\" | \"xl\"', defaultValue: '\"md\"' },\n        { name: \"disabled\", type: \"boolean\", defaultValue: \"false\" },\n        { name: \"data-loading\", type: \"boolean\", defaultValue: \"false\" },\n        {\n          name: \"ringTone\",\n          type: '\"accent\" | \"danger\" | \"primary\" | \"success\" | \"warning\"',\n          defaultValue: \"undefined\",\n        },\n      ],\n      axes: [\n        {\n          id: \"state\",\n          label: \"State\",\n          type: \"state\",\n          values: INPUT_STATES.map(({ name, id }) => ({\n            value: name,\n            description:\n              id === \"glitch\"\n                ? \"Glitch overlay inherits Field's reduced opacity token so Noir + Hardstuck stay above 4.5:1.\"\n                : undefined,\n          })),\n        },\n      ],\n      preview: createGalleryPreview({\n        id: \"ui:input:states\",\n        render: () => <InputGalleryPreview />,\n      }),\n      states: INPUT_STATES.map((state) => ({\n        id: state.id,\n        name: state.name,\n        code: state.code,\n        preview: createGalleryPreview({\n          id: `ui:input:state:${state.id}`,\n          render: () => <InputStatePreview state={state} />,\n        }),\n      })),\n      code: `<div className=\"flex flex-col gap-[var(--space-2)]\">\n  <Input placeholder=\"Default\" />\n  <Input placeholder=\"Hover\" className=\"bg-[--hover]\" />\n  <Input placeholder=\"Focus\" className=\"ring-2 ring-[var(--focus)]\" />\n  <Input placeholder=\"Active\" className=\"bg-[--active]\" />\n  <Input placeholder=\"Disabled\" disabled />\n  <Input placeholder=\"Loading\" data-loading />\n  <Input placeholder=\"Custom ring\" ringTone=\"danger\" />\n</div>`,\n    },\n  ],\n});\n","import * as React from \"react\";\n\nexport const hasTextContent = (node: React.ReactNode): boolean => {\n  if (node === null || node === undefined) return false;\n  if (typeof node === \"boolean\") return false;\n  if (typeof node === \"string\") return node.trim().length > 0;\n  if (typeof node === \"number\") return true;\n  if (Array.isArray(node)) return node.some((item) => hasTextContent(item));\n  if (React.isValidElement<{ children?: React.ReactNode }>(node)) {\n    return hasTextContent(node.props.children ?? null);\n  }\n  return false;\n};\n\nexport function observeMediaQuery(\n  query: string,\n  onChange: (matches: boolean, mediaQuery: MediaQueryList) => void,\n): (() => void) | undefined {\n  if (typeof window === \"undefined\" || typeof window.matchMedia !== \"function\") {\n    return undefined;\n  }\n\n  let mediaQuery: MediaQueryList;\n\n  try {\n    mediaQuery = window.matchMedia(query);\n  } catch {\n    return undefined;\n  }\n\n  const handleChange = (event: MediaQueryListEvent) => {\n    onChange(event.matches, mediaQuery);\n  };\n\n  const handleLegacyChange = () => {\n    onChange(mediaQuery.matches, mediaQuery);\n  };\n\n  onChange(mediaQuery.matches, mediaQuery);\n\n  if (typeof mediaQuery.addEventListener === \"function\") {\n    mediaQuery.addEventListener(\"change\", handleChange);\n    return () => {\n      mediaQuery.removeEventListener(\"change\", handleChange);\n    };\n  }\n\n  if (typeof mediaQuery.addListener === \"function\") {\n    mediaQuery.addListener(handleLegacyChange);\n    return () => {\n      mediaQuery.removeListener(handleLegacyChange);\n    };\n  }\n\n  return undefined;\n}\n\nexport function useMatchMedia(\n  query: string,\n  getServerSnapshot?: () => boolean,\n): boolean {\n  const getMatches = React.useCallback(() => {\n    if (typeof window === \"undefined\") {\n      return typeof getServerSnapshot === \"function\" ? getServerSnapshot() : false;\n    }\n\n    if (typeof window.matchMedia !== \"function\") {\n      return false;\n    }\n\n    try {\n      return window.matchMedia(query).matches;\n    } catch {\n      return false;\n    }\n  }, [query, getServerSnapshot]);\n\n  const [matches, setMatches] = React.useState<boolean>(getMatches);\n\n  React.useEffect(() => {\n    return observeMediaQuery(query, (nextMatches) => {\n      setMatches(nextMatches);\n    });\n  }, [query]);\n\n  return matches;\n}\n","\"use client\";\n\nimport * as React from \"react\";\nimport { createPortal } from \"react-dom\";\nimport Card, { type CardDepth } from \"./primitives/Card\";\nimport IconButton from \"./primitives/IconButton\";\nimport { X } from \"lucide-react\";\nimport { useDialogTrap } from \"./hooks/useDialogTrap\";\nimport useMounted from \"@/lib/useMounted\";\nimport { cn } from \"@/lib/utils\";\n\nexport interface ModalProps\n  extends Omit<React.ComponentProps<typeof Card>, \"depth\" | \"glitch\"> {\n  open: boolean;\n  onClose: () => void;\n  \"aria-labelledby\"?: string;\n  \"aria-describedby\"?: string;\n  depth?: CardDepth;\n  glitch?: boolean;\n}\n\nexport default function Modal({\n  open,\n  onClose,\n  className,\n  children,\n  \"aria-labelledby\": ariaLabelledby,\n  \"aria-describedby\": ariaDescribedby,\n  depth = \"raised\",\n  glitch = false,\n  ...props\n}: ModalProps) {\n  const mounted = useMounted();\n  const dialogRef = React.useRef<HTMLDivElement>(null);\n\n  useDialogTrap({ open: open && mounted, onClose, ref: dialogRef });\n\n  if (!open || !mounted) return null;\n  return createPortal(\n    <div className=\"fixed inset-0 z-50 flex items-center justify-center\">\n      <div\n        role=\"presentation\"\n        aria-hidden=\"true\"\n        tabIndex={-1}\n        className=\"absolute inset-0 bg-background/80 transition-colors duration-motion-sm ease-out motion-reduce:transition-none hover:bg-[hsl(var(--bg)/0.86)] active:bg-[hsl(var(--bg)/0.92)]\"\n        onClick={onClose}\n      />\n      <Card\n        ref={dialogRef}\n        role=\"dialog\"\n        aria-modal=\"true\"\n        aria-labelledby={ariaLabelledby}\n        aria-describedby={ariaDescribedby}\n        depth={depth}\n        glitch={glitch}\n        className={cn(\n          \"relative w-full max-w-[calc(var(--space-8)*6)]\",\n          className,\n        )}\n        {...props}\n      >\n        <IconButton\n          aria-label=\"Close\"\n          size=\"sm\"\n          className=\"absolute right-[var(--space-3)] top-[var(--space-3)]\"\n          onClick={onClose}\n        >\n          <X />\n        </IconButton>\n        {children}\n      </Card>\n    </div>,\n    document.body,\n  );\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"NeonIcon_root__KmP8I\",\"icon\":\"NeonIcon_icon__VoR9B\",\"core\":\"NeonIcon_core__00JNP\",\"aura\":\"NeonIcon_aura__T8IUm\",\"scanlines\":\"NeonIcon_scanlines__GPJRg\",\"ignite\":\"NeonIcon_ignite__RCyHE\",\"powerdown\":\"NeonIcon_powerdown__APeAj\",\"glowPrimary\":\"NeonIcon_glowPrimary__lbriQ\",\"glowAura\":\"NeonIcon_glowAura__mq4T0\",\"wrap\":\"NeonIcon_wrap__Ru8Yf\",\"wrapLit\":\"NeonIcon_wrapLit__moQ9A\",\"content\":\"NeonIcon_content___WF04\",\"coreAnimated\":\"NeonIcon_coreAnimated__IL8bR\",\"niCore\":\"NeonIcon_niCore__KO0Kb\",\"auraAnimated\":\"NeonIcon_auraAnimated__3ZcLy\",\"niAura\":\"NeonIcon_niAura__c1xgt\",\"scanlinesAnimated\":\"NeonIcon_scanlinesAnimated__utAg0\",\"niScan\":\"NeonIcon_niScan__tqGJh\",\"igniteAnimated\":\"NeonIcon_igniteAnimated__q5PZ5\",\"niIgnite\":\"NeonIcon_niIgnite__uRknm\",\"powerdownAnimated\":\"NeonIcon_powerdownAnimated__GugT4\",\"niPowerDown\":\"NeonIcon_niPowerDown__BRhM1\"};","// src/lib/telemetry.ts\n// Lightweight helpers for emitting browser telemetry events.\n\ntype Plausible = (event: string, options?: { props?: Record<string, unknown> }) => void\n\ntype Analytics = {\n  track?: (event: string, properties?: Record<string, unknown>) => void\n}\n\ntype TelemetryEmitDetail = Record<string, unknown> & {\n  dataLayer?: Record<string, unknown>\n}\n\nexport type TelemetryEventPayload = {\n  eventName: string\n  domEventName: string\n  detail: TelemetryEmitDetail\n}\n\nexport function emitTelemetryEvent({ eventName, domEventName, detail }: TelemetryEventPayload) {\n  if (typeof window === 'undefined') return\n\n  const { dataLayer: dataLayerDetail, ...eventDetail } = detail\n\n  window.dispatchEvent(\n    new CustomEvent(domEventName, {\n      detail: eventDetail,\n    }),\n  )\n\n  const plausible = (window as typeof window & { plausible?: Plausible }).plausible\n  plausible?.(eventName, { props: eventDetail })\n\n  const analytics = (window as typeof window & { analytics?: Analytics }).analytics\n  analytics?.track?.(eventName, eventDetail)\n\n  const dataLayer = (window as typeof window & { dataLayer?: unknown[] }).dataLayer\n  if (Array.isArray(dataLayer)) {\n    const payload = dataLayerDetail ?? eventDetail\n    dataLayer.push({ event: eventName, ...payload })\n  }\n}\n\nexport type PlannerIslandErrorDetail = {\n  island: string\n  digest?: string | null\n  message?: string | null\n}\n\nexport function reportPlannerIslandError(detail: PlannerIslandErrorDetail) {\n  emitTelemetryEvent({\n    eventName: 'planner_island_error',\n    domEventName: 'planner:island-error',\n    detail: {\n      island: detail.island,\n      digest: detail.digest ?? null,\n      message: detail.message ?? null,\n      dataLayer: {\n        planner_island: detail.island,\n        planner_island_digest: detail.digest ?? null,\n      },\n    },\n  })\n}\n\n","import { cn } from \"@/lib/utils\";\n\nexport type RadioIconGroupTone =\n  | \"accent\"\n  | \"primary\"\n  | \"success\"\n  | \"warning\"\n  | \"danger\";\n\ntype ToneStyles = {\n  surface: string;\n  text: string;\n  ring: string;\n  glow: string;\n  lift: string;\n};\n\nconst baseLift = cn(\n  \"motion-safe:group-hover/radio:-translate-y-[calc(var(--space-1)/2)]\",\n  \"motion-safe:group-active/radio:translate-y-[calc(var(--space-1)/4)]\",\n  \"motion-reduce:transform-none\",\n);\n\nexport const radioIconGroupToneClasses: Record<RadioIconGroupTone, ToneStyles> = {\n  accent: {\n    surface: cn(\n      \"group-hover/radio:bg-accent/12\",\n      \"group-active/radio:bg-accent/18\",\n      \"peer-checked:border-accent/45\",\n      \"peer-checked:bg-accent/18\",\n      \"peer-checked:text-accent-foreground\",\n    ),\n    text: \"peer-checked:text-accent-foreground\",\n    ring: \"peer-focus-visible:ring-accent\",\n    glow: \"[--radio-glow:var(--accent-overlay)]\",\n    lift: baseLift,\n  },\n  primary: {\n    surface: cn(\n      \"group-hover/radio:bg-primary/12\",\n      \"group-active/radio:bg-primary/18\",\n      \"peer-checked:border-primary/45\",\n      \"peer-checked:bg-primary/18\",\n      \"peer-checked:text-primary-foreground\",\n    ),\n    text: \"peer-checked:text-primary-foreground\",\n    ring: \"peer-focus-visible:ring-primary\",\n    glow: \"[--radio-glow:var(--glow-primary)]\",\n    lift: baseLift,\n  },\n  success: {\n    surface: cn(\n      \"group-hover/radio:bg-success/12\",\n      \"group-active/radio:bg-success/18\",\n      \"peer-checked:border-success/45\",\n      \"peer-checked:bg-success/18\",\n      \"peer-checked:text-success-foreground\",\n    ),\n    text: \"peer-checked:text-success-foreground\",\n    ring: \"peer-focus-visible:ring-success\",\n    glow: \"[--radio-glow:hsl(var(--success-glow))]\",\n    lift: baseLift,\n  },\n  warning: {\n    surface: cn(\n      \"group-hover/radio:bg-warning/14\",\n      \"group-active/radio:bg-warning/18\",\n      \"peer-checked:border-warning/45\",\n      \"peer-checked:bg-warning/18\",\n      \"peer-checked:text-warning-foreground\",\n    ),\n    text: \"peer-checked:text-warning-foreground\",\n    ring: \"peer-focus-visible:ring-warning\",\n    glow: \"[--radio-glow:hsl(var(--warning-soft-strong))]\",\n    lift: baseLift,\n  },\n  danger: {\n    surface: cn(\n      \"group-hover/radio:bg-danger/12\",\n      \"group-active/radio:bg-danger/18\",\n      \"peer-checked:border-danger/45\",\n      \"peer-checked:bg-danger/18\",\n      \"peer-checked:text-danger-foreground\",\n    ),\n    text: \"peer-checked:text-danger-foreground\",\n    ring: \"peer-focus-visible:ring-danger\",\n    glow: \"[--radio-glow:hsl(var(--danger) / 0.45)]\",\n    lift: baseLift,\n  },\n};\n\nexport type RadioIconGroupToneStyles = typeof radioIconGroupToneClasses;\n","import * as React from \"react\";\nimport { AlertTriangle, RotateCcw } from \"lucide-react\";\n\nimport {\n  Button,\n  Card,\n  CardContent,\n  CardDescription,\n  CardHeader,\n  CardTitle,\n} from \"@/components/ui\";\nimport { cn } from \"@/lib/utils\";\n\nexport interface AIErrorCardProps extends React.ComponentPropsWithoutRef<typeof Card> {\n  readonly title?: string;\n  readonly description: string;\n  readonly hint?: string;\n  readonly onRetry?: () => void;\n  readonly retryLabel?: string;\n  readonly actions?: React.ReactNode;\n  readonly icon?: React.ReactNode;\n}\n\nconst DEFAULT_TITLE = \"Unable to complete\";\nconst DEFAULT_RETRY_LABEL = \"Try again\";\n\nconst AIErrorCard = React.forwardRef<HTMLDivElement, AIErrorCardProps>(\n  (\n    {\n      title = DEFAULT_TITLE,\n      description,\n      hint,\n      onRetry,\n      retryLabel = DEFAULT_RETRY_LABEL,\n      actions,\n      icon,\n      className,\n      children,\n      ...props\n    },\n    ref,\n  ) => {\n    const retryAction = React.useMemo(() => {\n      if (actions) return actions;\n      if (!onRetry) return null;\n      return (\n        <Button\n          type=\"button\"\n          size=\"sm\"\n          tone=\"danger\"\n          variant=\"quiet\"\n          onClick={onRetry}\n          className=\"gap-[var(--space-2)] px-[var(--space-3)]\"\n          data-variant=\"ai-error\"\n        >\n          <RotateCcw aria-hidden className=\"size-[var(--space-4)]\" />\n          {retryLabel}\n        </Button>\n      );\n    }, [actions, onRetry, retryLabel]);\n\n    return (\n      <Card\n        ref={ref}\n        role=\"alert\"\n        aria-live=\"polite\"\n        className={cn(\n          \"border-[hsl(var(--danger)/0.45)] bg-[hsl(var(--danger)/0.12)] text-[hsl(var(--danger-foreground))] shadow-[var(--shadow-outline-subtle)] backdrop-blur-sm\",\n          \"transition-shadow duration-motion-sm ease-out\",\n          className,\n        )}\n        {...props}\n      >\n        <CardHeader className=\"flex flex-row gap-[var(--space-3)]\">\n          <span\n            aria-hidden\n            className=\"mt-[var(--space-0-5)] inline-flex size-[var(--space-8)] shrink-0 items-center justify-center rounded-full bg-[hsl(var(--danger)/0.18)] text-[hsl(var(--danger))] shadow-[var(--shadow-inset-hairline)]\"\n          >\n            {icon ?? <AlertTriangle className=\"size-[var(--space-4)]\" aria-hidden />}\n          </span>\n          <div className=\"flex flex-1 flex-col gap-[var(--space-1-5)]\">\n            <CardTitle className=\"text-ui font-semibold tracking-[-0.01em]\">\n              {title}\n            </CardTitle>\n            <CardDescription className=\"text-label text-[hsl(var(--danger-foreground)/0.85)]\">\n              {description}\n            </CardDescription>\n            {hint ? (\n              <p className=\"text-caption text-[hsl(var(--danger-foreground)/0.7)]\">\n                {hint}\n              </p>\n            ) : null}\n          </div>\n        </CardHeader>\n        <CardContent className=\"space-y-[var(--space-3)] pt-[var(--space-3)]\">\n          {children}\n          {retryAction}\n        </CardContent>\n      </Card>\n    );\n  },\n);\n\nAIErrorCard.displayName = \"AIErrorCard\";\n\nexport default AIErrorCard;\n","// src/components/ui/layout/hero/HeroSearchBar.tsx\n\nimport * as React from \"react\";\nimport { cn } from \"@/lib/utils\";\nimport SearchBar, { type SearchBarProps } from \"@/components/ui/primitives/SearchBar\";\n\nexport interface HeroSearchBarProps extends SearchBarProps {\n  className?: string;\n  round?: boolean;\n}\n\nexport function HeroSearchBar({\n  className,\n  round,\n  variant,\n  fieldClassName,\n  ...props\n}: HeroSearchBarProps) {\n  const resolvedVariant = variant ?? (round ? \"neo\" : undefined);\n  const isNeo = resolvedVariant === \"neo\";\n\n  return (\n    <SearchBar\n      {...props}\n      variant={resolvedVariant}\n      className={cn(\"w-full flex-1 min-w-0\", round && \"rounded-full\", className)}\n      fieldClassName={cn(\n        round && \"rounded-full [&>input]:rounded-full\",\n        isNeo && \"overflow-hidden hero2-frame\",\n        fieldClassName,\n      )}\n    />\n  );\n}\n\n","\"use client\";\n\nimport * as React from \"react\";\nimport { Circle, CircleCheck, CircleDot } from \"lucide-react\";\n\nimport { createGalleryPreview, defineGallerySection } from \"@/components/gallery/registry\";\n\nimport TabBar, { type TabItem } from \"./TabBar\";\n\nconst focusVisibleClassName =\n  \"outline-[var(--spacing-0-5)_solid_var(--ring-contrast)] outline-offset-[var(--spacing-0-5)] ring-2 ring-[var(--ring-contrast)] shadow-[var(--shadow-glow-md)]\";\nconst hoverStateClassName =\n  \"text-foreground bg-[--hover] shadow-[var(--tab-shadow-hover,var(--tab-shadow))]\";\n\nconst filterItems: TabItem<string>[] = [\n  { key: \"all\", label: \"All\", icon: <Circle aria-hidden=\"true\" /> },\n  { key: \"active\", label: \"Active\", icon: <CircleDot aria-hidden=\"true\" /> },\n  { key: \"done\", label: \"Done\", icon: <CircleCheck aria-hidden=\"true\" /> },\n  {\n    key: \"focus\",\n    label: \"Focus-visible\",\n    icon: <Circle aria-hidden=\"true\" />,\n    className: focusVisibleClassName,\n  },\n];\n\nconst defaultItems: TabItem<string>[] = [\n  { key: \"a\", label: \"A\" },\n  { key: \"b\", label: \"B\" },\n  { key: \"focus\", label: \"Focus-visible\", className: focusVisibleClassName },\n  { key: \"c\", label: \"Disabled\", disabled: true },\n  { key: \"d\", label: \"Syncing\", loading: true },\n];\n\nconst navigationItems: TabItem<string>[] = [\n  { key: \"reviews\", label: \"Reviews\" },\n  { key: \"planner\", label: \"Planner\" },\n  { key: \"goals\", label: \"Goals\" },\n  { key: \"focus\", label: \"Focus-visible\", className: focusVisibleClassName },\n];\n\ntype TabBarStateSpec = {\n  id: string;\n  name: string;\n  value: string;\n  items: TabItem<string>[];\n  code: string;\n};\n\nfunction createStateItems(stateItem: TabItem<string>): TabItem<string>[] {\n  return [\n    { key: \"today\", label: \"Today\" },\n    stateItem,\n    { key: \"backlog\", label: \"Backlog\" },\n  ];\n}\n\nconst TAB_BAR_STATES: readonly TabBarStateSpec[] = [\n  {\n    id: \"default\",\n    name: \"Default\",\n    value: \"today\",\n    items: createStateItems({ key: \"upcoming\", label: \"Upcoming\" }),\n    code: `<TabBar\n  items={[\n    { key: \"today\", label: \"Today\" },\n    { key: \"upcoming\", label: \"Upcoming\" },\n    { key: \"backlog\", label: \"Backlog\" },\n  ]}\n  value=\"today\"\n  onValueChange={() => {}}\n  ariaLabel=\"Tab state preview\"\n/>`,\n  },\n  {\n    id: \"hover\",\n    name: \"Hover\",\n    value: \"today\",\n    items: createStateItems({\n      key: \"hover\",\n      label: \"Hover\",\n      className: hoverStateClassName,\n    }),\n    code: `<TabBar\n  items={[\n    { key: \"today\", label: \"Today\" },\n    { key: \"hover\", label: \"Hover\", className: \"${hoverStateClassName}\" },\n    { key: \"backlog\", label: \"Backlog\" },\n  ]}\n  value=\"today\"\n  onValueChange={() => {}}\n  ariaLabel=\"Tab state preview\"\n/>`,\n  },\n  {\n    id: \"active\",\n    name: \"Active\",\n    value: \"active\",\n    items: createStateItems({ key: \"active\", label: \"Active\" }),\n    code: `<TabBar\n  items={[\n    { key: \"today\", label: \"Today\" },\n    { key: \"active\", label: \"Active\" },\n    { key: \"backlog\", label: \"Backlog\" },\n  ]}\n  value=\"active\"\n  onValueChange={() => {}}\n  ariaLabel=\"Tab state preview\"\n/>`,\n  },\n  {\n    id: \"focus-visible\",\n    name: \"Focus-visible\",\n    value: \"today\",\n    items: createStateItems({\n      key: \"focus\",\n      label: \"Focus-visible\",\n      className: focusVisibleClassName,\n    }),\n    code: `<TabBar\n  items={[\n    { key: \"today\", label: \"Today\" },\n    { key: \"focus\", label: \"Focus-visible\", className: \"${focusVisibleClassName}\" },\n    { key: \"backlog\", label: \"Backlog\" },\n  ]}\n  value=\"today\"\n  onValueChange={() => {}}\n  ariaLabel=\"Tab state preview\"\n/>`,\n  },\n  {\n    id: \"disabled\",\n    name: \"Disabled\",\n    value: \"today\",\n    items: createStateItems({ key: \"disabled\", label: \"Disabled\", disabled: true }),\n    code: `<TabBar\n  items={[\n    { key: \"today\", label: \"Today\" },\n    { key: \"disabled\", label: \"Disabled\", disabled: true },\n    { key: \"backlog\", label: \"Backlog\" },\n  ]}\n  value=\"today\"\n  onValueChange={() => {}}\n  ariaLabel=\"Tab state preview\"\n/>`,\n  },\n  {\n    id: \"loading\",\n    name: \"Loading\",\n    value: \"today\",\n    items: createStateItems({ key: \"loading\", label: \"Loading\", loading: true }),\n    code: `<TabBar\n  items={[\n    { key: \"today\", label: \"Today\" },\n    { key: \"loading\", label: \"Loading\", loading: true },\n    { key: \"backlog\", label: \"Backlog\" },\n  ]}\n  value=\"today\"\n  onValueChange={() => {}}\n  ariaLabel=\"Tab state preview\"\n/>`,\n  },\n];\n\nfunction TabBarStatePreview({ state }: { state: TabBarStateSpec }) {\n  return (\n    <TabBar\n      items={state.items}\n      value={state.value}\n      onValueChange={() => {}}\n      ariaLabel={`${state.name} tab state`}\n    />\n  );\n}\n\nfunction TabBarGalleryPreview() {\n  const [filterTab, setFilterTab] = React.useState<string>(filterItems[1]?.key ?? \"all\");\n  const [defaultTab, setDefaultTab] = React.useState<string>(defaultItems[0]?.key ?? \"a\");\n  const [navigationTab, setNavigationTab] = React.useState<string>(\n    navigationItems[0]?.key ?? \"reviews\",\n  );\n\n  return (\n    <div className=\"flex flex-col gap-[var(--space-4)]\">\n      <TabBar\n        items={filterItems}\n        value={filterTab}\n        onValueChange={setFilterTab}\n        ariaLabel=\"Filter goals\"\n      />\n      <TabBar\n        items={defaultItems}\n        value={defaultTab}\n        onValueChange={setDefaultTab}\n        ariaLabel=\"Example tabs\"\n      />\n      <TabBar\n        items={navigationItems}\n        value={navigationTab}\n        onValueChange={setNavigationTab}\n        ariaLabel=\"Planner areas\"\n      />\n    </div>\n  );\n}\n\nexport default defineGallerySection({\n  id: \"toggles\",\n  entries: [\n    {\n      id: \"tab-bar\",\n      name: \"TabBar\",\n      description: \"Segmented tab navigation with preset variants\",\n      kind: \"primitive\",\n      tags: [\"tabs\", \"navigation\"],\n      axes: [\n        {\n          id: \"variant\",\n          label: \"Variant\",\n          type: \"variant\",\n          values: [\n            { value: \"Filters\" },\n            { value: \"Default\" },\n            { value: \"Navigation\" },\n          ],\n        },\n        {\n          id: \"state\",\n          label: \"State\",\n          type: \"state\",\n          values: TAB_BAR_STATES.map(({ name }) => ({ value: name })),\n        },\n      ],\n      preview: createGalleryPreview({\n        id: \"ui:tab-bar:variants\",\n        render: () => <TabBarGalleryPreview />,\n      }),\n      states: TAB_BAR_STATES.map((state) => ({\n        id: state.id,\n        name: state.name,\n        code: state.code,\n        preview: createGalleryPreview({\n          id: `ui:tab-bar:state:${state.id}`,\n          render: () => <TabBarStatePreview state={state} />,\n        }),\n      })),\n      code: `<TabBar\n  items={[\n    { key: \"all\", label: \"All\", icon: <Circle aria-hidden=\"true\" /> },\n    { key: \"active\", label: \"Active\", icon: <CircleDot aria-hidden=\"true\" /> },\n    { key: \"done\", label: \"Done\", icon: <CircleCheck aria-hidden=\"true\" /> },\n    {\n      key: \"focus\",\n      label: \"Focus-visible\",\n      icon: <Circle aria-hidden=\"true\" />,\n      className: \"ring-2 ring-[var(--theme-ring)] ring-offset-0 outline-none\",\n    },\n  ]}\n  value=\"active\"\n  onValueChange={() => {}}\n  ariaLabel=\"Filter goals\"\n/>\n\n<TabBar\n  items={[\n    { key: \"a\", label: \"A\" },\n    { key: \"b\", label: \"B\" },\n    { key: \"focus\", label: \"Focus-visible\", className: \"ring-2 ring-[var(--theme-ring)] ring-offset-0 outline-none\" },\n    { key: \"c\", label: \"Disabled\", disabled: true },\n    { key: \"d\", label: \"Syncing\", loading: true },\n  ]}\n  value=\"a\"\n  onValueChange={() => {}}\n  ariaLabel=\"Example tabs\"\n/>\n\n<TabBar\n  items={[\n    { key: \"reviews\", label: \"Reviews\" },\n    { key: \"planner\", label: \"Planner\" },\n    { key: \"goals\", label: \"Goals\" },\n    { key: \"focus\", label: \"Focus-visible\", className: \"ring-2 ring-[var(--theme-ring)] ring-offset-0 outline-none\" },\n  ]}\n  value=\"reviews\"\n  onValueChange={() => {}}\n  ariaLabel=\"Planner areas\"\n/>`,\n    },\n  ],\n});\n","\"use client\";\n\nimport * as React from \"react\";\nimport Image from \"next/image\";\nimport {\n  DEFAULT_HERO_STATE,\n  DEFAULT_HERO_VARIANT,\n  getHeroIllustration,\n  type HeroIllustrationState,\n} from \"@/data/heroImages\";\nimport { useOptionalTheme } from \"@/lib/theme-context\";\nimport { cn } from \"@/lib/utils\";\n\nexport interface HeroImageProps extends React.HTMLAttributes<HTMLDivElement> {\n  state?: HeroIllustrationState;\n  alt?: string;\n}\n\nexport function HeroImage({\n  state = DEFAULT_HERO_STATE,\n  alt,\n  className,\n  ...rest\n}: HeroImageProps) {\n  const theme = useOptionalTheme();\n  const variant = theme?.[0].variant ?? DEFAULT_HERO_VARIANT;\n\n  const { src, alt: defaultAlt } = React.useMemo(\n    () => getHeroIllustration(variant, state),\n    [variant, state],\n  );\n\n  const resolvedAlt = React.useMemo(() => {\n    if (typeof alt === \"string\") {\n      const trimmed = alt.trim();\n      if (trimmed.length > 0) {\n        return trimmed;\n      }\n    }\n    return defaultAlt;\n  }, [alt, defaultAlt]);\n\n  return (\n    <div\n      className={cn(\n        \"pointer-events-none absolute inset-0 overflow-hidden\",\n        className,\n      )}\n      {...rest}\n    >\n      <Image\n        src={src}\n        alt={resolvedAlt}\n        fill\n        priority={false}\n        sizes=\"100vw\"\n        className=\"object-contain object-right md:object-center\"\n      />\n    </div>\n  );\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"sidebar\":\"Sidebar_sidebar__5oZEx\",\"content\":\"Sidebar_content__yvMVv\",\"pane\":\"Sidebar_pane__uNMQt\"};"],"names":["TOGGLE_STATES","id","name","code","className","props","disabled","loading","ToggleStatePreview","state","mergedClassName","cn","Toggle","leftLabel","rightLabel","ToggleGalleryPreview","value","setValue","React","div","onChange","next","p","map","defineGallerySection","entries","description","kind","tags","type","defaultValue","axes","label","values","preview","createGalleryPreview","render","states","depthShadowClasses","base","raised","sunken","Card","ref","asChild","depth","glitch","children","restProps","baseClassName","styles","overlay","span","aria-hidden","baseProps","undefined","glitchText","providedGlitchText","childCount","count","child","only","Slot","displayName","CardHeader","CardTitle","h3","CardDescription","CardContent","CardFooter","SectionCardContext","SectionCardRoot","variant","headingId","setHeadingId","contextValue","Provider","section","SectionCardHeader","sticky","topClassName","title","actions","titleAs","titleClassName","autoId","hasTitle","shouldUseDefaultLayout","renderedTitle","test","headingElement","HeadingTag","SectionCardBody","context","labelledBy","aria-labelledby","Object","assign","Header","Body","SectionCard","AIRetryErrorBubble","message","hint","onRetry","retryLabel","icon","retryAction","Button","size","tone","onClick","RotateCcw","role","aria-live","AlertTriangle","TONE_SET","Set","NeonIcon","Icon","on","colorVar","scanlines","aura","prev","phase","setPhase","current","t","setTimeout","clearTimeout","lit","toneAttr","toTone","has","normalized","startsWith","slice","data-phase","data-size","data-tone","height","strokeWidth","NeonGlowWrap","Textarea","textareaClassName","resize","ariaLabel","finalId","finalName","isInvalid","useFieldIds","ariaInvalid","slugifyFallback","loadingAttr","Field","Root","invalid","readOnly","aria-label","BASE_PROPS","Zap","NEON_ICON_STATES","NeonIconStatePreview","NeonIconGalleryPreview","ICON_BUTTON_VARIANTS","xs","sm","md","lg","xl","defaultIcon","toneTintTokens","primary","accent","info","danger","toneInteractionTokens","primaryShadowVars","secondarySurfaceTokens","baseVariantBase","quiet","default","primaryVariantBase","neo","variantBase","baseToneClasses","toneForegroundVar","toneClasses","IconButton","resolvedAriaLabel","iconSize","ariaLabelledBy","glitchIntensity","rest","animationsDisabled","useAnimationsDisabled","reduceMotion","reduceMotionPreference","useReducedMotion","appliedIconSize","trimmedAriaLabel","trim","trimmedTitle","normalizedAriaLabel","length","normalizedTitle","trimmedAriaLabelledBy","normalizedAriaLabelledBy","iconOnly","hasTextContent","shouldWarn","resolvedVariant","resolveUIVariant","allowed","fallback","shouldGlitch","toneKey","variantClass","domProps","motion","button","neumorphicStyles","sizeMap","sizeClass","iconMap","data-loading","data-variant","data-glitch","data-text","whileHover","scale","whileTap","data-reduce-motion","BlobContainer","overlayToken","DripEdge","useScopedCssVars","attribute","vars","enabled","scopeProps","style","cssVars","String","CatCompanionIcon","ariaHidden","focusable","svg","viewBox","fill","computedRole","computedAriaHidden","computedFocusable","path","d","CAT_COMPANION_PATH","process","EMAIL_PATTERN","PHONE_PATTERN","LOG_LEVEL_ORDER","error","warn","debug","CONSOLE_METHOD","payload","console","rawMinimumLevel","env","NEXT_PUBLIC_LOG_LEVEL","LOG_LEVEL","MIN_LEVEL","keys","includes","redactString","replace","redactUnknown","seen","WeakSet","toString","Date","toISOString","Error","stack","Array","isArray","MAX_DEPTH","limited","MAX_ARRAY_LENGTH","item","push","Map","add","entriesList","from","limitedEntries","MAX_OBJECT_KEYS","key","entryValue","valuesList","limitedValues","objectValue","objectEntries","fromEntries","normalizeScope","scope","trimmed","createLogMethod","level","sanitizedContext","sanitizeContext","prefixLabel","buildPrefix","details","shouldLog","sanitizedMessage","sanitizedDetails","detail","timestamp","createLogger","logMethods","suffix","childContext","persistenceLogger","resolveTokenVar","token","noiseToken","noiseActiveToken","animate","withNoise","overlayVar","noiseVar","activeNoiseVar","mergedStyle","overlayHoverVar","overlayTargetVar","overlayActiveVar","noiseHoverVar","noiseTargetVar","noiseActiveScaledVar","noiseActiveBaseVar","blobAnimationClass","noiseAnimationClass","buttonSizes","padding","text","gap","MotionSlot","create","MotionAnchor","a","ghostSurfaceTokens","baseVariants","tactile","contentClass","boxShadow","neuRaised","neuInset","variants","options","buttonProps","isDisabled","Boolean","disabledProp","isLink","href","s","spinnerSize","buttonSpinnerSizes","organicDepth","useOrganicDepthEnabled","BUTTON_VARIANTS","resolvedVariantClass","variantHover","hoverAnimation","contentClasses","providedGlitchTextRaw","renderInnerContent","Spinner","contentChildren","slotProps","tabIndex","aria-disabled","anchorProps","target","rel","download","resolvedHref","trimmedHref","hasScheme","isProtocolRelative","shouldPrefixBasePath","withBasePath","resolvedRel","typeProp","RADIO_ICON_GROUP_DEMO_OPTIONS","Sun","MoonStar","Flame","ShieldHalf","RADIO_ICON_GROUP_TONES","RADIO_GROUP_BASE_PROPS","firstControlSelector","hoverPreviewClassName","focusPreviewClassName","activePreviewClassName","RADIO_ICON_GROUP_STATE_SPECS","RadioIconGroupStatePreview","RadioIconGroup","RadioIconGroupMatrix","instanceId","RADIO_ICON_GROUP_SIZES","RadioIconGroupGalleryPreview","setTone","setSize","handleValueChange","ThemeToggle","select","event","option","toneOption","sizeOption","required","usage","Split","left","right","join","headerTabs","Circle","CircleDot","CircleCheck","headerUnderlineToneExamples","underlineTone","HeaderGalleryPreview","find","tab","activeLabel","example","eyebrow","heading","subtitle","tabs","items","optionalNonEmptyString","z","min","optional","safeModeSchema","required_error","clientEnvSchema","NEXT_PUBLIC_BASE_PATH","NEXT_PUBLIC_DEPTH_THEME","NEXT_PUBLIC_ENABLE_METRICS","NEXT_PUBLIC_METRICS_ENDPOINT","NEXT_PUBLIC_FEATURE_SVG_NUMERIC_FILTERS","NEXT_PUBLIC_ORGANIC_DEPTH","NEXT_PUBLIC_SAFE_MODE","NEXT_PUBLIC_SENTRY_DSN","NEXT_PUBLIC_SENTRY_ENVIRONMENT","NEXT_PUBLIC_SENTRY_TRACES_SAMPLE_RATE","NEXT_PUBLIC_FEATURE_GLITCH_LANDING","NEXT_PUBLIC_UI_GLITCH_LANDING","superRefine","ctx","hasSentryConfig","addIssue","custom","loadClientEnv","envSource","source","safeMode","parse","SAFE_MODE_FALLBACK","readClientEnv","envWithFallback","withSafeModeFallback","publicSafeModeKey","safeModeKey","nextEnv","safeModeValue","exit","Toast","open","onOpenChange","duration","closable","showProgress","onPointerEnter","onPointerEnterProp","onPointerLeave","onPointerLeaveProp","onFocus","onFocusProp","onBlur","onBlurProp","cardProps","mounted","useMounted","timerRef","animationFrameRef","startTimeRef","startRemainingRef","remainingTimeRef","interactionCountRef","timeLeft","setTimeLeft","cancelDismissal","window","cancelAnimationFrame","tick","elapsed","performance","now","Math","max","requestAnimationFrame","scheduleDismissal","pauseDismissal","handleInteractionStart","handleInteractionEnd","progress","progressScopeProps","progressStyle","createPortal","previousTarget","relatedTarget","Node","currentTarget","contains","nextTarget","X","data-progress","document","body","HEIGHT_MAP","FIELD_ROOT_BASE","FieldRoot","helper","helperId","helperTone","counter","counterId","spinner","wrapperClassName","inlineStyle","heightKey","hasOwn","numericHeight","isCustomHeight","Number","isFinite","resolvedCustomHeight","resolveHeight","helperVariant","showCounter","fieldState","customHeightStyle","data-field-height","data-custom-height","data-field-state","data-disabled","data-invalid","data-readonly","resolvedGlitchText","aria-busy","data-slot","showHelper","FieldInput","indent","hasEndSlot","input","FieldTextarea","textarea","FieldSelect","FieldSearch","forwardedRef","clearable","clearLabel","onClear","inputRef","isControlled","uncontrolledValue","setUncontrolledValue","currentValue","setRefs","node","handleChange","showSpinner","showClear","finalDisabled","Search","focus","Input","Select","VirtualizedSpacer","position","spacerId","useSpacerId","reactId","concat","ariaHiddenProps","blockSize","data-spacer-id","defaultRenderSpacer","VirtualizedList","rowHeight","overscan","renderItem","getKey","scrollParentRef","renderSpacer","scrollTop","viewportHeight","useViewportMeasurements","setScrollTop","containerRef","setViewportHeight","frame","updateScroll","nextTop","resizeObserver","ResizeObserver","clientHeight","addEventListener","passive","observe","removeEventListener","disconnect","clampedScrollTop","clampScrollTop","itemsLength","maxScroll","startIndex","endIndex","offsetStart","offsetEnd","safeViewport","floor","itemsInView","ceil","index","element","widthClassNames","auto","full","toneClassNames","Snackbar","actionLabel","actionAriaLabel","onAction","width","toneClassName","widthClassName","SegmentedButton","selected","as","Comp","isActive","resolvedSelected","cls","isButton","handleClick","preventDefault","stopPropagation","shouldHandleClick","data-selected","data-depth","aria-pressed","aria-current","EXACT_SPACING_TOKENS","toSpacingValue","get","abs","formatMultiplier","toFixed","offset","blur","negativeOffset","round","positiveOffset","blurValue","SEVERITY_CLASSNAMES","warning","critical","success","IssueBadge","targetId","expanded","severity","computedId","buttonType","aria-controls","aria-expanded","data-expanded","LEVEL_CONFIG","low","foreground","ShieldAlert","medium","ShieldQuestion","high","ShieldCheck","toneBackground","toneForeground","barTone","AIConfidenceHint","score","formatScore","defaultFormat","config","scoreLabel","normalizedScore","isNaN","_","step","search","Hero","barClassName","bodyClassName","barVariant","rail","_deprecatedRail","dividerTint","subTabs","illustrationState","illustrationAlt","headingStr","heroVariant","shouldRenderGlitchStyles","isRaisedBar","showDividerGlow","classes","useHeroStyles","iconNode","headingContent","h2","subTabsNode","sanitizedLabel","sanitizedLabelledBy","accessibilityProps","TabBar","onValueChange","align","showBaseline","linkPanels","idBase","searchProps","heroIllustrationAlt","Component","HeroGlitchStyles","NeomorphicFrameStyles","shell","HeroImage","alt","bar","labelCluster","raisedLabelBar","utilities","divider","data-divider-tint","dividerLine","dividerGlow","actionRow","searchWell","HeroSearchBar","actionsWell","actionCluster","CONTROL_VARIANTS","soft","ghost","minimal","plain","secondary","resolveControlVariant","normalizeControlVariant","CONTROL_VARIANT_ALIASES","QUERY","prefersReducedMotion","matchMedia","matches","usePrefersReducedMotion","useMatchMedia","reportFeatureFlagAnalytics","eventDetail","emitTelemetryEvent","eventName","domEventName","dataLayer","feature_flag","flag","feature_flag_enabled","feature_flag_state","cachedRuntimeBasePath","normalizeBasePath","segments","collectPathSegments","split","segment","filter","twMerge","extendTailwindMerge","extend","theme","NORMALIZED_BASE","normalizeRuntimeBasePath","candidate","getBasePath","runtimeBase","readRuntimeBasePath","nextWindow","nextData","runtimeRouterBase","router","basePath","attributeBase","documentElement","getAttribute","__NEXT_DATA__","nextDataAssetPrefix","assetPrefix","nextDataBasePath","runtimeConfig","ABSOLUTE_URL_PATTERN","isAbsoluteUrl","LOCALE","inputs","clsx","trimmedPath","normalizedPath","withoutBasePath","remainder","capitalize","toUpperCase","clamp","n","slugify","toLowerCase","HTML_ESCAPE_MAP","sanitizeText","c","radiusClasses","card","Skeleton","radius","ariaHiddenAttr","resolvedAriaHidden","neoCardOverlayClassName","NEO_CARD_BASE_CLASSNAME","NeoCard","ThemeContext","ThemeFeatureFlagsContext","glitchLandingEnabled","useTheme","useOptionalTheme","useUiFeatureFlags","ThemeProvider","glitchLandingDefault","hydrated","setHydrated","defaultThemeValue","defaultTheme","initialThemeState","classList","themeClass","rawVariant","variantEntry","VARIANTS","backgroundIndex","BG_CLASSES","findIndex","bg","resolvedBackground","setTheme","usePersistentState","THEME_STORAGE_KEY","decode","decodeThemeState","defaultThemeRef","pendingPersistedSyncRef","expectedThemeClass","currentThemeClass","currentBackgroundClass","expectedBackgroundClass","defaultState","isDefaultSelection","themeClassMismatch","dataset","themePref","backgroundMismatch","applyTheme","glitchLanding","featureValue","ORDER","PillarSelector","set","toggle","delete","active","onKeyDown","handleKeyDown","data-active","isRight","leftId","rightId","aria-checked","e","STATE_TOKEN_CLASSES","data-side","toneToBorderClass","sizeToVariableClass","ICON_SIZE","LABEL_SIZE","ariaLabelledby","ariaDescribedby","groupId","toneClass","radioIconGroupToneClasses","resolvedLabel","aria-describedby","optionId","checked","optionDisabled","data-state","data-part","htmlFor","surface","ring","glow","lift","AILoadingShimmer","lines","showAvatar","DEFAULT_LABEL","normalizedLines","MIN_LINES","BODY_DIALOG_LOCK_ATTRIBUTE","BODY_DIALOG_LOCK_VALUE","dialogLockCounts","WeakMap","useDialogTrap","onClose","focusableRef","doc","ownerDocument","previouslyActive","activeElement","restoreTabIndex","lockBody","updateFocusable","nodes","querySelectorAll","FOCUSABLE_SELECTORS","hasAttribute","focusElement","setAttribute","preventScroll","focusFirst","first","hasFocusable","isInDialog","last","shiftKey","observer","MutationObserver","subtree","childList","attributes","attributeFilter","unlockBody","removeAttribute","forEach","HeaderTabs","onKeyDownProp","sanitizedAriaLabel","sanitizedAriaLabelledBy","activeKey","setActiveValue","registerTab","rovingKeyDown","useRovingTabState","generatedId","useId","baseId","defaultPrevented","aria-orientation","tabId","panelId","controls","aria-selected","setRef","DEFAULT_HERO_STATE","themeOverride","asset","getHeroIllustration","normalizedAlt","rawAlt","finalAlt","Image","src","frameContentSpacingByVariant","compact","dense","hasRenderableNode","some","hasRenderableSlotValue","prototype","hasOwnProperty","call","sanitizeSlotValue","PageHeader","frameAlign","header","hero","containerClassName","frameProps","contentClassName","tabsInHero","elementProps","headerSticky","underline","headerUnderline","headerBarClassName","headerBodyClassName","headerRest","heroSticky","heroSubTabs","heroSearch","heroActions","heroTone","heroFrame","heroTopClassName","heroAs","heroPadding","heroDividerTintProp","heroRest","forwardedHeaderSubTabs","restHeaderTabs","resolvedSubTabs","resolvedSearch","baseSearch","resolvedActions","sanitizeActionsNode","resolvedHeroFrame","heroDividerTint","frameDividerTintAttr","frameClassName","frameVariant","slots","frameSlotsProp","frameLabel","labelledById","frameLabelledById","framePropsRest","_frameDividerTintAttr","restFrameProps","normalizedFrameDividerTint","resolvedFrameDividerTint","heroShouldRenderActionArea","heroShouldRenderTabs","heroTabVariant","computedContentSpacing","actionAreaTabsSlot","subTabsClassName","subTabsRight","subTabsAriaLabelledBy","subTabsVariant","sanitizedItems","slotLabel","actionAreaSearchSlot","rawAriaLabel","rawAriaLabelledBy","visibleLabel","sanitizedVisibleLabel","usesNeoPill","unstyled","heroActionProps","resolvedFrameSlots","frameSlotPresence","emptyPresence","slotKeys","defaultSlotCandidates","defaultSlots","actionAreaActions","presence","hasRenderable","merged","fallbackFrameAlign","searchPreference","hasTabs","hasSearch","hasActions","activeCount","tabPreference","present","effectiveFrameAlign","NeomorphicHeroFrame","data-hero-divider-tint","normalizedHeaderBarClassName","flushHeaderBarPaddingClass","normalizedHeaderBodyClassName","flushHeaderBodyPaddingClass","HeroTabs","HERO_ILLUSTRATION_STATES","DEFAULT_HERO_VARIANT","VARIANT_LABELS","reduce","acc","buildStateMap","describeState","BASE_DESCRIPTION","baseIllustration","HERO_ILLUSTRATION_LIBRARY","variantAssets","toneStops","stop1","stop2","stop3","resolveToneStops","TabsContext","useTabsContext","Tabs","internal","setInternal","controlled","activeValue","resolvedValue","TabList","tabBarProps","TabPanel","forceMount","hidden","shouldRender","TEXTAREA_STATES","placeholder","TextareaStatePreview","TextareaGalleryPreview","useDebouncedCallback","callback","delay","latestCallback","cancel","debounced","args","SIZE","CheckCircle","btnRef","justClearedTimeoutRef","igniteTimeoutRef","clearJustClearedTimeout","clearIgniteTimeout","hovered","setHovered","focused","setFocused","justCleared","setJustCleared","markJustCleared","prevChecked","cleanup","wantsOn","retriggerIgnite","onKey","onMouseEnter","onMouseLeave","onPointerDown","data-checked","data-lit","Check","defaultContext","freeze","organicDepthEnabled","DepthThemeContext","DepthThemeProvider","themeState","organicState","depthTheme","GLITCH_PERCENT_WIDTH","GlitchProgress","formatPercentage","total","trackClassName","showPercentage","trackProps","percentageClassName","percentageProps","parsedTotal","getSafeNumber","parsedCurrent","normalizedCurrent","clampedPercent","percent","ratio","hasProgress","formattedPercentage","progressClassName","nonLabelProps","trackClassNameFromProps","restTrackProps","percentageClassNameFromProps","ariaLive","restPercentageProps","progressTrack","data-progress-state","aria-valuemin","aria-valuemax","aria-valuenow","NO_ANIMATIONS_CLASS","isAnimationsDisabled","setDisabled","root","sync","RING_TONE_CLASS_MAP","inputClassName","ringTone","ariaLabelStrategy","inputProps","showEndSlot","placeholderText","AITypingIndicator","isTyping","dotCount","DEFAULT_DOTS","avatar","dots","constrained","Sparkles","animationDelay","animationDuration","Label","Sheet","side","dialogRef","initial","x","transition","aria-modal","SEARCH_BAR_VARIANTS","SearchBar","onSubmit","debounceMs","autoComplete","autoCorrect","spellCheck","autoCapitalize","fieldClassName","query","setQuery","resolvedId","emitValueChange","cancelValueChange","hasCustomAriaLabel","inputField","variantFieldClasses","form","labelFor","NativeSelect","selectClassName","helperText","errorText","successId","errorId","describedBy","aria-invalid","it","ChevronDown","HEADER_VARIANTS","cx","parts","nav","railTone","_deprecatedRailTone","railVariant","_deprecatedRailVariant","railClassName","_deprecatedRailClassName","isNeo","isQuiet","tabControl","tabItems","tabValue","tabOnChange","tabAriaLabel","tabAriaLabelledBy","tabClassName","tabSize","tabAlign","tabRight","tabShowBaseline","tabVariant","tablistClassName","tabRenderItem","tabIdBase","tabLinkPanels","tabDomProps","sanitizedTabAriaLabel","sanitizedTabAriaLabelledBy","mergedTabClassName","HeaderTabsControl","hasRight","hasUtilities","hasNav","stickyClasses","barPadding","bodyPadding","shouldRenderNeomorphicFrameStyles","translucentSurfaceClasses","minHeightClass","h1","showRightStack","baseSizeMap","toneBorder","neutral","top","jungle","mid","bot","support","toneInteraction","Badge","interactive","isStringElement","isButtonElement","isToggleBadge","isSelected","userOnKeyDown","userOnClick","typeProps","roleProps","disabledProps","mergedOnKeyDown","click","PillarBadge","pillar","withIcon","PILLAR_THEME","Tag","sizeCls","nonButtonInteractiveProps","data-interactive","data-pillar","Wave","start","end","shadow","Waves","Trading","HandCoins","Vision","Eye","Tempo","Timer","Positioning","Crosshair","Comms","MessagesSquare","SEARCH_BAR_NOOP","SEARCH_BAR_STATES","getProps","interactiveValue","onInteractiveChange","noop","renderFiltersButton","SearchBarStatePreview","helpers","SearchBarGalleryPreview","isNativeSelect","AnimatedSelect","selectStyles","ThemePicker","onVariantChange","buttonClassName","loadingVariant","v","SettingsSelect","SIZE_STYLES","paddingX","caret","prefix","dropdownClassName","hideLabel","matchTriggerWidth","DEFAULT_TRIGGER_SIZE","stylesOverride","defaultStyles","sizeStyles","setOpen","setTriggerRef","onTriggerKeyDown","onListKeyDown","listRef","labelId","listboxId","triggerAria","scheduleMeasure","selectByIndex","setActiveIndex","placement","fixedStyles","yOffset","motionDurationSm","useAnimatedSelect","handleToggle","AnimatedSelectTrigger","triggerRef","onToggle","AnimatedSelectList","LabelStatePreview","inputId","labelClassName","LabelGalleryPreview","getBuffer","bufferCtor","Buffer","binaryReplacer","_key","ArrayBuffer","isView","encodeBinary","view","Uint8Array","buffer","byteOffset","byteLength","__planner_binary__","bytesToBase64","btoa","binary","i","bytes","chunkSize","fromCharCode","chunk","subarray","o","l","BYTES_PER_ELEMENT","binaryReviver","decodeBinary","base64ToBytes","encoded","atob","charCodeAt","ctor","getTypedArrayConstructor","DataView","stringifyWithBinary","serialized","JSON","stringify","parseJSON","raw","readLocal","localStorage","getItem","STORAGE_PREFIX","OLD_STORAGE_PREFIX","VERSIONED_STORAGE_PREFIX","STORAGE_VERSION","LEGACY_VERSION_PATTERN","migrated","createStorageKey","ensureMigration","isBrowser","removals","migrations","separatorIndex","indexOf","candidateVersion","setItem","removeItem","writeQueue","writeTimer","flushWriteQueue","k","entry","baseWriteLocal","clear","scheduleWrite","issue","clonedValue","structuredClone","storageKey","baseReadLocal","legacyValue","rawValue","writeLocal","removeLocal","targets","setState","initialRef","stateRef","stateRevisionRef","lastAppliedInitialSignatureRef","decodeRef","encodeRef","encode","computeSignature","decodeValue","result","encodeValue","fullKeyRef","loadedRef","pendingPersistenceRef","hasHydratedRef","pendingInitialResetKeyRef","lastAppliedInitialRef","ignoreNextStorageHydrationRef","renderRevision","nextFull","previousAppliedInitial","initialChanged","is","stateMatchesAppliedInitial","referenceSignature","currentSignature","shouldUseInitial","nextInitial","fullKey","fallbackKey","fromStorage","legacyKey","shouldUpdateState","nextState","skipStorageHydration","decoded","queuedRevision","stateChangedSinceQueue","nextSignature","initialSignature","handleExternal","parsed","handler","storageArea","newValue","setPersistentState","__planner_flush_bound","visibilityState","uidCounter","uid","cryptoObj","globalThis","crypto","randomUUID","cryptoRandomSuffix","getRandomValues","byte","padStart","idProp","nameProp","useFieldNaming","namingOptions","fromAria","fallbackName","shouldUseAria","normalizedInvalid","ICON_BUTTON_STATES","Plus","ICON_BUTTON_STATE_SPECS","DEFAULT_ICON_BUTTON_STATES","IconButtonStatePreview","ICON_BUTTON_SIZES","IconButtonGalleryPreview","glitchState","standardIconStates","COLOR_PALETTES","aurora","neutrals","accents","isRecord","isVariant","VARIANT_ID_SET","rawBackground","background","isInteger","cl","classesToRemove","BG_CLASS_SET","remove","pref","prefersDark","BG_LABELS","ariaLabelAttr","cycleDisabled","cycleLoading","aria","hasMultipleBackgrounds","isCycleDisabled","announcement","setAnnouncement","prevVariantRef","prevBgRef","initializedRef","showFallback","groupLabel","setVariantPersist","timeout","cycleBg","isCycleLoading","ImageIcon","DIMENSION_PROPERTIES","formatCssValue","property","useFloatingStyleClass","positionValue","topValue","leftValue","transformValue","transform","bottomValue","bottom","rightValue","minWidthValue","minWidth","maxHeightValue","maxHeight","widthValue","heightValue","zIndexValue","zIndex","transformOriginValue","transformOrigin","hasFixedStyles","floatingStyle","formatted","withFallback","resolved","ROLE_BADGES","SIZE_OPTIONS","BadgeGalleryPreview","glitchMode","isGlitchSubtle","isGlitchOff","isGlitchDefault","shellPadding","slotWellSurface","baseSearchWell","baseActionWell","baseActionCluster","clusterGapClass","showRail","Progress","GlitchSegmentedGroup","btnRefs","buttonChildren","toArray","GlitchSegmentedButton","buttonIndex","idx","currentIndex","normalizedValue","normalizeValueForId","setBtnRef","el","onSelect","slug","hexFallback","char","codePoint","codePointAt","GlitchFieldState","FIELD_STATES","DefaultFieldState","FocusVisibleFieldState","InvalidFieldState","LoadingFieldState","DisabledFieldState","FieldWithCounterState","rows","SelectFieldState","SearchFieldState","setSearch","FIELD_STATE_SPECS","FieldGalleryPreview","AIExplainTooltip","triggerLabel","explanation","shortcutHint","alignment","defaultOpen","triggerProps","uncontrolledOpen","setUncontrolledOpen","isOpen","close","handleFocus","handleBlur","handlePointerEnter","handlePointerLeave","triggerClassName","onTriggerClick","onTriggerFocus","onTriggerBlur","onTriggerPointerEnter","onTriggerPointerLeave","triggerTone","restTriggerProps","resolvedTone","clickHandler","keyHandler","focusHandler","blurHandler","pointerEnterHandler","pointerLeaveHandler","Info","alignClassNames","center","sizeClassNames","AvatarFrame","media","before","after","innerClassName","surfaceClassName","rimClassName","glowClassName","processedMedia","coerceMedia","BUTTON_STATES","BUTTON_STATE_SPECS","BUTTON_SIZE_ORDER","BUTTON_SIZE_LABELS","ICON_VARIANTS","ButtonStatePreview","ButtonGalleryPreview","standardStates","menuPosition","activeIndex","getInitialActiveIndex","selectedIndex","isOptionFocusable","getFirstFocusableIndex","getLastFocusableIndex","getNextFocusableIndex","direction","focusItem","rect","setRect","menuWidth","setMenuWidth","valueFromCss","parseFloat","getComputedStyle","getPropertyValue","measure","r","getBoundingClientRect","rafId","nextIndex","timer","onDocPointerDown","viewportWidth","innerWidth","innerHeight","measuredWidth","widthForClamp","GAP_PX","maxLeft","spaceBelow","spaceAbove","openDown","fallbackSpace","availableSpace","resolvedMaxHeight","triggerCls","glitchTrigger","containerCls","caretCls","caretOpen","textCls","aria-haspopup","data-open","ChevronRight","gbIris","gbChroma","gbFlicker","gbScan","SETTINGS_SELECT_BUTTON_CLASS","SETTINGS_SELECT_CONTAINER_CLASS","TitleBar","idText","GALLERY_SECTION_IDS","entryId","sections","part","charAt","AnimatePresence","ul","opacity","y","ease","li","glitchOverlays","glitchOverlayItem","disabledItem","data-index","tabRefs","focusTab","setAndFocus","SideSelector","flick","setFlick","flickTimeoutRef","data-flick","layoutGridClassName","PageShell","grid","BG_NAMES","Swatch","BackgroundPicker","onBgChange","loadingBackground","setMounted","KEY","AnimationToggle","setEnabled","appliedByToggleRef","ZapOff","TAB_BAR_VARIANTS","h","px","ariaLabelledByAttr","isGlitch","neoVariantClassName","defaultVariantClassName","containerVariant","justify","between","containerClasses","isLoading","defaultChildren","badge","baseClass","segmentedButtonStyles","tabProps","customNode","heroSlotOrder","variantMap","contentSpacing","slot","marginTop","paddingTop","gapY","gapMd","single","alignClassMap","spanClassMap","three","twoWithActions","two","solo","twoWithTabs","heroGridGaps","HeroGrid","heroColSpanClasses","heroColSpanLgClasses","HeroCol","spanLg","variantStyles","roleProp","onFocusCapture","onBlurCapture","restWithoutCustomAttrs","sanitizedFrameDividerTint","heroDividerTintAttr","hasFocus","setHasFocus","normalizedSlots","hasSlot","normalizeSlot","isSlotConfig","slotCount","layout","getSlotLayout","aligns","handleFocusCapture","handleBlurCapture","resolvedChildren","slotMarginTopClass","slotArea","slotPaddingTopClass","data-align","slotLabelledById","slotBareBaseClass","slotWellBaseClass","slotContentClass","haloClasses","data-has-focus","roleFromElement","frameDividerTint","data-hero-slot-shadow","frameSlotShadow","heroSlotShadowAttr","AIAbortButton","onAbort","busy","resolvedDisabled","data-busy","StopCircle","rawSvgNumericFilters","rawDepthTheme","rawOrganicDepth","rawFeatureGlitchLanding","rawLegacyGlitchLanding","rawSafeMode","enabledValues","disabledValues","parseBooleanFlag","svgNumericFilters","glitchLandingRaw","SEGMENTED_BUTTON_HOVER_STATE_CLASSNAME","SEGMENTED_BUTTON_FOCUS_VISIBLE_STATE_CLASSNAME","SEGMENTED_BUTTON_STATES","SEGMENTED_BUTTON_STATE_SPECS","SegmentedButtonStatePreview","SegmentedButtonGalleryPreview","CatCompanion","getSpacingValue","mergeStyleVars","varStyle","Cluster","rowGap","wrap","collapseBelow","collapse","gapValue","rowGapValue","alignItems","justifyContent","data-nowrap","data-collapse","DecorLayer","forwardRef","SkipLink","normalizedTarget","Switcher","minItemWidth","threshold","distribution","data-distribution","SELECT_STATES","ITEMS","SelectStatePreview","stateItems","sampleItems","finalClassName","SelectGalleryPreview","focusVisibleClassName","hoverClassName","projectTabs","statusTabs","statusLabels","inbox","updates","archive","TABS_STATE_ITEMS","hover","TABS_STATES","PanelCard","TabsGalleryPreview","statusTab","setStatusTab","TabsStatePreview","INPUT_STATES","INPUT_STATE_SPECS","InputStatePreview","InputGalleryPreview","observeMediaQuery","mediaQuery","handleLegacyChange","addListener","removeListener","getServerSnapshot","getMatches","setMatches","nextMatches","Modal","analytics","dataLayerDetail","dispatchEvent","CustomEvent","plausible","track","reportPlannerIslandError","island","digest","planner_island","planner_island_digest","baseLift","AIErrorCard","DEFAULT_TITLE","DEFAULT_RETRY_LABEL","hoverStateClassName","filterItems","defaultItems","navigationItems","createStateItems","stateItem","TAB_BAR_STATES","TabBarStatePreview","TabBarGalleryPreview","filterTab","setFilterTab","defaultTab","navigationTab","setNavigationTab","setDefaultTab","defaultAlt","resolvedAlt","priority","sizes"],"sourceRoot":"","ignoreList":[]}