{"version":3,"file":"static/chunks/2108-8b4b4c0674f0db51.js","mappings":"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","sources":["webpack://_N_E/./src/components/goals/GoalQueue.tsx","webpack://_N_E/./src/components/goals/Reminders.tsx","webpack://_N_E/./src/components/goals/reminders/ReminderQuickAddForm.module.css","webpack://_N_E/./src/icons/TimerRingIcon.tsx","webpack://_N_E/./src/components/goals/TimerRing.tsx","webpack://_N_E/./src/components/goals/reminders/ReminderFilters.module.css","webpack://_N_E/./src/components/forms/EntityForm.tsx","webpack://_N_E/./src/components/goals/DurationSelector.tsx","webpack://_N_E/./src/components/goals/GoalsTabs.tsx","webpack://_N_E/./src/components/goals/GoalList.tsx","webpack://_N_E/./src/components/goals/useGoals.ts","webpack://_N_E/./src/components/goals/GoalSlot.tsx","webpack://_N_E/./src/components/goals/reminders/ReminderList.module.css","webpack://_N_E/./src/components/goals/reminders/ReminderFilters.tsx","webpack://_N_E/./src/components/goals/reminders/ReminderList.tsx","webpack://_N_E/./src/components/goals/reminders/ReminderQuickAddForm.tsx","webpack://_N_E/./src/components/goals/RemindersTab.tsx","webpack://_N_E/./src/components/goals/GoalsPage.tsx","webpack://_N_E/./src/components/goals/GoalsProgress.tsx","webpack://_N_E/./src/components/goals/RemindersTab.module.css","webpack://_N_E/./src/icons/ProgressRingIcon.tsx","webpack://_N_E/./src/lib/useCoarsePointer.ts","webpack://_N_E/./src/components/goals/constants.ts","webpack://_N_E/./tokens/tokens.js","webpack://_N_E/./src/lib/filter-tokens.ts","webpack://_N_E/./src/icons/RingNoiseDefs.tsx","webpack://_N_E/./src/components/goals/TimerTab.tsx","webpack://_N_E/./src/components/goals/TimerTab.module.css"],"sourcesContent":["\"use client\";\n\nimport * as React from \"react\";\nimport { SectionCard } from \"@/components/ui\";\nimport { Input } from \"@/components/ui/primitives/Input\";\nimport { IconButton } from \"@/components/ui/primitives/IconButton\";\nimport { Trash2 } from \"lucide-react\";\nimport { shortDate } from \"@/lib/date\";\nimport { useCoarsePointer } from \"@/lib/useCoarsePointer\";\nimport { cn } from \"@/lib/utils\";\n\nconst MAX_GOAL_LABEL_LENGTH = 48;\nconst FALLBACK_GOAL_LABEL = \"item\";\n\nfunction formatGoalLabel(text: string) {\n  const normalized = text.trim().replace(/\\s+/g, \" \");\n  const cleaned = normalized.length > 0 ? normalized : FALLBACK_GOAL_LABEL;\n\n  if (cleaned.length <= MAX_GOAL_LABEL_LENGTH) {\n    return cleaned;\n  }\n\n  const truncated = cleaned.slice(0, MAX_GOAL_LABEL_LENGTH - 1).trimEnd();\n  return `${truncated}`;\n}\n\nexport type WaitItem = { id: string; text: string; createdAt: number };\n\ninterface GoalQueueProps {\n  items: WaitItem[];\n  onAdd: (text: string) => void;\n  onRemove: (id: string) => void;\n}\n\nexport function GoalQueue({ items, onAdd, onRemove }: GoalQueueProps) {\n  const [val, setVal] = React.useState(\"\");\n  const inputId = React.useId();\n  const isCoarsePointer = useCoarsePointer();\n  const revealOnInteractionClass = isCoarsePointer\n    ? \"opacity-100\"\n    : \"opacity-0 group-hover:opacity-100 group-focus-within:opacity-100 focus-visible:opacity-100\";\n\n  function submit(e: React.FormEvent) {\n    e.preventDefault();\n    const t = val.trim();\n    if (!t) return;\n    onAdd(t);\n    setVal(\"\");\n  }\n\n  return (\n    <SectionCard className=\"card-neo-soft\">\n      <SectionCard.Header\n        title=\"Goal Queue\"\n        titleClassName=\"text-title font-semibold tracking-[-0.01em]\"\n      />\n      <SectionCard.Body className=\"grid gap-[var(--space-6)]\">\n          <ul className=\"divide-y divide-border/10\">\n            {items.length === 0 ? (\n              <li className=\"py-[var(--space-3)] text-ui font-medium text-muted-foreground\">No queued goals</li>\n            ) : (\n              items.map((it) => {\n                const created = new Date(it.createdAt);\n\n                const goalLabel = formatGoalLabel(it.text);\n                const deleteLabel = `Delete queued goal ${goalLabel}`;\n\n                return (\n                  <li key={it.id} className=\"group flex items-center gap-[var(--space-2)] py-[var(--space-3)]\">\n                    <span\n                      className=\"h-[var(--space-2)] w-[var(--space-2)] rounded-full bg-foreground/40\"\n                      aria-hidden\n                    />\n                    <p className=\"flex-1 truncate text-ui font-medium\">{it.text}</p>\n                    <time\n                      className={cn(\n                        \"text-label font-medium tracking-[0.02em] text-muted-foreground\",\n                        revealOnInteractionClass,\n                      )}\n                      dateTime={created.toISOString()}\n                    >\n                      {shortDate.format(created)}\n                    </time>\n                    <div className=\"flex items-center gap-[var(--space-1)] ml-[var(--space-2)]\">\n                      <IconButton\n                        title={deleteLabel}\n                        aria-label={deleteLabel}\n                        onClick={() => onRemove(it.id)}\n                        size=\"sm\"\n                        iconSize=\"sm\"\n                        variant=\"quiet\"\n                        className={revealOnInteractionClass}\n                      >\n                        <Trash2 />\n                      </IconButton>\n                    </div>\n                  </li>\n                );\n              })\n            )}\n          </ul>\n\n          <form onSubmit={submit} className=\"flex items-center gap-[var(--space-2)] pt-[var(--space-3)]\">\n            <span\n              className=\"h-[var(--space-2)] w-[var(--space-2)] rounded-full bg-foreground/40\"\n              aria-hidden\n            />\n            <label className=\"sr-only\" htmlFor={inputId}>\n              Add to queue and press Enter\n            </label>\n            <Input\n              id={inputId}\n              className=\"flex-1 text-ui font-medium\"\n              height=\"sm\"\n              value={val}\n              onChange={(e) => setVal(e.currentTarget.value)}\n              placeholder=\"Add to queue and press Enter\"\n            />\n          </form>\n        </SectionCard.Body>\n      </SectionCard>\n    );\n  }\n\n","// src/components/team/Reminders.tsx\n\"use client\";\n\n/**\n * Team Reminders (Lavender-Glitch, neon-outlined)\n * - Local-first via usePersistentState(\"team.reminders.v1\")\n * - Search + group chips + pinned toggle\n * - Add / duplicate / delete / reset curated seeds\n * - Inline edit (Enter saves, Esc cancels)\n * - Cards use glitch-card border\n * - Quick Add (input + button + neon quote) now lives in the SAME panel as the cards (SectionCard.Body)\n */\n\n\nimport * as React from \"react\";\nimport { SectionCard } from \"@/components/ui/layout/SectionCard\";\nimport { Button } from \"@/components/ui/primitives/Button\";\nimport { Input } from \"@/components/ui/primitives/Input\";\nimport { Textarea } from \"@/components/ui/primitives/Textarea\";\nimport { Badge } from \"@/components/ui/primitives/Badge\";\nimport { IconButton } from \"@/components/ui/primitives/IconButton\";\nimport { TabBar } from \"@/components/ui/layout/TabBar\";\nimport { SegmentedButton } from \"@/components/ui/primitives/SegmentedButton\";\nimport { uid, usePersistentState } from \"@/lib/db\";\nimport useAutoFocus from \"@/lib/useAutoFocus\";\nimport useDebouncedCallback from \"@/lib/useDebouncedCallback\";\nimport { cn } from \"@/lib/utils\";\nimport { GOAL_TEXTAREA_MIN_HEIGHT_CLASS, GOALS_STICKY_TOP_CLASS } from \"./constants\";\nimport {\n  Search,\n  Plus,\n  Pin,\n  PinOff,\n  Pencil,\n  Check,\n  X,\n  Trash2,\n  Copy,\n} from \"lucide-react\";\n\ntype Source = \"MLA\" | \"BLA\" | \"BrokenByConcept\" | \"Custom\";\ntype Group = \"quick\" | \"pregame\" | \"laning\" | \"trading\" | \"tempo\" | \"review\";\n\nexport type Reminder = {\n  id: string;\n  title: string;\n  body?: string;\n  tags: string[];\n  source: Source;\n  group: Group;\n  pinned?: boolean;\n  createdAt: number;\n  updatedAt: number;\n};\n\nconst STORE_KEY = \"team.reminders.v1\";\n\n/* ---------- curated seeds ---------- */\nfunction R(\n  title: string,\n  body: string,\n  tags: string[],\n  source: Source,\n  group: Group,\n  pinned = false\n): Reminder {\n  const now = Date.now();\n  return {\n    id: uid(\"rem\"),\n    title,\n    body,\n    tags,\n    source,\n    group,\n    pinned,\n    createdAt: now,\n    updatedAt: now,\n  };\n}\n\nconst SEEDS: Reminder[] = [\n  R(\"Hit 2 first\", \"Push 3 melees  step up together or respect if losing push.\", [\"Level 2\",\"Bot\"], \"BLA\", \"quick\", true),\n  R(\"Jungle start check\", \"Track start  first gank lane  second spawn prio.\", [\"Jungle Track\"], \"BrokenByConcept\", \"quick\", true),\n  R(\"3-wave plan\", \"Say it out loud: slow then crash 3 OR hold then thin/freeze.\", [\"Waves\"], \"BLA\", \"pregame\"),\n  R(\"Ward at 2:30\", \"River/tri on 2:30. Sweep before shove windows.\", [\"Vision\"], \"BrokenByConcept\", \"pregame\"),\n  R(\"Space with casters\", \"Trade when your casters live; back off on enemy wave.\", [\"Trading\",\"Wave\"], \"BLA\", \"laning\"),\n  R(\"CD punish\", \"Trade on enemy spell/CD gaps. Count sums for all-ins.\", [\"Timers\"], \"MLA\", \"trading\"),\n  R(\"Good recall\", \"Shove  recall on spike  arrive first to river.\", [\"Tempo\"], \"BrokenByConcept\", \"tempo\"),\n  R(\"Death audit\", \"Why did you die? Wave, vision, jungle, greed. Name fix.\", [\"Review\"], \"BLA\", \"review\"),\n];\n\nconst GROUP_TABS: Array<{ key: Group | \"all\"; label: string }> = [\n  { key: \"all\", label: \"All\" },\n  { key: \"quick\", label: \"Quick\" },\n  { key: \"pregame\", label: \"Pre-Game\" },\n  { key: \"laning\", label: \"Laning\" },\n  { key: \"trading\", label: \"Trading\" },\n  { key: \"tempo\", label: \"Tempo\" },\n  { key: \"review\", label: \"Review\" },\n];\n\n/* ---------- component ---------- */\n\nexport function Reminders() {\n  const [items, setItems] = usePersistentState<Reminder[]>(STORE_KEY, SEEDS);\n  const [searchState, setSearchState] = React.useState(() => ({\n    input: \"\",\n    committed: \"\",\n  }));\n  const [onlyPinned, setOnlyPinned] = React.useState(false);\n  const [group, setGroup] = React.useState<Group | \"all\">(\"all\");\n  const [quickAdd, setQuickAdd] = React.useState(\"\"); // Quick Add text\n\n  const { input: searchInput, committed: query } = searchState;\n\n  const [commitQuery, cancelCommitQuery] = useDebouncedCallback(\n    (next: string) => {\n      setSearchState((prev) => {\n        if (prev.committed === next) {\n          return prev;\n        }\n        return { ...prev, committed: next };\n      });\n    },\n    300,\n  );\n\n  const handleSearchChange = React.useCallback(\n    (event: React.ChangeEvent<HTMLInputElement>) => {\n      const next = event.currentTarget.value;\n\n      setSearchState((prev) => {\n        if (next === \"\") {\n          if (prev.input === \"\" && prev.committed === \"\") {\n            return prev;\n          }\n          return { input: \"\", committed: \"\" };\n        }\n\n        if (prev.input === next) {\n          return prev;\n        }\n\n        return { ...prev, input: next };\n      });\n\n      if (next === \"\") {\n        cancelCommitQuery();\n        return;\n      }\n\n      commitQuery(next);\n    },\n    [commitQuery, cancelCommitQuery],\n  );\n\n  const filtered = React.useMemo(() => {\n    const q = query.trim().toLowerCase();\n    return items\n      .filter(r => (group === \"all\" ? true : r.group === group))\n      .filter(r => (onlyPinned ? r.pinned : true))\n      .filter(r => {\n        if (!q) return true;\n        const hay = [r.title, r.body ?? \"\", r.tags.join(\" \"), r.source, r.group].join(\" \").toLowerCase();\n        return hay.includes(q);\n      })\n      .sort((a, b) => {\n        if (!!b.pinned === !!a.pinned) return b.updatedAt - a.updatedAt;\n        return Number(b.pinned) - Number(a.pinned);\n      });\n  }, [items, group, onlyPinned, query]);\n\n  function addNewWithTitle(titleText?: string) {\n    const title = (titleText ?? \"New reminder\").trim();\n    if (!title) return;\n    const now = Date.now();\n    const chosenGroup: Group = group === \"all\" ? \"pregame\" : group;\n    const next: Reminder = {\n      id: uid(\"rem\"),\n      title,\n      body: \"\",\n      tags: [],\n      source: \"Custom\",\n      group: chosenGroup,\n      pinned: chosenGroup === \"quick\",\n      createdAt: now,\n      updatedAt: now,\n    };\n    setItems(prev => [next, ...prev]);\n  }\n\n  function addQuick() {\n    const t = quickAdd.trim();\n    if (!t) return;\n    addNewWithTitle(t);\n    setQuickAdd(\"\");\n  }\n\n  function patch(id: string, partial: Partial<Reminder>) {\n    setItems(prev => prev.map(r => (r.id === id ? { ...r, ...partial, updatedAt: Date.now() } : r)));\n  }\n  function del(id: string) { setItems(prev => prev.filter(r => r.id !== id)); }\n  function dup(id: string) {\n    setItems(prev => {\n      const src = prev.find(r => r.id === id);\n      if (!src) return prev;\n      const now = Date.now();\n      return [{ ...src, id: uid(\"rem\"), title: `${src.title} (copy)`, createdAt: now, updatedAt: now }, ...prev];\n    });\n  }\n  function resetSeeds() {\n    const now = Date.now();\n    setItems(SEEDS.map(s => ({ ...s, id: uid(\"rem\"), createdAt: now, updatedAt: now })));\n  }\n\n  return (\n    <div className=\"grid gap-[var(--space-3)]\">\n      <SectionCard className=\"card-neo-soft\">\n        <SectionCard.Header sticky topClassName={GOALS_STICKY_TOP_CLASS}>\n          {/* header row (no Quick Add here anymore) */}\n          <div className=\"flex flex-wrap items-center gap-[var(--space-2)] sm:gap-[var(--space-3)] w-full\">\n            {/* search */}\n            <div className=\"relative flex-1 min-w-[calc(var(--space-8)*3.5)]\">\n              <Search\n                aria-hidden\n                className=\"icon-md pointer-events-none absolute left-[var(--space-4)] top-1/2 -translate-y-1/2 text-muted-foreground opacity-70\"\n              />\n              <Input\n                aria-label=\"Search reminders\"\n                placeholder=\"Search title, text, tags\"\n                name=\"search-reminders\"\n                height=\"md\"\n                indent\n                value={searchInput}\n                onChange={handleSearchChange}\n              >\n                <span className=\"pointer-events-none absolute right-[var(--space-3)] top-1/2 -translate-y-1/2 text-label font-medium tracking-[0.02em] text-muted-foreground\">\n                  {filtered.length}\n                </span>\n              </Input>\n            </div>\n\n            {/* groups */}\n            <TabBar\n              items={GROUP_TABS.map(t => ({ key: String(t.key), label: t.label }))}\n              value={String(group)}\n              onValueChange={(k) => setGroup((k === \"all\" ? \"all\" : k) as Group | \"all\")}\n              size=\"md\"\n              ariaLabel=\"Group filter\"\n              linkPanels={false}\n            />\n\n            {/* pinned */}\n            <SegmentedButton\n              className=\"min-h-[var(--control-h-md)]\"\n              onClick={() => setOnlyPinned(v => !v)}\n              aria-pressed={onlyPinned}\n              title=\"Pinned only\"\n              selected={onlyPinned}\n            >\n              {onlyPinned ? <PinOff className=\"mr-[var(--space-1)]\" /> : <Pin className=\"mr-[var(--space-1)]\" />}\n              {onlyPinned ? \"Pinned only\" : \"Any pin\"}\n            </SegmentedButton>\n\n            {/* actions */}\n            <SegmentedButton\n              className=\"min-h-[var(--control-h-md)]\"\n              onClick={resetSeeds}\n              title=\"Replace with curated seeds\"\n            >\n              Reset\n            </SegmentedButton>\n          </div>\n        </SectionCard.Header>\n\n        {/* Panel body now holds Quick Add + neon quote + cards grid */}\n        <SectionCard.Body className=\"grid gap-[var(--space-3)]\">\n          {/* Quick Add row (in the SAME panel as cards) */}\n          <div\n            className=\"flex flex-col gap-[var(--space-3)] sm:flex-row sm:items-center sm:justify-between sm:gap-[var(--space-4)] sm:p-[var(--space-4)]\"\n          >\n            <div className=\"flex flex-col gap-[var(--space-2)] sm:flex-row sm:items-center sm:gap-[var(--space-3)] sm:flex-1\">\n              <Input\n                aria-label=\"Quick add\"\n                placeholder={`Quick add to ${group === \"all\" ? \"Pre-Game\" : group.charAt(0).toUpperCase() + group.slice(1)}`}\n                name=\"quick-reminder\"\n                value={quickAdd}\n                onChange={(e) => setQuickAdd(e.currentTarget.value)}\n                onKeyDown={(e) => { if (e.key === \"Enter\") { e.preventDefault(); addQuick(); } }}\n                className=\"w-full sm:flex-1\"\n              />\n              <IconButton\n                title=\"Add quick\"\n                aria-label=\"Add quick\"\n                onClick={addQuick}\n                size=\"md\"\n                variant=\"default\"\n                className=\"sm:flex-none\"\n              >\n                <Plus />\n              </IconButton>\n            </div>\n            <p\n              className=\"text-balance text-label font-medium tracking-[0.02em] italic text-muted-foreground sm:text-ui sm:flex-1\"\n            >\n              Stop procrastinating, do it now if you have time\n            </p>\n          </div>\n\n          {/* Cards grid */}\n          <div className=\"grid card-neo-soft gap-[var(--space-3)] sm:gap-[var(--space-4)] md:grid-cols-12\">\n            {filtered.map((r) => (\n              <div key={r.id} className=\"md:col-span-6\">\n                <ReminderCard\n                  value={r}\n                  onChange={(p) => patch(r.id, p)}\n                  onDelete={() => del(r.id)}\n                  onDuplicate={() => dup(r.id)}\n                />\n              </div>\n            ))}\n\n            {filtered.length === 0 && (\n              <p className=\"text-ui font-medium text-muted-foreground\">\n                Nothing here. Add one or relax your filters.\n              </p>\n            )}\n          </div>\n        </SectionCard.Body>\n      </SectionCard>\n    </div>\n  );\n}\n\n/* ---------- Card ---------- */\n\nfunction ReminderCard({\n  value,\n  onChange,\n  onDelete,\n  onDuplicate,\n}: {\n  value: Reminder;\n  onChange: (partial: Partial<Reminder>) => void;\n  onDelete: () => void;\n  onDuplicate: () => void;\n}) {\n  const [editing, setEditing] = React.useState(false);\n  const [title, setTitle] = React.useState(value.title);\n  const [body, setBody] = React.useState(value.body ?? \"\");\n  const [tagsText, setTagsText] = React.useState(value.tags.join(\", \"));\n  const titleRef = React.useRef<HTMLInputElement | null>(null);\n\n  useAutoFocus({ ref: titleRef, when: editing });\n\n  function save() {\n    const cleanTags = tagsText.split(\",\").map(t => t.trim()).filter(Boolean);\n    onChange({ title: title.trim() || \"Untitled\", body: body.trim(), tags: cleanTags });\n    setEditing(false);\n  }\n  function cancel() {\n    setTitle(value.title); setBody(value.body ?? \"\"); setTagsText(value.tags.join(\", \")); setEditing(false);\n  }\n\n  const trimmedEditingTitle = title.trim();\n  const currentTitle = trimmedEditingTitle || value.title.trim() || \"Untitled reminder\";\n  const deleteLabel = `Delete ${currentTitle}`;\n  const duplicateLabel = `Duplicate ${currentTitle}`;\n  const saveLabel = `Save ${currentTitle}`;\n  const cancelLabel = `Cancel ${currentTitle}`;\n\n  return (\n    <article className=\"card-neo rounded-card p-[var(--space-4)] sm:p-[var(--space-5)] relative\">\n      {value.pinned && (\n        <span aria-hidden className=\"absolute inset-y-[var(--space-3)] left-0 w-0.5 rounded-full bg-primary/55\" />\n      )}\n\n      <div className=\"flex items-center justify-between gap-[var(--space-2)] mb-[var(--space-2)]\">\n        {editing ? (\n          <Input\n            ref={titleRef}\n            value={title}\n            onChange={(e) => setTitle(e.currentTarget.value)}\n            onKeyDown={(e) => {\n              if (e.key === \"Enter\") save();\n              if (e.key === \"Escape\") cancel();\n            }}\n            aria-label=\"Title\"\n            className=\"font-semibold\"\n          />\n        ) : (\n          <div className=\"flex items-center gap-[var(--space-2)] min-w-0\">\n            <h3 className=\"font-semibold title-glow truncate\" title={value.title}>\n              {value.title}\n            </h3>\n            <Button\n              size=\"sm\"\n              variant=\"quiet\"\n              onClick={() => setEditing(true)}\n              aria-label={value.title ? `Edit reminder ${value.title}` : \"Edit reminder\"}\n              className=\"shrink-0\"\n            >\n              <Pencil aria-hidden=\"true\" />\n              Edit\n            </Button>\n          </div>\n        )}\n\n        <div className=\"card-neo flex items-center gap-[var(--space-1)]\">\n          <IconButton\n            title={value.pinned ? \"Unpin\" : \"Pin\"}\n            aria-label={value.pinned ? \"Unpin\" : \"Pin\"}\n            onClick={() => onChange({ pinned: !value.pinned })}\n            size=\"sm\"\n            iconSize=\"sm\"\n          >\n            {value.pinned ? <PinOff /> : <Pin />}\n          </IconButton>\n          <IconButton\n            title={duplicateLabel}\n            aria-label={duplicateLabel}\n            onClick={onDuplicate}\n            size=\"sm\"\n            iconSize=\"sm\"\n          >\n            <Copy />\n          </IconButton>\n          {editing ? (\n            <>\n              <IconButton\n                title={`${saveLabel} (Enter)`}\n                aria-label={saveLabel}\n                onClick={save}\n                size=\"sm\"\n                iconSize=\"sm\"\n              >\n                <Check />\n              </IconButton>\n              <IconButton\n                title={`${cancelLabel} (Esc)`}\n                aria-label={cancelLabel}\n                onClick={cancel}\n                size=\"sm\"\n                iconSize=\"sm\"\n              >\n                <X />\n              </IconButton>\n            </>\n          ) : (\n            <>\n              <IconButton\n                title={deleteLabel}\n                aria-label={deleteLabel}\n                onClick={onDelete}\n                size=\"sm\"\n                iconSize=\"sm\"\n              >\n                <Trash2 />\n              </IconButton>\n            </>\n          )}\n        </div>\n      </div>\n\n      <div className=\"space-y-[var(--space-3)]\">\n        {editing ? (\n          <>\n            <Textarea\n              aria-label=\"Body\"\n              placeholder=\"Short, skimmable sentence. Keep it actionable.\"\n              value={body}\n              onChange={(e) => setBody(e.currentTarget.value)}\n              textareaClassName={cn(GOAL_TEXTAREA_MIN_HEIGHT_CLASS)}\n            />\n            <Input\n              aria-label=\"Tags (comma separated)\"\n              placeholder=\"tags, comma, separated\"\n              value={tagsText}\n              onChange={(e) => setTagsText(e.currentTarget.value)}\n            />\n            <div className=\"select-neo-wrap\">\n              <select\n                className=\"select-neo\"\n                value={value.group}\n                onChange={(e) => onChange({ group: e.currentTarget.value as Group })}\n                aria-label=\"Category\"\n              >\n                <option value=\"pregame\">Pre-Game</option>\n                <option value=\"laning\">Laning</option>\n                <option value=\"trading\">Trading</option>\n                <option value=\"tempo\">Tempo</option>\n                <option value=\"review\">Review</option>\n                <option value=\"quick\">Quick (pinned)</option>\n              </select>\n            </div>\n          </>\n        ) : (\n          <>\n            {value.body ? (\n              <p className=\"text-ui font-medium leading-6 text-muted-foreground\">{value.body}</p>\n            ) : (\n              <p className=\"text-ui font-medium text-muted-foreground/80\">No text. Click to edit.</p>\n            )}\n            <div className=\"flex flex-wrap items-center gap-[var(--space-2)] pt-[var(--space-1)]\">\n              {value.tags.map((t) => <span key={t} className=\"pill\">{t}</span>)}\n              <Badge size=\"sm\" tone=\"neutral\" className=\"opacity-75\">{value.group}</Badge>\n              <Badge\n                size=\"sm\"\n                tone={\n                  value.source === \"MLA\" ? \"primary\"\n                  : value.source === \"BLA\" ? \"accent\"\n                  : value.source === \"BrokenByConcept\" ? \"top\"\n                  : \"neutral\"\n                }\n              >\n                {value.source}\n              </Badge>\n            </div>\n          </>\n        )}\n      </div>\n    </article>\n  );\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"neonTonePrimary\":\"ReminderQuickAddForm_neonTonePrimary__qRLgg\",\"neonToneLife\":\"ReminderQuickAddForm_neonToneLife__MpYfq\",\"form\":\"ReminderQuickAddForm_form__yzrMK\",\"fields\":\"ReminderQuickAddForm_fields__79YNu\",\"noteWrap\":\"ReminderQuickAddForm_noteWrap__FsD_Q\",\"neonNote\":\"ReminderQuickAddForm_neonNote__trU_a\",\"neon-flicker\":\"ReminderQuickAddForm_neon-flicker__QuRN_\"};","import * as React from \"react\";\nimport { getRingMetrics, type RingSize } from \"@/lib/tokens\";\nimport { cn } from \"@/lib/utils\";\nimport RingNoiseDefs from \"./RingNoiseDefs\";\n\ninterface TimerRingIconProps {\n  pct: number; // 0..100\n  size?: number | RingSize;\n}\n\nconst DEFAULT_RING_SIZE: RingSize = \"l\";\n\nexport default function TimerRingIcon({\n  pct,\n  size,\n}: TimerRingIconProps) {\n  const uniqueId = React.useId();\n  const gradientId = `ring-gradient-${uniqueId}`;\n  const noiseFilterId = `ring-noise-${uniqueId}`;\n  const ringSize = typeof size === \"string\" ? size : DEFAULT_RING_SIZE;\n  const metrics = React.useMemo(() => getRingMetrics(ringSize), [ringSize]);\n  const resolvedSize = typeof size === \"number\" ? size : metrics.diameter;\n  const strokeWidth = metrics.stroke;\n  const trackInset = metrics.inset;\n  const radius = Math.max(resolvedSize / 2 - trackInset, 0);\n  const circumference = 2 * Math.PI * radius;\n  const offset = circumference - (pct / 100) * circumference;\n  const pulse = pct >= 90;\n  const accessibleLabel = `Timer ${pct}% complete`;\n  return (\n    <svg\n      className=\"h-full w-full rotate-[-90deg]\"\n      viewBox={`0 0 ${resolvedSize} ${resolvedSize}`}\n      role=\"img\"\n      aria-label={accessibleLabel}\n    >\n      <defs>\n        <RingNoiseDefs id={noiseFilterId} />\n        <linearGradient id={gradientId} x1=\"0%\" y1=\"0%\" x2=\"100%\" y2=\"0%\">\n          <stop offset=\"0%\" stopColor=\"hsl(var(--accent))\" />\n          <stop offset=\"100%\" stopColor=\"hsl(var(--accent-2))\" />\n        </linearGradient>\n      </defs>\n      <circle\n        cx={resolvedSize / 2}\n        cy={resolvedSize / 2}\n        r={radius}\n        stroke=\"hsl(var(--card-hairline))\"\n        strokeWidth={strokeWidth}\n        fill=\"none\"\n      />\n      <circle\n        cx={resolvedSize / 2}\n        cy={resolvedSize / 2}\n        r={radius}\n        stroke={`url(#${gradientId})`}\n        strokeWidth={strokeWidth}\n        strokeLinecap=\"round\"\n        strokeDasharray={circumference}\n        strokeDashoffset={offset}\n        className={cn(\n          \"drop-shadow-[0_0_calc(var(--space-3)/2)_hsl(var(--neon-soft))] transition-[stroke-dashoffset] duration-motion-sm ease-linear motion-reduce:transition-none\",\n          pulse && \"motion-safe:animate-pulse motion-reduce:animate-none\",\n        )}\n        filter={`url(#${noiseFilterId})`}\n        fill=\"none\"\n      />\n    </svg>\n  );\n}\n","\"use client\";\n\nimport * as React from \"react\";\n\nimport TimerRingIcon from \"@/icons/TimerRingIcon\";\nimport type { RingSize } from \"@/lib/tokens\";\nimport { cn } from \"@/lib/utils\";\n\ninterface TimerRingProps {\n  pct: number; // 0..100\n  className?: string;\n  size?: number | RingSize;\n}\n\nexport function TimerRing({\n  pct,\n  className,\n  size,\n}: TimerRingProps) {\n  const customSizeValue = React.useMemo(() => {\n    if (size == null) {\n      return null;\n    }\n    if (typeof size === \"number\") {\n      return Number.isFinite(size) ? `${size}px` : null;\n    }\n\n    return `var(--ring-diameter-${size})`;\n  }, [size]);\n  const hasCustomSize = customSizeValue !== null;\n  const ringIconSize =\n    typeof size === \"number\"\n      ? Number.isFinite(size)\n        ? size\n        : undefined\n      : size;\n\n  const customStyle = React.useMemo<\n    (React.CSSProperties & Record<string, string>) | undefined\n  >(() => {\n    if (!hasCustomSize || !customSizeValue) {\n      return undefined;\n    }\n    return {\n      \"--timer-ring-size\": customSizeValue,\n    };\n  }, [customSizeValue, hasCustomSize]);\n\n  return (\n    <div\n      className={cn(\n        \"relative aspect-square\",\n        className ?? \"size-[var(--timer-ring-size,var(--ring-diameter-l))]\",\n      )}\n      style={customStyle}\n    >\n      <TimerRingIcon pct={pct} size={ringIconSize} />\n    </div>\n  );\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"ReminderFilters_root__h9JIl\",\"primaryRow\":\"ReminderFilters_primaryRow__Q0Rhq\",\"searchShell\":\"ReminderFilters_searchShell___h7h0\",\"searchInput\":\"ReminderFilters_searchInput__wjGup\",\"searchIcon\":\"ReminderFilters_searchIcon__iQmoH\",\"groupRow\":\"ReminderFilters_groupRow__yhCfB\",\"tabBar\":\"ReminderFilters_tabBar__jjPkN\",\"tabList\":\"ReminderFilters_tabList__mG72J\",\"toggle\":\"ReminderFilters_toggle__HXBTv\",\"secondaryRow\":\"ReminderFilters_secondaryRow__Tup_k\",\"secondaryTabs\":\"ReminderFilters_secondaryTabs___odB5\",\"pinButton\":\"ReminderFilters_pinButton__8bY9c\"};","\"use client\";\n\nimport * as React from \"react\";\n\nimport { Badge, Button } from \"@/components/ui\";\nimport { Field } from \"@/components/ui\";\nimport { cn } from \"@/lib/utils\";\n\nexport type EntityFormFieldType =\n  | \"text\"\n  | \"textarea\"\n  | \"select\";\n\nexport interface EntityFormOption {\n  label: string;\n  value: string;\n}\n\nexport interface EntityFormField {\n  id: string;\n  label: string;\n  placeholder?: string;\n  type?: EntityFormFieldType;\n  options?: ReadonlyArray<EntityFormOption>;\n  helper?: React.ReactNode;\n  required?: boolean;\n  defaultValue?: string;\n  description?: React.ReactNode;\n  autoFocus?: boolean;\n  disabled?: boolean;\n  rows?: number;\n  inputMode?: React.HTMLAttributes<HTMLInputElement>[\"inputMode\"];\n  inputType?: React.HTMLInputTypeAttribute;\n}\n\nexport type EntityFormValues = Record<string, string>;\n\nexport type EntityFormSubmitResult =\n  | void\n  | boolean\n  | Promise<void | boolean>;\n\nexport interface EntityFormProps {\n  id?: string;\n  title?: React.ReactNode;\n  description?: React.ReactNode;\n  className?: string;\n  contentClassName?: string;\n  submitLabel?: string;\n  submitDisabled?: boolean;\n  resetOnSubmit?: boolean;\n  initialValues?: EntityFormValues;\n  fields: EntityFormField[];\n  onSubmit?: (values: EntityFormValues) => EntityFormSubmitResult;\n  onValuesChange?: (values: EntityFormValues) => void;\n  afterFields?: React.ReactNode;\n  footer?: React.ReactNode;\n  actions?: React.ReactNode;\n  statusBadge?: React.ReactNode;\n}\n\nexport interface EntityFormHandle {\n  focus: (options?: FocusOptions) => void;\n  reset: () => void;\n}\n\nconst DEFAULT_SUBMIT_LABEL = \"Save\";\n\nexport const EntityForm = React.forwardRef<EntityFormHandle, EntityFormProps>(\n  (\n    {\n      id,\n      title,\n      description,\n      className,\n      contentClassName,\n      submitLabel = DEFAULT_SUBMIT_LABEL,\n      submitDisabled,\n      resetOnSubmit = true,\n      initialValues,\n      fields,\n      onSubmit,\n      onValuesChange,\n      afterFields,\n      footer,\n      actions,\n      statusBadge,\n    },\n    ref,\n  ) => {\n    const formId = React.useId();\n    const resolvedId = id ?? formId;\n\n    const defaultValues = React.useMemo(() => {\n      const base: EntityFormValues = {};\n      for (const field of fields) {\n        const fieldId = field.id;\n        base[fieldId] =\n          initialValues?.[fieldId] ?? field.defaultValue ?? \"\";\n      }\n      return base;\n    }, [fields, initialValues]);\n\n    const [values, setValues] = React.useState<EntityFormValues>(defaultValues);\n\n    React.useEffect(() => {\n      setValues(defaultValues);\n      onValuesChange?.(defaultValues);\n    }, [defaultValues, onValuesChange]);\n\n    const firstFieldRef = React.useRef<HTMLInputElement | HTMLTextAreaElement | HTMLSelectElement | null>(\n      null,\n    );\n\n    const handleFieldChange = React.useCallback(\n      (fieldId: string, nextValue: string) => {\n        setValues((prev) => {\n          const updated = { ...prev, [fieldId]: nextValue };\n          onValuesChange?.(updated);\n          return updated;\n        });\n      },\n      [onValuesChange],\n    );\n\n    const resetForm = React.useCallback(() => {\n      setValues(defaultValues);\n      onValuesChange?.(defaultValues);\n    }, [defaultValues, onValuesChange]);\n\n    React.useImperativeHandle(\n      ref,\n      () => ({\n        focus: (options) => {\n          firstFieldRef.current?.focus(options);\n        },\n        reset: resetForm,\n      }),\n      [resetForm],\n    );\n\n    const handleSubmit = React.useCallback(\n      async (event: React.FormEvent<HTMLFormElement>) => {\n        event.preventDefault();\n        if (!onSubmit) {\n          return;\n        }\n        const result = await onSubmit(values);\n        if (resetOnSubmit && result !== false) {\n          resetForm();\n        }\n      },\n      [onSubmit, resetOnSubmit, resetForm, values],\n    );\n\n    return (\n      <form id={resolvedId} onSubmit={handleSubmit} className={className}>\n        <div\n          className={cn(\n            \"flex flex-col gap-[var(--space-4)]\",\n            contentClassName,\n          )}\n        >\n          {(title || description || statusBadge) && (\n            <header className=\"space-y-[var(--space-2)]\">\n              <div className=\"flex flex-wrap items-start justify-between gap-[var(--space-2)]\">\n                <div className=\"space-y-[var(--space-1)]\">\n                  {title ? (\n                    <h3 className=\"text-title font-semibold tracking-[-0.01em]\">\n                      {title}\n                    </h3>\n                  ) : null}\n                  {description ? (\n                    <p className=\"text-ui text-muted-foreground\">\n                      {description}\n                    </p>\n                  ) : null}\n                </div>\n                {statusBadge ? (\n                  <span className=\"shrink-0\">{statusBadge}</span>\n                ) : null}\n              </div>\n            </header>\n          )}\n\n          <div className=\"flex flex-col gap-[var(--space-4)]\">\n            {fields.map((field, index) => {\n              const fieldId = `${resolvedId}-${field.id}`;\n              const value = values[field.id] ?? \"\";\n              const helperId = field.helper ? `${fieldId}-helper` : undefined;\n              const descriptionId = field.description\n                ? `${fieldId}-description`\n                : undefined;\n              const commonProps = {\n                id: fieldId,\n                name: field.id,\n                placeholder: field.placeholder,\n                value,\n                onChange: (event: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement | HTMLSelectElement>) => {\n                  handleFieldChange(field.id, event.target.value);\n                },\n                required: field.required,\n                disabled: field.disabled,\n              } as const;\n\n              const labelContent = (\n                <div className=\"flex flex-wrap items-center gap-[var(--space-2)]\">\n                  <span className=\"text-ui font-medium text-foreground\">\n                    {field.label}\n                  </span>\n                  {field.required ? (\n                    <Badge\n                      size=\"sm\"\n                      tone=\"accent\"\n                      className=\"uppercase tracking-[0.08em]\"\n                      aria-hidden=\"true\"\n                    >\n                      Required\n                    </Badge>\n                  ) : null}\n                </div>\n              );\n\n              const helperContent = field.helper\n                ? field.helper\n                : undefined;\n\n              return (\n                <div\n                  key={field.id}\n                  className=\"space-y-[var(--space-2)]\"\n                >\n                  <label htmlFor={fieldId} className=\"grid gap-[var(--space-1)]\">\n                    {labelContent}\n                    {field.description ? (\n                      <span\n                        id={descriptionId}\n                        className=\"text-label text-muted-foreground\"\n                      >\n                        {field.description}\n                      </span>\n                    ) : null}\n                  </label>\n                  <Field.Root\n                    helper={helperContent}\n                    helperId={helperId}\n                    className=\"bg-card/60\"\n                  >\n                    {renderFieldControl({\n                      field,\n                      commonProps,\n                      descriptionId,\n                      helperId,\n                      setFirstFieldRef:\n                        index === 0\n                          ? (element) => {\n                              firstFieldRef.current = element;\n                            }\n                          : undefined,\n                    })}\n                  </Field.Root>\n                </div>\n              );\n            })}\n          </div>\n\n          {afterFields}\n\n          <div className=\"flex flex-wrap items-center justify-end gap-[var(--space-3)]\">\n            {actions}\n            <Button type=\"submit\" disabled={submitDisabled} size=\"sm\">\n              {submitLabel}\n            </Button>\n          </div>\n\n          {footer}\n        </div>\n      </form>\n    );\n  },\n);\n\nEntityForm.displayName = \"EntityForm\";\n\ninterface RenderFieldControlArgs {\n  field: EntityFormField;\n  commonProps: {\n    id: string;\n    name: string;\n    placeholder?: string;\n    value: string;\n    onChange: (\n      event:\n        | React.ChangeEvent<HTMLInputElement>\n        | React.ChangeEvent<HTMLTextAreaElement>\n        | React.ChangeEvent<HTMLSelectElement>,\n    ) => void;\n    required?: boolean;\n    disabled?: boolean;\n  };\n  descriptionId?: string;\n  helperId?: string;\n  setFirstFieldRef?: (\n    element: HTMLInputElement | HTMLTextAreaElement | HTMLSelectElement | null,\n  ) => void;\n}\n\nfunction renderFieldControl({\n  field,\n  commonProps,\n  descriptionId,\n  helperId,\n  setFirstFieldRef,\n}: RenderFieldControlArgs) {\n  const fieldType = field.type ?? \"text\";\n  const inputProps = {\n    ...commonProps,\n    \"aria-describedby\":\n      descriptionId && helperId\n        ? `${descriptionId} ${helperId}`\n        : descriptionId ?? helperId,\n  } as const;\n\n  switch (fieldType) {\n    case \"textarea\":\n      return (\n        <Field.Textarea\n          {...inputProps}\n          rows={field.rows}\n          ref={setFirstFieldRef as React.Ref<HTMLTextAreaElement> | undefined}\n        />\n      );\n    case \"select\":\n      return (\n        <Field.Select\n          {...inputProps}\n          ref={setFirstFieldRef as React.Ref<HTMLSelectElement> | undefined}\n        >\n          <option value=\"\" disabled hidden>\n            {field.placeholder ?? \"Select\"}\n          </option>\n          {(field.options ?? []).map((option) => (\n            <option key={option.value} value={option.value}>\n              {option.label}\n            </option>\n          ))}\n        </Field.Select>\n      );\n    case \"text\":\n    default:\n      return (\n        <Field.Input\n          {...inputProps}\n          type={field.inputType}\n          inputMode={field.inputMode}\n          ref={setFirstFieldRef as React.Ref<HTMLInputElement> | undefined}\n        />\n      );\n  }\n}\n","// src/components/goals/DurationSelector.tsx\n\"use client\";\n\nimport * as React from \"react\";\nimport { cn } from \"@/lib/utils\";\n\nexport type DurationSelectorProps = {\n  options?: number[];\n  value?: number;\n  onChange?: (value: number) => void;\n  disabled?: boolean;\n  className?: string;\n};\n\nconst DEFAULT_OPTIONS = [10, 15, 20, 25, 30, 45, 60];\n\nexport function DurationSelector({\n  options = DEFAULT_OPTIONS,\n  value,\n  onChange,\n  disabled = false,\n  className,\n}: DurationSelectorProps) {\n  return (\n    <div\n      role=\"radiogroup\"\n      aria-disabled={disabled || undefined}\n      className={cn(\"flex flex-row gap-[var(--space-3)]\", className)}\n    >\n      {options.map((m) => {\n        const active = value === m;\n        return (\n          <button\n            key={m}\n            type=\"button\"\n            disabled={disabled}\n            onClick={() => !disabled && onChange?.(m)}\n            role=\"radio\"\n            aria-checked={active}\n            aria-disabled={disabled || undefined}\n            className={cn(\n              \"inline-flex h-[var(--control-h-sm)] items-center justify-center rounded-full px-[var(--space-3)] text-center text-ui font-medium\",\n              \"border transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring\",\n              active\n                ? \"border-accent bg-accent/20 font-semibold text-on-accent hover:bg-accent/20 hover:text-on-accent\"\n                : \"border-border/10 bg-foreground/5 text-muted-foreground hover:bg-foreground/10 hover:text-foreground\"\n            )}\n          >\n            {m}m\n          </button>\n        );\n      })}\n    </div>\n  );\n}\n","\"use client\";\n\nimport * as React from \"react\";\nimport { type TabItem, TabBar } from \"@/components/ui/layout/TabBar\";\nimport { Circle, CircleDot, CircleCheck } from \"lucide-react\";\n\nexport type FilterKey = \"All\" | \"Active\" | \"Done\";\n\nconst FILTER_ITEMS: TabItem<FilterKey>[] = [\n  { key: \"All\", label: \"All\", icon: <Circle aria-hidden=\"true\" /> },\n  { key: \"Active\", label: \"Active\", icon: <CircleDot aria-hidden=\"true\" /> },\n  { key: \"Done\", label: \"Done\", icon: <CircleCheck aria-hidden=\"true\" /> },\n];\n\ninterface GoalsTabsProps {\n  value: FilterKey;\n  onChange: (val: FilterKey) => void;\n}\n\nexport function GoalsTabs({ value, onChange }: GoalsTabsProps) {\n  return (\n    <TabBar<FilterKey>\n      items={FILTER_ITEMS}\n      value={value}\n      onValueChange={onChange}\n      size=\"sm\"\n      ariaLabel=\"Filter goals\"\n      linkPanels={false}\n    />\n  );\n}\n","\"use client\";\n\nimport * as React from \"react\";\n\nimport { GenericList } from \"@/components/lists/GenericList\";\nimport { IconButton, Input, Textarea, CheckCircle } from \"@/components/ui\";\nimport { Trash2, Pencil, X, Check } from \"lucide-react\";\nimport { cn } from \"@/lib/utils\";\nimport { shortDate } from \"@/lib/date\";\nimport type { Goal } from \"@/lib/types\";\n\nconst ICON_SM = \"size-[var(--icon-size-sm)]\";\n\ninterface GoalListProps {\n  goals: Goal[];\n  onToggleDone: (id: string) => void;\n  onRemove: (id: string) => void;\n  onUpdate: (\n    id: string,\n    updates: Pick<Goal, \"title\" | \"metric\" | \"notes\">,\n  ) => boolean;\n}\n\nexport function GoalList({\n  goals,\n  onToggleDone,\n  onRemove,\n  onUpdate,\n}: GoalListProps) {\n  const [editingId, setEditingId] = React.useState<string | null>(null);\n  const [draft, setDraft] = React.useState({\n    title: \"\",\n    metric: \"\",\n    notes: \"\",\n  });\n\n  const startEdit = React.useCallback((goal: Goal) => {\n    setEditingId(goal.id);\n    setDraft({\n      title: goal.title,\n      metric: goal.metric ?? \"\",\n      notes: goal.notes ?? \"\",\n    });\n  }, []);\n\n  const cancelEdit = React.useCallback(() => {\n    setEditingId(null);\n  }, []);\n\n  const saveEdit = React.useCallback(\n    (id: string) => {\n      const updated = onUpdate(id, {\n        title: draft.title,\n        metric: draft.metric || undefined,\n        notes: draft.notes || undefined,\n      });\n      if (updated) {\n        setEditingId(null);\n      }\n    },\n    [draft.metric, draft.notes, draft.title, onUpdate],\n  );\n\n  const updateDraft = React.useCallback(\n    (key: \"title\" | \"metric\" | \"notes\", value: string) => {\n      setDraft((prev) => ({ ...prev, [key]: value }));\n    },\n    [],\n  );\n\n  return (\n    <GenericList\n      items={goals}\n      getKey={(goal) => goal.id}\n      listClassName=\"grid grid-cols-1 gap-[var(--space-4)] sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 [grid-auto-rows:minmax(0,1fr)]\"\n      itemClassName=\"flex\"\n      emptyState={{\n        title: \"No goals here.\",\n        description: \"Add one simple, finishable thing.\",\n      }}\n      renderItem={(goal) => {\n        const isEditing = editingId === goal.id;\n        const headingId = `goal-${goal.id}-heading`;\n\n        return (\n          <article\n            className=\"card-pad flex min-h-[var(--space-6)] w-full flex-1 flex-col rounded-card border border-card-hairline-60 bg-surface text-card-foreground transition-colors focus-within:outline-none focus-within:ring-2 focus-within:ring-[var(--theme-ring,var(--focus))] focus-within:ring-offset-2 focus-within:ring-offset-[hsl(var(--surface))] hover:bg-surface-2 focus-within:bg-surface-2\"\n          >\n            <header className=\"flex items-start justify-between gap-[var(--space-2)]\">\n              <div className=\"flex-1 pr-[var(--space-6)]\">\n                <h3\n                  id={headingId}\n                  className={cn(\n                    \"text-title font-semibold tracking-[-0.01em] leading-tight\",\n                    isEditing ? \"sr-only\" : \"line-clamp-2\",\n                  )}\n                >\n                  {isEditing\n                    ? draft.title || goal.title || \"Goal title\"\n                    : goal.title}\n                </h3>\n                {isEditing ? (\n                  <Input\n                    aria-labelledby={headingId}\n                    value={draft.title}\n                    onChange={(event) => updateDraft(\"title\", event.target.value)}\n                    className=\"font-semibold\"\n                    placeholder=\"Title\"\n                  />\n                ) : null}\n              </div>\n              <div className=\"flex items-center gap-[var(--space-2)]\">\n                {isEditing ? (\n                  <>\n                    <IconButton\n                      aria-label=\"Cancel\"\n                      onClick={cancelEdit}\n                      size=\"sm\"\n                      variant=\"quiet\"\n                      tone=\"accent\"\n                      className=\"transition-transform hover:-translate-y-0.5 motion-reduce:transition-none motion-reduce:transform-none\"\n                      iconSize=\"sm\"\n                    >\n                      <X aria-hidden className={ICON_SM} />\n                    </IconButton>\n                    <IconButton\n                      aria-label=\"Save\"\n                      onClick={() => saveEdit(goal.id)}\n                      size=\"sm\"\n                      variant=\"neo\"\n                      tone=\"accent\"\n                      className=\"transition-transform hover:-translate-y-0.5 motion-reduce:transition-none motion-reduce:transform-none\"\n                      iconSize=\"sm\"\n                    >\n                      <Check aria-hidden className={ICON_SM} />\n                    </IconButton>\n                  </>\n                ) : (\n                  <>\n                    <CheckCircle\n                      aria-label={goal.done ? \"Mark active\" : \"Mark done\"}\n                      checked={goal.done}\n                      onChange={() => onToggleDone(goal.id)}\n                      size=\"sm\"\n                      className=\"transition-transform hover:-translate-y-0.5 motion-reduce:transition-none motion-reduce:transform-none\"\n                    />\n                    <IconButton\n                      title=\"Edit\"\n                      aria-label=\"Edit goal\"\n                      onClick={() => startEdit(goal)}\n                      size=\"sm\"\n                      variant=\"quiet\"\n                      tone=\"accent\"\n                      className=\"transition-transform hover:-translate-y-0.5 motion-reduce:transition-none motion-reduce:transform-none\"\n                      iconSize=\"sm\"\n                    >\n                      <Pencil aria-hidden className={ICON_SM} />\n                    </IconButton>\n                    <IconButton\n                      title=\"Delete\"\n                      aria-label=\"Delete goal\"\n                      onClick={() => onRemove(goal.id)}\n                      size=\"sm\"\n                      variant=\"neo\"\n                      tone=\"accent\"\n                      className=\"transition-transform hover:-translate-y-0.5 motion-reduce:transition-none motion-reduce:transform-none\"\n                      iconSize=\"sm\"\n                    >\n                      <Trash2 aria-hidden className={ICON_SM} />\n                    </IconButton>\n                  </>\n                )}\n              </div>\n            </header>\n\n            <div className=\"mt-[var(--space-4)] space-y-[var(--space-2)] text-ui font-medium text-muted-foreground\">\n              {isEditing ? (\n                <div className=\"space-y-[var(--space-2)]\">\n                  <Input\n                    aria-label=\"Metric\"\n                    value={draft.metric}\n                    onChange={(event) => updateDraft(\"metric\", event.target.value)}\n                    className=\"tabular-nums\"\n                    placeholder=\"Metric\"\n                  />\n                  <Textarea\n                    aria-label=\"Notes\"\n                    value={draft.notes}\n                    onChange={(event) => updateDraft(\"notes\", event.target.value)}\n                    placeholder=\"Notes\"\n                    className=\"resize-none\"\n                    rows={3}\n                  />\n                </div>\n              ) : (\n                <>\n                  {goal.metric ? (\n                    <div className=\"tabular-nums\">\n                      <span className=\"opacity-70\">Metric:</span>{\" \"}\n                      {goal.metric}\n                    </div>\n                  ) : null}\n                  {goal.notes ? (\n                    <p className=\"text-body leading-relaxed\">{goal.notes}</p>\n                  ) : null}\n                </>\n              )}\n            </div>\n\n            <footer className=\"mt-auto flex items-center justify-between pt-[var(--space-3)] text-label font-medium tracking-[0.02em] text-muted-foreground\">\n              <span className=\"inline-flex items-center gap-[var(--space-2)]\">\n                <span\n                  aria-hidden\n                  className={cn(\n                    \"h-[var(--space-2)] w-[var(--space-2)] rounded-full transition-all\",\n                    goal.done\n                      ? \"bg-muted-foreground/40\"\n                      : \"bg-accent shadow-ring motion-safe:animate-pulse\",\n                  )}\n                />\n                <time\n                  className=\"tabular-nums\"\n                  dateTime={new Date(goal.createdAt).toISOString()}\n                >\n                  {shortDate.format(new Date(goal.createdAt))}\n                </time>\n              </span>\n              <span className={goal.done ? \"text-muted-foreground\" : \"text-accent-3\"}>\n                {goal.done ? \"Done\" : \"Active\"}\n              </span>\n            </footer>\n          </article>\n        );\n      }}\n    />\n  );\n}\n","\"use client\";\n\nimport { usePlanner } from \"@/components/planner\";\nimport { ACTIVE_CAP, decodeGoals, type AddGoalInput } from \"./goalsPersistence\";\n\nexport { ACTIVE_CAP, decodeGoals, type AddGoalInput };\n\nexport function useGoals() {\n  const { goals } = usePlanner();\n  return goals;\n}\n\n","\"use client\";\n\nimport * as React from \"react\";\nimport { Check, Pencil, Trash2, X } from \"lucide-react\";\nimport { cn } from \"@/lib/utils\";\nimport useAutoFocus from \"@/lib/useAutoFocus\";\nimport type { Goal } from \"@/lib/types\";\nimport { PillarBadge } from \"@/components/ui\";\nimport { Input } from \"@/components/ui/primitives/Input\";\nimport { IconButton } from \"@/components/ui/primitives/IconButton\";\n\nconst ICON_SM = \"size-[var(--icon-size-sm)]\";\nconst ICON_MD = \"size-[var(--icon-size-md)]\";\n\ninterface GoalSlotProps {\n  goal?: Goal | null;\n  onToggleDone?: (id: string) => void;\n  onEdit?: (id: string, title: string) => void;\n  onDelete?: (id: string) => void;\n}\n\nexport function GoalSlot({\n  goal,\n  onToggleDone,\n  onEdit,\n  onDelete,\n}: GoalSlotProps) {\n  const [editing, setEditing] = React.useState(false);\n  const [draft, setDraft] = React.useState(\"\");\n  const inputRef = React.useRef<HTMLInputElement>(null);\n  const editButtonRef = React.useRef<HTMLButtonElement>(null);\n  const wasEditing = React.useRef(false);\n\n  useAutoFocus({ ref: inputRef, when: editing });\n\n  React.useEffect(() => {\n    if (!editing && wasEditing.current) {\n      editButtonRef.current?.focus();\n    }\n    wasEditing.current = editing;\n  }, [editing]);\n\n  function startEdit() {\n    if (!goal) return;\n    setDraft(goal.title);\n    setEditing(true);\n  }\n\n  function saveEdit() {\n    if (!goal || !onEdit) return;\n    const clean = draft.trim();\n    if (clean) onEdit(goal.id, clean);\n    setEditing(false);\n  }\n\n  function cancelEdit() {\n    setEditing(false);\n  }\n\n  function handleKeyDown(e: React.KeyboardEvent<HTMLInputElement>) {\n    if (e.key === \"Enter\") {\n      e.preventDefault();\n      saveEdit();\n    } else if (e.key === \"Escape\") {\n      e.preventDefault();\n      cancelEdit();\n    }\n  }\n\n  return (\n    <div className=\"group relative rounded-card r-card-lg border border-border bg-surface p-[var(--space-1)] shadow-depth-soft\">\n      <div\n        className={cn(\n          \"relative flex aspect-[4/3] w-full items-center justify-center rounded-card r-card-lg bg-surface-2 font-mono text-center text-ui font-medium text-foreground\",\n          goal?.done && \"bg-muted text-muted-foreground\",\n        )}\n      >\n        {goal ? (\n          editing ? (\n            <div className=\"flex w-full flex-col items-center gap-[var(--space-1)]\">\n              <Input\n                ref={inputRef}\n                value={draft}\n                onChange={(e) => setDraft(e.target.value)}\n                onKeyDown={handleKeyDown}\n                aria-label=\"Goal title\"\n                height=\"sm\"\n              />\n              <div className=\"flex items-center gap-[var(--space-1)]\">\n                <IconButton\n                  size=\"sm\"\n                  iconSize=\"sm\"\n                  tone=\"accent\"\n                  onClick={saveEdit}\n                  aria-label=\"Save goal title\"\n                >\n                  <Check aria-hidden className={ICON_SM} />\n                </IconButton>\n                <IconButton\n                  size=\"sm\"\n                  iconSize=\"sm\"\n                  tone=\"danger\"\n                  onClick={cancelEdit}\n                  aria-label=\"Cancel editing\"\n                >\n                  <X aria-hidden className={ICON_SM} />\n                </IconButton>\n              </div>\n            </div>\n          ) : (\n            <>\n              <div className=\"flex flex-col items-center gap-[var(--space-1)]\">\n                <span className={cn(\"block\", goal?.done && \"line-through\")}>\n                  {goal.title}\n                </span>\n                {goal.pillar && (\n                  <PillarBadge\n                    pillar={goal.pillar}\n                    size=\"sm\"\n                    as=\"span\"\n                  />\n                )}\n              </div>\n                <IconButton\n                  size=\"sm\"\n                  iconSize=\"md\"\n                  tone={goal.done ? \"accent\" : \"primary\"}\n                  variant=\"quiet\"\n                  className=\"absolute bottom-[var(--space-1)] right-[var(--space-1)]\"\n                  aria-label={goal.done ? \"Mark goal undone\" : \"Mark goal done\"}\n                  aria-pressed={goal.done}\n                  onClick={() => onToggleDone?.(goal.id)}\n                >\n                  <Check aria-hidden className={ICON_MD} />\n                </IconButton>\n              <div\n                className=\"pointer-events-none absolute bottom-[var(--space-1)] left-[var(--space-1)] flex items-center gap-[var(--space-1)] opacity-0 transition-opacity duration-motion-sm ease-out group-hover:pointer-events-auto group-hover:opacity-100 group-focus-within:pointer-events-auto group-focus-within:opacity-100\"\n              >\n                <IconButton\n                  ref={editButtonRef}\n                  size=\"sm\"\n                  iconSize=\"sm\"\n                  variant=\"quiet\"\n                  aria-label=\"Edit goal\"\n                  title=\"Edit goal\"\n                  onClick={startEdit}\n                >\n                  <Pencil aria-hidden className={ICON_SM} />\n                </IconButton>\n                <IconButton\n                  size=\"sm\"\n                  iconSize=\"sm\"\n                  tone=\"danger\"\n                  variant=\"quiet\"\n                  aria-label=\"Delete goal\"\n                  title=\"Delete goal\"\n                  onClick={() => onDelete?.(goal.id)}\n                >\n                  <Trash2 aria-hidden className={ICON_SM} />\n                </IconButton>\n              </div>\n            </>\n          )\n        ) : (\n          <span className=\"text-label font-medium tracking-[0.02em] text-muted-foreground\">NO SIGNAL</span>\n        )}\n      </div>\n    </div>\n  );\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"ReminderList_card__7dLPm\",\"reminder-scanline\":\"ReminderList_reminder-scanline___e_jI\"};","\"use client\";\n\nimport * as React from \"react\";\nimport { TabBar } from \"@/components/ui/layout/TabBar\";\nimport { SegmentedButton } from \"@/components/ui/primitives/SegmentedButton\";\nimport { Input } from \"@/components/ui/primitives/Input\";\nimport { cn } from \"@/lib/utils\";\nimport { SlidersHorizontal, Pin, PinOff, Search } from \"lucide-react\";\n\nimport styles from \"./ReminderFilters.module.css\";\nimport { useReminders, Group, SourceFilter } from \"./useReminders\";\n\nexport function ReminderFilters() {\n  const {\n    showGroups,\n    groupTabs,\n    group,\n    setGroup,\n    toggleFilters,\n    showFilters,\n    sourceTabs,\n    source,\n    setSource,\n    onlyPinned,\n    togglePinned,\n    query,\n    setQuery,\n  } = useReminders();\n\n  const handleSearchChange = React.useCallback(\n    (event: React.ChangeEvent<HTMLInputElement>) => {\n      setQuery(event.currentTarget.value);\n    },\n    [setQuery],\n  );\n\n  return (\n    <div className={styles.root}>\n      <div className={styles.primaryRow}>\n        <div className={styles.searchShell}>\n          <Search aria-hidden className={styles.searchIcon} />\n          <Input\n            aria-label=\"Search reminders\"\n            placeholder=\"Search reminders\"\n            value={query}\n            onChange={handleSearchChange}\n            indent\n            height=\"md\"\n            className={cn(\"shadow-depth-soft\", styles.searchInput)}\n          />\n        </div>\n\n        <div className={styles.groupRow}>\n          {showGroups ? (\n            <TabBar\n              items={groupTabs}\n              value={group}\n              onValueChange={(key) => setGroup(key as Group)}\n              ariaLabel=\"Reminder group\"\n              size=\"md\"\n              align=\"start\"\n              className={styles.tabBar}\n              tablistClassName={styles.tabList}\n              variant=\"neo\"\n              linkPanels={false}\n            />\n          ) : null}\n\n          <SegmentedButton\n            className={cn(\"inline-flex items-center gap-[var(--space-2)]\", styles.toggle)}\n            onClick={toggleFilters}\n            aria-expanded={showFilters}\n            title=\"Filters\"\n            selected={showFilters}\n          >\n            <SlidersHorizontal className=\"icon-sm\" aria-hidden />\n            Filters\n          </SegmentedButton>\n        </div>\n      </div>\n\n      {showFilters ? (\n        <div className={styles.secondaryRow}>\n          <TabBar\n            items={sourceTabs}\n            value={source}\n            onValueChange={(key) => setSource(key as SourceFilter)}\n            ariaLabel=\"Reminder source filter\"\n            size=\"md\"\n            variant=\"neo\"\n            className={styles.secondaryTabs}\n            tablistClassName={styles.tabList}\n            linkPanels={false}\n          />\n          <SegmentedButton\n            onClick={togglePinned}\n            aria-pressed={onlyPinned}\n            title=\"Pinned only\"\n            selected={onlyPinned}\n            className={cn(\"inline-flex items-center gap-[var(--space-2)]\", styles.pinButton)}\n          >\n            {onlyPinned ? <PinOff className=\"icon-sm\" /> : <Pin className=\"icon-sm\" />}\n            {onlyPinned ? \"Pinned only\" : \"Any pin\"}\n          </SegmentedButton>\n        </div>\n      ) : null}\n    </div>\n  );\n}\n\n","\"use client\";\n\nimport * as React from \"react\";\nimport { Badge } from \"@/components/ui/primitives/Badge\";\nimport { Button } from \"@/components/ui/primitives/Button\";\nimport { IconButton } from \"@/components/ui/primitives/IconButton\";\nimport { Input } from \"@/components/ui/primitives/Input\";\nimport { SegmentedButton } from \"@/components/ui/primitives/SegmentedButton\";\nimport { Textarea } from \"@/components/ui/primitives/Textarea\";\nimport useAutoFocus from \"@/lib/useAutoFocus\";\nimport { capitalize, cn } from \"@/lib/utils\";\nimport { Pencil, Trash2, Pin, PinOff } from \"lucide-react\";\nimport { useReminders, Reminder, Group, Source, Domain } from \"./useReminders\";\nimport styles from \"./ReminderList.module.css\";\n\nexport function ReminderList() {\n  const { filtered, updateReminder, removeReminder } = useReminders();\n  const handleChange = React.useCallback(\n    (id: string, partial: Partial<Reminder>) => {\n      updateReminder(id, partial);\n    },\n    [updateReminder],\n  );\n  const handleDelete = React.useCallback(\n    (id: string) => {\n      removeReminder(id);\n    },\n    [removeReminder],\n  );\n\n  return (\n    <>\n      <div className=\"grid grid-cols-12 gap-[var(--space-3)]\">\n        {filtered.map((reminder) => (\n          <div key={reminder.id} className=\"col-span-12 md:col-span-6 lg:col-span-4\">\n            <RemTile\n              reminder={reminder}\n              onChange={handleChange}\n              onDelete={handleDelete}\n            />\n          </div>\n        ))}\n      </div>\n\n      {filtered.length === 0 && <EmptyState />}\n    </>\n  );\n}\n\nfunction EmptyState() {\n  return (\n    <div className=\"grid place-items-center rounded-card border border-card-hairline-60 bg-surface card-pad text-ui font-medium text-muted-foreground\">\n      <p>Nothing here. Add one clear sentence youll read in champ select.</p>\n    </div>\n  );\n}\n\ntype RemTileProps = {\n  reminder: Reminder;\n  onChange: (id: string, partial: Partial<Reminder>) => void;\n  onDelete: (id: string) => void;\n};\n\nfunction RemTileBase({ reminder, onChange, onDelete }: RemTileProps) {\n  const [editing, setEditing] = React.useState(false);\n  const [title, setTitle] = React.useState(reminder.title);\n  const [body, setBody] = React.useState(reminder.body ?? \"\");\n  const [tagsText, setTagsText] = React.useState(reminder.tags.join(\", \"));\n  const titleRef = React.useRef<HTMLInputElement | null>(null);\n  const noteFieldId = `reminder-${reminder.id}-note`;\n  const tagsFieldId = `reminder-${reminder.id}-tags`;\n\n  useAutoFocus({ ref: titleRef, when: editing });\n\n  React.useEffect(() => {\n    if (editing) {\n      return;\n    }\n\n    setTitle(reminder.title);\n    setBody(reminder.body ?? \"\");\n    setTagsText(reminder.tags.join(\", \"));\n  }, [editing, reminder.body, reminder.tags, reminder.title]);\n\n  const commitChange = React.useCallback(\n    (partial: Partial<Reminder>) => {\n      onChange(reminder.id, partial);\n    },\n    [onChange, reminder.id],\n  );\n\n  const handleDelete = React.useCallback(() => {\n    onDelete(reminder.id);\n  }, [onDelete, reminder.id]);\n\n  const save = React.useCallback(() => {\n    const cleanTags = tagsText\n      .split(\",\")\n      .map((tag) => tag.trim())\n      .filter(Boolean);\n    commitChange({\n      title: title.trim() || \"Untitled\",\n      body: body.trim(),\n      tags: cleanTags,\n    });\n    setEditing(false);\n  }, [body, commitChange, tagsText, title]);\n\n  const pinned = !!reminder.pinned;\n  const togglePinned = React.useCallback(() => {\n    commitChange({ pinned: !pinned });\n  }, [commitChange, pinned]);\n  const togglePinnedLabel = React.useMemo(() => {\n    const baseLabel = pinned ? \"Unpin reminder\" : \"Pin reminder\";\n    return reminder.title ? `${baseLabel} ${reminder.title}` : baseLabel;\n  }, [pinned, reminder.title]);\n  const deleteLabel = React.useMemo(() => {\n    const name = reminder.title.trim() || \"Untitled reminder\";\n    return `Delete ${name}`;\n  }, [reminder.title]);\n\n  return (\n    <article\n      className={cn(\n        \"group relative rounded-card r-card-lg border border-card-hairline-60 bg-surface card-pad transition-colors focus-within:bg-surface-2\",\n        styles.card,\n      )}\n    >\n      <div className=\"flex items-center justify-between gap-[var(--space-2)]\">\n        <div className=\"flex-1 min-w-0\">\n          {editing ? (\n            <Input\n              ref={titleRef}\n              value={title}\n              onChange={(event: React.ChangeEvent<HTMLInputElement>) =>\n                setTitle(event.currentTarget.value)\n              }\n              onKeyDown={(event: React.KeyboardEvent<HTMLInputElement>) =>\n                event.key === \"Enter\" && save()\n              }\n              aria-label=\"Title\"\n              className=\"font-semibold uppercase tracking-wide\"\n            />\n          ) : (\n            <div className=\"flex items-center gap-[var(--space-2)] min-w-0\">\n              <h4\n                className=\"font-semibold uppercase tracking-wide pr-[var(--space-2)] title-glow glitch leading-6 truncate\"\n                title={reminder.title}\n              >\n                {reminder.title}\n              </h4>\n              <Button\n                size=\"sm\"\n                variant=\"quiet\"\n                onClick={() => {\n                  setEditing(true);\n                }}\n                aria-label={\n                  reminder.title ? `Edit reminder ${reminder.title}` : \"Edit reminder\"\n                }\n                className=\"shrink-0\"\n              >\n                <Pencil aria-hidden=\"true\" />\n                Edit\n              </Button>\n            </div>\n          )}\n        </div>\n\n        <div className=\"flex items-center gap-[var(--space-1)]\">\n          <IconButton\n            title={deleteLabel}\n            aria-label={deleteLabel}\n            onClick={handleDelete}\n            size=\"sm\"\n            iconSize=\"sm\"\n            variant=\"quiet\"\n            className=\"opacity-0 pointer-events-none group-hover:opacity-100 group-hover:pointer-events-auto focus-visible:opacity-100 focus-visible:pointer-events-auto group-focus-within:opacity-100 group-focus-within:pointer-events-auto transition-opacity\"\n          >\n            <Trash2 />\n          </IconButton>\n\n          <IconButton\n            aria-pressed={pinned}\n            title={togglePinnedLabel}\n            aria-label={togglePinnedLabel}\n            onClick={togglePinned}\n            size=\"sm\"\n            iconSize=\"sm\"\n          >\n            {pinned ? <PinOff /> : <Pin />}\n          </IconButton>\n        </div>\n      </div>\n\n      <div className=\"mt-[var(--space-2)] space-y-[var(--space-3)]\">\n        {editing ? (\n          <>\n            <label\n              className=\"text-label font-medium tracking-[0.02em] opacity-70\"\n              htmlFor={noteFieldId}\n            >\n              Note\n            </label>\n            <Textarea\n              id={noteFieldId}\n              aria-label=\"Body\"\n              placeholder=\"Short, skimmable sentence.\"\n              value={body}\n              onChange={(event: React.ChangeEvent<HTMLTextAreaElement>) =>\n                setBody(event.currentTarget.value)\n              }\n              className=\"rounded-[var(--radius-2xl)]\"\n              resize=\"resize-y\"\n              textareaClassName=\"min-h-[calc(var(--space-8)*2_+_var(--space-3))] leading-relaxed\"\n            />\n            <label\n              className=\"text-label font-medium tracking-[0.02em] opacity-70\"\n              htmlFor={tagsFieldId}\n            >\n              Tags\n            </label>\n            <Input\n              id={tagsFieldId}\n              aria-label=\"Tags (comma separated)\"\n              placeholder=\"tags, comma, separated\"\n              value={tagsText}\n              onChange={(event: React.ChangeEvent<HTMLInputElement>) =>\n                setTagsText(event.currentTarget.value)\n              }\n            />\n\n            <div className=\"segmented flex flex-wrap -m-[var(--space-1)]\">\n              {(\n                [\n                  \"pregame\",\n                  \"laning\",\n                  \"trading\",\n                  \"tempo\",\n                  \"review\",\n                  \"quick\",\n                ] as Group[]\n              ).map((groupKey) => (\n                <SegmentedButton\n                  key={groupKey}\n                  onClick={() => commitChange({ group: groupKey })}\n                  selected={reminder.group === groupKey}\n                  className=\"m-[var(--space-1)]\"\n                >\n                  {groupKey === \"pregame\" ? \"Pre-Game\" : capitalize(groupKey)}\n                </SegmentedButton>\n              ))}\n            </div>\n\n            <div className=\"segmented flex flex-wrap -m-[var(--space-1)]\">\n              {([\"MLA\", \"BLA\", \"BrokenByConcept\", \"Custom\"] as Source[]).map(\n                (sourceKey) => (\n                  <SegmentedButton\n                    key={sourceKey}\n                    onClick={() => commitChange({ source: sourceKey })}\n                    selected={reminder.source === sourceKey}\n                    className=\"m-[var(--space-1)]\"\n                  >\n                    {sourceKey}\n                  </SegmentedButton>\n                ),\n              )}\n            </div>\n\n            <div className=\"segmented flex flex-wrap -m-[var(--space-1)]\">\n              {([\"Life\", \"League\", \"Learn\"] as Domain[]).map((domainKey) => (\n                <SegmentedButton\n                  key={domainKey}\n                  onClick={() => commitChange({ domain: domainKey })}\n                  selected={(reminder.domain ?? \"League\") === domainKey}\n                  className=\"m-[var(--space-1)]\"\n                >\n                  {domainKey}\n                </SegmentedButton>\n              ))}\n            </div>\n\n            <div className=\"flex flex-col gap-[var(--space-2)] sm:flex-row sm:items-center sm:gap-[var(--space-2)]\">\n              <Button size=\"sm\" onClick={save} className=\"w-full sm:w-auto\">\n                Save\n              </Button>\n              <Button\n                size=\"sm\"\n                variant=\"quiet\"\n                onClick={() => {\n                  setEditing(false);\n                  setTitle(reminder.title);\n                  setBody(reminder.body ?? \"\");\n                  setTagsText(reminder.tags.join(\", \"));\n                }}\n                className=\"w-full sm:w-auto\"\n              >\n                Cancel\n              </Button>\n            </div>\n          </>\n        ) : (\n          <>\n            <p className=\"text-ui font-medium\">\n              <span className=\"opacity-70\">Note:</span>{\" \"}\n              {reminder.body || (\n                <span className=\"opacity-60\">\n                  No text. Click title to edit.\n                </span>\n              )}\n            </p>\n\n            <div className=\"mt-[var(--space-1)] flex items-center justify-between text-ui font-medium\">\n              <div className=\"flex items-center gap-[var(--space-2)]\">\n                <span\n                  aria-hidden=\"true\"\n                  className=\"inline-block size-[var(--space-2)] rounded-full bg-accent-overlay\"\n                />\n                <span className=\"text-label font-medium tracking-[0.02em]\">{fmtDate(reminder.createdAt)}</span>\n              </div>\n\n              <Badge\n                as=\"button\"\n                interactive\n                tone=\"primary\"\n                size=\"sm\"\n                onClick={togglePinned}\n                title={togglePinnedLabel}\n                aria-label={togglePinnedLabel}\n                aria-pressed={pinned}\n                selected={pinned}\n              >\n                {pinned ? \"Pinned\" : \"Pin\"}\n              </Badge>\n            </div>\n          </>\n        )}\n      </div>\n    </article>\n  );\n}\n\nconst RemTile = React.memo(RemTileBase);\nRemTile.displayName = \"RemTile\";\n\nfunction pad(value: number) {\n  return value < 10 ? `0${value}` : `${value}`;\n}\n\nfunction fmtDate(timestamp: number) {\n  const date = new Date(timestamp);\n  return `${pad(date.getDate())}/${pad(date.getMonth() + 1)}/${date.getFullYear()}`;\n}\n\n","\"use client\";\n\nimport * as React from \"react\";\nimport { Input } from \"@/components/ui/primitives/Input\";\nimport { IconButton } from \"@/components/ui/primitives/IconButton\";\nimport { Plus } from \"lucide-react\";\nimport { cn } from \"@/lib/utils\";\nimport { useReminders } from \"./useReminders\";\nimport styles from \"./ReminderQuickAddForm.module.css\";\n\nexport function ReminderQuickAddForm() {\n  const {\n    quickAdd,\n    setQuickAdd,\n    addReminder,\n    group,\n    groups,\n    neonClass,\n    quickAddError,\n    clearQuickAddError,\n    setQuickAddError,\n  } = useReminders();\n\n  const inputRef = React.useRef<HTMLInputElement>(null);\n  const inputId = React.useId();\n  const errorId = quickAddError ? `${inputId}-error` : undefined;\n\n  const groupLabel = React.useMemo(() => {\n    return groups.find((item) => item.key === group)?.label ?? \"Group\";\n  }, [groups, group]);\n\n  const neonToneClass = React.useMemo(() => {\n    return neonClass === \"neon-life\" ? styles.neonToneLife : styles.neonTonePrimary;\n  }, [neonClass]);\n\n  const handleSubmit = React.useCallback(\n    (event: React.FormEvent<HTMLFormElement>) => {\n      event.preventDefault();\n      const trimmed = quickAdd.trim();\n      if (!trimmed) {\n        setQuickAddError(\"Enter a reminder before adding.\");\n        return;\n      }\n      const added = addReminder(trimmed);\n      if (added) {\n        inputRef.current?.focus({ preventScroll: true });\n      }\n    },\n    [addReminder, quickAdd, setQuickAddError],\n  );\n\n  const handleChange = React.useCallback(\n    (event: React.ChangeEvent<HTMLInputElement>) => {\n      if (quickAddError) {\n        clearQuickAddError();\n      }\n      setQuickAdd(event.currentTarget.value);\n    },\n    [clearQuickAddError, quickAddError, setQuickAdd],\n  );\n\n  return (\n    <>\n      <form\n        onSubmit={handleSubmit}\n        className={cn(\n          \"card-neo-soft rounded-card r-card-lg border border-card-hairline-60 bg-surface shadow-depth-soft\",\n          styles.form,\n        )}\n      >\n        <div className={cn(styles.fields)}>\n          <Input\n            ref={inputRef}\n            id={inputId}\n            aria-label=\"Quick add reminder\"\n            placeholder={`Quick add to ${groupLabel}`}\n            value={quickAdd}\n            onChange={handleChange}\n            aria-describedby={errorId}\n            height=\"md\"\n            className=\"w-full shadow-depth-soft\"\n          />\n          <IconButton\n            title=\"Add quick\"\n            aria-label=\"Add quick\"\n            type=\"submit\"\n            size=\"md\"\n            variant=\"neo\"\n            className=\"shadow-depth-soft\"\n          >\n            <Plus aria-hidden />\n          </IconButton>\n        </div>\n        <div className={cn(neonToneClass, styles.noteWrap)}>\n          <p className={`${styles.neonNote} neon-glow text-label font-medium tracking-[0.02em] italic`}>\n            Drop a precise cue and clear it once the habit sticks.\n          </p>\n        </div>\n      </form>\n      {quickAddError ? (\n        <p\n          id={errorId}\n          role=\"status\"\n          aria-live=\"polite\"\n          className=\"text-label font-medium tracking-[0.02em] text-danger\"\n        >\n          {quickAddError}\n        </p>\n      ) : null}\n    </>\n  );\n}\n\n","// src/components/goals/RemindersTab.tsx\n\"use client\";\n\nimport * as React from \"react\";\nimport Image from \"next/image\";\n\nimport { SectionCard } from \"@/components/ui/layout/SectionCard\";\nimport { AvatarFrame } from \"@/components/ui\";\nimport { withBasePath } from \"@/lib/utils\";\n\nimport { ReminderFilters } from \"./reminders/ReminderFilters\";\nimport { ReminderList } from \"./reminders/ReminderList\";\nimport { ReminderQuickAddForm } from \"./reminders/ReminderQuickAddForm\";\nimport styles from \"./RemindersTab.module.css\";\n\nconst REMINDER_AVATAR_SRC = withBasePath(\"/hero_image.png\");\n\nexport function RemindersTab() {\n  return (\n    <SectionCard variant=\"neo\" className={styles.card}>\n      <SectionCard.Header className={styles.header}>\n        <div className={styles.hero}>\n          <AvatarFrame\n            size=\"sm\"\n            media={\n              <Image\n                src={REMINDER_AVATAR_SRC}\n                alt=\"Planner avatar wearing a headset\"\n                fill\n                sizes=\"96px\"\n                priority={false}\n              />\n            }\n          />\n          <div className={styles.heroCopy}>\n            <p className=\"text-title font-semibold tracking-tight text-foreground\" role=\"text\">\n              Reminders\n            </p>\n            <p className=\"text-label text-muted-foreground\">\n              Keep crisp cues ready for every session and glide through focus swaps.\n            </p>\n          </div>\n        </div>\n      </SectionCard.Header>\n      <SectionCard.Body className={styles.body}>\n        <div className={styles.controls}>\n          <ReminderQuickAddForm />\n          <ReminderFilters />\n        </div>\n        <ReminderList />\n      </SectionCard.Body>\n    </SectionCard>\n  );\n}\n","// src/components/goals/GoalsPage.tsx\n\"use client\";\n\n/**\n * GoalsPage  Lavender-Glitch, hydration-safe, accessible.\n * - Uses <Header tabs={} /> with built-in segmented tabs\n * - Tabs: Goals / Reminders / Timer\n * - Grid layout (no Split dependency)\n * - Cap: 3 active goals; remaining indicator\n * - Undo snackbar with 5s timer\n */\n\nimport * as React from \"react\";\nimport { useSearchParams } from \"next/navigation\";\nimport {\n  Bomb,\n  Flag,\n  ListChecks,\n  Timer as TimerIcon,\n  Search,\n  Sparkles,\n  Gamepad2,\n  GraduationCap,\n  Plus,\n} from \"lucide-react\";\n\nimport { type HeaderTab } from \"@/components/ui/layout/Header\";\nimport { SectionCard } from \"@/components/ui/layout/SectionCard\";\nimport { Snackbar, PageHeader, PageShell, Modal, GlitchNeoCard } from \"@/components/ui\";\nimport { PlannerProvider } from \"@/components/planner\";\nimport { Button } from \"@/components/ui/primitives/Button\";\nimport {\n  CardHeader,\n  CardTitle,\n  CardDescription,\n  CardContent,\n  CardFooter,\n} from \"@/components/ui/primitives/Card\";\nimport { FilterKey, GoalsTabs } from \"./GoalsTabs\";\nimport {\n  EntityForm,\n  type EntityFormHandle,\n  type EntityFormValues,\n} from \"@/components/forms/EntityForm\";\nimport { GoalsProgress } from \"./GoalsProgress\";\nimport { GoalList } from \"./GoalList\";\nimport { GOALS_STICKY_TOP_CLASS } from \"./constants\";\n\nimport { usePersistentState } from \"@/lib/db\";\nimport { useGoals, ACTIVE_CAP } from \"./useGoals\";\nimport { usePrefersReducedMotion } from \"@/lib/useReducedMotion\";\n\n/* Tabs */\nimport { RemindersTab } from \"./RemindersTab\";\nimport { TimerTab } from \"./TimerTab\";\nimport { useReminders, type Domain } from \"./reminders/useReminders\";\n\n/* ---------- Types & constants ---------- */\ntype Tab = \"goals\" | \"reminders\" | \"timer\";\n\nconst isTabValue = (value: unknown): value is Tab =>\n  value === \"goals\" || value === \"reminders\" || value === \"timer\";\n\nconst isFilterKey = (value: unknown): value is FilterKey =>\n  value === \"All\" || value === \"Active\" || value === \"Done\";\n\nconst TABS: HeaderTab<Tab>[] = [\n  {\n    key: \"goals\",\n    label: \"Goals\",\n    icon: <Flag />,\n    hint: \"Cap 3 active\",\n  },\n  {\n    key: \"reminders\",\n    label: \"Reminders\",\n    icon: <ListChecks />,\n    hint: \"Quick cues\",\n  },\n  {\n    key: \"timer\",\n    label: \"Timer\",\n    icon: <TimerIcon />,\n    hint: \"Focus sprints\",\n  },\n];\n\nconst DOMAIN_ITEMS: Array<{\n  key: Domain;\n  label: string;\n  icon: React.ReactNode;\n}> = [\n  { key: \"Life\", label: \"Life\", icon: <Sparkles className=\"mr-[var(--space-1)]\" /> },\n  { key: \"League\", label: \"League\", icon: <Gamepad2 className=\"mr-[var(--space-1)]\" /> },\n  { key: \"Learn\", label: \"Learn\", icon: <GraduationCap className=\"mr-[var(--space-1)]\" /> },\n];\n\nconst HERO_HEADINGS: Record<Tab, string> = {\n  goals: \"Goals overview\",\n  reminders: \"Reminders\",\n  timer: \"Focus timer\",\n};\n\nconst HERO_HEADING_IDS: Record<Tab, string> = {\n  goals: \"goals-hero-heading\",\n  reminders: \"reminders-hero-heading\",\n  timer: \"timer-hero-heading\",\n};\n\nconst HERO_SUBTITLE_IDS: Record<Tab, string> = {\n  goals: \"goals-hero-summary\",\n  reminders: \"reminders-hero-summary\",\n  timer: \"timer-hero-summary\",\n};\n\nconst HERO_REGION_ID = \"goals-hero-region\";\nconst GOALS_TABS_ID_BASE = \"goals-tabs\";\nconst getGoalsTabId = (key: Tab) => `${GOALS_TABS_ID_BASE}-${key}-tab`;\nconst getGoalsPanelId = (key: Tab) => `${GOALS_TABS_ID_BASE}-${key}-panel`;\n\n/* ====================================================================== */\n\nexport function GoalsPage() {\n  return (\n    <PlannerProvider>\n      <GoalsPageContent />\n    </PlannerProvider>\n  );\n}\n\nfunction GoalsPageContent() {\n  const searchParams = useSearchParams();\n  const [tab, setTab] = usePersistentState<Tab>(\"goals.tab.v2\", \"goals\", {\n    decode: (value) => (isTabValue(value) ? value : null),\n  });\n\n  const [filter, setFilter] = usePersistentState<FilterKey>(\n    \"goals.filter.v1\",\n    \"All\",\n    {\n      decode: (value) => (isFilterKey(value) ? value : null),\n    },\n  );\n  const [shouldFocusGoalForm, setShouldFocusGoalForm] = React.useState(false);\n  const [intentApplied, setIntentApplied] = React.useState(false);\n  const {\n    goals,\n    err,\n    lastDeleted,\n    addGoal,\n    toggleDone,\n    removeGoal,\n    updateGoal,\n    undoRemove,\n    clearGoals,\n  } = useGoals();\n\n  const {\n    domain,\n    setDomain,\n    query,\n    setQuery,\n    filtered: reminderFiltered,\n    addReminder,\n  } = useReminders();\n\n  const formRef = React.useRef<HTMLDivElement | null>(null);\n  const goalFormRef = React.useRef<EntityFormHandle>(null);\n  const goalsRef = React.useRef<HTMLDivElement>(null);\n  const remindersRef = React.useRef<HTMLDivElement>(null);\n  const timerRef = React.useRef<HTMLDivElement>(null);\n\n  const [confirmClearOpen, setConfirmClearOpen] = React.useState(false);\n  const [clearedCount, setClearedCount] = React.useState(0);\n  const nukeDialogId = React.useId();\n  const nukeHeadingId = React.useId();\n  const nukeDescriptionId = React.useId();\n  const confirmButtonRef = React.useRef<HTMLButtonElement | null>(null);\n\n  React.useEffect(() => {\n    if (!confirmClearOpen) return;\n    confirmButtonRef.current?.focus({ preventScroll: true });\n  }, [confirmClearOpen]);\n\n  React.useEffect(() => {\n    if (clearedCount === 0) return;\n    const timer = window.setTimeout(() => setClearedCount(0), 5000);\n    return () => window.clearTimeout(timer);\n  }, [clearedCount]);\n\n  const handleOpenNuke = React.useCallback(() => {\n    setConfirmClearOpen(true);\n  }, []);\n\n  const handleCloseNuke = React.useCallback(() => {\n    setConfirmClearOpen(false);\n  }, []);\n\n  const handleAddGoal = React.useCallback(\n    (values: EntityFormValues) => {\n      const trimmedTitle = values.title?.trim() ?? \"\";\n      if (!trimmedTitle) {\n        return false;\n      }\n\n      const metric = values.metric?.trim() ?? \"\";\n      const notes = values.notes?.trim() ?? \"\";\n\n      const ok = addGoal({\n        title: trimmedTitle,\n        metric,\n        notes,\n        pillar: \"\",\n      });\n\n      if (ok) {\n        goalFormRef.current?.focus({ preventScroll: true });\n      }\n\n      return ok;\n    },\n    [addGoal],\n  );\n\n  const startGoalCreation = React.useCallback(() => {\n    setTab(\"goals\");\n    setShouldFocusGoalForm(true);\n  }, [setTab]);\n\n  const tabParam = searchParams?.get(\"tab\") ?? null;\n  React.useEffect(() => {\n    if (tabParam === null) return;\n\n    if (isTabValue(tabParam)) {\n      if (tabParam !== tab) {\n        setTab(tabParam);\n      }\n      return;\n    }\n\n    if (tab !== \"goals\") {\n      setTab(\"goals\");\n    }\n  }, [tabParam, tab, setTab]);\n\n  const filterParam = searchParams?.get(\"filter\") ?? null;\n  React.useEffect(() => {\n    if (filterParam === null) return;\n\n    if (isFilterKey(filterParam)) {\n      if (filterParam !== filter) {\n        setFilter(filterParam);\n      }\n      return;\n    }\n\n    if (filter !== \"All\") {\n      setFilter(\"All\");\n    }\n  }, [filterParam, filter, setFilter]);\n\n  const handleTabChange = React.useCallback(\n    (value: string) => {\n      if (isTabValue(value)) {\n        setTab(value);\n        return;\n      }\n      setTab(\"goals\");\n    },\n    [setTab],\n  );\n\n  const reminderCount = reminderFiltered.length;\n\n  const handleDomainChange = React.useCallback(\n    (key: Domain) => {\n      setDomain(key);\n    },\n    [setDomain],\n  );\n\n  const handleReminderSearchChange = React.useCallback(\n    (value: string) => {\n      setQuery(value);\n    },\n    [setQuery],\n  );\n\n  const handleAddReminder = React.useCallback(() => {\n    addReminder();\n  }, [addReminder]);\n\n  const reduceMotion = usePrefersReducedMotion();\n\n  React.useEffect(() => {\n    if (!shouldFocusGoalForm) {\n      return;\n    }\n    const behavior: ScrollBehavior = reduceMotion ? \"auto\" : \"smooth\";\n    formRef.current?.scrollIntoView({ behavior, block: \"start\" });\n    goalFormRef.current?.focus({ preventScroll: true });\n    setShouldFocusGoalForm(false);\n  }, [shouldFocusGoalForm, reduceMotion]);\n\n  const handleAddFirst = React.useCallback(() => {\n    startGoalCreation();\n  }, [startGoalCreation]);\n\n  const handleUndo = React.useCallback(() => {\n    undoRemove();\n  }, [undoRemove]);\n\n  const intentParam = searchParams?.get(\"intent\") ?? null;\n  React.useEffect(() => {\n    if (intentParam === \"create-goal\") {\n      if (!intentApplied) {\n        startGoalCreation();\n        setIntentApplied(true);\n      }\n      return;\n    }\n    if (intentApplied) {\n      setIntentApplied(false);\n    }\n  }, [intentParam, intentApplied, startGoalCreation]);\n\n  // stats\n  const totalCount = goals.length;\n  const doneCount = goals.filter((g) => g.done).length;\n  const activeCount = totalCount - doneCount;\n  const remaining = Math.max(0, ACTIVE_CAP - activeCount);\n  const isAtCap = remaining === 0;\n  const pctDone = totalCount ? Math.round((doneCount / totalCount) * 100) : 0;\n\n  const handleConfirmNuke = React.useCallback(() => {\n    if (totalCount > 0) {\n      setClearedCount(totalCount);\n    }\n    clearGoals();\n    setConfirmClearOpen(false);\n  }, [clearGoals, totalCount]);\n\n  // derive list\n  const sorted = React.useMemo(() => {\n    const rows = [...goals];\n    rows.sort((a, b) => b.createdAt - a.createdAt);\n    return rows;\n  }, [goals]);\n\n  const filtered = React.useMemo(() => {\n    if (filter === \"Active\") return sorted.filter((g) => !g.done);\n    if (filter === \"Done\") return sorted.filter((g) => g.done);\n    return sorted;\n  }, [sorted, filter]);\n  React.useEffect(() => {\n    const map: Record<Tab, React.RefObject<HTMLDivElement | null>> = {\n      goals: goalsRef,\n      reminders: remindersRef,\n      timer: timerRef,\n    };\n    map[tab].current?.focus();\n  }, [tab]);\n\n  const summary: React.ReactNode =\n    tab === \"goals\" ? (\n      <ul className=\"m-0 list-none flex flex-wrap items-center gap-x-[var(--space-3)] gap-y-[var(--space-1)] p-0 text-label text-muted-foreground\">\n        <li className=\"inline-flex items-center gap-[var(--space-1)]\">\n          <span className=\"font-semibold text-foreground\">Cap</span>\n          <span className=\"text-foreground\">{ACTIVE_CAP} active</span>\n        </li>\n        <li className=\"inline-flex items-center gap-[var(--space-1)]\">\n          <span className=\"font-semibold text-accent-3\">Remaining</span>\n          <span className=\"text-accent-3\">{remaining}</span>\n        </li>\n        <li className=\"inline-flex items-center gap-[var(--space-1)]\">\n          <span className=\"font-semibold text-success\">Complete</span>\n          <span className=\"text-success\">{pctDone}%</span>\n        </li>\n        <li className=\"inline-flex items-center gap-[var(--space-1)]\">\n          <span className=\"inline-flex items-center gap-[var(--space-1)] rounded-full bg-primary-soft px-[var(--space-2)] text-label text-primary-foreground\">\n            <span className=\"font-semibold\">Total</span>\n            <span>{totalCount}</span>\n          </span>\n        </li>\n      </ul>\n    ) : tab === \"reminders\" ? (\n      <>\n        Keep <span className=\"font-semibold text-accent-3\">nudges</span> handy with quick edit loops.\n      </>\n    ) : (\n      <>\n        <span className=\"inline-flex items-center rounded-full bg-primary-soft px-[var(--space-2)] font-semibold text-primary-foreground\">\n          Timebox\n        </span>{\" \"}\n        focus runs and reset between sets.\n      </>\n    );\n\n  const heroHeadingId = HERO_HEADING_IDS[tab];\n  const heroSubtitleId = HERO_SUBTITLE_IDS[tab];\n\n  const heroHeading = (\n    <span id={heroHeadingId}>{HERO_HEADINGS[tab]}</span>\n  );\n\n  const heroEyebrow = tab === \"reminders\" ? domain : \"Guide\";\n\n  let heroSubtitle: React.ReactNode;\n  if (tab === \"goals\") {\n    heroSubtitle = (\n      <span\n        id={heroSubtitleId}\n        className=\"flex flex-wrap items-center gap-x-[var(--space-3)] gap-y-[var(--space-1)] text-muted-foreground\"\n      >\n        <span className=\"inline-flex items-center gap-[var(--space-1)]\">\n          <span className=\"text-label font-semibold text-foreground\">Cap</span>\n          <span className=\"text-label text-foreground\">{ACTIVE_CAP}</span>\n        </span>\n        <span className=\"inline-flex items-center gap-[var(--space-1)]\">\n          <span className=\"inline-flex items-center gap-[var(--space-1)] rounded-full bg-primary-soft px-[var(--space-2)] text-label text-primary-foreground\">\n            <span className=\"font-semibold\">Active</span>\n            <span>{activeCount}</span>\n          </span>\n        </span>\n        <span className=\"inline-flex items-center gap-[var(--space-1)]\">\n          <span className=\"text-label font-semibold text-accent-3\">Remaining</span>\n          <span className=\"text-label text-accent-3\">{remaining}</span>\n        </span>\n        <span className=\"inline-flex items-center gap-[var(--space-1)]\">\n          <span className=\"text-label font-semibold text-success\">Done</span>\n          <span className=\"text-label text-success\">\n            {doneCount} ({pctDone}%)\n          </span>\n        </span>\n      </span>\n    );\n  } else if (tab === \"reminders\") {\n    heroSubtitle = (\n      <span id={heroSubtitleId} className=\"text-muted-foreground\">\n        Stage <span className=\"font-semibold text-accent-3\">nudges</span> with contexts and cadence.\n      </span>\n    );\n  } else {\n    heroSubtitle = (\n      <span id={heroSubtitleId} className=\"text-muted-foreground\">\n        Dial in{\" \"}\n        <span className=\"inline-flex items-center rounded-full bg-primary-soft px-[var(--space-2)] font-semibold text-primary-foreground\">\n          focus sprints\n        </span>{\" \"}\n        and steady breaks.\n      </span>\n    );\n  }\n\n  const heroAriaDescribedby =\n    heroSubtitle != null ? heroSubtitleId : undefined;\n\n  const heroDividerTint =\n    tab === \"reminders\" ? (domain === \"Life\" ? \"life\" : \"primary\") : undefined;\n\n  const reminderHeroSubTabs = React.useMemo(() => {\n    if (tab !== \"reminders\") return undefined;\n    return {\n      items: DOMAIN_ITEMS,\n      value: domain,\n      onChange: handleDomainChange,\n      align: \"end\" as const,\n      size: \"md\" as const,\n      ariaLabel: \"Reminder domain\",\n      showBaseline: true,\n    };\n  }, [tab, domain, handleDomainChange]);\n\n  const reminderHeroSearch = React.useMemo(() => {\n    if (tab !== \"reminders\") return undefined;\n    return {\n      value: query,\n      onValueChange: handleReminderSearchChange,\n      placeholder: \"Search title, text, tags\",\n      debounceMs: 300,\n      \"aria-label\": \"Search reminders\",\n      right: (\n        <div className=\"flex items-center gap-[var(--space-2)]\">\n          <span className=\"text-label font-medium tracking-[0.02em] opacity-75\">\n            {reminderCount}\n          </span>\n          <Search className=\"icon-sm opacity-80\" />\n        </div>\n      ),\n    };\n  }, [tab, query, handleReminderSearchChange, reminderCount]);\n\n  const reminderHeroActions = React.useMemo(() => {\n    if (tab !== \"reminders\") return undefined;\n    return (\n      <Button\n        variant=\"default\"\n        size=\"md\"\n        className=\"whitespace-nowrap\"\n        onClick={handleAddReminder}\n      >\n        <Plus />\n        <span>New Reminder</span>\n      </Button>\n    );\n  }, [tab, handleAddReminder]);\n\n  return (\n    <>\n      <PageShell as=\"header\" className=\"py-[var(--space-6)]\">\n        <PageHeader\n          header={{\n            id: \"goals-header\",\n            eyebrow: \"Goals\",\n            heading: \"Todays Goals\",\n            subtitle: summary,\n            icon: <Flag className=\"opacity-80\" />,\n            sticky: false,\n            barClassName:\n              \"flex-col items-start justify-start gap-[var(--space-2)] sm:flex-row sm:items-center sm:justify-between sm:gap-[var(--space-4)]\",\n            tabs: {\n              items: TABS,\n              value: tab,\n              onChange: handleTabChange,\n              ariaLabel: \"Goals header mode\",\n              idBase: GOALS_TABS_ID_BASE,\n            },\n          }}\n          hero={{\n            id: HERO_REGION_ID,\n            role: \"region\",\n            eyebrow: heroEyebrow,\n            title: heroHeading,\n            subtitle: heroSubtitle,\n            sticky: false,\n            topClassName: GOALS_STICKY_TOP_CLASS,\n            dividerTint: heroDividerTint,\n            \"aria-labelledby\": heroHeadingId,\n            \"aria-describedby\": heroAriaDescribedby,\n          }}\n          subTabs={reminderHeroSubTabs}\n          searchBar={reminderHeroSearch}\n          actions={reminderHeroActions}\n        />\n      </PageShell>\n\n      <PageShell\n        as=\"section\"\n        aria-labelledby=\"goals-header\"\n        className=\"py-[var(--space-6)]\"\n      >\n        <div className=\"grid gap-[var(--space-6)]\">\n          {/* ======= PANELS ======= */}\n          <div\n            role=\"tabpanel\"\n            id={getGoalsPanelId(\"goals\")}\n            aria-labelledby={getGoalsTabId(\"goals\")}\n            hidden={tab !== \"goals\"}\n            tabIndex={tab === \"goals\" ? 0 : -1}\n            ref={goalsRef}\n          >\n            {tab === \"goals\" && (\n              <div className=\"grid gap-[var(--space-4)]\">\n              <div className=\"space-y-[var(--space-2)]\">\n                <SectionCard className=\"card-neo-soft\">\n                  <SectionCard.Header\n                    sticky\n                    topClassName={GOALS_STICKY_TOP_CLASS}\n                    className=\"flex flex-col gap-[var(--space-3)] sm:flex-row sm:items-center sm:justify-between\"\n                  >\n                    <div className=\"flex items-center gap-[var(--space-2)] sm:gap-[var(--space-4)]\">\n                      <h2 className=\"text-title font-semibold tracking-[-0.01em]\">Your Goals</h2>\n                      <GoalsProgress total={totalCount} pct={pctDone} />\n                    </div>\n                    <div className=\"flex w-full flex-col gap-[var(--space-2)] sm:w-auto sm:flex-row sm:items-center sm:justify-end sm:gap-[var(--space-3)]\">\n                      <Button\n                        type=\"button\"\n                        size=\"sm\"\n                        variant=\"default\"\n                        className=\"w-full shrink-0 sm:w-auto\"\n                        onClick={startGoalCreation}\n                      >\n                        <Plus aria-hidden=\"true\" className=\"size-[var(--space-4)]\" />\n                        <span className=\"font-semibold tracking-[0.01em]\">New goal</span>\n                      </Button>\n                      <GoalsTabs value={filter} onChange={setFilter} />\n                      <Button\n                        type=\"button\"\n                        size=\"sm\"\n                        variant=\"neo\"\n                        tone=\"danger\"\n                        className=\"w-full shrink-0 sm:w-auto\"\n                        onClick={handleOpenNuke}\n                        disabled={totalCount === 0}\n                        aria-haspopup=\"dialog\"\n                        aria-controls={confirmClearOpen ? nukeDialogId : undefined}\n                        title=\"Delete all goals\"\n                      >\n                        <Bomb aria-hidden=\"true\" className=\"size-[var(--space-4)]\" />\n                        <span className=\"font-semibold tracking-[0.01em]\">Nuke all</span>\n                      </Button>\n                    </div>\n                  </SectionCard.Header>\n                  <SectionCard.Body>\n                    {totalCount === 0 ? (\n                      <div className=\"flex flex-col items-center gap-[var(--space-4)] py-[var(--space-6)] text-center\">\n                        <p className=\"text-ui font-medium text-muted-foreground\">No goals yet.</p>\n                        <Button onClick={handleAddFirst} size=\"sm\" variant=\"default\">\n                          Add a first goal\n                        </Button>\n                      </div>\n                    ) : (\n                      <GoalList\n                        goals={filtered}\n                        onToggleDone={toggleDone}\n                        onRemove={removeGoal}\n                        onUpdate={updateGoal}\n                      />\n                    )}\n                  </SectionCard.Body>\n                </SectionCard>\n              </div>\n\n              <div ref={formRef} id=\"goal-form\">\n                <GlitchNeoCard className=\"p-[var(--space-4)]\">\n                  <EntityForm\n                    ref={goalFormRef}\n                    title=\"Add goal\"\n                    description=\"Capture focused, finishable targets for your next session.\"\n                    fields={[\n                      {\n                        id: \"title\",\n                        label: \"Title\",\n                        placeholder: \"Review lane states\",\n                        required: true,\n                      },\n                      {\n                        id: \"metric\",\n                        label: \"Metric (optional)\",\n                        placeholder: \"3 ranked wins\",\n                      },\n                      {\n                        id: \"notes\",\n                        label: \"Notes (optional)\",\n                        placeholder: \"Add context, blockers, or reminders\",\n                        type: \"textarea\",\n                        rows: 4,\n                      },\n                    ]}\n                    submitLabel=\"Add goal\"\n                    submitDisabled={isAtCap}\n                    onSubmit={handleAddGoal}\n                    afterFields={\n                      <p className=\"text-label font-medium tracking-[0.02em] text-muted-foreground\">\n                        {isAtCap ? (\n                          <span className=\"text-danger\">Cap reached. Finish one to add more.</span>\n                        ) : (\n                          <span>\n                            {remaining} active slot{remaining === 1 ? \"\" : \"s\"} left\n                          </span>\n                        )}\n                      </p>\n                    }\n                    footer={\n                      err ? (\n                        <p\n                          role=\"status\"\n                          aria-live=\"polite\"\n                          className=\"text-label font-medium tracking-[0.02em] text-danger\"\n                        >\n                          {err}\n                        </p>\n                      ) : null\n                    }\n                  />\n                </GlitchNeoCard>\n              </div>\n\n              {lastDeleted && (\n                <Snackbar\n                  role=\"status\"\n                  aria-live=\"assertive\"\n                  message={<>Deleted {lastDeleted.title}.</>}\n                  actionLabel=\"Undo\"\n                  actionAriaLabel=\"Undo delete goal\"\n                  onAction={handleUndo}\n                />\n              )}\n              {clearedCount > 0 && (\n                <Snackbar\n                  tone=\"danger\"\n                  message={\n                    <>Removed {clearedCount} {clearedCount === 1 ? \"goal\" : \"goals\"}.</>\n                  }\n                />\n              )}\n            </div>\n          )}\n          </div>\n\n          <div\n            role=\"tabpanel\"\n            id={getGoalsPanelId(\"reminders\")}\n            aria-labelledby={getGoalsTabId(\"reminders\")}\n            hidden={tab !== \"reminders\"}\n            tabIndex={tab === \"reminders\" ? 0 : -1}\n            ref={remindersRef}\n            className=\"grid gap-[var(--space-4)]\"\n          >\n            {tab === \"reminders\" && <RemindersTab />}\n          </div>\n\n          <div\n            role=\"tabpanel\"\n            id={getGoalsPanelId(\"timer\")}\n            aria-labelledby={getGoalsTabId(\"timer\")}\n            hidden={tab !== \"timer\"}\n            tabIndex={tab === \"timer\" ? 0 : -1}\n            ref={timerRef}\n            className=\"grid gap-[var(--space-4)]\"\n          >\n            {tab === \"timer\" && <TimerTab />}\n          </div>\n        </div>\n\n        <Modal\n          id={nukeDialogId}\n          open={confirmClearOpen}\n          onClose={handleCloseNuke}\n          aria-labelledby={nukeHeadingId}\n          aria-describedby={nukeDescriptionId}\n          className=\"shadow-[var(--depth-shadow-soft)]\"\n        >\n          <CardHeader className=\"space-y-[var(--space-2)]\">\n            <CardTitle id={nukeHeadingId}>Delete all goals?</CardTitle>\n            <CardDescription id={nukeDescriptionId}>\n              This action permanently removes every goal, including completed history.\n            </CardDescription>\n          </CardHeader>\n          <CardContent className=\"space-y-[var(--space-3)]\">\n            <div className=\"rounded-card border border-danger/40 bg-danger/10 px-[var(--space-4)] py-[var(--space-3)] text-left shadow-neo\">\n              <p className=\"text-ui font-medium text-danger\">\n                You are about to nuke {totalCount} {totalCount === 1 ? \"goal\" : \"goals\"}.\n              </p>\n              <p className=\"text-label text-muted-foreground\">\n                There is no automatic undo. Export anything important before continuing.\n              </p>\n            </div>\n          </CardContent>\n          <CardFooter className=\"flex justify-end gap-[var(--space-2)]\">\n            <Button\n              ref={confirmButtonRef}\n              type=\"button\"\n              size=\"sm\"\n              variant=\"default\"\n              tone=\"danger\"\n              tactile\n              onClick={handleConfirmNuke}\n              className=\"shrink-0\"\n            >\n              <Bomb aria-hidden=\"true\" className=\"size-[var(--space-4)]\" />\n              <span className=\"font-semibold tracking-[0.01em]\">Delete all goals</span>\n            </Button>\n            <Button\n              type=\"button\"\n              size=\"sm\"\n              variant=\"quiet\"\n              onClick={handleCloseNuke}\n              className=\"shrink-0\"\n            >\n              Cancel\n            </Button>\n          </CardFooter>\n        </Modal>\n\n      </PageShell>\n    </>\n  );\n}\n","\"use client\";\n\nimport * as React from \"react\";\n\nimport ProgressRingIcon from \"@/icons/ProgressRingIcon\";\n\ninterface GoalsProgressProps {\n  total: number;\n  pct: number; // 0..100\n  maxWidth?: number | string;\n}\n\nexport function GoalsProgress({\n  total,\n  pct,\n  maxWidth,\n}: GoalsProgressProps) {\n  const v = Math.max(0, Math.min(100, Math.round(pct)));\n  const customSizeValue = React.useMemo(() => {\n    if (maxWidth == null) {\n      return null;\n    }\n    if (typeof maxWidth === \"number\") {\n      return Number.isFinite(maxWidth) ? `${maxWidth}px` : null;\n    }\n\n    return maxWidth;\n  }, [maxWidth]);\n  const ringSize =\n    typeof maxWidth === \"number\" && Number.isFinite(maxWidth)\n      ? maxWidth\n      : undefined;\n  const ariaLabel =\n    total === 0\n      ? \"Goals progress: no goals yet\"\n      : `Goals progress: ${v}% complete`;\n  const customStyle = React.useMemo<\n    (React.CSSProperties & Record<string, string>) | undefined\n  >(() => {\n    if (!customSizeValue) {\n      return undefined;\n    }\n    return {\n      \"--goals-progress-size\": customSizeValue,\n    };\n  }, [customSizeValue]);\n\n  return (\n    <div\n      className=\"relative inline-flex size-[var(--goals-progress-size,var(--ring-diameter-m))] items-center justify-center\"\n      aria-label={ariaLabel}\n      style={customStyle}\n    >\n      <ProgressRingIcon pct={v} size={ringSize} />\n      <span\n        aria-live=\"polite\"\n        className=\"absolute inset-0 flex items-center justify-center text-label font-medium tracking-[0.02em] tabular-nums\"\n      >\n        {v}%\n      </span>\n    </div>\n  );\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"RemindersTab_card__hpGEZ\",\"header\":\"RemindersTab_header__IjUL4\",\"hero\":\"RemindersTab_hero__gV3_E\",\"heroCopy\":\"RemindersTab_heroCopy__3b2hX\",\"body\":\"RemindersTab_body__Qgle_\",\"controls\":\"RemindersTab_controls__cuxwX\"};","import * as React from \"react\";\nimport { getRingMetrics, type RingSize } from \"@/lib/tokens\";\nimport RingNoiseDefs from \"./RingNoiseDefs\";\n\ninterface ProgressRingIconProps {\n  pct: number; // 0..100\n  size?: number | RingSize;\n}\n\nconst DEFAULT_RING_SIZE: RingSize = \"m\";\n\nexport default function ProgressRingIcon({\n  pct,\n  size,\n}: ProgressRingIconProps) {\n  const uniqueId = React.useId();\n  const noiseFilterId = React.useMemo(\n    () => `ring-noise-${uniqueId}`,\n    [uniqueId],\n  );\n  const ringSize = typeof size === \"string\" ? size : DEFAULT_RING_SIZE;\n  const metrics = React.useMemo(() => getRingMetrics(ringSize), [ringSize]);\n  const resolvedSize = typeof size === \"number\" ? size : metrics.diameter;\n  const strokeWidth = metrics.stroke;\n  const trackInset = metrics.inset;\n  const radius = Math.max(resolvedSize / 2 - trackInset, 0);\n  const circumference = 2 * Math.PI * radius;\n  const offset = circumference - (pct / 100) * circumference;\n  return (\n    <svg\n      className=\"h-full w-full rotate-[-90deg]\"\n      viewBox={`0 0 ${resolvedSize} ${resolvedSize}`}\n      aria-hidden=\"true\"\n      focusable=\"false\"\n    >\n      <defs>\n        <RingNoiseDefs id={noiseFilterId} />\n      </defs>\n      <circle\n        cx={resolvedSize / 2}\n        cy={resolvedSize / 2}\n        r={radius}\n        stroke=\"currentColor\"\n        strokeWidth={strokeWidth}\n        className=\"text-foreground/20\"\n        fill=\"none\"\n      />\n      <circle\n        cx={resolvedSize / 2}\n        cy={resolvedSize / 2}\n        r={radius}\n        stroke=\"currentColor\"\n        strokeWidth={strokeWidth}\n        strokeLinecap=\"round\"\n        strokeDasharray={circumference}\n        strokeDashoffset={offset}\n        className=\"text-accent shadow-ring motion-safe:animate-pulse [--ring:var(--accent)]\"\n        filter={`url(#${noiseFilterId})`}\n        fill=\"none\"\n      />\n    </svg>\n  );\n}\n","\"use client\";\n\nimport * as React from \"react\";\n\nimport { observeMediaQuery } from \"@/lib/react\";\n\nfunction detectCoarsePointer(): boolean {\n  if (typeof window === \"undefined\") {\n    return false;\n  }\n\n  const nav = window.navigator as Navigator & {\n    maxTouchPoints?: number;\n    msMaxTouchPoints?: number;\n  };\n\n  if (typeof nav.maxTouchPoints === \"number\" && nav.maxTouchPoints > 0) {\n    return true;\n  }\n\n  if (typeof nav.msMaxTouchPoints === \"number\" && nav.msMaxTouchPoints > 0) {\n    return true;\n  }\n\n  if (typeof window.matchMedia !== \"function\") {\n    return false;\n  }\n\n  try {\n    return [\"(pointer: coarse)\", \"(hover: none)\"].some((query) =>\n      window.matchMedia(query).matches,\n    );\n  } catch {\n    return false;\n  }\n}\n\n/**\n * Detects whether the current pointer prefers coarse interactions (e.g. touch).\n * Falls back to hover heuristics when matchMedia isn't available.\n */\nexport function useCoarsePointer(): boolean {\n  const [isCoarse, setIsCoarse] = React.useState(() => detectCoarsePointer());\n\n  React.useEffect(() => {\n    if (typeof window === \"undefined\") return;\n\n    setIsCoarse(detectCoarsePointer());\n\n    return observeMediaQuery(\"(hover: none)\", (matches) => {\n      setIsCoarse(matches || detectCoarsePointer());\n    });\n  }, []);\n\n  return isCoarse;\n}\n","export const GOALS_STICKY_TOP_CLASS = \"top-[var(--header-stack)]\";\nexport const GOAL_TEXTAREA_MIN_HEIGHT_CLASS = \"min-h-[calc(var(--space-8)*3)]\";\n","/**\n * Do not edit directly, this file was auto-generated.\n */\n\nexport default {\n  highlight: \"0 0% 100%\",\n  lavDeep: \"318 82% 60%\",\n  teamBlue: \"200 100% 60%\",\n  teamRed: \"0 85% 60%\",\n  btnBg: \"transparent\",\n  btnFg: \"hsl(var(--foreground))\",\n  hover: \"hsl(var(--foreground) / 0.08)\",\n  active: \"hsl(var(--foreground) / 0.12)\",\n  disabled: \"0.5\",\n  loading: \"0.6\",\n  edgeIris:\n    \"conic-gradient(\\n    from 180deg,\\n    hsl(262 88% 60% / 0),\\n    hsl(262 88% 60% / 0.72),\\n    hsl(var(--accent-3) / 0.72),\\n    hsl(318 82% 60% / 0.7),\\n    hsl(262 88% 60% / 0)\\n  )\",\n  segActiveGrad:\n    \"linear-gradient(\\n    90deg,\\n    hsl(var(--primary-soft) / 0.85),\\n    hsl(var(--accent-soft) / 0.85),\\n    hsl(var(--accent-2) / 0.8)\\n  )\",\n  segActiveBase: \"hsl(var(--card))\",\n  lgViolet: \"var(--ring)\",\n  lgCyan: \"var(--accent-2)\",\n  lgPink: \"var(--lav-deep)\",\n  lgBlack: \"var(--background)\",\n  visuallyHiddenTop: \"-9999px\",\n  bg: \"var(--background)\",\n  text: \"var(--foreground)\",\n  textOnAccent: \"hsl(var(--foreground))\",\n  controlFs: \"var(--font-ui)\",\n  fontSizeMd: \"var(--font-body)\",\n  fontWeightBold: \"800\",\n  fontLabel: \"12px\",\n  fontUi: \"15px\",\n  fontBody: \"19px\",\n  fontTitle: \"24px\",\n  fontTitleLg: \"30px\",\n  controlHXs: \"24px\",\n  controlHSm: \"32px\",\n  controlHMd: \"40px\",\n  controlHLg: \"48px\",\n  controlHXl: \"56px\",\n  controlH: \"var(--control-h-md)\",\n  shellWidth: \"1280px\",\n  shellMax: \"var(--shell-width)\",\n  shadowInsetContrast: \"inset 0 0 0 var(--hairline-w) var(--ring-contrast)\",\n  shadowInsetHairline:\n    \"inset 0 0 0 var(--hairline-w) hsl(var(--card-hairline))\",\n  shadowControlHover:\n    \"0 var(--spacing-1) var(--spacing-2) hsl(var(--shadow-color) / 0.3)\",\n  space1: \"var(--spacing-1)\",\n  space2: \"var(--spacing-2)\",\n  space3: \"var(--spacing-3)\",\n  space4: \"var(--spacing-4)\",\n  space5: \"var(--spacing-5)\",\n  space6: \"var(--spacing-6)\",\n  space7: \"var(--spacing-7)\",\n  space8: \"var(--spacing-8)\",\n  space12: \"calc(var(--space-8) + var(--space-4))\",\n  space16: \"calc(var(--space-8) * 2)\",\n  ringSize1: \"var(--spacing-0-5)\",\n  ringSize2: \"var(--spacing-1)\",\n  ringDiameterXs: \"var(--space-5)\",\n  ringDiameterS: \"var(--space-6)\",\n  ringDiameterM: \"var(--space-8)\",\n  ringDiameterL: \"calc(var(--space-8) * 3.5)\",\n  ringStrokeXs: \"var(--ring-size-1)\",\n  ringStrokeS: \"var(--ring-size-1)\",\n  ringStrokeM: \"var(--ring-size-2)\",\n  ringStrokeL: \"var(--ring-size-2)\",\n  ringInset: \"calc(var(--space-3) / 2)\",\n  layoutGutterSm: \"var(--spacing-4)\",\n  layoutGutterMd: \"var(--spacing-5)\",\n  layoutGutterLg: \"var(--spacing-6)\",\n  aaMinContrast: \"4.5\",\n  space9: \"calc(var(--space-8) + var(--space-1))\",\n  space10: \"calc(var(--space-8) + var(--space-2))\",\n  space11: \"calc(var(--space-8) + var(--space-3))\",\n  depthShadowInset: \"var(--shadow-depth-inner)\",\n  layoutQuickActionMin: \"calc(var(--spacing-8) * 3)\",\n  layoutQuickActionTooltipMax: \"calc(var(--spacing-8) * 5)\",\n  spacing0125: \"calc(var(--spacing-1) / 8)\",\n  spacing025: \"calc(var(--spacing-1) / 4)\",\n  spacing05: \"calc(var(--spacing-1) / 2)\",\n  spacing075: \"calc(var(--spacing-1) * 0.75)\",\n  spacing1: \"4px\",\n  spacing2: \"8px\",\n  spacing3: \"12px\",\n  spacing4: \"16px\",\n  spacing5: \"24px\",\n  spacing6: \"32px\",\n  spacing7: \"48px\",\n  spacing8: \"64px\",\n  iconSize: \"var(--icon-size-md)\",\n  iconSizeXs: \"14px\",\n  iconSizeSm: \"16px\",\n  iconSizeMd: \"18px\",\n  iconSizeLg: \"24px\",\n  iconSizeXl: \"32px\",\n  iconSize2xl: \"76px\",\n  iconStroke100: \"var(--spacing-0-5)\",\n  iconStroke150: \"calc(var(--spacing-0-5) * 1.25)\",\n  controlRadius: \"var(--radius-xl)\",\n  pillarWaveStart: \"var(--accent)\",\n  pillarWaveEnd: \"var(--accent-2)\",\n  pillarWaveShadow: \"var(--accent) / 0.35\",\n  pillarTradingStart: \"var(--lav-deep)\",\n  pillarTradingEnd: \"var(--accent)\",\n  pillarTradingShadow: \"var(--lav-deep) / 0.35\",\n  pillarVisionStart: \"var(--success)\",\n  pillarVisionEnd: \"var(--accent-2)\",\n  pillarVisionShadow: \"var(--success) / 0.35\",\n  pillarTempoStart: \"var(--ring)\",\n  pillarTempoEnd: \"var(--accent)\",\n  pillarTempoShadow: \"var(--ring) / 0.35\",\n  pillarPositioningStart: \"var(--accent-2)\",\n  pillarPositioningEnd: \"var(--primary)\",\n  pillarPositioningShadow: \"var(--accent-2) / 0.35\",\n  pillarCommsStart: \"var(--lav-deep)\",\n  pillarCommsEnd: \"var(--primary)\",\n  pillarCommsShadow: \"var(--primary) / 0.35\",\n  cardRadius: \"var(--radius-xl)\",\n  blobRadiusSoft: \"calc(var(--radius-2xl) + var(--spacing-2))\",\n  radiusSm: \"6px\",\n  radiusMd: \"8px\",\n  radiusLg: \"12px\",\n  radiusXl: \"16px\",\n  radius2xl: \"24px\",\n  radiusFull: \"9999px\",\n  background: \"247 32% 9%\",\n  foreground: \"258 24% 92%\",\n  card: \"249 28% 15%\",\n  cardForeground: \"var(--foreground)\",\n  panel: \"var(--card)\",\n  border: \"253 26% 28%\",\n  line: \"var(--border)\",\n  input: \"249 26% 15%\",\n  ring: \"262 88% 66%\",\n  themeRing: \"hsl(var(--ring))\",\n  primary: \"262 88% 60%\",\n  primaryForeground: \"0 0% 100%\",\n  primarySoft: \"262 88% 20%\",\n  accent: \"294 90% 42%\",\n  accent2: \"190 86% 38%\",\n  accent3: \"200 88% 34%\",\n  accentForeground: \"0 0% 100%\",\n  accentContrast: \"294 92% 72%\",\n  accentSoft: \"294 90% 16%\",\n  glow: \"296 96% 56%\",\n  ringMuted: \"248 22% 24%\",\n  danger: \"0 84% 60%\",\n  warning: \"43 96% 56%\",\n  warningSoft: \"var(--warning) / 0.1\",\n  warningSoftStrong: \"var(--warning) / 0.2\",\n  muted: \"248 22% 19%\",\n  mutedForeground: \"248 16% 68%\",\n  fgMuted: \"var(--muted-foreground)\",\n  surface: \"248 24% 13%\",\n  surface2: \"248 24% 18%\",\n  surfaceVhs: \"210 22% 10%\",\n  surfaceStreak: \"240 16% 16%\",\n  shadowColor: \"263 78% 56%\",\n  noirBackground: \"352 68% 4%\",\n  noirForeground: \"0 0% 94%\",\n  noirBorder: \"352 44% 24%\",\n  hardstuckBackground: \"120 58% 3%\",\n  hardstuckForeground: \"120 60% 72%\",\n  hardstuckBorder: \"120 42% 22%\",\n  success: \"160 72% 48%\",\n  successSoft: \"var(--success) / 0.2\",\n  successGlow: \"160 72% 38% / 0.6\",\n  toneTop: \"38 92% 60%\",\n  toneJg: \"152 52% 44%\",\n  toneMid: \"265 72% 62%\",\n  toneBot: \"195 75% 56%\",\n  toneSup: \"320 72% 60%\",\n  auroraG: \"var(--accent-2)\",\n  auroraGLight: \"150 100% 85%\",\n  auroraP: \"var(--accent)\",\n  auroraPLight: \"272 80% 85%\",\n  iconFg: \"250 96% 78%\",\n  accentOverlay: \"hsl(var(--accent))\",\n  ringContrast: \"hsl(var(--ring))\",\n  glowActive: \"hsl(var(--glow))\",\n  neon: \"var(--glow)\",\n  neonSoft: \"hsl(var(--neon))\",\n  focus: \"var(--theme-ring)\",\n  cardHairline:\n    \"color-mix(in oklab, hsl(var(--border)) 78%, hsl(var(--foreground)) 22%)\",\n  hairlineW: \"1px\",\n  controlPx: \"var(--spacing-3)\",\n  reviewResultWinGradient:\n    \"linear-gradient(\\n    90deg,\\n    hsl(var(--success) / 0.22),\\n    hsl(var(--accent) / 0.18)\\n  )\",\n  reviewResultLossGradient:\n    \"linear-gradient(\\n    90deg,\\n    hsl(var(--danger) / 0.24),\\n    hsl(var(--primary) / 0.2)\\n  )\",\n  shadow: \"0 12px 34px hsl(258 42% 6% / 0.32)\",\n  shadowDropdown: \"0 12px 40px hsl(var(--shadow-color) / 0.55)\",\n  shadowNeoSm:\n    \"calc(var(--spacing-1)) calc(var(--spacing-1)) calc(var(--spacing-2))\\n      hsl(var(--panel) / 0.72),\\n    calc(var(--spacing-1) * -1) calc(var(--spacing-1) * -1) calc(var(--spacing-2))\\n      hsl(var(--foreground) / 0.06)\",\n  shadowDepthOuter:\n    \"calc(var(--spacing-3)) calc(var(--spacing-3)) var(--spacing-5)\\n      hsl(var(--panel) / 0.72),\\n    calc(var(--spacing-3) * -1) calc(var(--spacing-3) * -1) var(--spacing-5)\\n      hsl(var(--foreground) / 0.06)\",\n  shadowDepthOuterStrong:\n    \"var(--spacing-4) var(--spacing-4) var(--spacing-6) hsl(var(--panel) / 0.72),\\n    calc(var(--spacing-4) * -1) calc(var(--spacing-4) * -1) var(--spacing-6)\\n      hsl(var(--foreground) / 0.08)\",\n  shadowDepthInner:\n    \"inset var(--spacing-1) var(--spacing-1) var(--spacing-3)\\n      hsl(var(--panel) / 0.85),\\n    inset calc(var(--spacing-1) * -1) calc(var(--spacing-1) * -1) var(--spacing-3)\\n      hsl(var(--foreground) / 0.08)\",\n  shadowRing: \"0 0 var(--spacing-3) hsl(var(--ring))\",\n  shadowDepthSoft:\n    \"0 var(--spacing-1) var(--spacing-3) calc(var(--spacing-1) * -1)\\n      hsl(var(--shadow-color))\",\n  shadowGlowSm: \"0 0 var(--spacing-2) var(--glow-active)\",\n  shadowGlowMd: \"0 0 var(--spacing-4) var(--glow-active)\",\n  shadowGlowLg: \"0 0 var(--spacing-5) var(--glow-active)\",\n  shadowGlowXl: \"0 var(--spacing-2) var(--spacing-6) var(--glow-active)\",\n  shadowNavActive:\n    \"0 0 0 var(--hairline-w) hsl(var(--ring) / 0.35),\\n    0 var(--spacing-2) var(--spacing-6) hsl(var(--ring) / 0.2)\",\n  shadowOutlineSubtle: \"0 0 0 var(--hairline-w) hsl(var(--border) / 0.12)\",\n  shadowOutlineFaint: \"0 0 0 var(--hairline-w) hsl(var(--border) / 0.08)\",\n  shadowBadge:\n    \"inset 0 var(--hairline-w) 0 hsl(var(--foreground) / 0.06),\\n    0 0 0 var(--hairline-w) hsl(var(--card-hairline) / 0.35),\\n    0 var(--spacing-3) var(--spacing-4) hsl(var(--shadow-color) / 0.18)\",\n  shadowGlowCurrent: \"0 0 var(--spacing-2) currentColor\",\n  shadowNeonSoft:\n    \"0 0 var(--spacing-2) var(--neon),\\n    0 0 var(--spacing-4) var(--neon-soft)\",\n  shadowNeonStrong:\n    \"0 0 var(--spacing-3) var(--neon),\\n    0 0 var(--spacing-5) var(--neon-soft)\",\n  shadowControl:\n    \"inset 0 var(--spacing-1) var(--spacing-2) 0 color-mix(in oklab, hsl(var(--shadow-color)) 18%, hsl(var(--background)) 82%),\\n    var(--shadow-outline-subtle)\",\n  glowStrong: \"var(--ring) / 0.55\",\n  glowSoft: \"var(--accent) / 0.25\",\n  shadowNeon:\n    \"0 0 var(--space-1) hsl(var(--neon) / 0.6),\\n    0 0 calc(var(--space-3)) hsl(var(--neon) / 0.4),\\n    0 0 calc(var(--space-5)) hsl(var(--neon) / 0.22)\",\n  btnPrimaryHoverShadow:\n    \"0 calc(var(--space-1) / 2) calc(var(--space-3) / 2)\\n    calc(-1 * var(--space-1) / 4) hsl(var(--accent) / 0.25)\",\n  btnPrimaryActiveShadow:\n    \"inset 0 0 0 calc(var(--space-1) / 4)\\n    hsl(var(--accent) / 0.6)\",\n  heroDividerBlur: \"calc(var(--spacing-1) * 1.5)\",\n  heroIllustrationOpacity: \"0.84\",\n  heroIllustrationBlur: \"calc(var(--space-4) + var(--space-1))\",\n  warningForeground: \"0 0% 100%\",\n  successForeground: \"0 0% 100%\",\n  dangerForeground: \"0 0% 100%\",\n  stateSuccessSurface:\n    \"color-mix(in oklab, hsl(var(--success)) 18%, hsl(var(--surface)))\",\n  stateSuccessBorder:\n    \"color-mix(in oklab, hsl(var(--success)) 65%, hsl(var(--border)))\",\n  stateWarningSurface:\n    \"color-mix(in oklab, hsl(var(--warning)) 20%, hsl(var(--surface)))\",\n  stateWarningBorder:\n    \"color-mix(in oklab, hsl(var(--warning)) 60%, hsl(var(--border)))\",\n  stateDangerSurface:\n    \"color-mix(in oklab, hsl(var(--danger)) 18%, hsl(var(--surface)))\",\n  stateDangerBorder:\n    \"color-mix(in oklab, hsl(var(--danger)) 62%, hsl(var(--border)))\",\n  auroraGLightColor: \"hsl(var(--aurora-g-light))\",\n  auroraPLightColor: \"hsl(var(--aurora-p-light))\",\n  elevation0: \"none\",\n  elevation1: \"var(--shadow-outline-faint)\",\n  elevation2: \"var(--shadow-outline-subtle)\",\n  elevation3: \"var(--shadow-control)\",\n  skeletonBg: \"hsl(var(--muted) / 0.6)\",\n  skeletonFill: \"hsl(var(--foreground) / 0.08)\",\n  gradientNoiseOpacity: \"0.1\",\n  gradientNoiseOverlayOpacity: \"0.06\",\n  shadowInnerSm:\n    \"inset 0 var(--spacing-0-125) var(--spacing-0-5) hsl(var(--shadow-color) / 0.18)\",\n  shadowInnerMd:\n    \"inset 0 var(--spacing-0-25) var(--spacing-1) hsl(var(--shadow-color) / 0.28)\",\n  shadowOuterLg:\n    \"0 var(--spacing-4) var(--spacing-7) hsl(var(--shadow-color) / 0.36)\",\n  glowPrimary: \"hsl(var(--primary) / 0.55)\",\n  blobSurface1: \"hsl(var(--surface))\",\n  blobSurface2: \"hsl(var(--surface-2))\",\n  blobSurface3: \"hsl(var(--card))\",\n  blobSurfaceShadow: \"hsl(var(--shadow-color) / 0.4)\",\n  glitchNoisePrimary: \"hsl(var(--accent) / 0.055)\",\n  glitchNoiseSecondary: \"hsl(var(--ring) / 0.05)\",\n  glitchNoiseContrast: \"hsl(var(--foreground) / 0.045)\",\n  elevationCard: \"var(--shadow-outline-subtle)\",\n  elevationCardPressed: \"var(--shadow-control)\",\n  neoDepthSm: \"var(--spacing-1)\",\n  neoDepthMd: \"var(--spacing-3)\",\n  neoDepthLg: \"var(--spacing-4)\",\n  neoSurface:\n    \"color-mix(in oklab, hsl(var(--card)) 88%, hsl(var(--panel)) 12%)\",\n  neoSurfaceAlt:\n    \"color-mix(in oklab, hsl(var(--panel)) 82%, hsl(var(--card)) 18%)\",\n  neoHighlight: \"color-mix(in oklab, hsl(var(--ring)) 18%, hsl(var(--card)))\",\n  depthShadowOuter: \"var(--shadow-depth-outer)\",\n  depthShadowOuterStrong: \"var(--shadow-depth-outer-strong)\",\n  depthShadowSoft: \"var(--shadow-depth-soft)\",\n  depthShadowInner: \"var(--shadow-depth-inner)\",\n  depthGlowHighlightSoft: \"hsl(var(--highlight) / 0.08)\",\n  depthGlowHighlightMedium: \"hsl(var(--highlight) / 0.35)\",\n  depthGlowHighlightStrong: \"hsl(var(--highlight) / 0.55)\",\n  depthGlowShadowSoft: \"hsl(var(--shadow-color) / 0.14)\",\n  depthGlowShadowMedium: \"hsl(var(--shadow-color) / 0.28)\",\n  depthGlowShadowStrong: \"hsl(var(--shadow-color) / 0.42)\",\n  depthFocusRingRest:\n    \"0 0 0 0 hsl(var(--ring) / 0),\\n    0 0 0 0 hsl(var(--ring) / 0)\",\n  depthFocusRingActive:\n    \"0 0 0 calc(var(--hairline-w) * 1) hsl(var(--ring))\\n    var(--shadow-glow-lg)\",\n  backdropBlob1: \"var(--lg-violet)\",\n  backdropBlob2: \"var(--lg-cyan)\",\n  backdropBlob3: \"var(--lg-pink)\",\n  backdropBlobShadow: \"var(--lg-black)\",\n  backdropGridPrimary: \"var(--accent)\",\n  backdropGridSecondary: \"var(--accent)\",\n  backdropGridOpacity: \"0.1\",\n  backdropDrip1: \"var(--backdrop-blob-1)\",\n  backdropDrip2: \"var(--backdrop-blob-2)\",\n  backdropDrip3: \"var(--backdrop-blob-3)\",\n  backdropDripShadow: \"var(--backdrop-blob-shadow)\",\n  neoGlowStrength: \"0.45\",\n  neonOutlineOpacity: \"0.35\",\n  glitchIntensity: \"1.0\",\n  glitchFringe: \"12deg\",\n  glitchStaticOpacity: \"0.18\",\n  glitchNoiseLevel: \"var(--glitch-static-opacity)\",\n  glitchOverlayButtonOpacity: \"0.42\",\n  glitchOverlayButtonOpacityReduced: \"0.28\",\n  glitchChromaticOffsetStrong: \"calc(var(--spacing-0-25) / 4)\",\n  glitchChromaticOffsetMedium: \"calc(var(--spacing-0-25) * 3 / 20)\",\n  glitchChromaticOffsetLight: \"calc(var(--spacing-0-25) / 10)\",\n  glitchHaloOpacity: \"0.28\",\n  glitchRingColor: \"hsl(var(--ring) / 0.55)\",\n  glitchRingBlur: \"var(--space-2)\",\n  glitchRingShadow: \"0 0 var(--glitch-ring-blur) var(--glitch-ring-color)\",\n  glitchAccentColor: \"hsl(var(--accent) / 0.35)\",\n  glitchAccentBlur: \"var(--spacing-0-5)\",\n  glitchAccentShadow:\n    \"0 0 var(--glitch-accent-blur) var(--glitch-accent-color)\",\n  retroGridStep: \"24px\",\n  retroGridOpacity: \"0.15\",\n  glitchOverlayOpacityCard: \"0.55\",\n  shadowInnerLg:\n    \"inset 0 var(--spacing-0-5) var(--spacing-2) hsl(var(--shadow-color) / 0.36)\",\n  shadowOuterXl:\n    \"0 var(--spacing-5) var(--spacing-8) hsl(var(--shadow-color) / 0.45)\",\n  glowRing:\n    \"0 0 0 calc(var(--spacing-0-5)) hsl(var(--ring) / 0.5), 0 0 var(--spacing-3) hsl(var(--ring) / 0.22)\",\n  glitchNoiseHover: \"calc(var(--glitch-noise-level) * 1.3)\",\n  gridColor: \"var(--accent)\",\n  gridAlpha: \"0.1\",\n  gridSize: \"calc(var(--space-6) - var(--space-1))\",\n  shadowOuterSm:\n    \"0 var(--spacing-2) var(--spacing-4) hsl(var(--shadow-color) / 0.24)\",\n  shadowOuterMd:\n    \"0 var(--spacing-3) var(--spacing-6) hsl(var(--shadow-color) / 0.3)\",\n  cardElev1: \"var(--shadow-outline-faint), var(--shadow-outer-sm)\",\n  cardElev2: \"var(--shadow-outline-subtle), var(--shadow-outer-md)\",\n  cardElev3: \"var(--shadow-outline-subtle), var(--shadow-outer-lg)\",\n  glowRingSm: \"0 0 0 calc(var(--spacing-0-25)) hsl(var(--ring) / 0.45)\",\n  glowRingMd:\n    \"0 0 0 calc(var(--spacing-0-5)) hsl(var(--ring) / 0.5), 0 0 var(--spacing-2) hsl(var(--ring) / 0.2)\",\n  blobSurface:\n    \"color-mix(in oklab, hsl(var(--surface)) 70%, hsl(var(--surface-2)) 30%)\",\n  dripSurface:\n    \"color-mix(in oklab, hsl(var(--accent)) 18%, hsl(var(--background)) 82%)\",\n  gradientBlobPrimary:\n    \"radial-gradient(120% 120% at 50% 10%, hsl(var(--surface) / 0.85), hsl(var(--surface-2) / 0.35), transparent 85%)\",\n  gradientDripOverlay:\n    \"radial-gradient(60% 40% at 10% 0%, hsl(var(--backdrop-drip-1) / 0.2), transparent 60%), radial-gradient(50% 35% at 100% 5%, hsl(var(--backdrop-drip-2) / 0.18), transparent 60%), radial-gradient(55% 35% at 50% 120%, hsl(var(--backdrop-drip-3) / 0.14), transparent 65%), radial-gradient(120% 100% at 50% 100%, hsl(var(--backdrop-drip-shadow) / 0.35), transparent 70%)\",\n  gradientDripOverlayCompact:\n    \"radial-gradient(125% 85% at 18% -20%, hsl(var(--backdrop-drip-1) / 0.28), transparent 65%), radial-gradient(115% 85% at 82% -15%, hsl(var(--backdrop-drip-2) / 0.24), transparent 62%), radial-gradient(120% 95% at 50% 110%, hsl(var(--backdrop-drip-3) / 0.16), transparent 70%)\",\n  gradientGlitchPrimary:\n    \"linear-gradient(135deg, hsl(var(--accent) / 0.35), hsl(var(--accent-2) / 0.3))\",\n  gradientGlitchOverlay:\n    \"linear-gradient(120deg, hsl(var(--accent) / 0.12) 0%, transparent 58%, hsl(var(--ring) / 0.16) 100%), var(--card-overlay-scanlines)\",\n  gradientGlitchRail:\n    \"linear-gradient(180deg, hsl(var(--primary) / 0.6) 0%, hsl(var(--accent) / 0.45) 45%, hsl(var(--ring) / 0.6) 100%)\",\n  gradientHeroSlotHighlight:\n    \"radial-gradient(circle at top left, var(--depth-glow-highlight-medium) 0%, transparent 62%)\",\n  gradientHeroSlotShadow:\n    \"radial-gradient(circle at bottom right, var(--depth-glow-shadow-medium) 0%, transparent 65%)\",\n  gradientHeroTopline:\n    \"linear-gradient(90deg, hsl(var(--accent) / 0.28), transparent 55%, hsl(var(--accent-2) / 0.32))\",\n  gradientHeroActionHalo:\n    \"radial-gradient(120% 95% at 50% 0%, hsl(var(--accent) / 0.24), transparent 65%)\",\n  gradientPanelTiltStrong:\n    \"linear-gradient(140deg, hsl(var(--card) / 0.95), hsl(var(--surface-2) / 0.78))\",\n  gradientPanelTiltBright:\n    \"linear-gradient(140deg, hsl(var(--card) / 0.98), hsl(var(--surface-2) / 0.82))\",\n  gradientPanelTiltMuted:\n    \"linear-gradient(140deg, hsl(var(--card) / 0.94), hsl(var(--surface-2) / 0.72))\",\n  dangerSurfaceForeground: \"var(--danger-foreground)\",\n  surfaceOverlaySoft: \"0.12\",\n  surfaceOverlayStrong: \"0.2\",\n  glitchCardSurfaceTop: \"hsl(var(--card) / 0.78)\",\n  glitchCardSurfaceBottom: \"hsl(var(--panel) / 0.66)\",\n  surfaceCardSoft:\n    \"linear-gradient(180deg, hsl(var(--card) / 0.65), hsl(var(--card) / 0.45))\",\n  surfaceCardStrong:\n    \"linear-gradient(180deg, hsl(var(--card) / 0.85), hsl(var(--card) / 0.65))\",\n  surfaceCardStrongHover:\n    \"linear-gradient(180deg, hsl(var(--card) / 0.95), hsl(var(--card) / 0.75))\",\n  surfaceCardStrongActive:\n    \"linear-gradient(180deg, hsl(var(--card) / 0.8), hsl(var(--card) / 0.6))\",\n  surfaceCardStrongToday:\n    \"linear-gradient(180deg, hsl(var(--card) / 0.9), hsl(var(--card) / 0.7))\",\n  surfaceCardStrongEmpty:\n    \"linear-gradient(180deg, hsl(var(--card) / 0.6), hsl(var(--card) / 0.5))\",\n  surfaceRailAccent:\n    \"linear-gradient(180deg, hsl(var(--accent)), hsl(var(--primary)))\",\n  glitchIntensityDefault: \"1.0\",\n  glitchIntensitySubtle: \"calc(var(--glitch-intensity-default) * 0.68)\",\n  glitchIntensityHeroRail: \"0.74\",\n  glitchIntensityBackdropBlob1: \"0.18\",\n  glitchIntensityBackdropBlob2: \"0.16\",\n  glitchIntensityBackdropBlob3: \"0.12\",\n  glitchIntensityBackdropDrip1: \"0.23\",\n  glitchIntensityBackdropDrip2: \"0.2\",\n  glitchIntensityBackdropDrip3: \"0.16\",\n  glitchIntensityBackdropShadow: \"0.38\",\n  glitchPixel: \"var(--glitch-noise-level)\",\n  statGood: \"var(--success)\",\n  statWarn: \"var(--warning)\",\n  statBad: \"var(--danger)\",\n  easeOut: \"cubic-bezier(0.16, 1, 0.3, 1)\",\n  easeMotionGlitch: \"cubic-bezier(0.2, 0.8, 0.2, 1)\",\n  durQuick: \"140ms\",\n  durChill: \"220ms\",\n  durSlow: \"420ms\",\n  cardOverlayScanlines:\n    \"repeating-linear-gradient(\\n    to bottom,\\n    hsl(var(--foreground) / 0.035) 0,\\n    hsl(var(--foreground) / 0.035) var(--spacing-0-25),\\n    transparent var(--spacing-0-5),\\n    transparent calc(var(--spacing-0-5) + var(--spacing-0-25))\\n  )\",\n  glitchDuration: \"450ms\",\n  glowPulse: \"glow-pulse var(--dur-slow) var(--ease-out) infinite alternate\",\n  glitchRgbShift:\n    \"drop-shadow(calc(var(--glitch-chromatic-offset-light) * -1) 0 0 hsl(var(--accent) / 0.45)) drop-shadow(var(--glitch-chromatic-offset-light) 0 0 hsl(var(--ring) / 0.45))\",\n  glitchScanline:\n    \"glitch-scanline calc(var(--glitch-duration) * 1.2) steps(2, end) infinite\",\n  scanline: \"var(--glitch-scanline)\",\n  motionDurationSm: \"var(--dur-quick)\",\n  motionDurationMd: \"var(--dur-chill)\",\n  motionDurationLg: \"var(--dur-slow)\",\n  motionEaseGlitch: \"var(--ease-motion-glitch)\",\n  headerStack: \"calc(var(--spacing-8) + var(--spacing-4))\",\n};\n","import tokens from \"../../tokens/tokens.js\";\n\nconst FILTER_SLOPE_TOKEN = \"--gradient-noise-opacity\";\nconst FILTER_TABLE_TOKEN = \"--gradient-noise-table\";\nconst FILTER_STD_DEVIATION_TOKEN = \"--gradient-noise-std-deviation\";\n\nconst numberPattern = /-?\\d*\\.?\\d+(?:e[+-]?\\d+)?/gi;\n\nconst parsedGradientNoiseOpacity = Number.parseFloat(\n  tokens.gradientNoiseOpacity,\n);\nconst defaultSlope = Number.isFinite(parsedGradientNoiseOpacity)\n  ? parsedGradientNoiseOpacity\n  : 0.1;\n\nconst defaultTable = Object.freeze([0, 1] as const);\nconst defaultStdDeviation = 0;\n\nconst clampNumber = (value: number, min: number, max: number): number =>\n  Math.min(Math.max(value, min), max);\n\nconst parseNumbers = (value: string): number[] => {\n  if (!value) {\n    return [];\n  }\n\n  const matches = value.match(numberPattern);\n\n  if (!matches) {\n    return [];\n  }\n\n  return matches\n    .map((segment) => Number.parseFloat(segment))\n    .filter((segment): segment is number => Number.isFinite(segment));\n};\n\nconst parseNumber = (value: string): number | null => {\n  const [first] = parseNumbers(value);\n\n  if (typeof first === \"number\") {\n    return first;\n  }\n\n  return null;\n};\n\nexport interface FilterNumericValues {\n  slope: number;\n  table: readonly number[];\n  stdDeviation: number;\n}\n\nconst cloneDefaultTable = (): number[] => [...defaultTable];\n\nconst getComputedValue = (token: string): string => {\n  if (typeof document === \"undefined\") {\n    return \"\";\n  }\n\n  const { documentElement } = document;\n\n  if (!documentElement) {\n    return \"\";\n  }\n\n  return getComputedStyle(documentElement).getPropertyValue(token).trim();\n};\n\nconst numericTable = (raw: string): number[] => {\n  const parsed = parseNumbers(raw).map((entry) =>\n    clampNumber(entry, 0, 1),\n  );\n\n  if (parsed.length === 0) {\n    return cloneDefaultTable();\n  }\n\n  return parsed;\n};\n\nconst numericSlope = (raw: string): number => {\n  const parsed = parseNumber(raw);\n\n  if (parsed === null) {\n    return defaultSlope;\n  }\n\n  return clampNumber(parsed, 0, 1);\n};\n\nconst numericStdDeviation = (raw: string): number => {\n  const parsed = parseNumber(raw);\n\n  if (parsed === null) {\n    return defaultStdDeviation;\n  }\n\n  return clampNumber(parsed, 0, 64);\n};\n\nexport const tokensToFilter = (): FilterNumericValues => {\n  const slope = numericSlope(getComputedValue(FILTER_SLOPE_TOKEN));\n  const table = numericTable(getComputedValue(FILTER_TABLE_TOKEN));\n  const stdDeviation = numericStdDeviation(\n    getComputedValue(FILTER_STD_DEVIATION_TOKEN),\n  );\n\n  return {\n    slope,\n    table,\n    stdDeviation,\n  };\n};\n","\"use client\";\n\nimport * as React from \"react\";\n\nimport tokens from \"../../tokens/tokens.js\";\nimport { svgNumericFilters } from \"@/lib/features\";\nimport { tokensToFilter } from \"@/lib/filter-tokens\";\nimport { useOptionalTheme } from \"@/lib/theme-context\";\n\nconst gradientNoiseOpacityToken = tokens.gradientNoiseOpacity;\nconst gradientNoiseOpacityCssFallback = `var(--gradient-noise-opacity, ${gradientNoiseOpacityToken || \"0.1\"})`;\n\nconst filterValuesAreEqual = (\n  a: ReturnType<typeof tokensToFilter>,\n  b: ReturnType<typeof tokensToFilter>,\n) =>\n  a.slope === b.slope &&\n  a.stdDeviation === b.stdDeviation &&\n  a.table.length === b.table.length &&\n  a.table.every((value, index) => value === b.table[index]);\n\ninterface RingNoiseDefsProps {\n  id: string;\n}\n\nexport default function RingNoiseDefs({ id }: RingNoiseDefsProps) {\n  const themeContext = useOptionalTheme();\n  const themeVariant = themeContext?.[0].variant;\n  const themeBackground = themeContext?.[0].bg;\n  const [filterValues, setFilterValues] = React.useState(tokensToFilter);\n\n  React.useEffect(() => {\n    if (!svgNumericFilters) {\n      return;\n    }\n\n    const next = tokensToFilter();\n\n    setFilterValues((prev) => (filterValuesAreEqual(prev, next) ? prev : next));\n  }, [themeVariant, themeBackground]);\n\n  const slopeValue = svgNumericFilters\n    ? filterValues.slope\n    : gradientNoiseOpacityCssFallback;\n\n  return (\n    <filter\n      id={id}\n      x=\"-15%\"\n      y=\"-15%\"\n      width=\"130%\"\n      height=\"130%\"\n      filterUnits=\"objectBoundingBox\"\n      colorInterpolationFilters=\"sRGB\"\n    >\n      <feTurbulence\n        type=\"fractalNoise\"\n        baseFrequency=\"1.1\"\n        numOctaves=\"3\"\n        seed=\"4\"\n        result=\"noise\"\n      />\n      <feColorMatrix in=\"noise\" type=\"saturate\" values=\"0\" result=\"monoNoise\" />\n      <feComponentTransfer in=\"monoNoise\" result=\"noiseAlpha\">\n        <feFuncA type=\"linear\" slope={slopeValue} />\n      </feComponentTransfer>\n      <feBlend in=\"SourceGraphic\" in2=\"noiseAlpha\" mode=\"soft-light\" />\n    </filter>\n  );\n}\n","// src/components/goals/TimerTab.tsx\n\"use client\";\n\nimport * as React from \"react\";\nimport { SectionCard } from \"@/components/ui/layout/SectionCard\";\nimport { IconButton } from \"@/components/ui/primitives/IconButton\";\nimport { Hero } from \"@/components/ui/layout/Hero\";\nimport { SegmentedButton } from \"@/components/ui/primitives/SegmentedButton\";\nimport { useScopedCssVars } from \"@/components/ui/hooks/useScopedCssVars\";\nimport { TimerRing } from \"./TimerRing\";\nimport { DurationSelector } from \"./DurationSelector\";\nimport styles from \"./TimerTab.module.css\";\nimport {\n  Play,\n  Pause,\n  RotateCcw,\n  Plus,\n  Minus,\n  BookOpen,\n  Brush,\n  Code2,\n  User,\n} from \"lucide-react\";\nimport { removeLocal, usePersistentState, readLocal } from \"@/lib/db\";\nimport { formatMmSs, parseMmSs } from \"@/lib/date\";\nimport { clamp } from \"@/lib/utils\";\n\n/* profiles */\ntype ProfileKey = \"study\" | \"clean\" | \"code\" | \"custom\";\ntype Profile = {\n  key: ProfileKey;\n  label: string;\n  icon: React.ReactNode;\n  defaultMin: number;\n};\nconst PROFILES: Profile[] = [\n  {\n    key: \"study\",\n    label: \"Studying\",\n    icon: <BookOpen className=\"mr-[var(--space-1)]\" />,\n    defaultMin: 45,\n  },\n  {\n    key: \"clean\",\n    label: \"Cleaning\",\n    icon: <Brush className=\"mr-[var(--space-1)]\" />,\n    defaultMin: 30,\n  },\n  {\n    key: \"code\",\n    label: \"Coding\",\n    icon: <Code2 className=\"mr-[var(--space-1)]\" />,\n    defaultMin: 60,\n  },\n  {\n    key: \"custom\",\n    label: \"Custom\",\n    icon: <User className=\"mr-[var(--space-1)]\" />,\n    defaultMin: 25,\n  },\n];\n\ntype TimerState = {\n  profile: ProfileKey;\n  customMinutes: number;\n  remaining: number;\n  running: boolean;\n};\n\nconst PROFILE_LOOKUP = PROFILES.reduce(\n  (acc, profile) => {\n    acc[profile.key] = profile;\n    return acc;\n  },\n  {} as Record<ProfileKey, Profile>,\n);\n\nconst TIMER_STATE_KEY = \"goals.timer.state.v1\";\nconst LEGACY_KEYS = {\n  profile: \"goals.timer.profile.v1\",\n  customMinutes: \"goals.timer.customMin.v1\",\n  remaining: \"goals.timer.remaining.v1\",\n  running: \"goals.timer.running.v1\",\n} as const;\n\nconst DEFAULT_PROFILE: ProfileKey = \"study\";\nconst DEFAULT_CUSTOM_MINUTES = 25;\n\nfunction getProfile(key: ProfileKey): Profile {\n  return PROFILE_LOOKUP[key] ?? PROFILES[0];\n}\n\nfunction getMinutesForProfile(key: ProfileKey, customMinutes: number) {\n  return key === \"custom\" ? customMinutes : getProfile(key).defaultMin;\n}\n\nconst DEFAULT_TIMER_STATE: TimerState = {\n  profile: DEFAULT_PROFILE,\n  customMinutes: DEFAULT_CUSTOM_MINUTES,\n  remaining:\n    getMinutesForProfile(DEFAULT_PROFILE, DEFAULT_CUSTOM_MINUTES) * 60_000,\n  running: false,\n};\n\nfunction isProfileKey(value: string): value is ProfileKey {\n  return value in PROFILE_LOOKUP;\n}\n\nfunction isFiniteNumber(value: unknown): value is number {\n  return typeof value === \"number\" && Number.isFinite(value);\n}\n\n/* helpers */\n\nconst ADJUST_BTN_CLASS =\n  \"absolute top-[var(--space-2)] sm:-top-[var(--space-4)] rounded-full bg-background/40 backdrop-blur shadow-[var(--shadow-glow-md)] transition-transform duration-motion-sm hover:-translate-y-0.5 focus-visible:ring-2 focus-visible:ring-ring\";\n\nexport function TimerTab() {\n  const [timer, setTimer] = usePersistentState<TimerState>(\n    TIMER_STATE_KEY,\n    DEFAULT_TIMER_STATE,\n  );\n  const { profile, customMinutes, remaining, running } = timer;\n\n  React.useEffect(() => {\n    const stored = readLocal<TimerState>(TIMER_STATE_KEY);\n    if (stored !== null) return;\n\n    const legacyProfile = readLocal<ProfileKey>(LEGACY_KEYS.profile);\n    const legacyCustom = readLocal<number>(LEGACY_KEYS.customMinutes);\n    const legacyRemaining = readLocal<number>(LEGACY_KEYS.remaining);\n    const legacyRunning = readLocal<boolean>(LEGACY_KEYS.running);\n\n    if (\n      legacyProfile == null &&\n      legacyCustom == null &&\n      legacyRemaining == null &&\n      legacyRunning == null\n    ) {\n      return;\n    }\n\n    const nextProfile =\n      typeof legacyProfile === \"string\" && isProfileKey(legacyProfile)\n        ? legacyProfile\n        : DEFAULT_TIMER_STATE.profile;\n    const nextCustomMinutes = isFiniteNumber(legacyCustom)\n      ? legacyCustom\n      : DEFAULT_TIMER_STATE.customMinutes;\n    const fallbackMinutes =\n      nextProfile === \"custom\"\n        ? nextCustomMinutes\n        : getProfile(nextProfile).defaultMin;\n    const nextRemaining = isFiniteNumber(legacyRemaining)\n      ? legacyRemaining\n      : fallbackMinutes * 60_000;\n    const nextRunning =\n      typeof legacyRunning === \"boolean\"\n        ? legacyRunning\n        : DEFAULT_TIMER_STATE.running;\n\n    setTimer({\n      profile: nextProfile,\n      customMinutes: nextCustomMinutes,\n      remaining: nextRemaining,\n      running: nextRunning,\n    });\n\n    removeLocal(LEGACY_KEYS.profile);\n    removeLocal(LEGACY_KEYS.customMinutes);\n    removeLocal(LEGACY_KEYS.remaining);\n    removeLocal(LEGACY_KEYS.running);\n  }, [setTimer]);\n\n  const profileDef = React.useMemo(\n    () => getProfile(profile),\n    [profile],\n  );\n  const isCustom = profile === \"custom\";\n  const minutes = isCustom ? customMinutes : profileDef.defaultMin;\n\n  // remaining time\n  const prevProfile = React.useRef<ProfileKey>(profile);\n  // Reset timer when switching profiles\n  React.useEffect(() => {\n    if (prevProfile.current === profile) return;\n    prevProfile.current = profile;\n    const nextRemaining =\n      (profile === \"custom\" ? customMinutes : profileDef.defaultMin) * 60_000;\n    setTimer((prev) => {\n      if (!prev.running && prev.remaining === nextRemaining) return prev;\n      return {\n        ...prev,\n        running: false,\n        remaining: nextRemaining,\n      };\n    });\n  }, [profile, customMinutes, profileDef.defaultMin, setTimer]);\n\n  // edit mode for mm:ss\n  const [timeEdit, setTimeEdit] = React.useState(\n    () => formatMmSs(remaining, { unit: \"milliseconds\", padMinutes: true }),\n  );\n  React.useEffect(() => {\n    setTimeEdit(formatMmSs(remaining, { unit: \"milliseconds\", padMinutes: true }));\n  }, [remaining]);\n\n  // tick loop\n  React.useEffect(() => {\n    if (!running) return;\n    const id = window.setInterval(() => {\n      let shouldStop = false;\n      setTimer((prev) => {\n        if (prev.remaining <= 0) {\n          if (!prev.running) return prev;\n          shouldStop = true;\n          return {\n            ...prev,\n            running: false,\n          };\n        }\n        const nextRemaining = prev.remaining - 250;\n        if (nextRemaining <= 0) {\n          shouldStop = true;\n          return {\n            ...prev,\n            remaining: 0,\n            running: false,\n          };\n        }\n        return {\n          ...prev,\n          remaining: nextRemaining,\n        };\n      });\n      if (shouldStop) {\n        window.clearInterval(id);\n      }\n    }, 250);\n    return () => window.clearInterval(id);\n  }, [running, setTimer]);\n\n  // adjust minutes for custom\n  function adjust(delta: number) {\n    if (!isCustom) return;\n    if (running) return;\n    const next = clamp(minutes + delta, 0, 180);\n    setTimer((prev) => {\n      if (prev.customMinutes === next) return prev;\n      const secs = Math.floor((prev.remaining % 60_000) / 1000);\n      return {\n        ...prev,\n        customMinutes: next,\n        remaining: next * 60_000 + secs * 1000,\n      };\n    });\n  }\n\n  const start = React.useCallback(() => {\n    setTimer((prev) => {\n      const target = prev.remaining <= 0 ? minutes * 60_000 : prev.remaining;\n      if (prev.running && target === prev.remaining) return prev;\n      return {\n        ...prev,\n        running: true,\n        remaining: target,\n      };\n    });\n  }, [minutes, setTimer]);\n  const pause = React.useCallback(() => {\n    setTimer((prev) => {\n      if (!prev.running) return prev;\n      return {\n        ...prev,\n        running: false,\n      };\n    });\n  }, [setTimer]);\n  const reset = React.useCallback(() => {\n    setTimer((prev) => {\n      const target = minutes * 60_000;\n      if (!prev.running && prev.remaining === target) return prev;\n      return {\n        ...prev,\n        running: false,\n        remaining: target,\n      };\n    });\n  }, [minutes, setTimer]);\n  function commitEdit() {\n    if (!isCustom || running) return;\n    const ms = parseMmSs(timeEdit, { unit: \"milliseconds\" });\n    if (ms == null) {\n      setTimeEdit(\n        formatMmSs(remaining, { unit: \"milliseconds\", padMinutes: true }),\n      );\n      return;\n    }\n    const mm = Math.floor(ms / 60_000),\n      ss = Math.floor((ms % 60_000) / 1000);\n    setTimer((prev) => {\n      const nextRemaining = mm * 60_000 + ss * 1000;\n      if (prev.customMinutes === mm && prev.remaining === nextRemaining)\n        return prev;\n      return {\n        ...prev,\n        customMinutes: mm,\n        remaining: nextRemaining,\n      };\n    });\n  }\n\n  const totalMs = minutes * 60_000;\n  const progress = Math.max(\n    0,\n    Math.min(1, 1 - remaining / Math.max(1, totalMs)),\n  );\n  const finished = remaining <= 0;\n\n  // Tab items map\n  const tabItems = React.useMemo(\n    () =>\n      PROFILES.map((p) => ({\n        key: p.key,\n        label: (\n          <span className=\"inline-flex items-center\">\n            {p.icon}\n            {p.label}\n          </span>\n        ),\n      })),\n    [],\n  );\n\n  // Right slot content for Custom: quick duration chips + custom time field\n  const rightSlot = isCustom ? (\n    <div className=\"flex items-center flex-wrap gap-[var(--space-2)]\">\n      <DurationSelector\n        value={minutes}\n        onChange={(m) => {\n          if (running) return;\n          setTimer((prev) => {\n            const nextRemaining = m * 60_000;\n            if (prev.customMinutes === m && prev.remaining === nextRemaining)\n              return prev;\n            return {\n              ...prev,\n              customMinutes: m,\n              remaining: nextRemaining,\n            };\n          });\n        }}\n        disabled={running}\n      />\n      <input\n        aria-label=\"Custom minutes and seconds\"\n        value={timeEdit}\n        onChange={(e) => setTimeEdit(e.currentTarget.value)}\n        onBlur={commitEdit}\n        onKeyDown={(e) => e.key === \"Enter\" && commitEdit()}\n        placeholder=\"mm:ss\"\n        disabled={running}\n        className=\"w-[5ch] rounded-full border border-border/20 bg-background/20 px-[var(--space-2)] text-center text-ui font-medium backdrop-blur focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring\"\n        type=\"text\"\n      />\n    </div>\n  ) : null;\n\n  // keyboard shortcuts\n  React.useEffect(() => {\n    function onKey(e: KeyboardEvent) {\n      if (\n        e.target instanceof HTMLInputElement ||\n        e.target instanceof HTMLTextAreaElement\n      )\n        return;\n      if (e.key === \" \") {\n        e.preventDefault();\n        if (running) pause();\n        else start();\n      } else if (e.key === \"r\" || e.key === \"R\") {\n        e.preventDefault();\n        reset();\n      } else if (isCustom && !running && /^[1-6]$/.test(e.key)) {\n        const opts = [10, 15, 20, 25, 30, 45];\n        const idx = Number(e.key) - 1;\n        const m = opts[idx];\n        if (m != null) {\n          setTimer((prev) => {\n            const nextRemaining = m * 60_000;\n            if (prev.customMinutes === m && prev.remaining === nextRemaining)\n              return prev;\n            return {\n              ...prev,\n              customMinutes: m,\n              remaining: nextRemaining,\n            };\n          });\n        }\n      }\n    }\n    window.addEventListener(\"keydown\", onKey);\n    return () => window.removeEventListener(\"keydown\", onKey);\n  }, [running, isCustom, pause, start, reset, setTimer]);\n\n  const pct = clamp(Math.round(progress * 100), 0, 100);\n  const { scopeProps: timerProgressScopeProps, style: timerProgressStyle } =\n    useScopedCssVars({\n      attribute: \"data-timer-progress-id\",\n      vars: {\n        \"--timer-progress\": (pct / 100).toString(),\n      },\n    });\n\n  return (\n    <>\n      <Hero\n        frame={false}\n        topClassName=\"top-[var(--header-stack)]\"\n        eyebrow=\"Focus\"\n        title=\"Timer\"\n        subtitle=\"Pick a duration and focus.\"\n        subTabs={{\n          items: tabItems,\n          value: profile,\n          onChange: (k: string) =>\n            setTimer((prev) => {\n              const next = k as ProfileKey;\n              if (prev.profile === next) return prev;\n              return {\n                ...prev,\n                profile: next,\n              };\n            }),\n          size: \"md\",\n          align: \"between\",\n          ariaLabel: \"Timer profiles\",\n          right: rightSlot,\n          showBaseline: true,\n          className: \"overflow-x-auto\",\n        }}\n      />\n\n      <SectionCard className=\"no-hover\">\n        <SectionCard.Body>\n          <div className=\"relative mx-auto flex w-full max-w-[calc(var(--space-8)*6)] flex-col items-stretch p-[var(--space-8)]\">\n            {/* plus/minus */}\n            <IconButton\n              aria-label=\"Minus 1 minute\"\n              title=\"Minus 1 minute\"\n              onClick={() => adjust(-1)}\n              disabled={!isCustom || running || minutes <= 0}\n              className={`${ADJUST_BTN_CLASS} left-[var(--space-2)] sm:-left-[var(--space-4)]`}\n            >\n              <Minus />\n            </IconButton>\n            <IconButton\n              aria-label=\"Plus 1 minute\"\n              title=\"Plus 1 minute\"\n              onClick={() => adjust(1)}\n              disabled={!isCustom || running}\n              className={`${ADJUST_BTN_CLASS} right-[var(--space-2)] sm:-right-[var(--space-4)]`}\n            >\n              <Plus />\n            </IconButton>\n\n            {/* ring + digits */}\n            <div\n              className=\"group relative mx-auto flex aspect-square w-full max-w-[min(calc(var(--space-8)*3.5),calc(var(--viewport-width)-var(--space-8)))] items-center justify-center\"\n            >\n              <TimerRing pct={pct} className=\"size-full\" />\n              <div className=\"pointer-events-none absolute inset-0 grid place-items-center\">\n                <div className=\"text-title font-semibold tabular-nums text-foreground drop-shadow-[0_0_var(--space-2)_hsl(var(--neon-soft))] transition-transform duration-motion-sm group-hover:translate-y-0.5 sm:text-title-lg\">\n                  {formatMmSs(remaining, {\n                    unit: \"milliseconds\",\n                    padMinutes: true,\n                  })}\n                </div>\n                {isCustom && !running && (\n                  <input\n                    aria-label=\"Edit minutes and seconds\"\n                    value={timeEdit}\n                    onChange={(e) => setTimeEdit(e.currentTarget.value)}\n                    onBlur={commitEdit}\n                    onKeyDown={(e) => e.key === \"Enter\" && commitEdit()}\n                    className=\"absolute w-full max-w-[calc(var(--space-7)*3.5)] rounded-full bg-transparent text-center text-title font-semibold tabular-nums opacity-0 focus:opacity-100 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring sm:text-title-lg\"\n                  />\n                )}\n              </div>\n            </div>\n\n            {/* progress bar */}\n            <div className=\"mt-[var(--space-6)] w-full\">\n              <div className=\"relative h-[var(--space-2)] w-full rounded-full bg-background/20 shadow-depth-inner\">\n                <div className=\"absolute inset-0 bg-[repeating-linear-gradient(to_right,transparent,transparent_9%,hsl(var(--foreground)/0.15)_9%,hsl(var(--foreground)/0.15)_10%)]\" />\n                <div\n                  className={`${styles.progressFill} h-full rounded-full bg-[linear-gradient(90deg,hsl(var(--accent)),hsl(var(--accent-2)))] shadow-[var(--shadow-glow-md)] transition-transform duration-motion-sm ease-linear motion-reduce:transition-none`}\n                  data-progress={pct}\n                  {...(timerProgressScopeProps ?? {})}\n                  style={timerProgressStyle}\n                />\n              </div>\n              <div className=\"mt-[var(--space-1)] text-right text-label font-medium tracking-[0.02em] text-muted-foreground tabular-nums\">\n                {pct}%\n              </div>\n            </div>\n\n            {/* controls */}\n            <div className=\"mt-[var(--space-6)] flex w-full flex-wrap justify-center gap-[var(--space-2)] overflow-x-auto\">\n              {!running ? (\n                <SegmentedButton\n                  className=\"gap-[var(--space-2)]\"\n                  onClick={start}\n                  title=\"Start\"\n                >\n                  <Play />\n                  Start\n                </SegmentedButton>\n              ) : (\n                <SegmentedButton\n                  className=\"gap-[var(--space-2)]\"\n                  onClick={pause}\n                  title=\"Pause\"\n                  selected\n                >\n                  <Pause />\n                  Pause\n                </SegmentedButton>\n              )}\n              <SegmentedButton\n                className=\"gap-[var(--space-2)]\"\n                onClick={reset}\n                title=\"Reset\"\n              >\n                <RotateCcw />\n                Reset\n              </SegmentedButton>\n            </div>\n\n            {/* Complete state */}\n            {finished && (\n              <div className=\"mt-[var(--space-6)] grid place-items-center\">\n                <div className=\"rounded-full bg-[linear-gradient(90deg,hsl(var(--accent)/0.35),hsl(var(--accent-2)/0.35)))] px-[var(--space-3)] py-[var(--space-1)] text-ui font-medium text-foreground shadow-[var(--shadow-glow-md)] ring-1 ring-inset ring-border/50 motion-safe:animate-pulse motion-reduce:animate-none\">\n                  Complete\n                </div>\n                <div className=\"mt-[var(--space-2)] text-label font-medium tracking-[0.02em] text-muted-foreground\">\n                  Good. Now do the review, not Twitter.\n                </div>\n              </div>\n            )}\n          </div>\n        </SectionCard.Body>\n      </SectionCard>\n    </>\n  );\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"progressFill\":\"TimerTab_progressFill__Chke_\"};"],"names":["GoalQueue","items","onAdd","onRemove","val","setVal","React","inputId","revealOnInteractionClass","useCoarsePointer","SectionCard","className","Header","title","titleClassName","Body","ul","length","li","map","it","created","Date","createdAt","goalLabel","formatGoalLabel","text","normalized","trim","replace","cleaned","FALLBACK_GOAL_LABEL","MAX_GOAL_LABEL_LENGTH","truncated","slice","trimEnd","deleteLabel","span","aria-hidden","p","time","cn","dateTime","toISOString","shortDate","format","div","IconButton","aria-label","onClick","id","size","iconSize","variant","Trash2","form","onSubmit","submit","e","preventDefault","t","label","htmlFor","Input","height","value","onChange","currentTarget","placeholder","R","body","tags","source","group","pinned","now","uid","updatedAt","SEEDS","GROUP_TABS","key","Reminders","setItems","usePersistentState","STORE_KEY","searchState","setSearchState","input","committed","onlyPinned","setOnlyPinned","setGroup","quickAdd","setQuickAdd","searchInput","query","commitQuery","cancelCommitQuery","useDebouncedCallback","prev","next","handleSearchChange","event","filtered","q","toLowerCase","filter","r","join","includes","sort","a","b","Number","addQuick","addNewWithTitle","titleText","chosenGroup","sticky","topClassName","GOALS_STICKY_TOP_CLASS","Search","name","indent","TabBar","String","onValueChange","k","ariaLabel","linkPanels","SegmentedButton","v","aria-pressed","selected","PinOff","Pin","resetSeeds","s","charAt","toUpperCase","onKeyDown","Plus","ReminderCard","patch","partial","onDelete","del","onDuplicate","dup","src","find","editing","setEditing","setTitle","setBody","tagsText","setTagsText","titleRef","save","cleanTags","split","Boolean","cancel","useAutoFocus","ref","when","currentTitle","trimmedEditingTitle","duplicateLabel","saveLabel","cancelLabel","article","h3","Button","Pencil","Copy","Check","X","Textarea","textareaClassName","GOAL_TEXTAREA_MIN_HEIGHT_CLASS","select","option","Badge","tone","TimerRingIcon","pct","uniqueId","gradientId","noiseFilterId","ringSize","metrics","DEFAULT_RING_SIZE","getRingMetrics","resolvedSize","diameter","strokeWidth","stroke","radius","Math","max","trackInset","circumference","PI","svg","viewBox","role","accessibleLabel","defs","RingNoiseDefs","linearGradient","x1","y1","x2","y2","stop","offset","stopColor","circle","cx","cy","fill","strokeLinecap","strokeDasharray","strokeDashoffset","TimerRing","customSizeValue","isFinite","hasCustomSize","ringIconSize","undefined","customStyle","style","EntityForm","description","contentClassName","submitLabel","DEFAULT_SUBMIT_LABEL","submitDisabled","resetOnSubmit","initialValues","fields","onValuesChange","afterFields","footer","actions","statusBadge","formId","resolvedId","defaultValues","base","field","fieldId","defaultValue","values","setValues","firstFieldRef","handleFieldChange","nextValue","updated","resetForm","focus","current","options","reset","handleSubmit","result","header","index","helperId","helper","descriptionId","commonProps","target","required","disabled","labelContent","helperContent","Field","Root","renderFieldControl","setFirstFieldRef","fieldType","type","inputProps","rows","Select","hidden","inputType","inputMode","element","displayName","DEFAULT_OPTIONS","DurationSelector","aria-disabled","m","active","button","aria-checked","FILTER_ITEMS","icon","Circle","CircleDot","CircleCheck","GoalsTabs","ICON_SM","GoalList","goals","onToggleDone","onUpdate","editingId","setEditingId","draft","setDraft","metric","notes","startEdit","goal","cancelEdit","saveEdit","updateDraft","GenericList","getKey","listClassName","itemClassName","emptyState","renderItem","isEditing","headingId","aria-labelledby","CheckCircle","done","checked","useGoals","usePlanner","GoalSlot","onEdit","inputRef","editButtonRef","wasEditing","clean","handleKeyDown","pillar","PillarBadge","as","ICON_MD","ReminderFilters","showGroups","groupTabs","toggleFilters","showFilters","sourceTabs","setSource","togglePinned","setQuery","useReminders","styles","align","tablistClassName","aria-expanded","SlidersHorizontal","ReminderList","updateReminder","removeReminder","handleChange","handleDelete","reminder","RemTile","EmptyState","RemTileBase","noteFieldId","tagsFieldId","commitChange","tag","togglePinnedLabel","baseLabel","h4","resize","groupKey","capitalize","sourceKey","domain","domainKey","fmtDate","date","timestamp","pad","getDate","getMonth","getFullYear","interactive","ReminderQuickAddForm","addReminder","groups","neonClass","quickAddError","clearQuickAddError","setQuickAddError","errorId","groupLabel","item","neonToneClass","trimmed","added","preventScroll","aria-describedby","aria-live","REMINDER_AVATAR_SRC","withBasePath","RemindersTab","AvatarFrame","media","Image","alt","sizes","priority","isTabValue","isFilterKey","TABS","Flag","hint","ListChecks","TimerIcon","DOMAIN_ITEMS","Sparkles","Gamepad2","GraduationCap","HERO_HEADINGS","reminders","timer","HERO_HEADING_IDS","HERO_SUBTITLE_IDS","GOALS_TABS_ID_BASE","getGoalsTabId","getGoalsPanelId","GoalsPage","PlannerProvider","GoalsPageContent","searchParams","heroSubtitle","useSearchParams","tab","setTab","decode","setFilter","shouldFocusGoalForm","setShouldFocusGoalForm","intentApplied","setIntentApplied","err","lastDeleted","addGoal","toggleDone","removeGoal","updateGoal","undoRemove","clearGoals","setDomain","reminderFiltered","formRef","goalFormRef","goalsRef","remindersRef","timerRef","confirmClearOpen","setConfirmClearOpen","clearedCount","setClearedCount","nukeDialogId","nukeHeadingId","nukeDescriptionId","confirmButtonRef","window","setTimeout","clearTimeout","handleOpenNuke","handleCloseNuke","handleAddGoal","trimmedTitle","ok","startGoalCreation","tabParam","get","filterParam","handleTabChange","reminderCount","handleDomainChange","handleReminderSearchChange","handleAddReminder","reduceMotion","usePrefersReducedMotion","scrollIntoView","behavior","block","handleAddFirst","handleUndo","intentParam","totalCount","doneCount","g","activeCount","remaining","ACTIVE_CAP","isAtCap","pctDone","round","handleConfirmNuke","sorted","summary","heroHeadingId","heroSubtitleId","heroHeading","heroEyebrow","heroAriaDescribedby","heroDividerTint","reminderHeroSubTabs","showBaseline","reminderHeroSearch","debounceMs","right","reminderHeroActions","PageShell","PageHeader","eyebrow","heading","subtitle","barClassName","tabs","idBase","hero","HERO_REGION_ID","dividerTint","subTabs","searchBar","tabIndex","h2","GoalsProgress","total","aria-haspopup","aria-controls","Bomb","GlitchNeoCard","Snackbar","message","actionLabel","actionAriaLabel","onAction","TimerTab","Modal","open","onClose","CardHeader","CardTitle","CardDescription","CardContent","CardFooter","tactile","maxWidth","min","ProgressRingIcon","inset","focusable","detectCoarsePointer","nav","navigator","maxTouchPoints","msMaxTouchPoints","matchMedia","some","matches","isCoarse","setIsCoarse","observeMediaQuery","gradientNoiseOpacity","numberPattern","parsedGradientNoiseOpacity","parseFloat","tokens","defaultSlope","defaultTable","Object","freeze","clampNumber","parseNumbers","match","segment","parseNumber","first","getComputedValue","document","documentElement","getComputedStyle","getPropertyValue","token","tokensToFilter","slope","numericSlope","raw","parsed","FILTER_SLOPE_TOKEN","table","numericTable","entry","FILTER_TABLE_TOKEN","stdDeviation","numericStdDeviation","FILTER_STD_DEVIATION_TOKEN","gradientNoiseOpacityToken","gradientNoiseOpacityCssFallback","themeContext","useOptionalTheme","themeVariant","themeBackground","bg","filterValues","setFilterValues","svgNumericFilters","every","slopeValue","x","y","width","filterUnits","colorInterpolationFilters","feTurbulence","baseFrequency","numOctaves","seed","feColorMatrix","in","feComponentTransfer","feFuncA","feBlend","in2","mode","PROFILES","BookOpen","defaultMin","Brush","Code2","User","PROFILE_LOOKUP","reduce","acc","profile","TIMER_STATE_KEY","LEGACY_KEYS","customMinutes","running","DEFAULT_PROFILE","getProfile","DEFAULT_TIMER_STATE","DEFAULT_CUSTOM_MINUTES","getMinutesForProfile","isFiniteNumber","ADJUST_BTN_CLASS","setTimer","stored","readLocal","legacyProfile","legacyCustom","legacyRemaining","legacyRunning","nextProfile","isProfileKey","nextCustomMinutes","fallbackMinutes","nextRemaining","nextRunning","removeLocal","profileDef","isCustom","minutes","prevProfile","timeEdit","setTimeEdit","formatMmSs","unit","padMinutes","adjust","delta","clamp","secs","floor","setInterval","shouldStop","clearInterval","start","pause","commitEdit","ms","parseMmSs","mm","ss","progress","totalMs","finished","tabItems","rightSlot","onBlur","onKey","HTMLInputElement","HTMLTextAreaElement","test","opts","addEventListener","removeEventListener","scopeProps","timerProgressScopeProps","timerProgressStyle","useScopedCssVars","attribute","vars","toString","Hero","frame","Minus","data-progress","Pause","Play","RotateCcw"],"sourceRoot":"","ignoreList":[]}