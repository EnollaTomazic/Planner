{"version":3,"file":"static/chunks/3652-da02984ed6ebdced.js","mappings":"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ACrDpD,GAAS,EAAU,CAAP,KAAeyO,EAAAA,CAAGA,CAAErL,IAAK,cAAe,EACpDpD,GAAS,EAAU,CAAEkD,KAAMwL,EAAAA,CAAMA,CAAEtL,IAAK,cAAe,EACpD,CAAEF,KAAMyL,EAAAA,CAAKA,CAAEvL,IAAK,iBAAkB,CAC/C,CAGO,IAAMH,EAAwC,CACnD,EAAG,CACD,+BACA,wBACA,kCACA,qCACA,oBACD,CACD,EAAG,CACD,yCACA,gCACA,uBACA,qBACA,0BACD,CACD,EAAG,CACD,yBACA,6BACA,6BACA,uBACA,gCACD,CACD,EAAG,CACD,gCACA,wBACA,8BACA,2BACA,mBACD,CACD,EAAG,CACD,oBACA,sBACA,gBACA,oBACA,uBACD,CACD,EAAG,CACD,gBACA,wBACA,4BACA,2BACA,yBACD,CACD,EAAG,CACD,oBACA,iBACA,4BACA,qBACA,oBACD,CACD,EAAG,CACD,2BACA,uBACA,uBACA,4BACA,sBACD,CACD,EAAG,CACD,sBACA,uBACA,yBACA,+BACA,sBACD,CACD,EAAG,CACD,sBACA,qBACA,uBACA,uBACA,yBACD,CACD,GAAI,CACF,oBACA,0BACA,0BACA,+BACA,uBACD,EACD,EAGmD,CACnD,EAAG,CACD,wBACA,wBACA,wBACA,uBACA,yBACA,uBACA,0BACA,uBACA,uBACA,8BACD,CACD,EAAG,CACD,uBACA,sBACA,sBACA,kBACA,sBACA,oBACA,oBACA,oBACA,wBACA,0BACD,CACD,EAAG,CACD,oBACA,uBACA,sBACA,gBACA,kBACA,qBACA,2BACA,qBACA,2BACA,iBACD,CACD,EAAG,CACD,oBACA,iBACA,2BACA,sBACA,qBACA,4BACA,oBACA,0BACA,0BACA,0BACD,CACD,EAAG,CACD,0BACA,yBACA,yBACA,mCACA,wBACA,yBACA,aACA,sBACA,oBACA,wBACD,CACD,EAAG,CACD,wBACA,wBACA,2BACA,qBACA,6BACA,qBACA,sBACA,wBACA,2BACA,6BACD,CACD,EAAG,CACD,cACA,iBACA,uBACA,gCACA,qBACA,0BACA,u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","sources":["webpack://_N_E/./src/components/reviews/ReviewEditor.tsx","webpack://_N_E/./src/components/reviews/ReviewSummary.tsx","webpack://_N_E/./src/components/reviews/ReviewSummaryNotes.tsx","webpack://_N_E/./src/components/reviews/ReviewListItem.tsx","webpack://_N_E/./src/components/reviews/TimestampMarkers.tsx","webpack://_N_E/./src/components/reviews/PillarsSelector.tsx","webpack://_N_E/./src/components/reviews/ResultScoreSection.module.css","webpack://_N_E/./src/components/reviews/ReviewSummaryScore.tsx","webpack://_N_E/./src/components/reviews/ReviewPage.tsx","webpack://_N_E/./src/components/reviews/index.ts","webpack://_N_E/./src/components/reviews/ScoreMeter.tsx","webpack://_N_E/./src/components/reviews/ReviewSummaryTimestamps.tsx","webpack://_N_E/./src/components/reviews/ReviewSummaryPillars.tsx","webpack://_N_E/./src/components/reviews/ReviewSliderTrack.tsx","webpack://_N_E/./src/components/reviews/reviewData.ts","webpack://_N_E/./src/components/reviews/RoleSelector.module.css","webpack://_N_E/./src/components/reviews/ResultScoreSection.tsx","webpack://_N_E/./src/components/reviews/useReviewFilter.ts","webpack://_N_E/./src/components/reviews/NeonPillarChip.module.css","webpack://_N_E/./src/components/reviews/NeonIcon.tsx","webpack://_N_E/./src/components/reviews/ReviewsPage.tsx","webpack://_N_E/./src/components/reviews/RoleSelector.tsx","webpack://_N_E/./src/components/reviews/ReviewPanel.tsx","webpack://_N_E/./src/components/reviews/ReviewList.tsx","webpack://_N_E/./src/components/reviews/useReviews.ts","webpack://_N_E/./src/components/reviews/LaneOpponentForm.tsx","webpack://_N_E/./src/components/reviews/SectionLabel.tsx","webpack://_N_E/./src/components/reviews/ReviewSurface.tsx","webpack://_N_E/./src/components/reviews/ReviewSliderTrack.module.css","webpack://_N_E/./src/components/reviews/ReviewSummaryHeader.tsx","webpack://_N_E/./src/components/reviews/reviewSearch.ts"],"sourcesContent":["\"use client\";\n\n// Full Review Editor with icon-only header actions and RoleSelector rail control.\nimport { RoleSelector } from \"@/components/reviews\";\nimport { SectionLabel } from \"@/components/reviews/SectionLabel\";\nimport { SectionCard } from \"@/components/ui/layout/SectionCard\";\nimport { NeonIcon } from \"@/components/reviews/NeonIcon\";\nimport { ReviewSurface } from \"./ReviewSurface\";\nimport { ReviewSliderTrack } from \"./ReviewSliderTrack\";\n\nimport * as React from \"react\";\nimport type { Review, Role } from \"@/lib/types\";\nimport { Input } from \"@/components/ui/primitives/Input\";\nimport { Textarea } from \"@/components/ui/primitives/Textarea\";\nimport { IconButton } from \"@/components/ui/primitives/IconButton\";\nimport { Badge } from \"@/components/ui/primitives/Badge\";\nimport { Tag, Trash2, Check, Plus } from \"lucide-react\";\nimport { cn } from \"@/lib/utils\";\nimport { usePersistentState } from \"@/lib/db\";\nimport {\n  LAST_ROLE_KEY,\n  FOCUS_POOLS,\n  pickIndex,\n} from \"@/components/reviews/reviewData\";\n\nimport { LaneOpponentFormHandle, LaneOpponentForm } from \"./LaneOpponentForm\";\nimport {\n  ResultScoreSectionHandle, ResultScoreSection } from \"./ResultScoreSection\";\nimport { PillarsSelectorHandle, PillarsSelector } from \"./PillarsSelector\";\nimport { TimestampMarkersHandle, TimestampMarkers } from \"./TimestampMarkers\";\n\ntype ReviewEditorProps = {\n  review: Review;\n  onChangeNotes?: (value: string) => void;\n  onChangeTags?: (values: string[]) => void;\n  onRename?: (title: string) => void;\n  onChangeMeta?: (partial: Partial<Review>) => void;\n  onDone?: () => void;\n  onDelete?: () => void;\n  className?: string;\n};\n\nexport function ReviewEditor({\n  review,\n  onChangeNotes,\n  onChangeTags,\n  onRename,\n  onChangeMeta,\n  onDone,\n  onDelete,\n  className = \"\",\n}: ReviewEditorProps) {\n  const [notes, setNotes] = React.useState(review.notes ?? \"\");\n  const [tags, setTags] = React.useState<string[]>(\n    Array.isArray(review.tags) ? review.tags : [],\n  );\n  const [draftTag, setDraftTag] = React.useState(\"\");\n\n  const rootRef = React.useRef<HTMLElement>(null);\n  const laneFormRef = React.useRef<LaneOpponentFormHandle>(null);\n  const resultScoreRef = React.useRef<ResultScoreSectionHandle>(null);\n  const pillarsRef = React.useRef<PillarsSelectorHandle>(null);\n  const timestampsRef = React.useRef<TimestampMarkersHandle>(null);\n  const focusRangeRef = React.useRef<HTMLInputElement>(null);\n  const laneLabelId = React.useId();\n  const tagsLabelId = React.useId();\n  const notesLabelId = React.useId();\n\n  const [lastRole, setLastRole] = usePersistentState<Role>(\n    LAST_ROLE_KEY,\n    \"MID\",\n  );\n  const [role, setRole] = React.useState<Role>(\n    review.role ?? lastRole ?? \"MID\",\n  );\n  const [focusOn, setFocusOn] = React.useState<boolean>(\n    Boolean(review.focusOn),\n  );\n  const [focus, setFocus] = React.useState<number>(\n    Number.isFinite(review.focus ?? NaN) ? Number(review.focus) : 5,\n  );\n\n  React.useEffect(() => {\n    setNotes(review.notes ?? \"\");\n  }, [review.id, review.notes]);\n\n  React.useEffect(() => {\n    setTags(Array.isArray(review.tags) ? review.tags : []);\n    setDraftTag(\"\");\n  }, [review.id, review.tags]);\n\n  React.useEffect(() => {\n    const r = review.role ?? lastRole ?? \"MID\";\n    setRole(r);\n    if (review.role == null) {\n      onChangeMeta?.({ role: r });\n    }\n  }, [lastRole, onChangeMeta, review.id, review.role]);\n\n  React.useEffect(() => {\n    setFocusOn(Boolean(review.focusOn));\n    setFocus(Number.isFinite(review.focus ?? NaN) ? Number(review.focus) : 5);\n  }, [review.focus, review.focusOn, review.id]);\n\n  const commitMeta = (partial: Partial<Review>) => onChangeMeta?.(partial);\n  const commitNotes = () => onChangeNotes?.(notes);\n\n  function saveAll() {\n    laneFormRef.current?.save();\n    resultScoreRef.current?.save();\n    pillarsRef.current?.save();\n    timestampsRef.current?.save();\n    commitNotes();\n    onChangeTags?.(tags);\n  }\n\n  const saveAllRef = React.useRef(saveAll);\n  saveAllRef.current = saveAll;\n\n  React.useEffect(() => {\n    function handlePointerDown(e: PointerEvent) {\n      if (!rootRef.current) return;\n      if (!rootRef.current.contains(e.target as Node)) {\n        saveAllRef.current();\n        onDone?.();\n      }\n    }\n    document.addEventListener(\"pointerdown\", handlePointerDown);\n    return () => document.removeEventListener(\"pointerdown\", handlePointerDown);\n  }, [onDone]);\n\n  function addTag(tagRaw: string) {\n    const t = tagRaw.trim().replace(/^#/, \"\");\n    if (!t || tags.includes(t)) return;\n    const next = [...tags, t];\n    setTags(next);\n    onChangeTags?.(next);\n  }\n  function removeTag(t: string) {\n    const next = tags.filter((x) => x !== t);\n    setTags(next);\n    onChangeTags?.(next);\n  }\n\n  const focusMsgIndex = pickIndex(\n    String(review.id ?? \"seed-focus\") + String(focus),\n    10,\n  );\n  const focusMsg = (FOCUS_POOLS[focus] ?? FOCUS_POOLS[5])[focusMsgIndex % 10];\n\n  function selectRole(v: Role) {\n    setRole(v);\n    setLastRole(v);\n    commitMeta({ role: v });\n  }\n\n  return (\n    <SectionCard\n      ref={rootRef}\n      variant=\"plain\"\n      className={cn(\"transition-none shadow-none\", className)}\n    >\n      <div className=\"section-h sticky\">\n        <div className=\"grid w-full grid-cols-[1fr_auto] items-center gap-[var(--space-4)]\">\n          <div className=\"min-w-0\">\n            <div className=\"mb-[var(--space-2)]\">\n              <SectionLabel id={laneLabelId}>Lane</SectionLabel>\n              <RoleSelector\n                value={role}\n                onChange={selectRole}\n                ariaLabelledby={laneLabelId}\n              />\n            </div>\n\n            <LaneOpponentForm\n              ref={laneFormRef}\n              lane={review.lane ?? review.title ?? \"\"}\n              opponent={review.opponent ?? \"\"}\n              commitMeta={commitMeta}\n              onRename={onRename}\n              onOpponentEnter={() => resultScoreRef.current?.focusResult()}\n            />\n          </div>\n\n          <div className=\"ml-[var(--space-2)] flex shrink-0 items-center justify-end gap-[var(--space-2)] self-start\">\n            {onDelete ? (\n              <IconButton\n                aria-label=\"Delete review\"\n                title=\"Delete review\"\n                size=\"lg\"\n                iconSize=\"md\"\n                variant=\"quiet\"\n                onClick={onDelete}\n              >\n                <Trash2 />\n              </IconButton>\n            ) : null}\n\n            {onDone ? (\n              <IconButton\n                aria-label=\"Done\"\n                title=\"Save and close\"\n                size=\"lg\"\n                iconSize=\"md\"\n                variant=\"quiet\"\n                onClick={() => {\n                  saveAll();\n                  onDone?.();\n                }}\n              >\n                <Check />\n              </IconButton>\n            ) : null}\n          </div>\n        </div>\n      </div>\n\n      <div className=\"section-b ds-card-pad space-y-[var(--space-6)]\">\n        <ResultScoreSection\n          ref={resultScoreRef}\n          result={review.result ?? \"Win\"}\n          score={\n            Number.isFinite(review.score ?? NaN) ? Number(review.score) : 5\n          }\n          commitMeta={commitMeta}\n          onScoreEnter={() => timestampsRef.current?.focusTime()}\n        />\n\n        {/* Focus */}\n        <div>\n          <div className=\"flex items-center gap-[var(--space-3)]\">\n            <IconButton\n              aria-label={focusOn ? \"Brain light on\" : \"Brain light off\"}\n              title={focusOn ? \"Brain light on\" : \"Brain light off\"}\n              aria-pressed={focusOn}\n              size=\"xl\"\n              variant=\"quiet\"\n              tone=\"primary\"\n              onClick={() => {\n                const v = !focusOn;\n                setFocusOn(v);\n                commitMeta({ focusOn: v });\n                if (v) focusRangeRef.current?.focus();\n              }}\n            >\n              <NeonIcon kind=\"brain\" on={focusOn} size=\"xl\" />\n            </IconButton>\n          </div>\n\n          {focusOn && (\n            <>\n              <ReviewSurface\n                className=\"mt-[var(--space-3)] group relative h-[var(--space-7)]\"\n                padding=\"inline\"\n                focusWithin\n              >\n                <input\n                  ref={focusRangeRef}\n                  type=\"range\"\n                  min={0}\n                  max={10}\n                  step={1}\n                  value={focus}\n                  onChange={(e) => {\n                    const v = Number(e.target.value);\n                    setFocus(v);\n                    commitMeta({ focus: v });\n                  }}\n                  className=\"absolute inset-0 z-10 cursor-pointer rounded-card r-card-lg opacity-0 [appearance:none]\"\n                  aria-label=\"Focus from 0 to 10\"\n                />\n                <ReviewSliderTrack\n                  value={focus}\n                  tone=\"focus\"\n                  variant=\"input\"\n                />\n              </ReviewSurface>\n              <div className=\"mt-[var(--space-1)] flex items-center gap-[var(--space-2)] text-ui text-muted-foreground\">\n                <Badge as=\"span\" size=\"md\" className=\"font-mono tabular-nums text-ui\">\n                  {focus}/10\n                </Badge>\n                <span>{focusMsg}</span>\n              </div>\n            </>\n          )}\n        </div>\n\n        <PillarsSelector\n          ref={pillarsRef}\n          pillars={Array.isArray(review.pillars) ? review.pillars : []}\n          commitMeta={commitMeta}\n        />\n\n        <TimestampMarkers\n          ref={timestampsRef}\n          markers={Array.isArray(review.markers) ? review.markers : []}\n          commitMeta={commitMeta}\n        />\n\n        {/* Tags */}\n        <div>\n          <SectionLabel id={tagsLabelId}>Tags</SectionLabel>\n          <div className=\"mt-[var(--space-1)] flex items-center gap-[var(--space-2)]\">\n            <div className=\"relative flex-1\">\n              <Tag className=\"pointer-events-none absolute left-[var(--space-4)] top-1/2 size-[var(--space-4)] -translate-y-1/2 text-muted-foreground\" />\n              <Input\n                name=\"tag-input\"\n                value={draftTag}\n                onChange={(e) => setDraftTag(e.target.value)}\n                placeholder=\"Add tag and press Enter\"\n                className=\"pl-[var(--space-6)]\"\n                aria-labelledby={tagsLabelId}\n                onKeyDown={(e) => {\n                  if (e.key === \"Enter\") {\n                    e.preventDefault();\n                    addTag(draftTag);\n                    setDraftTag(\"\");\n                  }\n                }}\n              />\n            </div>\n\n            <IconButton\n              aria-label=\"Add tag\"\n              title=\"Add tag\"\n              size=\"md\"\n              iconSize=\"sm\"\n              variant=\"default\"\n              onClick={() => {\n                addTag(draftTag);\n                setDraftTag(\"\");\n              }}\n            >\n              <Plus />\n            </IconButton>\n          </div>\n\n          {tags.length === 0 ? (\n            <div className=\"mt-[var(--space-2)] text-ui text-muted-foreground/80\">\n              No tags yet.\n            </div>\n          ) : (\n            <div className=\"mt-[var(--space-2)] flex flex-wrap items-center gap-[var(--space-2)]\">\n              {tags.map((t) => (\n                <Badge\n                  key={t}\n                  interactive\n                  className=\"group text-ui\"\n                  title=\"Remove tag\"\n                  onClick={() => removeTag(t)}\n                >\n                  <span>#{t}</span>\n                  <span className=\"opacity-0 transition-opacity group-hover:opacity-100\">\n                    \n                  </span>\n                </Badge>\n              ))}\n            </div>\n          )}\n        </div>\n\n        {/* Notes */}\n        <div>\n          <SectionLabel id={notesLabelId}>Notes</SectionLabel>\n          <Textarea\n            value={notes}\n            onChange={(e) => setNotes(e.target.value)}\n            onBlur={commitNotes}\n            placeholder=\"Key moments, mistakes to fix, drills to run\"\n            className=\"rounded-[var(--control-radius)]\"\n            resize=\"resize-y\"\n            textareaClassName=\"min-h-[calc(var(--space-8)*3_-_var(--space-3))] leading-relaxed\"\n            aria-labelledby={notesLabelId}\n          />\n        </div>\n      </div>\n    </SectionCard>\n  );\n}\n","\"use client\";\n\nimport * as React from \"react\";\nimport type { Review, Role, ReviewMarker, Pillar } from \"@/lib/types\";\nimport { cn } from \"@/lib/utils\";\nimport {\n  SCORE_POOLS,\n  FOCUS_POOLS,\n  pickIndex,\n  scoreIcon,\n} from \"@/components/reviews/reviewData\";\nimport { SectionCard } from \"@/components/ui/layout/SectionCard\";\nimport { ReviewSummaryHeader } from \"@/components/reviews/ReviewSummaryHeader\";\nimport { ReviewSummaryScore } from \"@/components/reviews/ReviewSummaryScore\";\nimport { ReviewSummaryPillars } from \"@/components/reviews/ReviewSummaryPillars\";\nimport { ReviewSummaryTimestamps } from \"@/components/reviews/ReviewSummaryTimestamps\";\nimport { ReviewSummaryNotes } from \"@/components/reviews/ReviewSummaryNotes\";\n\ntype Props = {\n  review: Review;\n  onEdit?: () => void;\n  className?: string;\n};\n\nexport function ReviewSummary({ review, onEdit, className }: Props) {\n  const role: Role | undefined = review.role as Role | undefined;\n  const result: \"Win\" | \"Loss\" | undefined = review.result;\n  const score = Number.isFinite(review.score) ? Number(review.score) : 5;\n  const focusOn = Boolean(review.focusOn);\n  const focus = Number.isFinite(review.focus) ? Number(review.focus) : 5;\n  const markers: ReviewMarker[] = Array.isArray(review.markers) ? review.markers : [];\n  const laneTitle = review.lane ?? review.title ?? \"\";\n\n  const msgIndex = pickIndex(String(review.id ?? \"seed\") + score, 5);\n  const pool = SCORE_POOLS[score];\n  const msg = pool[msgIndex];\n  const { Icon: ScoreIcon, cls: scoreIconCls } = scoreIcon(score);\n\n  const focusMsgIndex = pickIndex(String(review.id ?? \"seed-focus\") + focus, 10);\n  const focusMsg = (FOCUS_POOLS[focus] ?? FOCUS_POOLS[5])[focusMsgIndex % 10];\n\n  return (\n    <SectionCard\n      variant=\"plain\"\n      className={cn(\"transition-none shadow-none\", className)}\n    >\n      <ReviewSummaryHeader title={laneTitle} role={role} result={result} onEdit={onEdit} />\n      <ReviewSummaryScore\n        score={score}\n        msg={msg}\n        ScoreIcon={ScoreIcon}\n        scoreIconCls={scoreIconCls}\n        focusOn={focusOn}\n        focus={focus}\n        focusMsg={focusMsg}\n      />\n      <ReviewSummaryPillars pillars={review.pillars as Pillar[]} />\n      <ReviewSummaryTimestamps markers={markers} />\n      {review.notes ? <ReviewSummaryNotes notes={review.notes} /> : null}\n    </SectionCard>\n  );\n}\n\n","import * as React from \"react\";\nimport { SectionLabel } from \"@/components/reviews/SectionLabel\";\nimport { ReviewSurface } from \"./ReviewSurface\";\n\nexport type ReviewSummaryNotesProps = {\n  notes: string;\n};\n\nexport function ReviewSummaryNotes({ notes }: ReviewSummaryNotesProps) {\n  return (\n    <div>\n      <SectionLabel>Notes</SectionLabel>\n      <ReviewSurface padding=\"md\" tone=\"muted\">\n        <div className=\"text-ui leading-6 text-foreground/70\">{notes}</div>\n      </ReviewSurface>\n    </div>\n  );\n}\n","// src/components/reviews/ReviewListItem.tsx\n\"use client\";\n\nimport * as React from \"react\";\nimport { cn } from \"@/lib/utils\";\nimport type { Review } from \"@/lib/types\";\nimport { Badge } from \"@/components/ui/primitives/Badge\";\n\nconst shellBase = cn(\n  \"relative w-full text-left rounded-card r-card-lg p-[var(--space-3)] bg-card/90 border border-border/35 transition-all duration-motion-sm focus-visible:outline-none disabled:opacity-disabled disabled:pointer-events-none disabled:bg-muted/20\",\n  \"hover:bg-[theme('colors.interaction.accent.tintHover')] hover:ring-2 hover:ring-[var(--theme-ring,var(--focus))]\",\n  \"focus-visible:bg-[theme('colors.interaction.accent.tintHover')] focus-visible:ring-2 focus-visible:ring-[var(--theme-ring,var(--focus))]\",\n  \"active:bg-[theme('colors.interaction.accent.tintActive')] active:ring-2 active:ring-[var(--theme-ring,var(--focus))]\",\n  \"data-[selected=true]:bg-[theme('colors.interaction.accent.tintActive')] data-[selected=true]:ring-2 data-[selected=true]:ring-[theme('colors.interaction.accent.surfaceActive')]\",\n);\n\nconst statusDotBase =\n  \"h-[var(--space-2)] w-[var(--space-2)] rounded-full ring-2\";\nconst statusDotWin = \"bg-success ring-success\";\nconst statusDotLoss = \"bg-danger ring-danger\";\nconst statusDotDefault = \"bg-muted-foreground ring-muted-foreground\";\nconst statusDotPulse =\n  \"motion-safe:animate-[pulse_2s_ease-in-out_infinite] motion-reduce:animate-none\";\nconst statusDotBlink =\n  \"motion-safe:animate-[blink_1s_steps(2)_infinite] motion-reduce:animate-none\";\nconst itemLoading = cn(\n  shellBase,\n  \"motion-safe:animate-pulse motion-reduce:animate-none\",\n);\nconst loadingLine = \"h-[var(--space-3)] rounded-card bg-muted\";\nconst scoreBadge = cn(\n  \"px-[var(--space-2)] py-[var(--space-1)] rounded-full text-ui leading-none font-medium\",\n  \"text-accent-2-foreground ring-1 ring-[theme('colors.interaction.info.surfaceActive')] bg-accent-2\",\n  \"hover:ring-[theme('colors.interaction.info.surfaceHover')]\",\n  \"focus-visible:ring-[theme('colors.interaction.info.surfaceHover')]\",\n  \"active:ring-[theme('colors.interaction.info.surfaceActive')]\",\n);\n\nexport type ReviewListItemProps = {\n  review?: Review;\n  selected?: boolean;\n  disabled?: boolean;\n  loading?: boolean;\n  onClick?: () => void;\n};\n\nexport function ReviewListItem({\n  review,\n  selected = false,\n  disabled = false,\n  loading = false,\n  onClick,\n}: ReviewListItemProps) {\n  if (loading) {\n    return (\n      <div data-scope=\"reviews\" className={itemLoading}>\n        <div\n          className={cn(loadingLine, \"w-3/5 mb-[var(--space-3)]\")}\n        />\n        <div className={cn(loadingLine, \"w-2/5\")} />\n      </div>\n    );\n  }\n\n  const title = review?.title?.trim() || \"Untitled Review\";\n  const untitled = !review?.title?.trim();\n  const matchup = review?.matchup?.trim() || \"\";\n  const score = review?.score;\n  const role = review?.role;\n\n  return (\n    <button\n      data-scope=\"reviews\"\n      type=\"button\"\n      disabled={disabled}\n      onClick={onClick}\n      aria-label={`Open review: ${title}`}\n      aria-current={selected ? \"true\" : undefined}\n      data-selected={selected ? \"true\" : undefined}\n      className={shellBase}\n    >\n      <div className=\"flex flex-col gap-[var(--space-2)]\">\n        <div className=\"flex items-start justify-between gap-[var(--space-2)]\">\n          <div\n            className={cn(\n              \"truncate font-medium text-body\",\n              untitled && \"text-muted-foreground/70\",\n            )}\n            aria-label={untitled ? \"Untitled Review\" : undefined}\n          >\n            {title}\n          </div>\n          {matchup ? (\n            <div className=\"truncate text-ui text-muted-foreground\">\n              {matchup}\n            </div>\n          ) : null}\n        </div>\n        <div className=\"flex items-center justify-between gap-[var(--space-2)]\">\n          <div className=\"flex items-center gap-[var(--space-2)]\">\n            <span\n              aria-hidden\n              className={cn(\n                statusDotBase,\n                statusDotBlink,\n                review?.result === \"Win\"\n                  ? statusDotWin\n                  : review?.result === \"Loss\"\n                    ? statusDotLoss\n                    : statusDotDefault,\n                review?.status === \"new\" && statusDotPulse,\n              )}\n            />\n            {role ? (\n              <Badge\n                size=\"sm\"\n                tone=\"neutral\"\n                className=\"px-[var(--space-1)]\"\n              >\n                {role}\n              </Badge>\n            ) : null}\n          </div>\n          {typeof score === \"number\" ? (\n            <span\n              className={scoreBadge}\n              aria-label={`Rating ${score} out of 10`}\n            >\n              {score}/10\n            </span>\n          ) : null}\n        </div>\n      </div>\n    </button>\n  );\n}\n","\"use client\";\n\nimport * as React from \"react\";\nimport { SectionLabel } from \"@/components/reviews/SectionLabel\";\nimport { NeonIcon } from \"@/components/reviews/NeonIcon\";\nimport { Input } from \"@/components/ui/primitives/Input\";\nimport { IconButton } from \"@/components/ui/primitives/IconButton\";\nimport { Badge } from \"@/components/ui/primitives/Badge\";\nimport { Plus, FileText, Trash2 } from \"lucide-react\";\nimport { uid, usePersistentState } from \"@/lib/db\";\nimport { formatMmSs, parseMmSs } from \"@/lib/date\";\nimport type { Review, ReviewMarker } from \"@/lib/types\";\nimport {\n  LAST_MARKER_MODE_KEY,\n  LAST_MARKER_TIME_KEY,\n} from \"@/components/reviews/reviewData\";\nimport { ReviewSurface } from \"./ReviewSurface\";\n\nexport type TimestampMarkersHandle = {\n  save: () => void;\n  focusTime: () => void;\n};\n\ntype TimestampMarkersProps = {\n  markers?: ReviewMarker[];\n  commitMeta: (patch: Partial<Review>) => void;\n};\n\nfunction normalizeMarker(m: unknown): ReviewMarker {\n  const obj = m as Record<string, unknown>;\n  const id = typeof obj.id === \"string\" ? obj.id : uid(\"mark\");\n  const seconds =\n    typeof obj.seconds === \"number\"\n      ? obj.seconds\n      : typeof obj.time === \"string\"\n      ? parseMmSs(obj.time) ?? 0\n      : 0;\n  const time =\n    typeof obj.time === \"string\" ? obj.time : formatMmSs(seconds);\n  const note = typeof obj.note === \"string\" ? obj.note : \"\";\n  const noteOnly = Boolean(obj.noteOnly);\n  return { id, seconds, time, note, noteOnly };\n}\n\nfunction TimestampMarkers(\n  { markers: markers0 = [], commitMeta }: TimestampMarkersProps,\n  ref: React.Ref<TimestampMarkersHandle>,\n) {\n  const [lastMarkerMode, setLastMarkerMode] = usePersistentState<boolean>(\n    LAST_MARKER_MODE_KEY,\n    true,\n  );\n  const [lastMarkerTime, setLastMarkerTime] = usePersistentState<string>(\n    LAST_MARKER_TIME_KEY,\n    \"\",\n  );\n\n  const [markers, setMarkers] = React.useState<ReviewMarker[]>(\n    Array.isArray(markers0) ? markers0.map(normalizeMarker) : [],\n  );\n  const [useTimestamp, setUseTimestamp] = React.useState(lastMarkerMode);\n  const [tTime, setTTime] = React.useState(lastMarkerTime);\n  const [tNote, setTNote] = React.useState(\"\");\n\n  React.useEffect(() => {\n    setMarkers(Array.isArray(markers0) ? markers0.map(normalizeMarker) : []);\n  }, [markers0]);\n\n  const timeRef = React.useRef<HTMLInputElement>(null);\n  const noteRef = React.useRef<HTMLInputElement>(null);\n\n  const parsedTime = parseMmSs(tTime);\n  const timeError = useTimestamp && parsedTime === null;\n  const canAddMarker =\n    (useTimestamp ? parsedTime !== null : true) && tNote.trim().length > 0;\n\n  const sortedMarkers = React.useMemo(\n    () => [...markers].sort((a, b) => a.seconds - b.seconds),\n    [markers],\n  );\n\n  const addMarker = React.useCallback(() => {\n    const s = useTimestamp ? parsedTime : 0;\n    const safeS = s === null ? 0 : s;\n    const m: ReviewMarker = {\n      id: uid(\"mark\"),\n      time: useTimestamp ? tTime.trim() || \"00:00\" : \"00:00\",\n      seconds: safeS,\n      note: tNote.trim(),\n      noteOnly: !useTimestamp,\n    };\n    const next = [...markers, m];\n    setMarkers(next);\n    commitMeta({ markers: next });\n    setTTime(\"\");\n    setTNote(\"\");\n    (useTimestamp ? timeRef : noteRef).current?.focus();\n  }, [useTimestamp, parsedTime, tTime, tNote, markers, commitMeta]);\n\n  const removeMarker = React.useCallback(\n    (id: string) => {\n      const next = markers.filter((m) => m.id !== id);\n      setMarkers(next);\n      commitMeta({ markers: next });\n    },\n    [markers, commitMeta],\n  );\n\n  const save = React.useCallback(() => {\n    commitMeta({ markers });\n  }, [markers, commitMeta]);\n\n  React.useImperativeHandle(\n    ref,\n    () => ({\n      save,\n      focusTime: () => timeRef.current?.focus(),\n    }),\n    [save],\n  );\n\n  return (\n    <div>\n      <SectionLabel>Timestamps</SectionLabel>\n      <div className=\"mt-[var(--space-1)] flex items-center gap-[var(--space-2)]\">\n        <IconButton\n          aria-label=\"Use timestamp\"\n          title=\"Timestamp mode\"\n          aria-pressed={useTimestamp}\n          size=\"xl\"\n          variant=\"quiet\"\n          tone=\"primary\"\n          onClick={() => {\n            setUseTimestamp(true);\n            setLastMarkerMode(true);\n            setTTime(lastMarkerTime);\n          }}\n        >\n          <NeonIcon kind=\"clock\" on={useTimestamp} size=\"xl\" />\n        </IconButton>\n\n        <IconButton\n          aria-label=\"Use note only\"\n          title=\"Note-only mode\"\n          aria-pressed={!useTimestamp}\n          size=\"xl\"\n          variant=\"quiet\"\n          tone=\"accent\"\n          onClick={() => {\n            setUseTimestamp(false);\n            setLastMarkerMode(false);\n          }}\n        >\n          <NeonIcon kind=\"file\" on={!useTimestamp} size=\"xl\" />\n        </IconButton>\n      </div>\n\n      <div className=\"mt-[var(--space-3)] grid gap-[var(--space-2)]\">\n        <div className=\"grid grid-cols-[auto_1fr_auto] items-center gap-[var(--space-2)]\">\n          {useTimestamp ? (\n            <Input\n              ref={timeRef}\n              name=\"timestamp-time\"\n              value={tTime}\n              onChange={(e) => {\n                setTTime(e.target.value);\n                setLastMarkerTime(e.target.value);\n              }}\n              placeholder=\"00:00\"\n              className=\"text-center font-mono tabular-nums min-w-[calc(5ch+var(--space-5)+(var(--space-1)*4/5))] max-w-[calc(5ch+var(--space-5)+(var(--space-1)*4/5))]\"\n              aria-label=\"Timestamp time in mm:ss\"\n              inputMode=\"numeric\"\n              pattern=\"^[0-9]?\\d:[0-5]\\d$\"\n              aria-invalid={timeError ? \"true\" : undefined}\n              aria-describedby={timeError ? \"tTime-error\" : undefined}\n              onKeyDown={(e) => {\n                if (e.key === \"Enter\" && canAddMarker) {\n                  e.preventDefault();\n                  addMarker();\n                }\n              }}\n            />\n          ) : (\n            <Badge\n              as=\"span\"\n              size=\"md\"\n              className=\"min-w-[var(--space-8)] justify-center text-ui\"\n            >\n              <FileText aria-hidden className=\"icon-xs opacity-80\" />\n            </Badge>\n          )}\n\n          <Input\n            ref={noteRef}\n            name=\"timestamp-note\"\n            value={tNote}\n            onChange={(e) => setTNote(e.target.value)}\n            placeholder=\"Quick note\"\n            className=\"flex-1\"\n            onKeyDown={(e) => {\n              if (e.key === \"Enter\" && canAddMarker) {\n                e.preventDefault();\n                addMarker();\n              }\n            }}\n            aria-label=\"Timestamp note\"\n          />\n\n          <IconButton\n            aria-label=\"Add timestamp\"\n            title={canAddMarker ? \"Add timestamp\" : \"Enter details\"}\n            size=\"md\"\n            iconSize=\"sm\"\n            variant=\"default\"\n            disabled={!canAddMarker}\n            onClick={addMarker}\n          >\n            <Plus />\n          </IconButton>\n        </div>\n        {timeError && (\n          <p id=\"tTime-error\" className=\"mt-[var(--space-1)] text-ui text-danger\">\n            Enter time as mm:ss\n          </p>\n        )}\n\n        {sortedMarkers.length === 0 ? (\n          <div className=\"mt-[var(--space-2)] text-ui text-muted-foreground\">No timestamps yet.</div>\n        ) : (\n          <ul className=\"mt-[var(--space-3)] space-y-[var(--space-2)]\">\n            {sortedMarkers.map((m) => (\n              <ReviewSurface\n                as=\"li\"\n                key={m.id}\n                padding=\"sm\"\n                className=\"grid grid-cols-[auto_1fr_auto] items-center gap-[var(--space-2)]\"\n              >\n                {m.noteOnly ? (\n                  <Badge\n                    as=\"span\"\n                    size=\"md\"\n                    className=\"min-w-[var(--space-8)] justify-center text-ui\"\n                  >\n                    <FileText aria-hidden className=\"icon-xs opacity-80\" />\n                  </Badge>\n                ) : (\n                  <Badge\n                    as=\"span\"\n                    size=\"md\"\n                    className=\"min-w-[var(--space-8)] justify-center font-mono tabular-nums text-ui\"\n                  >\n                    {m.time}\n                  </Badge>\n                )}\n\n                <span className=\"truncate text-ui\">{m.note}</span>\n                <IconButton\n                  aria-label=\"Delete timestamp\"\n                  title=\"Delete timestamp\"\n                  size=\"sm\"\n                  iconSize=\"sm\"\n                  variant=\"quiet\"\n                  onClick={() => removeMarker(m.id)}\n                >\n                  <Trash2 />\n                </IconButton>\n              </ReviewSurface>\n            ))}\n          </ul>\n        )}\n      </div>\n    </div>\n  );\n}\n\nconst TimestampMarkersComponent = React.forwardRef(TimestampMarkers)\n\nexport { TimestampMarkersComponent as TimestampMarkers }\n","\"use client\";\n\nimport * as React from \"react\";\nimport { SectionLabel } from \"@/components/reviews/SectionLabel\";\nimport { PillarBadge } from \"@/components/ui/league/pillars/PillarBadge\";\nimport { ALL_PILLARS } from \"@/components/reviews/reviewData\";\nimport { cn } from \"@/lib/utils\";\nimport type { Pillar, Review } from \"@/lib/types\";\nimport styles from \"./NeonPillarChip.module.css\";\n\nexport type PillarsSelectorHandle = {\n  save: () => void;\n};\n\ntype PillarsSelectorProps = {\n  pillars?: Pillar[];\n  commitMeta: (patch: Partial<Review>) => void;\n};\n\nfunction NeonPillarChip({\n  active,\n  children,\n}: {\n  active: boolean;\n  children: React.ReactNode;\n}) {\n  const prev = React.useRef(active);\n  const [phase, setPhase] = React.useState<\n    \"steady-on\" | \"ignite\" | \"off\" | \"powerdown\"\n  >(active ? \"steady-on\" : \"off\");\n\n  React.useEffect(() => {\n    if (active !== prev.current) {\n      if (active) {\n        setPhase(\"ignite\");\n        const t = setTimeout(() => setPhase(\"steady-on\"), 620);\n        prev.current = active;\n        return () => clearTimeout(t);\n      } else {\n        setPhase(\"powerdown\");\n        const t = setTimeout(() => setPhase(\"off\"), 360);\n        prev.current = active;\n        return () => clearTimeout(t);\n      }\n    }\n    prev.current = active;\n  }, [active]);\n\n  const lit = phase === \"ignite\" || phase === \"steady-on\";\n\n  return (\n    <span\n      className={cn(\"relative inline-flex\", styles.root)}\n      data-lit={lit ? \"true\" : undefined}\n      data-phase={phase}\n    >\n      <span\n        className={cn(\n          \"pointer-events-none absolute inset-0 rounded-card r-card-lg\",\n          styles.layer,\n          styles.aura,\n        )}\n        aria-hidden\n      />\n      <span\n        className={cn(\n          \"pointer-events-none absolute inset-0 rounded-card r-card-lg\",\n          styles.layer,\n          styles.neon,\n        )}\n        aria-hidden\n      />\n      {children}\n    </span>\n  );\n}\n\nfunction PillarsSelector(\n  { pillars: pillars0 = [], commitMeta }: PillarsSelectorProps,\n  ref: React.Ref<PillarsSelectorHandle>,\n) {\n  const [pillars, setPillars] = React.useState<Pillar[]>(pillars0);\n\n  React.useEffect(() => {\n    setPillars(Array.isArray(pillars0) ? [...pillars0] : []);\n  }, [pillars0]);\n\n  const togglePillar = React.useCallback(\n    (p: Pillar) => {\n      setPillars((prev) => {\n        const has = prev.includes(p);\n        const next = has ? prev.filter((x) => x !== p) : prev.concat(p);\n        commitMeta({ pillars: next });\n        return next;\n      });\n    },\n    [commitMeta],\n  );\n\n  const save = React.useCallback(() => {\n    commitMeta({ pillars });\n  }, [pillars, commitMeta]);\n\n  React.useImperativeHandle(ref, () => ({ save }), [save]);\n\n  function onIconKey(e: React.KeyboardEvent, handler: () => void) {\n    if (e.key === \" \" || e.key === \"Enter\") {\n      e.preventDefault();\n      handler();\n    }\n  }\n\n  return (\n    <div>\n      <SectionLabel>Pillars</SectionLabel>\n      <div className=\"flex flex-wrap gap-[var(--space-2)]\">\n        {ALL_PILLARS.map((p) => {\n          const active = pillars.includes(p);\n          return (\n            <button\n              key={p}\n              type=\"button\"\n              onClick={() => togglePillar(p)}\n              onKeyDown={(e) => onIconKey(e, () => togglePillar(p))}\n              aria-pressed={active}\n              className=\"rounded-[var(--radius-2xl)] focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring\"\n              title={active ? `${p} selected` : `Select ${p}`}\n            >\n              <NeonPillarChip active={active}>\n                <PillarBadge pillar={p} size=\"md\" active={active} as=\"span\" />\n              </NeonPillarChip>\n            </button>\n          );\n        })}\n      </div>\n    </div>\n  );\n}\n\nconst PillarsSelectorComponent = React.forwardRef(PillarsSelector)\n\nexport { PillarsSelectorComponent as PillarsSelector }\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"indicator\":\"ResultScoreSection_indicator__3Kfdk\"};","import * as React from \"react\";\nimport { cn } from \"@/lib/utils\";\nimport { NeonIcon } from \"@/components/reviews/NeonIcon\";\nimport { ScoreMeter } from \"./ScoreMeter\";\n\nexport type ReviewSummaryScoreProps = {\n  score: number;\n  msg: string;\n  ScoreIcon: React.ComponentType<{ className?: string }>;\n  scoreIconCls?: string;\n  focusOn?: boolean;\n  focus?: number;\n  focusMsg?: string;\n};\n\nexport function ReviewSummaryScore({\n  score,\n  msg,\n  ScoreIcon,\n  scoreIconCls,\n  focusOn,\n  focus,\n  focusMsg,\n}: ReviewSummaryScoreProps) {\n  return (\n    <div>\n      <ScoreMeter\n        label=\"Score\"\n        value={score}\n        tone=\"score\"\n        trackProps={{ className: \"px-[var(--space-3)]\" }}\n        detail={\n          <>\n            <ScoreIcon\n              className={cn(\"h-[var(--space-4)] w-[var(--space-4)]\", scoreIconCls)}\n            />\n            <span>{msg}</span>\n          </>\n        }\n      />\n      {focusOn && typeof focus === \"number\" && focusMsg && (\n        <div className=\"mt-[var(--space-4)] space-y-[var(--space-2)]\">\n          <div className=\"mb-[var(--space-2)] flex items-center gap-[var(--space-2)]\" aria-label=\"Focus\">\n            <NeonIcon kind=\"brain\" on={true} size=\"xl\" staticGlow />\n            <div className=\"h-[var(--hairline-w)] flex-1 bg-gradient-to-r from-foreground/20 via-foreground/5 to-transparent\" />\n          </div>\n          <ScoreMeter\n            value={focus}\n            tone=\"focus\"\n            trackProps={{ className: \"px-[var(--space-3)]\" }}\n            detail={<span>{focusMsg}</span>}\n          />\n        </div>\n      )}\n    </div>\n  );\n}\n","\"use client\";\n\r\nimport { useCallback, useEffect, useMemo, useState } from \"react\";\nimport type { Review } from \"@/lib/types\";\nimport { uid } from \"@/lib/db\";\nimport { ReviewsPage } from \"./ReviewsPage\";\nimport { primeReviewSearch } from \"./reviewSearch\";\nimport { useReviews } from \"./useReviews\";\n\r\n/**\r\n * ReviewPage  container with local-first persistence.\n * Hydration-safe: usePersistentState returns initial value on first render, then loads.\n*/\nexport function ReviewPage() {\n  const { reviews, setReviews, isHydrated } = useReviews();\n  const [selectedId, setSelectedId] = useState<string | null>(null);\n\n  // After local DB hydration, select the first review if none is chosen\n  useEffect(() => {\n    if (!selectedId && reviews.length > 0) {\n      setSelectedId(reviews[0].id);\n    }\n  }, [reviews, selectedId]);\n\n  // Auto-heal selection if the selected review gets deleted or doesn't exist yet\n  useEffect(() => {\n    if (selectedId && !reviews.some(r => r.id === selectedId)) {\n      setSelectedId(reviews[0]?.id ?? null);\n    }\r\n  }, [reviews, selectedId]);\r\n\r\n  const onCreate = useCallback(() => {\r\n    const now = Date.now();\r\n    const fresh: Review = {\n      id: uid(\"rev\"),\n      title: \"Untitled Review\",\n      opponent: \"\",\n      lane: \"\",\n      side: \"Blue\",\n      patch: \"\",\n      duration: \"\",\n      matchup: \"\",\n      tags: [],\n      pillars: [],\r\n      markers: [],        // required by type\r\n      notes: \"\",\n      createdAt: now,\n    };\n    primeReviewSearch(fresh);\n    setReviews(prev => [fresh, ...prev]);\n    setSelectedId(fresh.id);\r\n  }, [setReviews]);\r\n\r\n  const onSelect = useCallback((id: string) => setSelectedId(id), []);\r\n\r\n  const patchById = useCallback((id: string, patch: Partial<Review>) => {\n    setReviews(prev =>\n      prev.map(r => (r.id === id ? primeReviewSearch({ ...r, ...patch }) : r)),\n    );\n  }, [setReviews]);\n\r\n  const onRename = useCallback((id: string, nextTitle: string) => {\r\n    patchById(id, { title: (nextTitle || \"\").trim() || \"Untitled Review\" });\r\n  }, [patchById]);\r\n\r\n  const onDelete = useCallback((id: string) => {\r\n    setReviews(prev => prev.filter(r => r.id !== id));\r\n    setSelectedId(prev => (prev === id ? null : prev));\r\n  }, [setReviews]);\r\n\r\n  const onChangeNotes = useCallback((id: string, nextNotes: string) => {\r\n    patchById(id, { notes: nextNotes });\r\n  }, [patchById]);\r\n\r\n  const onChangeTags = useCallback((id: string, nextTags: string[]) => {\r\n    patchById(id, { tags: nextTags });\r\n  }, [patchById]);\r\n\r\n  const onChangeMeta = useCallback((id: string, patch: Partial<Review>) => {\r\n    patchById(id, patch);\r\n  }, [patchById]);\r\n\r\n  const safeSelectedId = useMemo(\r\n    () => (reviews.some(r => r.id === selectedId) ? selectedId : null),\r\n    [reviews, selectedId]\r\n  );\r\n\r\n  return (\n    <ReviewsPage\n      reviews={reviews}\n      loading={!isHydrated}\n      selectedId={safeSelectedId}\n      onSelect={onSelect}\r\n      onCreate={onCreate}\r\n      onRename={onRename}\r\n      onDelete={onDelete}\r\n      onChangeNotes={onChangeNotes}\r\n      onChangeTags={onChangeTags}\r\n      onChangeMeta={onChangeMeta}\r\n    />\r\n  );\n}\n","// src/components/reviews/index.ts\nexport { ReviewPage as ReviewPage } from \"./ReviewPage\";\nexport { ReviewsPage as ReviewsPage } from \"./ReviewsPage\";\nexport { ReviewEditor as ReviewEditor } from \"./ReviewEditor\";\nexport { ReviewList as ReviewList } from \"./ReviewList\";\nexport { ReviewListItem as ReviewListItem } from \"./ReviewListItem\";\nexport { ReviewSummary as ReviewSummary } from \"./ReviewSummary\";\nexport { ReviewSummaryHeader as ReviewSummaryHeader } from \"./ReviewSummaryHeader\";\nexport { ReviewSummaryScore as ReviewSummaryScore } from \"./ReviewSummaryScore\";\nexport { ReviewSummaryPillars as ReviewSummaryPillars } from \"./ReviewSummaryPillars\";\nexport { ReviewSummaryTimestamps as ReviewSummaryTimestamps } from \"./ReviewSummaryTimestamps\";\nexport { ReviewSummaryNotes as ReviewSummaryNotes } from \"./ReviewSummaryNotes\";\nexport { RoleSelector as RoleSelector } from \"./RoleSelector\";\nexport { ReviewPanel as ReviewPanel } from \"./ReviewPanel\";\nexport { NeonIcon as NeonIcon } from \"./NeonIcon\";\nexport { useReviewFilter } from \"./useReviewFilter\";\nexport { LaneOpponentForm as LaneOpponentForm } from \"./LaneOpponentForm\";\nexport { ResultScoreSection as ResultScoreSection } from \"./ResultScoreSection\";\nexport { PillarsSelector as PillarsSelector } from \"./PillarsSelector\";\nexport { TimestampMarkers as TimestampMarkers } from \"./TimestampMarkers\";\nexport { ReviewSurface as ReviewSurface } from \"./ReviewSurface\";\nexport { ReviewSliderTrack as ReviewSliderTrack } from \"./ReviewSliderTrack\";\nexport { ScoreMeter as ScoreMeter } from \"./ScoreMeter\";\nexport { useReviews } from \"./useReviews\";\n","import * as React from \"react\";\nimport { SectionLabel } from \"@/components/reviews/SectionLabel\";\nimport { cn } from \"@/lib/utils\";\nimport { type ReviewSurfaceProps, ReviewSurface } from \"./ReviewSurface\";\nimport {\n  type ReviewSliderTone,\n  type ReviewSliderVariant, ReviewSliderTrack } from \"./ReviewSliderTrack\";\n\nconst formatDefaultValue = (value: number) => `${value}/10`;\n\nexport type ScoreMeterProps = {\n  value: number;\n  label?: string;\n  tone?: ReviewSliderTone;\n  variant?: ReviewSliderVariant;\n  detail?: React.ReactNode;\n  control?: React.ReactNode;\n  className?: string;\n  surfaceProps?: Omit<ReviewSurfaceProps<\"div\">, \"children\">;\n  trackProps?: Omit<\n    React.ComponentPropsWithoutRef<typeof ReviewSliderTrack>,\n    \"value\" | \"tone\" | \"variant\"\n  >;\n  valueFormatter?: (value: number) => React.ReactNode;\n};\n\nconst isElementWithProps = (\n  node: React.ReactNode,\n): node is React.ReactElement<Record<string, unknown>> =>\n  React.isValidElement(node);\n\nexport function ScoreMeter({\n  value,\n  label,\n  tone = \"score\",\n  variant = \"display\",\n  detail,\n  control,\n  className,\n  surfaceProps,\n  trackProps,\n  valueFormatter,\n}: ScoreMeterProps) {\n  const {\n    className: surfaceClassName,\n    padding = \"inline\",\n    ...surfaceRest\n  } = surfaceProps ?? {};\n  const { className: trackClassName, ...trackRest } = trackProps ?? {};\n  const formatValue = valueFormatter ?? formatDefaultValue;\n  const isInteractive = variant === \"input\";\n\n  const labelId = React.useId();\n  let labelledControl: React.ReactNode = control;\n\n  if (label && isElementWithProps(control)) {\n    const existing = control.props[\"aria-labelledby\"];\n    const merged = [\n      typeof existing === \"string\" ? existing : undefined,\n      labelId,\n    ]\n      .filter(Boolean)\n      .join(\" \");\n\n    labelledControl = React.cloneElement(control, {\n      \"aria-labelledby\": merged,\n    } as Record<string, unknown>);\n  }\n\n  return (\n    <div className={className}>\n      {label ? <SectionLabel id={labelId}>{label}</SectionLabel> : null}\n      <ReviewSurface\n        padding={padding}\n        {...surfaceRest}\n        className={cn(\n          \"relative h-[var(--space-7)]\",\n          isInteractive && \"group\",\n          surfaceClassName,\n        )}\n      >\n        {labelledControl}\n        <ReviewSliderTrack\n          value={value}\n          tone={tone}\n          variant={variant}\n          {...trackRest}\n          className={cn(trackClassName)}\n        />\n      </ReviewSurface>\n      <div className=\"mt-[var(--space-1)] flex items-center gap-[var(--space-2)] text-ui text-muted-foreground\">\n        <span className=\"pill h-[var(--space-5)] px-[var(--space-2)] text-ui\">\n          {formatValue(value)}\n        </span>\n        {detail}\n      </div>\n    </div>\n  );\n}\n","import * as React from \"react\";\nimport type { ReviewMarker } from \"@/lib/types\";\nimport { NeonIcon } from \"@/components/reviews/NeonIcon\";\nimport { ReviewSurface } from \"./ReviewSurface\";\nimport { FileText } from \"lucide-react\";\n\nexport type ReviewSummaryTimestampsProps = {\n  markers: ReviewMarker[];\n};\n\nexport function ReviewSummaryTimestamps({\n  markers,\n}: ReviewSummaryTimestampsProps) {\n  const { sortedMarkers, hasTimed, hasNoteOnly } = React.useMemo(\n    (): {\n      sortedMarkers: ReviewMarker[];\n      hasTimed: boolean;\n      hasNoteOnly: boolean;\n    } => {\n      if (markers.length === 0) {\n        return {\n          sortedMarkers: [],\n          hasTimed: false,\n          hasNoteOnly: false,\n        };\n      }\n\n      let hasTimedMarker = false;\n      for (const marker of markers) {\n        if (!marker.noteOnly) {\n          hasTimedMarker = true;\n          break;\n        }\n      }\n\n      const sorted =\n        markers.length > 1\n          ? [...markers].sort((a, b) => a.seconds - b.seconds)\n          : [...markers];\n\n      return {\n        sortedMarkers: sorted,\n        hasTimed: hasTimedMarker,\n        hasNoteOnly: !hasTimedMarker,\n      };\n    },\n    [markers],\n  );\n\n  return (\n    <div>\n      <div className=\"mb-[var(--space-2)] flex items-center gap-[var(--space-2)]\" aria-label=\"Timestamps\">\n        <NeonIcon kind=\"clock\" on={!!hasTimed} size=\"xl\" staticGlow />\n        <NeonIcon kind=\"file\" on={!!hasNoteOnly} size=\"xl\" staticGlow />\n        <div className=\"h-[var(--hairline-w)] flex-1 bg-gradient-to-r from-foreground/20 via-foreground/5 to-transparent\" />\n      </div>\n      {!sortedMarkers.length ? (\n        <div className=\"text-ui text-muted-foreground\">No timestamps yet.</div>\n      ) : (\n        <ul className=\"space-y-[var(--space-2)]\">\n          {sortedMarkers.map((m) => (\n              <ReviewSurface\n                as=\"li\"\n                key={m.id}\n                padding=\"sm\"\n                className=\"grid grid-cols-[auto_1fr] items-center gap-[var(--space-2)]\"\n              >\n                {m.noteOnly ? (\n                  <span\n                    className=\"pill flex h-[var(--space-6)] w-[calc(var(--space-6)+var(--space-2))] items-center justify-center px-0\"\n                    title=\"Note\"\n                    aria-label=\"Note\"\n                  >\n                    <FileText aria-hidden className=\"icon-xs opacity-80\" />\n                  </span>\n                ) : (\n                  <span className=\"pill h-[var(--space-6)] px-[var(--space-3)] text-ui font-mono tabular-nums leading-none\">\n                    {m.time ?? \"00:00\"}\n                  </span>\n                )}\n                <span className=\"truncate text-ui\">{m.note || \"\"}</span>\n              </ReviewSurface>\n            ))}\n        </ul>\n      )}\n    </div>\n  );\n}\n","import * as React from \"react\";\nimport type { Pillar } from \"@/lib/types\";\nimport { SectionLabel } from \"@/components/reviews/SectionLabel\";\nimport { PillarBadge } from \"@/components/ui/league/pillars/PillarBadge\";\n\nfunction StaticNeonWrap({ children }: { children: React.ReactNode }) {\n  return (\n    <span className=\"relative inline-flex\">\n      <span\n        aria-hidden\n        className=\"pointer-events-none absolute inset-0 rounded-card r-card-lg bg-gradient-to-r from-accent to-primary opacity-40 blur\"\n      />\n      <span\n        aria-hidden\n        className=\"pointer-events-none absolute inset-0 rounded-card r-card-lg ring-1 ring-ring/35\"\n      />\n      <span className=\"relative z-10\">{children}</span>\n    </span>\n  );\n}\n\nexport type ReviewSummaryPillarsProps = {\n  pillars?: Pillar[];\n};\n\nexport function ReviewSummaryPillars({\n  pillars,\n}: ReviewSummaryPillarsProps) {\n  return (\n    <div>\n      <SectionLabel>Pillars</SectionLabel>\n      {Array.isArray(pillars) && pillars.length > 0 ? (\n        <div className=\"flex flex-wrap gap-[var(--space-2)]\">\n          {pillars.map((p) => (\n            <StaticNeonWrap key={p}>\n              <PillarBadge pillar={p} size=\"md\" active />\n            </StaticNeonWrap>\n          ))}\n        </div>\n      ) : (\n        <div className=\"text-ui text-muted-foreground\">\n          No pillars selected.\n        </div>\n      )}\n    </div>\n  );\n}\n","import { cn } from \"@/lib/utils\";\nimport * as React from \"react\";\n\nimport styles from \"./ReviewSliderTrack.module.css\";\n\nexport type ReviewSliderTone = \"score\" | \"focus\";\nexport type ReviewSliderVariant = \"input\" | \"display\";\n\ntype ReviewSliderTrackProps = {\n  value: number;\n  tone?: ReviewSliderTone;\n  variant?: ReviewSliderVariant;\n  className?: string;\n  trackClassName?: string;\n  fillClassName?: string;\n  knobClassName?: string;\n  glitch?: boolean;\n};\n\nconst toneTokenClassNames: Record<ReviewSliderTone, string> = {\n  score:\n    \"[--slider-fill-tint:hsl(var(--accent)/0.35)] [--slider-fill-tint-hover:hsl(var(--accent)/0.45)] [--slider-fill-tint-active:hsl(var(--accent)/0.55)] [--slider-focus-ring:var(--ring-contrast)] [--slider-knob-hover-surface:hsl(var(--accent)/0.28)] [--slider-knob-active-surface:hsl(var(--accent)/0.36)] [--slider-knob-focus-ring:var(--ring-contrast)]\",\n  focus:\n    \"[--slider-fill-tint:hsl(var(--focus)/0.35)] [--slider-fill-tint-hover:hsl(var(--focus)/0.45)] [--slider-fill-tint-active:hsl(var(--focus)/0.55)] [--slider-focus-ring:var(--ring-contrast)] [--slider-knob-hover-surface:hsl(var(--focus)/0.3)] [--slider-knob-active-surface:hsl(var(--focus)/0.4)] [--slider-knob-focus-ring:var(--ring-contrast)]\",\n};\n\nconst knobSizeByVariant: Record<ReviewSliderVariant, string> = {\n  display: \"h-[calc(var(--space-4)+var(--space-1))] w-[calc(var(--space-4)+var(--space-1))] -translate-x-1/2\",\n  input:\n    \"h-[calc(var(--space-4)+var(--space-1))] w-[calc(var(--space-4)+var(--space-1))]\",\n};\n\nconst ReviewSliderTrack = ({\n  value,\n  tone = \"score\",\n  variant = \"input\",\n  className,\n  trackClassName,\n  fillClassName,\n  knobClassName,\n  glitch = false,\n}: ReviewSliderTrackProps) => {\n  const clamped = Math.round(Math.min(10, Math.max(0, value)));\n  const isInteractive = variant === \"input\";\n\n  return (\n    <div\n      className={cn(\n        \"group/slider absolute left-[var(--space-4)] right-[var(--space-4)] top-1/2 -translate-y-1/2\",\n        \"[--slider-fill-background:var(--edge-iris)]\",\n        glitch && styles.glitch,\n        toneTokenClassNames[tone],\n        styles.root,\n        className,\n      )}\n      data-tone={tone}\n      data-variant={variant}\n      data-value={clamped}\n      data-glitch={glitch ? \"true\" : undefined}\n    >\n      <div\n        className={cn(\n          \"relative h-[var(--space-2)] w-full overflow-hidden rounded-full bg-muted shadow-[var(--slider-track-shadow)]\",\n          \"before:pointer-events-none before:absolute before:inset-0 before:rounded-full before:bg-[var(--card-overlay-scanlines)] before:opacity-0 before:transition-opacity before:duration-motion-sm before:ease-out\",\n          isInteractive\n            ? \"group-hover/slider:before:opacity-70 group-active/slider:before:opacity-90 group-focus-visible/slider:before:opacity-80\"\n            : undefined,\n          trackClassName,\n        )}\n      >\n        <div\n          className={cn(\n            \"absolute left-0 top-0 h-[var(--space-2)] rounded-full [background:var(--slider-fill-background)] shadow-[var(--slider-fill-shadow)]\",\n            \"after:pointer-events-none after:absolute after:inset-0 after:rounded-full after:bg-[--slider-fill-tint] after:opacity-80 after:transition-colors after:duration-motion-sm after:ease-out\",\n            variant === \"display\" ? \"progress-fill\" : undefined,\n            styles.fill,\n            isInteractive &&\n              cn(\n                \"ring-1 ring-transparent transition-[box-shadow,opacity] duration-motion-sm ease-out\",\n                \"group-hover/slider:[--slider-fill-shadow:var(--slider-fill-shadow-hover)] group-active/slider:[--slider-fill-shadow:var(--slider-fill-shadow-active)]\",\n                \"group-hover/slider:after:bg-[--slider-fill-tint-hover] group-active/slider:after:bg-[--slider-fill-tint-active]\",\n                \"group-focus-visible/slider:ring-[var(--slider-focus-ring)]\",\n              ),\n            fillClassName,\n          )}\n        />\n        <div\n          className={cn(\n            \"absolute top-1/2 -translate-y-1/2 rounded-full border border-border bg-card shadow-[var(--slider-knob-shadow)]\",\n            knobSizeByVariant[variant],\n            styles.knob,\n            isInteractive &&\n              cn(\n                \"transition-[background-color,border-color,box-shadow] duration-motion-sm ease-out\",\n                \"group-hover/slider:bg-[--slider-knob-hover-surface] group-active/slider:bg-[--slider-knob-active-surface] group-hover/slider:border-transparent group-active/slider:border-transparent\",\n                \"group-hover/slider:[--slider-knob-shadow:var(--slider-knob-shadow-hover)] group-active/slider:[--slider-knob-shadow:var(--slider-knob-shadow-active)]\",\n                \"group-focus-visible/slider:ring-2 group-focus-visible/slider:ring-[var(--slider-knob-focus-ring)] group-focus-visible/slider:shadow-[var(--slider-knob-shadow-active)]\",\n              ),\n            knobClassName,\n          )}\n        />\n      </div>\n    </div>\n  );\n};\nexport { ReviewSliderTrack };\n","import type { ComponentType } from \"react\";\nimport type { Pillar, Role } from \"@/lib/types\";\nimport {\r\n  Flag,\r\n  MapPin,\r\n  Target,\r\n  Crosshair,\r\n  Shield,\r\n  Skull,\r\n  Meh,\r\n  Smile,\r\n  Trophy,\r\n} from \"lucide-react\";\r\n\r\n/** Persisted key for role memory */\nexport const LAST_ROLE_KEY = \"last_role\";\n\n/** Persisted keys for timestamp preferences */\nexport const LAST_MARKER_MODE_KEY = \"last_marker_mode\";\nexport const LAST_MARKER_TIME_KEY = \"last_marker_time\";\n\r\n/** Lane/pillar enums used in UI */\nexport const ALL_PILLARS: Pillar[] = [\n  \"Wave\",\r\n  \"Trading\",\r\n  \"Vision\",\r\n  \"Tempo\",\r\n  \"Positioning\",\r\n  \"Comms\",\r\n];\r\n\r\n/** Lane/role options shown as segmented buttons in the editor */\r\nexport const ROLE_OPTIONS: Array<{\n  value: Role;\n  label: string;\n  Icon: ComponentType<{ className?: string }>;\n}> = [\n  { value: \"TOP\", label: \"Top\", Icon: Flag },\n  { value: \"JUNGLE\", label: \"Jungle\", Icon: MapPin },\n  { value: \"MID\", label: \"Mid\", Icon: Target },\n  { value: \"BOT\", label: \"Bot\", Icon: Crosshair },\n  { value: \"SUPPORT\", label: \"Support\", Icon: Shield },\n];\n\r\n/** Deterministic index selector (cheap string hash) */\r\nexport function pickIndex(seed: string, modulo: number): number {\r\n  let h = 2166136261 >>> 0;\r\n  for (let i = 0; i < seed.length; i++) {\r\n    h ^= seed.charCodeAt(i);\r\n    h = Math.imul(h, 16777619);\r\n  }\r\n  return Math.abs(h) % Math.max(1, modulo);\r\n}\r\n\r\n/** Icon + color class for a score bucket */\r\nexport function scoreIcon(score: number): {\n  Icon: ComponentType<{ className?: string }>;\n  cls: string;\n} {\n  if (score <= 3) return { Icon: Skull, cls: \"text-danger\" };\n  if (score <= 6) return { Icon: Meh, cls: \"text-warning\" };\n  if (score >= 9) return { Icon: Trophy, cls: \"text-success\" };\n  return { Icon: Smile, cls: \"text-success/80\" };\n}\n\r\n/** Short quips for performance score 0..10 (5 per tier) */\r\nexport const SCORE_POOLS: Record<number, string[]> = {\r\n  0: [\r\n    \"The minions deserved better.\",\r\n    \"Gameplay was a rumor.\",\r\n    \"Clicked everything but enemies.\",\r\n    \"Ward diff, player diff, life diff.\",\r\n    \"Report the mouse.\",\r\n  ],\r\n  1: [\r\n    \"Bot stood for Accidentally Donated CS.\",\n    \"Bought items, forgot purpose.\",\r\n    \"Reinvented throwing.\",\r\n    \"Hands on cooldown.\",\r\n    \"Tutorial island energy.\",\r\n  ],\r\n  2: [\r\n    \"Bronze with ambitions.\",\r\n    \"Lane? Optional curriculum.\",\r\n    \"You dodged responsibility.\",\r\n    \"Macro via astrology.\",\r\n    \"Teamfight interpretive dance.\",\r\n  ],\r\n  3: [\r\n    \"A for effort, C- for results.\",\r\n    \"Mechanics doing jazz.\",\r\n    \"Outplayed by minions twice.\",\r\n    \"You pinged, then prayed.\",\r\n    \"Drafted regrets.\",\r\n  ],\r\n  4: [\r\n    \"Almost warmed up.\",\r\n    \"Half-commit legend.\",\r\n    \"Vision? Soon.\",\r\n    \"Clicks had ideas.\",\r\n    \"Tempo decided later.\",\r\n  ],\r\n  5: [\r\n    \"Fine is fine.\",\r\n    \"Macro microwave-safe.\",\r\n    \"Minimap every other beat.\",\r\n    \"You and wave negotiated.\",\r\n    \"Serviceable decisions.\",\r\n  ],\r\n  6: [\r\n    \"Solid lane brain.\",\r\n    \"Reads landing.\",\r\n    \"Cooldowns mostly tracked.\",\r\n    \"Pressure was real.\",\r\n    \"No tilt tax paid.\",\r\n  ],\r\n  7: [\r\n    \"Calm hands, sharp reads.\",\r\n    \"Plates with purpose.\",\r\n    \"Camera was a weapon.\",\r\n    \"Punished habits on sight.\",\r\n    \"Macro had receipts.\",\r\n  ],\r\n  8: [\r\n    \"Gamer zen detected.\",\r\n    \"Tempo conductor arc.\",\r\n    \"You were the pressure.\",\r\n    \"Plays predicted Twitch chat.\",\r\n    \"Crisp fundamentals.\",\r\n  ],\r\n  9: [\r\n    \"Hyperlocked menace.\",\r\n    \"Three moves ahead.\",\r\n    \"Teamfight librarian.\",\r\n    \"Objective whisperer.\",\r\n    \"Clean, clinical, cold.\",\r\n  ],\r\n  10: [\r\n    \"Coach took notes.\",\r\n    \"Patch notes feared you.\",\r\n    \"Main-character episode.\",\r\n    \"Fourth monitor: sixth sense.\",\r\n    \"Perfection speedrun.\",\r\n  ],\r\n};\r\n\r\n/** Meme pools for FOCUS rating 0..10 (10 per tier) */\r\nexport const FOCUS_POOLS: Record<number, string[]> = {\r\n  0: [\r\n    \"Alt-tabbed to Narnia.\",\r\n    \"Monitor was a mirror.\",\r\n    \"Clicked grass for CS.\",\r\n    \"AFK but spiritually.\",\r\n    \"Pinged, then vanished.\",\r\n    \"Brain.exe not found.\",\r\n    \"Eyes open, mind closed.\",\r\n    \"Full spectator mode.\",\r\n    \"AFK farming excuses.\",\r\n    \"Controller unplugged vibes.\",\r\n  ],\r\n  1: [\r\n    \"Goldfish memory arc.\",\r\n    \"UI: on. Brain: off.\",\r\n    \"Pressed S to think.\",\r\n    \"Coffee said no.\",\r\n    \"Mini-map lore only.\",\r\n    \"Mind on cooldown.\",\r\n    \"Focus DLC locked.\",\r\n    \"Alt-tab speedrun.\",\r\n    \"Micro naps mid-fight.\",\r\n    \"Tunnel vision tutorial.\",\r\n  ],\r\n  2: [\r\n    \"Half-baked reads.\",\r\n    \"Right-click regrets.\",\r\n    \"Macro by horoscope.\",\r\n    \"Hovering IRL.\",\r\n    \"Lane? Optional.\",\r\n    \"Notifications won.\",\r\n    \"Pinged danger for vibes.\",\r\n    \"Daydream jungling.\",\r\n    \"Cait traps for dcor.\",\r\n    \"Focus at 144p.\",\r\n  ],\r\n  3: [\r\n    \"Almost warmed up.\",\r\n    \"Focus in beta.\",\r\n    \"Dodged one skill. Pride.\",\r\n    \"Cursor sightseeing.\",\r\n    \"Minions juked you.\",\r\n    \"Reading chat like gospel.\",\r\n    \"Brain ping 200ms.\",\r\n    \"Micro went macro wrong.\",\r\n    \"Side questing mid-lane.\",\r\n    \"Alt key main character.\",\r\n  ],\r\n  4: [\r\n    \"Some thoughts detected.\",\r\n    \"Map glanced, not seen.\",\r\n    \"Skillshots negotiated.\",\r\n    \"Clicked intentions, not targets.\",\r\n    \"Focus: trial version.\",\r\n    \"Decision cache missed.\",\r\n    \"Macro-ish.\",\r\n    \"Half-commit legend.\",\r\n    \"Drafting excuses.\",\r\n    \"Ping roulette winner.\",\r\n  ],\r\n  5: [\r\n    \"Baseline gamer focus.\",\r\n    \"Eyes on lane, mostly.\",\r\n    \"Okay reads, okay clicks.\",\r\n    \"Focus medium rare.\",\r\n    \"Mini-map every other beat.\",\r\n    \"Solid bronze halo.\",\r\n    \"Mid fight TED talk.\",\r\n    \"Microwave meal macro.\",\r\n    \"You and wave had a chat.\",\r\n    \"Cursor behaved sometimes.\",\r\n  ],\r\n  6: [\r\n    \"Dialing in.\",\r\n    \"Reads landing.\",\r\n    \"Third eye buffering.\",\r\n    \"Good timers, better patience.\",\r\n    \"Focus with flavor.\",\r\n    \"Map pings with purpose.\",\r\n    \"Respectable clarity.\",\r\n    \"CS and thoughts aligned.\",\r\n    \"Cooldown tracking-ish.\",\r\n    \"Pretty clean lane brain.\",\r\n  ],\r\n  7: [\r\n    \"Locked but humane.\",\r\n    \"Reads ahead of time.\",\r\n    \"Map sense online.\",\r\n    \"No doomscrolling micro.\",\r\n    \"Camera was a weapon.\",\r\n    \"Win-ready focus.\",\r\n    \"Plate math in head.\",\r\n    \"You saw the turn.\",\r\n    \"Jukes with intent.\",\r\n    \"Calm hands, sharp clicks.\",\r\n  ],\r\n  8: [\r\n    \"Gamer zen achieved.\",\r\n    \"Plays predicted chat.\",\r\n    \"Minimap whisperer.\",\r\n    \"Cooldown librarian.\",\r\n    \"Focus speedrun PB.\",\r\n    \"Macro clairvoyance.\",\r\n    \"Pressure chefs kiss.\",\r\n    \"No tilt tax today.\",\r\n    \"Reads wrote themselves.\",\r\n    \"Mechanics obeyed brain.\",\r\n  ],\r\n  9: [\r\n    \"Hyperlocked menace.\",\r\n    \"Saw three plays ahead.\",\r\n    \"Mini-map was your HUD.\",\r\n    \"Eyes like ward bots.\",\r\n    \"Tempo conductor.\",\r\n    \"Punished everything.\",\r\n    \"You were the macro.\",\r\n    \"Frame-perfect habits.\",\r\n    \"Clutch tax refunded.\",\r\n    \"Clicked with prophecy.\",\r\n  ],\r\n  10: [\r\n    \"Main-character focus.\",\r\n    \"E-sports cam ready.\",\r\n    \"Chess while others drew circles.\",\r\n    \"Third eye 4K HDR.\",\r\n    \"Perfect tempo pilgrim.\",\r\n    \"Predicted the patch notes.\",\r\n    \"You were the objective.\",\r\n    \"Focus over 9000.\",\r\n    \"Reads so crisp they hurt.\",\r\n    \"Coach took notes.\",\r\n  ],\r\n};\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"RoleSelector_root__p6yF2\",\"indicator\":\"RoleSelector_indicator__Jn6cB\"};","\"use client\";\n\nimport * as React from \"react\";\nimport { SectionLabel } from \"@/components/reviews/SectionLabel\";\nimport { cn } from \"@/lib/utils\";\nimport type { Review } from \"@/lib/types\";\nimport { SCORE_POOLS, pickIndex, scoreIcon } from \"@/components/reviews/reviewData\";\nimport { ScoreMeter } from \"./ScoreMeter\";\nimport styles from \"./ResultScoreSection.module.css\";\n\nexport type ResultScoreSectionHandle = {\n  save: () => void;\n  focusResult: () => void;\n};\n\ntype Result = \"Win\" | \"Loss\";\n\ntype ResultScoreSectionProps = {\n  result?: Result;\n  score?: number;\n  commitMeta: (patch: Partial<Review>) => void;\n  onScoreEnter?: () => void;\n};\n\nfunction ResultScoreSection(\n  {\n    result: result0 = \"Win\",\n    score: score0 = 5,\n    commitMeta,\n    onScoreEnter,\n  }: ResultScoreSectionProps,\n  ref: React.Ref<ResultScoreSectionHandle>,\n) {\n  const [result, setResult] = React.useState<Result>(result0);\n  const [score, setScore] = React.useState<number>(score0);\n  const resultRef = React.useRef<HTMLButtonElement>(null);\n  const scoreRangeRef = React.useRef<HTMLInputElement>(null);\n  const resultLabelId = React.useId();\n\n  React.useEffect(() => {\n    setResult(result0);\n  }, [result0]);\n\n  React.useEffect(() => {\n    setScore(score0);\n  }, [score0]);\n\n  const save = React.useCallback(() => {\n    commitMeta({ result, score });\n  }, [result, score, commitMeta]);\n\n  React.useImperativeHandle(\n    ref,\n    () => ({\n      save,\n      focusResult: () => resultRef.current?.focus(),\n    }),\n    [save],\n  );\n\n  const msgIndex = pickIndex(String(score), 5);\n  const pool = SCORE_POOLS[score] ?? SCORE_POOLS[5];\n  const msg = pool[msgIndex];\n  const { Icon: ScoreIcon, cls: scoreIconCls } = scoreIcon(score);\n  return (\n    <>\n      <div>\n        <SectionLabel id={resultLabelId}>Result</SectionLabel>\n        <button\n          ref={resultRef}\n          type=\"button\"\n          role=\"switch\"\n          aria-checked={result === \"Win\"}\n          aria-labelledby={resultLabelId}\n          onClick={() => {\n            const next = result === \"Win\" ? \"Loss\" : \"Win\";\n            setResult(next);\n            commitMeta({ result: next });\n          }}\n          onKeyDown={(e) => {\n            if (e.key === \"Enter\") {\n              e.preventDefault();\n              const next = result === \"Win\" ? \"Loss\" : \"Win\";\n              setResult(next);\n              commitMeta({ result: next });\n              scoreRangeRef.current?.focus();\n            }\n          }}\n          className={cn(\n            \"relative inline-flex h-[var(--control-h-md)] w-[calc(var(--space-8)*3)] select-none items-center overflow-hidden rounded-card r-card-lg\",\n            \"border border-border bg-card\",\n            \"focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring\",\n          )}\n          title=\"Toggle Win/Loss\"\n        >\n          <span\n            aria-hidden\n            data-result={result}\n            className={cn(\n              styles.indicator,\n              \"absolute top-[var(--space-1)] bottom-[var(--space-1)] left-[var(--space-1)] rounded-[inherit] transition-transform duration-motion-md motion-reduce:transition-none shadow-[var(--depth-shadow-soft)]\",\n            )}\n          />\n          <div className=\"relative z-10 grid w-full grid-cols-2 text-ui font-mono\">\n            <div\n              className={cn(\n                \"py-[var(--space-2)] text-center\",\n                result === \"Win\" ? \"text-foreground\" : \"text-muted-foreground\",\n              )}\n            >\n              Win\n            </div>\n            <div\n              className={cn(\n                \"py-[var(--space-2)] text-center\",\n                result === \"Loss\" ? \"text-foreground\" : \"text-muted-foreground\",\n              )}\n            >\n              Loss\n            </div>\n          </div>\n        </button>\n      </div>\n\n      <ScoreMeter\n        label=\"Score\"\n        value={score}\n        tone=\"score\"\n        variant=\"input\"\n        surfaceProps={{ focusWithin: true }}\n        control={\n          <input\n            ref={scoreRangeRef}\n            type=\"range\"\n            min={0}\n            max={10}\n            step={1}\n            value={score}\n            onChange={(e) => {\n              const v = Number(e.target.value);\n              setScore(v);\n              commitMeta({ score: v });\n            }}\n            onKeyDown={(e) => {\n              if (e.key === \"Enter\") {\n                e.preventDefault();\n                onScoreEnter?.();\n              }\n            }}\n            className=\"absolute inset-0 z-10 cursor-pointer rounded-card r-card-lg opacity-0 [appearance:none]\"\n            aria-label=\"Score from 0 to 10\"\n          />\n        }\n        detail={\n          <>\n            <ScoreIcon className={cn(\"h-[var(--space-4)] w-[var(--space-4)]\", scoreIconCls)} />\n            <span>{msg}</span>\n          </>\n        }\n      />\n    </>\n  );\n}\n\nconst ResultScoreSectionComponent = React.forwardRef(ResultScoreSection)\n\nexport { ResultScoreSectionComponent as ResultScoreSection }\n","\"use client\";\n\nimport { useMemo } from \"react\";\nimport type { Review } from \"@/lib/types\";\nimport { ts } from \"@/lib/date\";\nimport { getSearchBlob } from \"./reviewSearch\";\n\nexport type SortKey = \"newest\" | \"oldest\" | \"title\";\n\nexport function useReviewFilter(\n  base: Review[],\n  q: string,\n  sort: SortKey,\n): Review[] {\n  return useMemo(() => {\n    const needle = q.trim().toLowerCase();\n    const list =\n      needle.length === 0\n        ? [...base]\n        : base.filter((r) => getSearchBlob(r).includes(needle));\n\n    if (sort === \"newest\")\n      list.sort((a, b) => ts(b?.createdAt) - ts(a?.createdAt));\n    if (sort === \"oldest\")\n      list.sort((a, b) => ts(a?.createdAt) - ts(b?.createdAt));\n    if (sort === \"title\")\n      list.sort((a, b) =>\n        (a?.title || \"\").localeCompare(b?.title || \"\", undefined, {\n          sensitivity: \"base\",\n        }),\n      );\n\n    return list;\n  }, [base, q, sort]);\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"NeonPillarChip_root__X7m60\",\"layer\":\"NeonPillarChip_layer__lDu_N\",\"aura\":\"NeonPillarChip_aura__ci_7v\",\"neon\":\"NeonPillarChip_neon__DkQal\",\"neonPillarPulse\":\"NeonPillarChip_neonPillarPulse__eQmk8\"};","\"use client\";\n\nimport * as React from \"react\";\nimport { Clock, FileText, Brain } from \"lucide-react\";\nimport { NeonIcon as UIToggleNeonIcon } from \"@/components/ui\";\n\ntype Props = {\n  kind: \"clock\" | \"file\" | \"brain\";\n  on: boolean;\n  size?: \"xs\" | \"sm\" | \"md\" | \"lg\" | \"xl\" | \"2xl\";\n  className?: string;\n  title?: string;\n  staticGlow?: boolean;\n};\n\nexport function NeonIcon({\n  kind,\n  on,\n  size: sizeProp = \"md\",\n  className,\n  title,\n  staticGlow = false,\n}: Props) {\n  const Icon = kind === \"clock\" ? Clock : kind === \"brain\" ? Brain : FileText;\n  const colorVar =\n    kind === \"clock\" ? \"--accent\" : kind === \"brain\" ? \"--primary\" : \"--ring\";\n\n  return (\n    <UIToggleNeonIcon\n      key={staticGlow ? `${kind}-${on}` : undefined}\n      icon={Icon}\n      on={on}\n      size={sizeProp}\n      colorVar={colorVar}\n      className={className}\n      title={title}\n    />\n  );\n}\n","\"use client\";\n\nimport * as React from \"react\";\nimport { useSearchParams } from \"next/navigation\";\nimport type { Review } from \"@/lib/types\";\nimport { cn } from \"@/lib/utils\";\nimport { useReviewFilter } from \"@/components/reviews\";\nimport { ReviewList } from \"./ReviewList\";\nimport { ReviewEditor } from \"./ReviewEditor\";\nimport { ReviewSummary } from \"./ReviewSummary\";\nimport { ReviewPanel } from \"./ReviewPanel\";\nimport { BookOpen, Ghost, Plus } from \"lucide-react\";\n\nimport {\n  Button,\n  HeroSearchBar,\n  PageHeader,\n  PageShell,\n  Select,\n  TabBar,\n  Skeleton,\n  AIErrorCard,\n} from \"@/components/ui\";\n\ntype SortKey = \"newest\" | \"oldest\" | \"title\";\ntype DetailMode = \"summary\" | \"edit\";\n\nexport type ReviewsPageProps = {\n  reviews: Review[] | null | undefined;\n  loading?: boolean;\n  error?: Error | string | null;\n  onRetry?: (() => void) | null;\n  selectedId: string | null;\n  onSelect: (id: string) => void;\n  onCreate: () => void;\n  onRename: (id: string, nextTitle: string) => void;\n  onDelete?: (id: string) => void;\n  onChangeNotes?: (id: string, nextNotes: string) => void;\n  onChangeTags?: (id: string, nextTags: string[]) => void;\n  onChangeMeta?: (id: string, partial: Partial<Review>) => void;\n};\n\nexport function ReviewsPage({\n  reviews,\n  loading,\n  error = null,\n  onRetry = null,\n  selectedId,\n  onSelect,\n  onCreate,\n  onRename,\n  onDelete,\n  onChangeNotes,\n  onChangeTags,\n  onChangeMeta,\n}: ReviewsPageProps) {\n  const searchParams = useSearchParams();\n  const [q, setQ] = React.useState(\"\");\n  const [sort, setSort] = React.useState<SortKey>(\"newest\");\n  const [detailMode, setDetailMode] = React.useState<DetailMode>(\"summary\");\n  const [intentApplied, setIntentApplied] = React.useState(false);\n\n  const isLoading = (loading ?? (typeof reviews === \"undefined\")) === true;\n  const errorMessage = React.useMemo(() => {\n    if (error instanceof Error) {\n      const message = error.message?.trim();\n      if (message?.length) return message;\n    }\n    if (typeof error === \"string\") {\n      const trimmed = error.trim();\n      if (trimmed.length > 0) return trimmed;\n    }\n    if (error && typeof error !== \"object\") {\n      return String(error);\n    }\n    if (reviews === null) {\n      return \"We couldnt load your reviews.\";\n    }\n    return null;\n  }, [error, reviews]);\n  const isErrored = Boolean(errorMessage);\n  const allowInteractions = !isLoading && !isErrored;\n\n  const commitCreateReview = React.useCallback(() => {\n    setQ(\"\");\n    setSort(\"newest\");\n    setDetailMode(\"edit\");\n    onCreate();\n  }, [onCreate]);\n\n  const tryCreateReview = React.useCallback(() => {\n    if (!allowInteractions) return false;\n    commitCreateReview();\n    return true;\n  }, [allowInteractions, commitCreateReview]);\n\n  const intentParam = searchParams?.get(\"intent\") ?? null;\n  React.useEffect(() => {\n    if (intentParam === \"create-review\") {\n      if (!intentApplied) {\n        const created = tryCreateReview();\n        if (created) {\n          setIntentApplied(true);\n        }\n      }\n      return;\n    }\n    if (intentApplied) {\n      setIntentApplied(false);\n    }\n  }, [intentParam, intentApplied, tryCreateReview]);\n\n  const base = React.useMemo<Review[]>(\n    () => (Array.isArray(reviews) ? reviews : []),\n    [reviews],\n  );\n\n  const filtered = useReviewFilter(base, q, sort);\n  const totalCount = base.length;\n  const listReviews = allowInteractions ? filtered : [];\n  const filteredCount = allowInteractions ? filtered.length : 0;\n  const hasReviews = allowInteractions && totalCount > 0;\n\n  const active = React.useMemo(\n    () => {\n      if (!allowInteractions) return null;\n      return base.find((r) => r.id === selectedId) ?? null;\n    },\n    [allowInteractions, base, selectedId],\n  );\n  const panelClass = \"mx-auto\";\n  const detailBaseId = active ? `review-${active.id}` : \"review-detail\";\n  const sortLabelId = React.useId();\n  const emptySearchDescriptionId = React.useId();\n  const heroSubtitle = React.useMemo(() => {\n    if (isLoading) {\n      return (\n        <span className=\"text-label text-muted-foreground\" aria-live=\"polite\">\n          Syncing local reviews\n        </span>\n      );\n    }\n    if (isErrored) {\n      return (\n        <span className=\"text-label font-medium text-danger\" role=\"status\">\n          {errorMessage ?? \"Unable to load reviews\"}\n        </span>\n      );\n    }\n    if (totalCount > 0) {\n      return <span className=\"pill\">Total {totalCount}</span>;\n    }\n    return undefined;\n  }, [errorMessage, isErrored, isLoading, totalCount]);\n  const heroGridClass = \"grid gap-[var(--space-3)] sm:gap-[var(--space-4)] md:grid-cols-12\";\n  const sortItems = React.useMemo(\n    () => [\n      { value: \"newest\", label: \"Newest\" },\n      { value: \"oldest\", label: \"Oldest\" },\n      { value: \"title\", label: \"Title\" },\n    ],\n    [],\n  );\n\n  return (\n    <>\n      <PageShell as=\"header\" className=\"py-[var(--space-6)]\">\n        <PageHeader\n          header={{\n            id: \"reviews-header\",\n            heading: \"Reviews\",\n            icon: <BookOpen className=\"opacity-80\" />,\n            topClassName: \"top-[var(--header-stack)]\",\n            underline: true,\n            sticky: false,\n          }}\n          hero={{\n            sticky: false,\n            heading: \"Browse Reviews\",\n            subtitle: heroSubtitle,\n            children: isLoading ? (\n              <div className={heroGridClass}>\n                <Skeleton\n                  ariaHidden={false}\n                  role=\"status\"\n                  aria-label=\"Loading review search\"\n                  className=\"md:col-span-8 h-[var(--control-h-lg)] w-full\"\n                  radius=\"full\"\n                />\n                <Skeleton\n                  ariaHidden={false}\n                  role=\"status\"\n                  aria-label=\"Loading sort control\"\n                  className=\"md:col-span-2 h-[var(--control-h-lg)] w-full\"\n                  radius=\"md\"\n                />\n                <Skeleton\n                  ariaHidden={false}\n                  role=\"status\"\n                  aria-label=\"Loading review actions\"\n                  className=\"md:col-span-2 h-[var(--control-h-lg)] w-full\"\n                  radius=\"md\"\n                />\n              </div>\n            ) : isErrored ? (\n              <div className={heroGridClass}>\n                <HeroSearchBar\n                  round\n                  value={q}\n                  onValueChange={undefined}\n                  placeholder=\"Search unavailable until reviews sync.\"\n                  aria-label=\"Search reviews (temporarily unavailable)\"\n                  className=\"md:col-span-8\"\n                  debounceMs={300}\n                  disabled\n                  aria-busy={isErrored}\n                />\n                <div\n                  className=\"flex w-full flex-col gap-[var(--space-1)] text-left md:col-span-2\"\n                  aria-labelledby={sortLabelId}\n                >\n                  <span\n                    id={sortLabelId}\n                    className=\"text-ui font-medium text-muted-foreground\"\n                  >\n                    Sort\n                  </span>\n                  <Select\n                    variant=\"animated\"\n                    label=\"Sort reviews\"\n                    hideLabel\n                    value={sort}\n                    onChange={(v) => setSort(v as SortKey)}\n                    items={sortItems}\n                    className=\"w-full\"\n                    size=\"lg\"\n                    disabled\n                  />\n                </div>\n                <Button\n                  type=\"button\"\n                  variant=\"default\"\n                  size=\"md\"\n                  className={cn(\n                    \"btn-glitch\",\n                    \"w-full whitespace-nowrap md:col-span-2 md:justify-self-end\",\n                  )}\n                  onClick={onRetry ?? undefined}\n                  disabled={!onRetry}\n                >\n                  Retry sync\n                </Button>\n                <p className=\"text-ui text-danger md:col-span-12\" role=\"alert\">\n                  {errorMessage ?? \"We couldnt load your reviews. Retry to continue.\"}\n                </p>\n              </div>\n            ) : hasReviews ? (\n              <div className={heroGridClass}>\n                <HeroSearchBar\n                  round\n                  value={q}\n                  onValueChange={setQ}\n                  placeholder=\"Search title, tags, opponent, patch\"\n                  aria-label=\"Search reviews\"\n                  className=\"md:col-span-8\"\n                  debounceMs={300}\n                />\n                <div\n                  className=\"flex w-full flex-col gap-[var(--space-1)] text-left md:col-span-2\"\n                  aria-labelledby={sortLabelId}\n                >\n                  <span\n                    id={sortLabelId}\n                    className=\"text-ui font-medium text-muted-foreground\"\n                  >\n                    Sort\n                  </span>\n                  <Select\n                    variant=\"animated\"\n                    label=\"Sort reviews\"\n                    hideLabel\n                    value={sort}\n                    onChange={(v) => setSort(v as SortKey)}\n                    items={sortItems}\n                    className=\"w-full\"\n                    size=\"lg\"\n                  />\n                </div>\n                <Button\n                  type=\"button\"\n                  variant=\"default\"\n                  size=\"md\"\n                  className={cn(\n                    \"btn-glitch\",\n                    \"w-full whitespace-nowrap md:col-span-2 md:justify-self-end\",\n                  )}\n                  onClick={commitCreateReview}\n                >\n                  <Plus />\n                  <span>New Review</span>\n                </Button>\n              </div>\n            ) : (\n              <div className={heroGridClass}>\n                <HeroSearchBar\n                  round\n                  value={q}\n                  onValueChange={undefined}\n                  placeholder=\"Add a review to unlock search by title, tags, opponent, or patch.\"\n                  aria-label=\"Search reviews (disabled until a review exists)\"\n                  aria-describedby={emptySearchDescriptionId}\n                  className=\"md:col-span-8\"\n                  debounceMs={300}\n                  disabled\n                />\n                <p\n                  id={emptySearchDescriptionId}\n                  className=\"text-ui text-muted-foreground md:col-span-8\"\n                >\n                  Once you publish your first review, smart filters, tagging, and matchup search become available.\n                </p>\n                <Button\n                  type=\"button\"\n                  variant=\"default\"\n                  size=\"md\"\n                  className={cn(\n                    \"btn-glitch\",\n                    \"w-full whitespace-nowrap md:col-span-4 md:justify-self-end\",\n                  )}\n                  onClick={commitCreateReview}\n                >\n                  <Plus />\n                  <span>New Review</span>\n                </Button>\n              </div>\n            ),\n          }}\n        />\n      </PageShell>\n\n      <PageShell\n        as=\"section\"\n        className=\"py-[var(--space-6)] space-y-[var(--space-6)]\"\n        aria-labelledby=\"reviews-header\"\n      >\n        <div\n          className={cn(\n            \"grid grid-cols-1 items-start gap-[var(--space-4)] sm:gap-[var(--space-6)] lg:gap-[var(--space-8)] md:grid-cols-6 lg:grid-cols-12\",\n          )}\n        >\n          <nav\n            aria-label=\"Review list\"\n            className=\"md:col-span-2 lg:col-span-4\"\n          >\n            <ReviewList\n              reviews={listReviews}\n              selectedId={selectedId}\n              loading={isLoading}\n              error={errorMessage}\n              onRetry={isErrored ? onRetry : null}\n              onSelect={\n                allowInteractions\n                  ? (id) => {\n                      setDetailMode(\"summary\");\n                      onSelect(id);\n                    }\n                  : undefined\n              }\n              onCreate={allowInteractions ? commitCreateReview : undefined}\n              className=\"h-auto overflow-auto p-[var(--space-2)] md:h-[var(--content-viewport-height)]\"\n              header={\n                allowInteractions && filteredCount > 0\n                  ? `${filteredCount} shown`\n                  : undefined\n              }\n              hoverRing\n            />\n          </nav>\n          <div className=\"md:col-span-4 lg:col-span-8\">\n            {isLoading ? (\n              <ReviewPanel\n                aria-busy=\"true\"\n                className={cn(\n                  panelClass,\n                  \"glitch-card space-y-[var(--space-4)] px-[var(--space-7)] py-[var(--space-7)]\",\n                )}\n              >\n                <div className=\"space-y-[var(--space-2)]\">\n                  <Skeleton\n                    ariaHidden={false}\n                    role=\"status\"\n                    aria-label=\"Loading review summary\"\n                    className=\"h-[var(--space-6)] w-2/3\"\n                    radius=\"sm\"\n                  />\n                  <Skeleton className=\"w-3/4\" />\n                </div>\n                <div className=\"grid gap-[var(--space-3)] sm:grid-cols-[var(--space-12)_1fr]\">\n                  <Skeleton\n                    ariaHidden={false}\n                    role=\"status\"\n                    aria-label=\"Loading review avatar\"\n                    className=\"h-[var(--space-12)] w-[var(--space-12)]\"\n                    radius=\"full\"\n                  />\n                  <div className=\"space-y-[var(--space-2)]\">\n                    <Skeleton className=\"w-2/3\" />\n                    <Skeleton className=\"w-3/4\" />\n                    <Skeleton className=\"w-full\" />\n                  </div>\n                </div>\n                <Skeleton\n                  ariaHidden={false}\n                  role=\"status\"\n                  aria-label=\"Loading review actions\"\n                  className=\"h-[var(--space-10)] w-full\"\n                  radius=\"sm\"\n                />\n              </ReviewPanel>\n            ) : isErrored ? (\n              <ReviewPanel\n                aria-live=\"polite\"\n                className={cn(\n                  panelClass,\n                  \"glitch-card px-[var(--space-7)] py-[var(--space-7)]\",\n                )}\n              >\n                <AIErrorCard\n                  title=\"Review detail unavailable\"\n                  description={errorMessage ?? \"We couldnt load your review details.\"}\n                  hint=\"Retry the sync to continue editing or summarizing your matches.\"\n                  retryLabel=\"Retry sync\"\n                  onRetry={onRetry ?? undefined}\n                  className=\"w-full border-none bg-transparent p-0 shadow-none\"\n                />\n              </ReviewPanel>\n            ) : !hasReviews ? (\n              <ReviewPanel\n                aria-live=\"polite\"\n                className={cn(\n                  panelClass,\n                  \"relative isolate flex flex-col items-center justify-center gap-[var(--space-4)] overflow-hidden\",\n                  \"glitch-card px-[var(--space-7)] py-[var(--space-8)] text-center text-ui text-muted-foreground\",\n                )}\n              >\n                <span\n                  aria-hidden\n                  className=\"glitch-rail pointer-events-none absolute inset-y-[var(--space-2)] left-1/2 hidden w-[var(--spacing-1)] -translate-x-1/2 rounded-full opacity-80 mix-blend-screen sm:block\"\n                />\n                <span\n                  aria-hidden\n                  data-text=\"\"\n                  className=\"glitch-anim inline-flex items-center justify-center rounded-full border border-border/40 bg-card/70 p-[var(--space-3)] text-muted-foreground motion-reduce:animate-none\"\n                >\n                  <BookOpen\n                    aria-hidden\n                    focusable=\"false\"\n                    className=\"size-[var(--space-6)]\"\n                  />\n                </span>\n                <div className=\"space-y-[var(--space-1)]\">\n                  <p className=\"text-card-foreground\">You&rsquo;re ready to capture your first review.</p>\n                  <p>Log a match recap to unlock summaries, tagging, and focus tracking.</p>\n                </div>\n                <Button\n                  type=\"button\"\n                  variant=\"default\"\n                  size=\"md\"\n                  className={cn(\"btn-glitch\")}\n                  onClick={commitCreateReview}\n                >\n                  <Plus />\n                  <span>New Review</span>\n                </Button>\n              </ReviewPanel>\n            ) : !active ? (\n              <ReviewPanel\n                aria-live=\"polite\"\n                className={cn(\n                  panelClass,\n                  \"relative isolate flex flex-col items-center justify-center gap-[var(--space-3)] overflow-hidden\",\n                  \"glitch-card px-[var(--space-7)] py-[var(--space-8)] text-center text-ui text-muted-foreground\",\n                )}\n              >\n                <span\n                  aria-hidden\n                  className=\"glitch-rail pointer-events-none absolute inset-y-[var(--space-2)] left-1/2 hidden w-[var(--spacing-1)] -translate-x-1/2 rounded-full opacity-80 mix-blend-screen sm:block\"\n                />\n                <span\n                  aria-hidden\n                  data-text=\"\"\n                  className=\"glitch-anim inline-flex items-center justify-center rounded-full border border-border/40 bg-card/70 p-[var(--space-3)] text-muted-foreground motion-reduce:animate-none\"\n                >\n                  <Ghost\n                    aria-hidden\n                    focusable=\"false\"\n                    className=\"size-[var(--space-6)]\"\n                  />\n                </span>\n                <div className=\"space-y-[var(--space-1)]\">\n                  <p className=\"text-card-foreground\">Select a review from the list to see its summary.</p>\n                  <p>Use New Review to document another match when you&rsquo;re ready.</p>\n                </div>\n              </ReviewPanel>\n            ) : (\n              <div className=\"space-y-[var(--space-4)]\">\n                <TabBar<DetailMode>\n                  items={[\n                    { key: \"summary\", label: \"Summary\" },\n                    { key: \"edit\", label: \"Edit\" },\n                  ]}\n                  value={detailMode}\n                  onValueChange={setDetailMode}\n                  ariaLabel=\"Review detail mode\"\n                  idBase={detailBaseId}\n                />\n                <div\n                  id={`${detailBaseId}-summary-panel`}\n                  role=\"tabpanel\"\n                  aria-labelledby={`${detailBaseId}-summary-tab`}\n                  hidden={detailMode !== \"summary\"}\n                  tabIndex={detailMode === \"summary\" ? 0 : -1}\n                >\n                  {detailMode === \"summary\" ? (\n                    <ReviewPanel className={panelClass}>\n                      <ReviewSummary\n                        key={`summary-${active.id}`}\n                        review={active}\n                        onEdit={() => setDetailMode(\"edit\")}\n                      />\n                    </ReviewPanel>\n                  ) : null}\n                </div>\n                <div\n                  id={`${detailBaseId}-edit-panel`}\n                  role=\"tabpanel\"\n                  aria-labelledby={`${detailBaseId}-edit-tab`}\n                  hidden={detailMode !== \"edit\"}\n                  tabIndex={detailMode === \"edit\" ? 0 : -1}\n                >\n                  {detailMode === \"edit\" ? (\n                    <ReviewPanel className={panelClass}>\n                      <ReviewEditor\n                        key={`editor-${active.id}`}\n                        review={active}\n                        onChangeNotes={(value: string) =>\n                          onChangeNotes?.(active.id, value)\n                        }\n                        onChangeTags={(values: string[]) =>\n                          onChangeTags?.(active.id, values)\n                        }\n                        onRename={(title: string) =>\n                          onRename(active.id, title)\n                        }\n                        onChangeMeta={(partial: Partial<Review>) =>\n                          onChangeMeta?.(active.id, partial)\n                        }\n                        onDone={() => setDetailMode(\"summary\")}\n                        onDelete={\n                          onDelete ? () => onDelete(active.id) : undefined\n                        }\n                      />\n                    </ReviewPanel>\n                  ) : null}\n                </div>\n              </div>\n            )}\n          </div>\n        </div>\n      </PageShell>\n    </>\n  );\n}\n","\"use client\";\n\nimport * as React from \"react\";\nimport { cn } from \"@/lib/utils\";\nimport { ROLE_OPTIONS } from \"@/components/reviews/reviewData\";\nimport { GlitchSegmentedGroup, GlitchSegmentedButton } from \"@/components/ui\";\nimport styles from \"./RoleSelector.module.css\";\nimport type { Role } from \"@/lib/types\";\n\ntype Props = {\n  value: Role;\n  onChange: (v: Role) => void;\n  className?: string;\n  ariaLabelledby?: string;\n};\n\n/**\n * Segmented control for role selection.\n * Uses glitch-styled segmented buttons with sliding indicator.\n */\nexport function RoleSelector({\n  value,\n  onChange,\n  className,\n  ariaLabelledby,\n}: Props) {\n  const count = ROLE_OPTIONS.length;\n  const activeIdx = Math.max(\n    0,\n    ROLE_OPTIONS.findIndex((r) => r.value === value),\n  );\n  const liveRef = React.useRef<HTMLSpanElement>(null);\n\n  const rootStyle = React.useMemo<\n    (React.CSSProperties & Record<string, string>) | undefined\n  >(() => {\n    if (count <= 0) {\n      return undefined;\n    }\n    return {\n      \"--segment-count\": String(count),\n    };\n  }, [count]);\n\n  const indicatorStyle = React.useMemo<\n    (React.CSSProperties & Record<string, string>) | undefined\n  >(() => ({\n    \"--indicator-index\": String(activeIdx),\n  }), [activeIdx]);\n\n  React.useEffect(() => {\n    const { label } = ROLE_OPTIONS[activeIdx] ?? {};\n    if (label && liveRef.current) {\n      liveRef.current.textContent = `${label}, selected, ${activeIdx + 1} of ${count}`;\n    }\n  }, [activeIdx, count]);\n\n  return (\n    <>\n      <div\n        className={cn(\n          \"relative rounded-[var(--radius-full)] bg-[var(--btn-bg)] p-[var(--space-1)]\",\n          styles.root,\n          className,\n        )}\n        data-count={count}\n        style={rootStyle}\n      >\n        <span aria-live=\"polite\" className=\"sr-only\" ref={liveRef} />\n\n        <span\n          aria-hidden\n          className={styles.indicator}\n          data-active-index={activeIdx}\n          style={indicatorStyle}\n        />\n\n        <GlitchSegmentedGroup\n          value={value}\n          onChange={(v) => onChange(v as Role)}\n          ariaLabel=\"Select lane/role\"\n          ariaLabelledby={ariaLabelledby}\n          className=\"relative w-full bg-transparent p-0\"\n        >\n          {ROLE_OPTIONS.map(({ value: v, Icon, label }) => (\n            <GlitchSegmentedButton\n              key={v}\n              value={v}\n              icon={<Icon className=\"size-[var(--icon-size-sm)]\" />}\n            >\n              {label}\n            </GlitchSegmentedButton>\n          ))}\n        </GlitchSegmentedGroup>\n      </div>\n    </>\n  );\n}\n","import * as React from \"react\";\nimport { cn } from \"@/lib/utils\";\nimport { Card } from \"@/components/ui\";\n\nexport function ReviewPanel({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) {\n  return (\n    <Card\n      className={cn(\"w-full max-w-full\", className)}\n      {...props}\n    />\n  );\n}\n","// src/components/reviews/ReviewList.tsx\n\"use client\";\n\nimport * as React from \"react\";\nimport type { Review } from \"@/lib/types\";\nimport { cn } from \"@/lib/utils\";\nimport { ReviewListItem } from \"./ReviewListItem\";\nimport { Button, Skeleton, AIErrorCard } from \"@/components/ui\";\nimport { BookOpen } from \"lucide-react\";\n\nconst PAGE_SIZE = 40;\nconst REVIEW_SCROLL_STORAGE_KEY = \"planner:reviews:list-scroll\";\nconst REVIEW_AUTOLOAD_STORAGE_KEY = \"planner:reviews:auto-load\";\n\nexport type ReviewListProps = {\n  reviews: Review[];\n  selectedId: string | null;\n  onSelect?: (id: string) => void;\n  onCreate?: () => void;\n  className?: string;\n  header?: React.ReactNode;\n  hoverRing?: boolean;\n  loading?: boolean;\n  error?: Error | string | null;\n  onRetry?: (() => void) | null;\n};\n\nexport function ReviewList({\n  reviews,\n  selectedId,\n  onSelect,\n  onCreate,\n  className,\n  header,\n  hoverRing = false,\n  loading = false,\n  error = null,\n  onRetry = null,\n}: ReviewListProps) {\n  const count = reviews.length;\n  const isLoading = Boolean(loading);\n  const errorMessage = React.useMemo(() => {\n    if (!error) return null;\n    if (error instanceof Error) {\n      const message = error.message?.trim();\n      return message?.length ? message : \"\";\n    }\n    if (typeof error === \"string\") {\n      const trimmed = error.trim();\n      return trimmed.length > 0 ? trimmed : \"\";\n    }\n    return String(error);\n  }, [error]);\n  const isErrored = Boolean(errorMessage);\n  const [visibleCount, setVisibleCount] = React.useState(PAGE_SIZE);\n  const [autoLoadEnabled, setAutoLoadEnabled] = React.useState(true);\n  const scrollContainerRef = React.useRef<HTMLElement | null>(null);\n  const sentinelRef = React.useRef<HTMLDivElement | null>(null);\n  const autoLoadLockRef = React.useRef(false);\n  const restoredRef = React.useRef(false);\n\n  React.useEffect(() => {\n    if (typeof window === \"undefined\") return;\n\n    const stored = sessionStorage.getItem(REVIEW_AUTOLOAD_STORAGE_KEY);\n    if (stored !== null) {\n      setAutoLoadEnabled(stored === \"true\");\n    }\n  }, []);\n\n  React.useEffect(() => {\n    setVisibleCount(PAGE_SIZE);\n  }, [reviews]);\n\n  const visibleReviews = React.useMemo(\n    () => reviews.slice(0, visibleCount),\n    [reviews, visibleCount],\n  );\n\n  const hasMore = visibleReviews.length < count;\n  const shouldShowSummary = count > PAGE_SIZE;\n  const progressRatio = count === 0 ? 0 : visibleReviews.length / count;\n  const progressPercent = Math.min(100, Math.round(progressRatio * 100));\n\n  const summaryLabel = React.useMemo(() => {\n    if (!shouldShowSummary) return \"\";\n    if (hasMore) {\n      return `Showing ${visibleReviews.length} of ${count}`;\n    }\n    return `Showing all ${count}`;\n  }, [count, hasMore, shouldShowSummary, visibleReviews.length]);\n\n  const handleLoadMore = React.useCallback(() => {\n    setVisibleCount((prev) => Math.min(count, prev + PAGE_SIZE));\n  }, [count]);\n\n  const handleToggleAutoLoad = React.useCallback(() => {\n    setAutoLoadEnabled((prev) => {\n      const next = !prev;\n      if (typeof window !== \"undefined\") {\n        sessionStorage.setItem(REVIEW_AUTOLOAD_STORAGE_KEY, String(next));\n      }\n      return next;\n    });\n  }, []);\n\n  React.useEffect(() => {\n    if (typeof window === \"undefined\") return undefined;\n    const container = scrollContainerRef.current;\n    if (!container) return undefined;\n\n    const stored = sessionStorage.getItem(REVIEW_SCROLL_STORAGE_KEY);\n    if (!restoredRef.current && stored) {\n      const parsed = Number.parseInt(stored, 10);\n      if (!Number.isNaN(parsed)) {\n        container.scrollTop = parsed;\n      }\n    }\n    restoredRef.current = true;\n\n    let frame = 0;\n    const handleScroll = () => {\n      if (frame) return;\n      frame = window.requestAnimationFrame(() => {\n        frame = 0;\n        sessionStorage.setItem(\n          REVIEW_SCROLL_STORAGE_KEY,\n          Math.round(container.scrollTop).toString(),\n        );\n      });\n    };\n\n    const handlePageHide = () => {\n      sessionStorage.setItem(\n        REVIEW_SCROLL_STORAGE_KEY,\n        Math.round(container.scrollTop).toString(),\n      );\n    };\n\n    container.addEventListener(\"scroll\", handleScroll, { passive: true });\n    window.addEventListener(\"pagehide\", handlePageHide);\n\n    return () => {\n      container.removeEventListener(\"scroll\", handleScroll);\n      window.removeEventListener(\"pagehide\", handlePageHide);\n      if (frame) {\n        window.cancelAnimationFrame(frame);\n      }\n      sessionStorage.setItem(\n        REVIEW_SCROLL_STORAGE_KEY,\n        Math.round(container.scrollTop).toString(),\n      );\n    };\n  }, [visibleReviews.length]);\n\n  React.useEffect(() => {\n    autoLoadLockRef.current = false;\n  }, [visibleReviews.length]);\n\n  React.useEffect(() => {\n    if (typeof window === \"undefined\") return undefined;\n    if (!autoLoadEnabled) return undefined;\n    if (!hasMore) return undefined;\n    const container = scrollContainerRef.current;\n    const sentinel = sentinelRef.current;\n    if (!container || !sentinel) return undefined;\n    if (!(\"IntersectionObserver\" in window)) return undefined;\n\n    const observer = new IntersectionObserver(\n      (entries) => {\n        entries.forEach((entry) => {\n          if (entry.isIntersecting && !autoLoadLockRef.current) {\n            autoLoadLockRef.current = true;\n            handleLoadMore();\n          }\n        });\n      },\n      {\n        root: container,\n        rootMargin: \"25% 0px\",\n      },\n    );\n\n    observer.observe(sentinel);\n\n    return () => {\n      observer.disconnect();\n    };\n  }, [autoLoadEnabled, handleLoadMore, hasMore, visibleReviews.length]);\n\n  const interactiveRingClass =\n    hoverRing &&\n    \"hover:ring-2 hover:ring-[var(--theme-ring,var(--focus))] focus-within:ring-2 focus-within:ring-[var(--theme-ring,var(--focus))]\";\n\n  const containerClass = cn(\n    \"w-full mx-auto rounded-card r-card-lg border border-border/35 bg-card/60 text-card-foreground shadow-outline-subtle\",\n    \"ds-card-pad backdrop-blur-sm transition-colors transition-shadow duration-motion-md\",\n    interactiveRingClass,\n    className,\n  );\n\n  const emptyContainerClass = cn(\n    \"w-full mx-auto rounded-card r-card-lg text-card-foreground\",\n    \"ds-card-pad backdrop-blur-sm transition-colors transition-shadow duration-motion-md\",\n    \"relative isolate overflow-hidden glitch-card\",\n    interactiveRingClass,\n    className,\n  );\n\n  const headerNode = header ? (\n    <header className=\"mb-[var(--space-2)] text-ui text-muted-foreground\">\n      {header}\n    </header>\n  ) : null;\n\n  if (isLoading) {\n    return (\n      <section\n        data-scope=\"reviews\"\n        data-state=\"loading\"\n        className={containerClass}\n        aria-busy=\"true\"\n      >\n        {headerNode}\n        <ul className=\"flex flex-col gap-[var(--space-3)]\" aria-hidden>\n          {Array.from({ length: 6 }).map((_, index) => (\n            <li key={`loading-${index}`}>\n              <div className=\"space-y-[var(--space-2)] rounded-card border border-border/35 bg-card/65 p-[var(--space-3)] shadow-outline-subtle\">\n                <Skeleton\n                  ariaHidden={false}\n                  role=\"status\"\n                  aria-label=\"Loading review title\"\n                  className=\"h-[var(--space-4)] w-2/3\"\n                  radius=\"sm\"\n                />\n                <Skeleton className=\"w-3/4\" />\n              </div>\n            </li>\n          ))}\n        </ul>\n        <Skeleton\n          ariaHidden={false}\n          role=\"status\"\n          aria-label=\"Preparing review actions\"\n          className=\"mt-[var(--space-4)] h-[var(--space-5)] w-1/2\"\n          radius=\"full\"\n        />\n      </section>\n    );\n  }\n\n  if (isErrored) {\n    return (\n      <section\n        data-scope=\"reviews\"\n        data-state=\"error\"\n        className={emptyContainerClass}\n        aria-live=\"polite\"\n      >\n        {headerNode}\n        <AIErrorCard\n          title=\"Unable to load reviews\"\n          description={errorMessage ?? \"We couldnt sync your reviews.\"}\n          hint=\"Check your connection or retry the sync to refresh your queue.\"\n          retryLabel=\"Retry sync\"\n          onRetry={onRetry ?? undefined}\n          className=\"glitch-card\"\n        />\n      </section>\n    );\n  }\n\n  if (count === 0) {\n    return (\n      <section\n        data-scope=\"reviews\"\n        data-state=\"empty\"\n        className={emptyContainerClass}\n        aria-live=\"polite\"\n      >\n        {headerNode}\n        <div className=\"flex flex-col items-center justify-center gap-[var(--space-3)] text-center text-ui text-muted-foreground\">\n          <span\n            aria-hidden\n            data-text=\"\"\n            className=\"glitch-anim inline-flex items-center justify-center rounded-full border border-border/40 bg-card/70 p-[var(--space-3)] text-muted-foreground motion-reduce:animate-none\"\n          >\n            <BookOpen\n              aria-hidden\n              focusable=\"false\"\n              className=\"size-[var(--space-6)]\"\n            />\n          </span>\n          <div className=\"space-y-[var(--space-1)]\">\n            <p className=\"text-card-foreground\">You haven&rsquo;t captured any reviews yet.</p>\n            <p>Start a match recap to unlock filtering, tagging, and summaries.</p>\n          </div>\n          <Button\n            type=\"button\"\n            variant=\"default\"\n            size=\"md\"\n            onClick={onCreate}\n            className={cn(\"btn-glitch\")}\n          >\n            Create review\n          </Button>\n        </div>\n      </section>\n    );\n  }\n\n  return (\n    <section\n      data-scope=\"reviews\"\n      data-state=\"ready\"\n      className={containerClass}\n      ref={(node) => {\n        scrollContainerRef.current = node;\n      }}\n    >\n      {headerNode}\n      <ul className=\"flex flex-col gap-[var(--space-3)]\">\n        {visibleReviews.map((r) => (\n          <li key={r.id}>\n            <ReviewListItem\n              review={r}\n              selected={r.id === selectedId}\n              onClick={onSelect ? () => onSelect(r.id) : undefined}\n            />\n          </li>\n        ))}\n      </ul>\n      {shouldShowSummary ? (\n        <footer className=\"mt-[var(--space-3)] flex flex-col gap-[var(--space-2)] text-ui text-muted-foreground\">\n          <div className=\"flex items-center justify-between gap-[var(--space-3)]\">\n            <span aria-live=\"polite\">{summaryLabel}</span>\n            {hasMore ? (\n              <div className=\"flex items-center gap-[var(--space-2)]\">\n                <Button\n                  type=\"button\"\n                  size=\"sm\"\n                  variant=\"quiet\"\n                  onClick={handleToggleAutoLoad}\n                  className=\"shrink-0\"\n                  aria-pressed={autoLoadEnabled}\n                >\n                  {autoLoadEnabled ? \"Pause auto-load\" : \"Enable auto-load\"}\n                </Button>\n                <Button\n                  type=\"button\"\n                  size=\"sm\"\n                  variant=\"neo\"\n                  onClick={handleLoadMore}\n                  className=\"shrink-0\"\n                >\n                  Load more\n                </Button>\n              </div>\n            ) : null}\n          </div>\n          <div\n            role=\"progressbar\"\n            aria-label=\"Reviews shown\"\n            aria-valuemin={0}\n            aria-valuemax={count}\n            aria-valuenow={visibleReviews.length}\n            className=\"relative h-[var(--space-1)] w-full overflow-hidden rounded-full border border-border/40 bg-card/40\"\n          >\n            <span\n              aria-hidden\n              className=\"absolute inset-y-0 left-0 block h-full rounded-full bg-accent/70\"\n              style={{ width: `${progressPercent}%` }}\n            />\n          </div>\n        </footer>\n      ) : null}\n      <div ref={sentinelRef} aria-hidden className=\"h-px w-full\" />\n    </section>\n  );\n}\n","\"use client\";\n\nimport * as React from \"react\";\nimport { usePersistentState } from \"@/lib/db\";\nimport {\n  isPillar,\n  isRole,\n  isSide,\n  type Pillar,\n  type Review,\n  type ReviewMarker,\n} from \"@/lib/types\";\n\nconst REVIEWS_STORAGE_KEY = \"reviews.v1\" as const;\n\nfunction isRecord(value: unknown): value is Record<string, unknown> {\n  return typeof value === \"object\" && value !== null && !Array.isArray(value);\n}\n\nfunction decodeStringArray(value: unknown): string[] {\n  if (!Array.isArray(value)) return [];\n  const result: string[] = [];\n  for (const entry of value) {\n    if (typeof entry === \"string\") {\n      result.push(entry);\n    }\n  }\n  return result;\n}\n\nfunction decodePillarArray(value: unknown): Pillar[] {\n  if (!Array.isArray(value)) return [];\n  const result: Pillar[] = [];\n  for (const entry of value) {\n    if (isPillar(entry)) {\n      result.push(entry);\n    }\n  }\n  return result;\n}\n\nfunction decodeReviewMarker(value: unknown): ReviewMarker | null {\n  if (!isRecord(value)) return null;\n  const id = value[\"id\"];\n  const time = value[\"time\"];\n  const seconds = value[\"seconds\"];\n  const note = value[\"note\"];\n  if (typeof id !== \"string\") return null;\n  if (typeof time !== \"string\") return null;\n  if (typeof seconds !== \"number\" || !Number.isFinite(seconds)) return null;\n  if (typeof note !== \"string\") return null;\n  const marker: ReviewMarker = { id, time, seconds, note };\n  if (typeof value[\"noteOnly\"] === \"boolean\") {\n    marker.noteOnly = value[\"noteOnly\"];\n  }\n  return marker;\n}\n\nfunction decodeReview(value: unknown): Review | null {\n  if (!isRecord(value)) return null;\n  const id = value[\"id\"];\n  const title = value[\"title\"];\n  const createdAt = value[\"createdAt\"];\n  if (typeof id !== \"string\") return null;\n  if (typeof title !== \"string\") return null;\n  if (typeof createdAt !== \"number\" || !Number.isFinite(createdAt)) return null;\n  const review: Review = {\n    id,\n    title,\n    createdAt,\n    tags: decodeStringArray(value[\"tags\"]),\n    pillars: decodePillarArray(value[\"pillars\"]),\n  };\n  const opponent = value[\"opponent\"];\n  if (typeof opponent === \"string\") {\n    review.opponent = opponent;\n  }\n  const lane = value[\"lane\"];\n  if (typeof lane === \"string\") {\n    review.lane = lane;\n  }\n  const side = value[\"side\"];\n  if (isSide(side)) {\n    review.side = side;\n  }\n  const patch = value[\"patch\"];\n  if (typeof patch === \"string\") {\n    review.patch = patch;\n  }\n  const duration = value[\"duration\"];\n  if (typeof duration === \"string\") {\n    review.duration = duration;\n  }\n  const matchup = value[\"matchup\"];\n  if (typeof matchup === \"string\") {\n    review.matchup = matchup;\n  }\n  const notes = value[\"notes\"];\n  if (typeof notes === \"string\") {\n    review.notes = notes;\n  }\n  const resultValue = value[\"result\"];\n  if (resultValue === \"Win\" || resultValue === \"Loss\") {\n    review.result = resultValue;\n  }\n  const score = value[\"score\"];\n  if (typeof score === \"number\" && Number.isFinite(score)) {\n    review.score = score;\n  }\n  const role = value[\"role\"];\n  if (isRole(role)) {\n    review.role = role;\n  }\n  const focusOn = value[\"focusOn\"];\n  if (typeof focusOn === \"boolean\") {\n    review.focusOn = focusOn;\n  }\n  const focus = value[\"focus\"];\n  if (typeof focus === \"number\" && Number.isFinite(focus)) {\n    review.focus = focus;\n  }\n  const markersRaw = value[\"markers\"];\n  if (Array.isArray(markersRaw)) {\n    const markers = markersRaw\n      .map(decodeReviewMarker)\n      .filter((marker): marker is ReviewMarker => marker !== null);\n    if (markers.length > 0 || markersRaw.length === 0) {\n      review.markers = markers;\n    }\n  }\n  const status = value[\"status\"];\n  if (status === \"new\") {\n    review.status = status;\n  }\n  return review;\n}\n\nexport function decodeReviews(value: unknown): Review[] | null {\n  if (!Array.isArray(value)) return null;\n  const result: Review[] = [];\n  for (const entry of value) {\n    const review = decodeReview(entry);\n    if (review) result.push(review);\n  }\n  return result;\n}\n\nexport function useReviews() {\n  const [reviews, setReviews] = usePersistentState<Review[]>(\n    REVIEWS_STORAGE_KEY,\n    [],\n    { decode: decodeReviews },\n  );\n  const [isHydrated, setIsHydrated] = React.useState(false);\n\n  React.useEffect(() => {\n    setIsHydrated(true);\n  }, []);\n\n  const totalCount = reviews.length;\n\n  const flaggedReviews = React.useMemo(\n    () => reviews.filter((review) => review.focusOn),\n    [reviews],\n  );\n\n  const flaggedReviewCount = flaggedReviews.length;\n\n  const recentReviews = React.useMemo(\n    () =>\n      [...reviews]\n        .sort((a, b) => b.createdAt - a.createdAt)\n        .slice(0, 3),\n    [reviews],\n  );\n\n  return {\n    reviews,\n    setReviews,\n    isHydrated,\n    totalCount,\n    flaggedReviews,\n    flaggedReviewCount,\n    recentReviews,\n  } as const;\n}\n","\"use client\";\n\nimport * as React from \"react\";\nimport { SectionLabel } from \"@/components/reviews/SectionLabel\";\nimport { Input } from \"@/components/ui/primitives/Input\";\nimport { Target, Shield } from \"lucide-react\";\nimport type { Review } from \"@/lib/types\";\n\nexport type LaneOpponentFormHandle = {\n  save: () => void;\n};\n\ntype LaneOpponentFormProps = {\n  lane?: string;\n  opponent?: string;\n  commitMeta: (patch: Partial<Review>) => void;\n  onRename?: (title: string) => void;\n  onOpponentEnter?: () => void;\n};\n\nfunction LaneOpponentForm(\n  {\n    lane: lane0 = \"\",\n    opponent: opponent0 = \"\",\n    commitMeta,\n    onRename,\n    onOpponentEnter,\n  }: LaneOpponentFormProps,\n  ref: React.Ref<LaneOpponentFormHandle>,\n) {\n  const [lane, setLane] = React.useState(lane0);\n  const [opponent, setOpponent] = React.useState(opponent0);\n  const laneRef = React.useRef<HTMLInputElement>(null);\n  const opponentRef = React.useRef<HTMLInputElement>(null);\n  const opponentLabelId = React.useId();\n\n  React.useEffect(() => {\n    setLane(lane0);\n  }, [lane0]);\n\n  React.useEffect(() => {\n    setOpponent(opponent0);\n  }, [opponent0]);\n\n  const commitLane = React.useCallback(() => {\n    const t = (lane || \"\").trim();\n    onRename?.(t);\n    commitMeta({ lane: t });\n  }, [lane, commitMeta, onRename]);\n\n  const commitOpponent = React.useCallback(() => {\n    const t = (opponent || \"\").trim();\n    commitMeta({ opponent: t });\n  }, [opponent, commitMeta]);\n\n  const save = React.useCallback(() => {\n    commitLane();\n    commitOpponent();\n  }, [commitLane, commitOpponent]);\n\n  React.useImperativeHandle(ref, () => ({ save }), [save]);\n\n  const go = React.useCallback(\n    (r: React.RefObject<HTMLInputElement | null>) => {\n      r.current?.focus();\n    },\n    [],\n  );\n\n  return (\n    <div className=\"flex flex-col gap-[var(--space-2)]\">\n      <div className=\"mb-[var(--space-2)]\">\n        <div className=\"relative\">\n          <Target className=\"pointer-events-none absolute left-[var(--space-4)] top-1/2 size-[var(--icon-size-sm)] -translate-y-1/2 text-muted-foreground\" />\n          <Input\n            ref={laneRef}\n            name=\"lane\"\n            value={lane}\n            onChange={(e) => setLane(e.target.value)}\n            onBlur={commitLane}\n            onKeyDown={(e) => {\n              if (e.key === \"Enter\") {\n                e.preventDefault();\n                commitLane();\n                go(opponentRef);\n              }\n            }}\n            className=\"pl-[var(--space-6)]\"\n            placeholder=\"Ashe/Lulu\"\n            aria-label=\"Lane (used as Title)\"\n          />\n        </div>\n      </div>\n\n      <div>\n        <SectionLabel id={opponentLabelId}>Opponent</SectionLabel>\n        <div className=\"relative\">\n          <Shield className=\"pointer-events-none absolute left-[var(--space-4)] top-1/2 size-[var(--icon-size-sm)] -translate-y-1/2 text-muted-foreground\" />\n          <Input\n            ref={opponentRef}\n            name=\"opponent\"\n            value={opponent}\n            onChange={(e) => setOpponent(e.target.value)}\n            onBlur={commitOpponent}\n            onKeyDown={(e) => {\n              if (e.key === \"Enter\") {\n                e.preventDefault();\n                onOpponentEnter?.();\n              }\n            }}\n            placeholder=\"Draven/Thresh\"\n            className=\"pl-[var(--space-6)]\"\n            aria-labelledby={opponentLabelId}\n          />\n        </div>\n      </div>\n    </div>\n  );\n}\n\nconst LaneOpponentFormComponent = React.forwardRef(LaneOpponentForm)\n\nexport { LaneOpponentFormComponent as LaneOpponentForm }\n","import * as React from \"react\";\nimport { cn } from \"@/lib/utils\";\n\ntype SectionLabelProps<T extends React.ElementType = \"h3\"> = {\n  as?: T;\n  children: React.ReactNode;\n} & Omit<React.ComponentPropsWithoutRef<T>, \"as\" | \"children\">;\n\n/** Reusable section label divider for grouping review sections. */\nexport function SectionLabel<T extends React.ElementType = \"h3\">({\n  as,\n  children,\n  className,\n  ...props\n}: SectionLabelProps<T>) {\n  const Component = as ?? \"h3\";\n\n  return (\n    <div className=\"mb-[var(--space-2)] flex items-center gap-[var(--space-2)]\">\n      <Component\n        className={cn(\"text-ui tracking-wide text-muted-foreground\", className)}\n        {...props}\n      >\n        {children}\n      </Component>\n      <div className=\"h-[var(--hairline-w)] flex-1 bg-gradient-to-r from-foreground/20 via-foreground/5 to-transparent\" />\n    </div>\n  );\n}\n\n","import * as React from \"react\";\nimport { cn } from \"@/lib/utils\";\n\ntype ReviewSurfaceTone = \"default\" | \"muted\" | \"translucent\";\ntype ReviewSurfacePadding =\n  | \"none\"\n  | \"xs\"\n  | \"sm\"\n  | \"md\"\n  | \"lg\"\n  | \"inline\";\n\ntype ReviewSurfaceOwnProps<T extends React.ElementType = \"div\"> = {\n  tone?: ReviewSurfaceTone;\n  padding?: ReviewSurfacePadding;\n  focusWithin?: boolean;\n  as?: T;\n};\n\nexport type ReviewSurfaceProps<T extends React.ElementType = \"div\"> =\n  ReviewSurfaceOwnProps<T> &\n    Omit<React.ComponentPropsWithoutRef<T>, keyof ReviewSurfaceOwnProps<T>>;\n\nconst toneClassNames: Record<ReviewSurfaceTone, string> = {\n  default: \"border border-border bg-card\",\n  muted: \"border border-border/80 bg-muted/40\",\n  translucent: \"border border-border/70 bg-card/80 backdrop-blur-md\",\n};\n\nconst paddingClassNames: Record<ReviewSurfacePadding, string> = {\n  none: \"\",\n  xs: \"px-[var(--space-2)] py-[var(--space-1)]\",\n  sm: \"px-[var(--space-3)] py-[var(--space-2)]\",\n  md: \"px-[var(--space-4)] py-[var(--space-3)]\",\n  lg: \"px-[var(--space-5)] py-[var(--space-4)]\",\n  inline: \"px-[var(--space-4)]\",\n};\n\nexport function ReviewSurface<\n  T extends React.ElementType = \"div\",\n>({\n  tone = \"default\",\n  padding = \"md\",\n  focusWithin = false,\n  as,\n  className,\n  children,\n  ...rest\n}: ReviewSurfaceProps<T>) {\n  const Comp = (as ?? \"div\") as React.ElementType;\n\n  return (\n    <Comp\n      className={cn(\n        \"rounded-card r-card-lg\",\n        toneClassNames[tone],\n        paddingClassNames[padding],\n        focusWithin && \"focus-within:ring-2 focus-within:ring-ring\",\n        className,\n      )}\n      {...rest}\n    >\n      {children}\n    </Comp>\n  );\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"ReviewSliderTrack_root__q5TK_\",\"glitch\":\"ReviewSliderTrack_glitch__DBxoc\",\"fill\":\"ReviewSliderTrack_fill__V9rSw\",\"knob\":\"ReviewSliderTrack_knob__II8X_\"};","\"use client\";\n\nimport * as React from \"react\";\nimport type { Role } from \"@/lib/types\";\nimport { cn } from \"@/lib/utils\";\nimport { IconButton } from \"@/components/ui/primitives/IconButton\";\nimport { Pencil } from \"lucide-react\";\nimport { ROLE_OPTIONS } from \"@/components/reviews/reviewData\";\n\nexport type ReviewSummaryHeaderProps = {\n  title: string;\n  role?: Role;\n  result?: \"Win\" | \"Loss\";\n  onEdit?: () => void;\n};\n\nexport function ReviewSummaryHeader({\n  title,\n  role,\n  result,\n  onEdit,\n}: ReviewSummaryHeaderProps) {\n  const RoleIcon = role\n    ? ROLE_OPTIONS.find((r) => r.value === role)?.Icon\n    : undefined;\n  const roleLabel = role\n    ? ROLE_OPTIONS.find((r) => r.value === role)?.label\n    : undefined;\n\n  const ResultBadge = result && (\n    <span\n      className={cn(\n        \"inline-flex h-[var(--control-h-md)] items-center rounded-card r-card-lg border px-[var(--space-3)] text-ui font-medium\",\n        \"border-border bg-card\",\n        result === \"Win\"\n          ? \"shadow-[0_0_0_var(--hairline-w)_hsl(var(--ring)/.35)_inset] [background-image:var(--review-result-win-gradient)]\"\n          : \"[background-image:var(--review-result-loss-gradient)]\",\n      )}\n      aria-label={`Result: ${result}`}\n      title={`Result: ${result}`}\n    >\n      {result}\n    </span>\n  );\n\n  return (\n    <div className=\"section-h sticky\">\n      <div className=\"grid w-full grid-cols-[1fr_auto] items-center gap-[var(--space-4)]\">\n        <div className=\"min-w-0\">\n          <div className=\"mb-[var(--space-1)] text-ui font-medium tracking-[0.02em] text-foreground/60\">Title</div>\n          <div className=\"truncate text-title font-semibold tracking-[-0.01em] text-foreground/70\">\n            {title || \"Untitled review\"}\n          </div>\n        </div>\n        <div className=\"flex items-center justify-end gap-[var(--space-2)]\">\n          {role ? (\n            <span\n              className={cn(\n                \"inline-flex h-[var(--control-h-md)] items-center gap-[var(--space-2)] rounded-card r-card-lg border border-border\",\n                \"bg-card px-[var(--space-3)] text-ui font-medium\",\n              )}\n              title={roleLabel}\n            >\n              {RoleIcon ? (\n                <RoleIcon className=\"h-[var(--icon-size-sm)] w-[var(--icon-size-sm)]\" />\n              ) : null}\n              {roleLabel}\n            </span>\n          ) : null}\n          {ResultBadge}\n          {onEdit ? (\n            <IconButton\n              variant=\"quiet\"\n              size=\"md\"\n              aria-label=\"Edit review\"\n              title=\"Edit review\"\n              onClick={onEdit}\n            >\n              <Pencil className=\"h-[var(--icon-size-sm)] w-[var(--icon-size-sm)]\" />\n            </IconButton>\n          ) : null}\n        </div>\n      </div>\n    </div>\n  );\n}\n","import type { Review } from \"@/lib/types\";\n\nconst SEARCH_CACHE_KEY = Symbol.for(\"planner.reviews.searchCache\");\n\ntype SearchCacheMetadata =\n  Pick<\n    Review,\n    | \"title\"\n    | \"tags\"\n    | \"opponent\"\n    | \"lane\"\n    | \"side\"\n    | \"result\"\n    | \"patch\"\n    | \"duration\"\n    | \"notes\"\n  > & {\n    tagsLength: number;\n  };\n\ntype SearchCache = {\n  raw: string;\n  blob: string;\n  meta: SearchCacheMetadata;\n};\n\ntype SearchableReview = Review & {\n  [SEARCH_CACHE_KEY]?: SearchCache;\n};\n\nfunction collectSearchParts(review: Review): string[] {\n  const parts: string[] = [];\n  if (review.title) parts.push(review.title);\n  if (Array.isArray(review.tags) && review.tags.length)\n    parts.push(review.tags.join(\" \"));\n  if (review.opponent) parts.push(review.opponent);\n  if (review.lane) parts.push(review.lane);\n  if (review.side) parts.push(review.side);\n  if (review.result) parts.push(review.result);\n  if (review.patch) parts.push(review.patch);\n  if (review.duration) parts.push(review.duration);\n  if (review.notes) parts.push(review.notes);\n  return parts;\n}\n\nfunction buildSearchSource(review: Review): string {\n  return collectSearchParts(review).join(\" \");\n}\n\nfunction setCache(review: SearchableReview, cache: SearchCache) {\n  Object.defineProperty(review, SEARCH_CACHE_KEY, {\n    value: cache,\n    configurable: true,\n    enumerable: false,\n    writable: true,\n  });\n}\n\nfunction captureMetadata(review: Review): SearchCacheMetadata {\n  return {\n    title: review.title,\n    tags: review.tags,\n    tagsLength: review.tags.length,\n    opponent: review.opponent,\n    lane: review.lane,\n    side: review.side,\n    result: review.result,\n    patch: review.patch,\n    duration: review.duration,\n    notes: review.notes,\n  };\n}\n\nfunction isCacheFresh(\n  review: Review,\n  metadata: SearchCacheMetadata,\n): boolean {\n  return (\n    metadata.title === review.title &&\n    metadata.tags === review.tags &&\n    metadata.tagsLength === review.tags.length &&\n    metadata.opponent === review.opponent &&\n    metadata.lane === review.lane &&\n    metadata.side === review.side &&\n    metadata.result === review.result &&\n    metadata.patch === review.patch &&\n    metadata.duration === review.duration &&\n    metadata.notes === review.notes\n  );\n}\n\nexport function getSearchBlob(review: Review): string {\n  const searchable = review as SearchableReview;\n  const cached = searchable[SEARCH_CACHE_KEY];\n  if (cached && isCacheFresh(review, cached.meta)) return cached.blob;\n  const raw = buildSearchSource(review);\n  const blob = raw.toLowerCase();\n  setCache(searchable, { raw, blob, meta: captureMetadata(review) });\n  return blob;\n}\n\nexport function primeReviewSearch(review: Review): Review {\n  getSearchBlob(review);\n  return review;\n}\n"],"names":["ReviewEditor","review","FOCUS_POOLS","onChangeNotes","onChangeTags","onRename","onChangeMeta","onDone","onDelete","className","notes","setNotes","React","tags","setTags","Array","isArray","draftTag","setDraftTag","rootRef","laneFormRef","resultScoreRef","pillarsRef","timestampsRef","focusRangeRef","laneLabelId","tagsLabelId","notesLabelId","lastRole","setLastRole","usePersistentState","LAST_ROLE_KEY","role","setRole","focusOn","setFocusOn","Boolean","focus","setFocus","Number","isFinite","NaN","id","r","commitMeta","partial","commitNotes","saveAll","current","save","saveAllRef","addTag","tagRaw","t","trim","replace","includes","next","handlePointerDown","e","contains","target","document","addEventListener","removeEventListener","focusMsgIndex","pickIndex","String","focusMsg","SectionCard","ref","variant","cn","div","SectionLabel","RoleSelector","value","onChange","selectRole","v","ariaLabelledby","LaneOpponentForm","lane","title","opponent","onOpponentEnter","focusResult","IconButton","aria-label","size","iconSize","onClick","Trash2","Check","ResultScoreSection","result","score","onScoreEnter","focusTime","aria-pressed","tone","NeonIcon","kind","on","ReviewSurface","padding","focusWithin","input","type","min","max","step","ReviewSliderTrack","Badge","as","span","PillarsSelector","pillars","TimestampMarkers","markers","Tag","Input","name","placeholder","aria-labelledby","onKeyDown","key","preventDefault","Plus","length","map","interactive","removeTag","filter","x","Textarea","onBlur","resize","textareaClassName","ReviewSummary","onEdit","laneTitle","msgIndex","msg","pool","SCORE_POOLS","Icon","ScoreIcon","cls","scoreIconCls","scoreIcon","ReviewSummaryHeader","ReviewSummaryScore","ReviewSummaryPillars","ReviewSummaryTimestamps","ReviewSummaryNotes","shellBase","itemLoading","loadingLine","scoreBadge","ReviewListItem","selected","disabled","loading","data-scope","untitled","matchup","button","aria-current","undefined","data-selected","aria-hidden","statusDotBase","statusDotBlink","statusDotWin","statusDotLoss","statusDotDefault","status","statusDotPulse","normalizeMarker","m","parseMmSs","obj","uid","seconds","time","formatMmSs","note","noteOnly","TimestampMarkersComponent","markers0","lastMarkerMode","setLastMarkerMode","LAST_MARKER_MODE_KEY","lastMarkerTime","setLastMarkerTime","LAST_MARKER_TIME_KEY","setMarkers","useTimestamp","setUseTimestamp","tTime","setTTime","tNote","setTNote","timeRef","noteRef","parsedTime","timeError","canAddMarker","sortedMarkers","sort","a","b","addMarker","s","safeS","removeMarker","inputMode","pattern","aria-invalid","aria-describedby","FileText","p","ul","NeonPillarChip","active","children","prev","phase","setPhase","setTimeout","clearTimeout","lit","styles","data-lit","data-phase","PillarsSelectorComponent","pillars0","setPillars","togglePillar","has","concat","ALL_PILLARS","onIconKey","handler","PillarBadge","pillar","ScoreMeter","label","trackProps","detail","staticGlow","ReviewPage","reviews","setReviews","isHydrated","useReviews","selectedId","setSelectedId","useState","useEffect","some","onCreate","useCallback","now","Date","fresh","side","patch","duration","createdAt","primeReviewSearch","onSelect","patchById","nextTitle","nextNotes","nextTags","safeSelectedId","useMemo","ReviewsPage","control","surfaceProps","valueFormatter","surfaceClassName","surfaceRest","trackClassName","trackRest","labelId","labelledControl","isElementWithProps","existing","props","merged","join","isInteractive","formatValue","formatDefaultValue","hasTimed","hasNoteOnly","hasTimedMarker","marker","sorted","StaticNeonWrap","toneTokenClassNames","knobSizeByVariant","display","fillClassName","knobClassName","glitch","clamped","Math","round","data-tone","data-variant","data-value","data-glitch","Flag","MapPin","Target","Crosshair","Shield","seed","modulo","h","i","charCodeAt","imul","abs","Skull","Meh","Trophy","Smile","ResultScoreSectionComponent","result0","score0","setResult","setScore","resultRef","scoreRangeRef","resultLabelId","aria-checked","data-result","useReviewFilter","base","q","needle","toLowerCase","list","getSearchBlob","ts","localeCompare","sensitivity","sizeProp","Clock","Brain","UIToggleNeonIcon","icon","colorVar","searchParams","error","onRetry","useSearchParams","setQ","setSort","detailMode","setDetailMode","intentApplied","setIntentApplied","isLoading","errorMessage","Error","message","trimmed","isErrored","allowInteractions","commitCreateReview","tryCreateReview","intentParam","get","filtered","totalCount","listReviews","filteredCount","hasReviews","find","panelClass","detailBaseId","sortLabelId","emptySearchDescriptionId","heroSubtitle","aria-live","heroGridClass","sortItems","PageShell","PageHeader","header","heading","BookOpen","topClassName","underline","sticky","hero","subtitle","Skeleton","ariaHidden","radius","HeroSearchBar","onValueChange","debounceMs","aria-busy","Select","hideLabel","items","Button","nav","ReviewList","hoverRing","ReviewPanel","AIErrorCard","description","hint","retryLabel","TabBar","ariaLabel","idBase","hidden","tabIndex","values","data-text","Ghost","focusable","count","ROLE_OPTIONS","activeIdx","findIndex","liveRef","rootStyle","indicatorStyle","textContent","data-count","style","GlitchSegmentedGroup","GlitchSegmentedButton","Card","REVIEW_SCROLL_STORAGE_KEY","REVIEW_AUTOLOAD_STORAGE_KEY","visibleCount","setVisibleCount","PAGE_SIZE","autoLoadEnabled","setAutoLoadEnabled","scrollContainerRef","sentinelRef","autoLoadLockRef","restoredRef","stored","sessionStorage","getItem","visibleReviews","slice","hasMore","shouldShowSummary","progressPercent","progressRatio","summaryLabel","handleLoadMore","handleToggleAutoLoad","setItem","container","parsed","parseInt","isNaN","scrollTop","frame","handleScroll","window","requestAnimationFrame","toString","handlePageHide","passive","cancelAnimationFrame","sentinel","observer","IntersectionObserver","entries","forEach","entry","isIntersecting","root","rootMargin","observe","disconnect","interactiveRingClass","containerClass","emptyContainerClass","headerNode","section","data-state","from","_","index","li","node","footer","aria-valuemin","aria-valuemax","aria-valuenow","width","isRecord","decodeReviewMarker","decodeReviews","decodeStringArray","push","decodePillarArray","isPillar","isSide","resultValue","isRole","markersRaw","REVIEWS_STORAGE_KEY","decode","setIsHydrated","flaggedReviews","flaggedReviewCount","recentReviews","LaneOpponentFormComponent","lane0","opponent0","setLane","setOpponent","laneRef","opponentRef","opponentLabelId","commitLane","commitOpponent","go","Component","toneClassNames","default","muted","translucent","paddingClassNames","none","xs","sm","md","lg","inline","rest","Comp","RoleIcon","roleLabel","ResultBadge","Pencil","SEARCH_CACHE_KEY","Symbol","for","cached","searchable","metadata","meta","isCacheFresh","tagsLength","blob","raw","collectSearchParts","buildSearchSource","parts","Object","defineProperty","cache","configurable","enumerable","writable"],"sourceRoot":"","ignoreList":[]}