{"version":3,"file":"static/chunks/5464-2361e3dd678aaf51.js","mappings":"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","sources":["webpack://_N_E/./src/components/goals/GoalQueue.tsx","webpack://_N_E/./src/lib/usePersistentTab.ts","webpack://_N_E/./src/components/goals/Reminders.tsx","webpack://_N_E/./src/components/goals/reminders/ReminderQuickAddForm.module.css","webpack://_N_E/./src/icons/TimerRingIcon.tsx","webpack://_N_E/./src/components/goals/TimerRing.tsx","webpack://_N_E/./src/components/goals/reminders/ReminderFilters.module.css","webpack://_N_E/./src/components/goals/DurationSelector.tsx","webpack://_N_E/./src/components/goals/GoalsTabs.tsx","webpack://_N_E/./src/components/goals/GoalList.tsx","webpack://_N_E/./src/components/goals/useGoals.ts","webpack://_N_E/./src/components/goals/GoalSlot.tsx","webpack://_N_E/./src/components/goals/reminders/ReminderList.module.css","webpack://_N_E/./src/components/goals/reminders/ReminderFilters.tsx","webpack://_N_E/./src/components/goals/reminders/ReminderList.tsx","webpack://_N_E/./src/components/goals/reminders/ReminderQuickAddForm.tsx","webpack://_N_E/./src/components/goals/RemindersTab.tsx","webpack://_N_E/./src/components/goals/GoalsPage.tsx","webpack://_N_E/./src/components/goals/GoalsProgress.tsx","webpack://_N_E/./src/components/goals/RemindersTab.module.css","webpack://_N_E/./src/lib/useCoarsePointer.ts","webpack://_N_E/./src/components/goals/constants.ts","webpack://_N_E/./src/components/goals/TimerTab.tsx","webpack://_N_E/./src/components/goals/TimerTab.module.css","webpack://_N_E/./src/components/goals/GoalForm.tsx"],"sourcesContent":["\"use client\";\n\nimport * as React from \"react\";\nimport { SectionCard } from \"@/components/ui\";\nimport { Input } from \"@/components/ui/primitives/Input\";\nimport { IconButton } from \"@/components/ui/primitives/IconButton\";\nimport { Trash2 } from \"lucide-react\";\nimport { shortDate } from \"@/lib/date\";\nimport { useCoarsePointer } from \"@/lib/useCoarsePointer\";\nimport { cn } from \"@/lib/utils\";\n\nconst MAX_GOAL_LABEL_LENGTH = 48;\nconst FALLBACK_GOAL_LABEL = \"item\";\n\nfunction formatGoalLabel(text: string) {\n  const normalized = text.trim().replace(/\\s+/g, \" \");\n  const cleaned = normalized.length > 0 ? normalized : FALLBACK_GOAL_LABEL;\n\n  if (cleaned.length <= MAX_GOAL_LABEL_LENGTH) {\n    return cleaned;\n  }\n\n  const truncated = cleaned.slice(0, MAX_GOAL_LABEL_LENGTH - 1).trimEnd();\n  return `${truncated}`;\n}\n\nexport type WaitItem = { id: string; text: string; createdAt: number };\n\ninterface GoalQueueProps {\n  items: WaitItem[];\n  onAdd: (text: string) => void;\n  onRemove: (id: string) => void;\n}\n\nexport function GoalQueue({ items, onAdd, onRemove }: GoalQueueProps) {\n  const [val, setVal] = React.useState(\"\");\n  const inputId = React.useId();\n  const isCoarsePointer = useCoarsePointer();\n  const revealOnInteractionClass = isCoarsePointer\n    ? \"opacity-100\"\n    : \"opacity-0 group-hover:opacity-100 group-focus-within:opacity-100 focus-visible:opacity-100\";\n\n  function submit(e: React.FormEvent) {\n    e.preventDefault();\n    const t = val.trim();\n    if (!t) return;\n    onAdd(t);\n    setVal(\"\");\n  }\n\n  return (\n    <SectionCard className=\"card-neo-soft\">\n      <SectionCard.Header\n        title=\"Goal Queue\"\n        titleClassName=\"text-title font-semibold tracking-[-0.01em]\"\n      />\n      <SectionCard.Body className=\"grid gap-[var(--space-6)]\">\n          <ul className=\"divide-y divide-border/10\">\n            {items.length === 0 ? (\n              <li className=\"py-[var(--space-3)] text-ui font-medium text-muted-foreground\">No queued goals</li>\n            ) : (\n              items.map((it) => {\n                const created = new Date(it.createdAt);\n\n                const goalLabel = formatGoalLabel(it.text);\n                const deleteLabel = `Delete queued goal ${goalLabel}`;\n\n                return (\n                  <li key={it.id} className=\"group flex items-center gap-[var(--space-2)] py-[var(--space-3)]\">\n                    <span\n                      className=\"h-[var(--space-2)] w-[var(--space-2)] rounded-full bg-foreground/40\"\n                      aria-hidden\n                    />\n                    <p className=\"flex-1 truncate text-ui font-medium\">{it.text}</p>\n                    <time\n                      className={cn(\n                        \"text-label font-medium tracking-[0.02em] text-muted-foreground\",\n                        revealOnInteractionClass,\n                      )}\n                      dateTime={created.toISOString()}\n                    >\n                      {shortDate.format(created)}\n                    </time>\n                    <div className=\"flex items-center gap-[var(--space-1)] ml-[var(--space-2)]\">\n                      <IconButton\n                        title={deleteLabel}\n                        aria-label={deleteLabel}\n                        onClick={() => onRemove(it.id)}\n                        size=\"sm\"\n                        iconSize=\"sm\"\n                        variant=\"quiet\"\n                        className={revealOnInteractionClass}\n                      >\n                        <Trash2 />\n                      </IconButton>\n                    </div>\n                  </li>\n                );\n              })\n            )}\n          </ul>\n\n          <form onSubmit={submit} className=\"flex items-center gap-[var(--space-2)] pt-[var(--space-3)]\">\n            <span\n              className=\"h-[var(--space-2)] w-[var(--space-2)] rounded-full bg-foreground/40\"\n              aria-hidden\n            />\n            <label className=\"sr-only\" htmlFor={inputId}>\n              Add to queue and press Enter\n            </label>\n            <Input\n              id={inputId}\n              className=\"flex-1 text-ui font-medium\"\n              height=\"sm\"\n              value={val}\n              onChange={(e) => setVal(e.currentTarget.value)}\n              placeholder=\"Add to queue and press Enter\"\n            />\n          </form>\n        </SectionCard.Body>\n      </SectionCard>\n    );\n  }\n\n","import type { Dispatch, SetStateAction } from \"react\";\n\nimport { usePersistentState } from \"@/lib/db\";\n\nexport function usePersistentTab<T extends string>(\n  storageKey: string,\n  defaultValue: T,\n  decode: (value: unknown) => T | null,\n): readonly [T, Dispatch<SetStateAction<T>>] {\n  const [value, setValue] = usePersistentState<T>(storageKey, defaultValue, { decode });\n  return [value, setValue] as const;\n}\n","// src/components/team/Reminders.tsx\n\"use client\";\n\n/**\n * Team Reminders (Lavender-Glitch, neon-outlined)\n * - Local-first via usePersistentState(\"team.reminders.v1\")\n * - Search + group chips + pinned toggle\n * - Add / duplicate / delete / reset curated seeds\n * - Inline edit (Enter saves, Esc cancels)\n * - Cards use glitch-card border\n * - Quick Add (input + button + neon quote) now lives in the SAME panel as the cards (SectionCard.Body)\n */\n\n\nimport * as React from \"react\";\nimport { SectionCard } from \"@/components/ui/layout/SectionCard\";\nimport { Button } from \"@/components/ui/primitives/Button\";\nimport { Input } from \"@/components/ui/primitives/Input\";\nimport { Textarea } from \"@/components/ui/primitives/Textarea\";\nimport { Badge } from \"@/components/ui/primitives/Badge\";\nimport { IconButton } from \"@/components/ui/primitives/IconButton\";\nimport { TabBar } from \"@/components/ui/layout/TabBar\";\nimport { SegmentedButton } from \"@/components/ui/primitives/SegmentedButton\";\nimport { uid, usePersistentState } from \"@/lib/db\";\nimport useAutoFocus from \"@/lib/useAutoFocus\";\nimport useDebouncedCallback from \"@/lib/useDebouncedCallback\";\nimport { cn } from \"@/lib/utils\";\nimport { GOAL_TEXTAREA_MIN_HEIGHT_CLASS, GOALS_STICKY_TOP_CLASS } from \"./constants\";\nimport {\n  Search,\n  Plus,\n  Pin,\n  PinOff,\n  Pencil,\n  Check,\n  X,\n  Trash2,\n  Copy,\n} from \"lucide-react\";\n\ntype Source = \"MLA\" | \"BLA\" | \"BrokenByConcept\" | \"Custom\";\ntype Group = \"quick\" | \"pregame\" | \"laning\" | \"trading\" | \"tempo\" | \"review\";\n\nexport type Reminder = {\n  id: string;\n  title: string;\n  body?: string;\n  tags: string[];\n  source: Source;\n  group: Group;\n  pinned?: boolean;\n  createdAt: number;\n  updatedAt: number;\n};\n\nconst STORE_KEY = \"team.reminders.v1\";\n\n/* ---------- curated seeds ---------- */\nfunction R(\n  title: string,\n  body: string,\n  tags: string[],\n  source: Source,\n  group: Group,\n  pinned = false\n): Reminder {\n  const now = Date.now();\n  return {\n    id: uid(\"rem\"),\n    title,\n    body,\n    tags,\n    source,\n    group,\n    pinned,\n    createdAt: now,\n    updatedAt: now,\n  };\n}\n\nconst SEEDS: Reminder[] = [\n  R(\"Hit 2 first\", \"Push 3 melees  step up together or respect if losing push.\", [\"Level 2\",\"Bot\"], \"BLA\", \"quick\", true),\n  R(\"Jungle start check\", \"Track start  first gank lane  second spawn prio.\", [\"Jungle Track\"], \"BrokenByConcept\", \"quick\", true),\n  R(\"3-wave plan\", \"Say it out loud: slow then crash 3 OR hold then thin/freeze.\", [\"Waves\"], \"BLA\", \"pregame\"),\n  R(\"Ward at 2:30\", \"River/tri on 2:30. Sweep before shove windows.\", [\"Vision\"], \"BrokenByConcept\", \"pregame\"),\n  R(\"Space with casters\", \"Trade when your casters live; back off on enemy wave.\", [\"Trading\",\"Wave\"], \"BLA\", \"laning\"),\n  R(\"CD punish\", \"Trade on enemy spell/CD gaps. Count sums for all-ins.\", [\"Timers\"], \"MLA\", \"trading\"),\n  R(\"Good recall\", \"Shove  recall on spike  arrive first to river.\", [\"Tempo\"], \"BrokenByConcept\", \"tempo\"),\n  R(\"Death audit\", \"Why did you die? Wave, vision, jungle, greed. Name fix.\", [\"Review\"], \"BLA\", \"review\"),\n];\n\nconst GROUP_TABS: Array<{ key: Group | \"all\"; label: string }> = [\n  { key: \"all\", label: \"All\" },\n  { key: \"quick\", label: \"Quick\" },\n  { key: \"pregame\", label: \"Pre-Game\" },\n  { key: \"laning\", label: \"Laning\" },\n  { key: \"trading\", label: \"Trading\" },\n  { key: \"tempo\", label: \"Tempo\" },\n  { key: \"review\", label: \"Review\" },\n];\n\n/* ---------- component ---------- */\n\nexport function Reminders() {\n  const [items, setItems] = usePersistentState<Reminder[]>(STORE_KEY, SEEDS);\n  const [searchState, setSearchState] = React.useState(() => ({\n    input: \"\",\n    committed: \"\",\n  }));\n  const [onlyPinned, setOnlyPinned] = React.useState(false);\n  const [group, setGroup] = React.useState<Group | \"all\">(\"all\");\n  const [quickAdd, setQuickAdd] = React.useState(\"\"); // Quick Add text\n\n  const { input: searchInput, committed: query } = searchState;\n\n  const [commitQuery, cancelCommitQuery] = useDebouncedCallback(\n    (next: string) => {\n      setSearchState((prev) => {\n        if (prev.committed === next) {\n          return prev;\n        }\n        return { ...prev, committed: next };\n      });\n    },\n    300,\n  );\n\n  const handleSearchChange = React.useCallback(\n    (event: React.ChangeEvent<HTMLInputElement>) => {\n      const next = event.currentTarget.value;\n\n      setSearchState((prev) => {\n        if (next === \"\") {\n          if (prev.input === \"\" && prev.committed === \"\") {\n            return prev;\n          }\n          return { input: \"\", committed: \"\" };\n        }\n\n        if (prev.input === next) {\n          return prev;\n        }\n\n        return { ...prev, input: next };\n      });\n\n      if (next === \"\") {\n        cancelCommitQuery();\n        return;\n      }\n\n      commitQuery(next);\n    },\n    [commitQuery, cancelCommitQuery],\n  );\n\n  const filtered = React.useMemo(() => {\n    const q = query.trim().toLowerCase();\n    return items\n      .filter(r => (group === \"all\" ? true : r.group === group))\n      .filter(r => (onlyPinned ? r.pinned : true))\n      .filter(r => {\n        if (!q) return true;\n        const hay = [r.title, r.body ?? \"\", r.tags.join(\" \"), r.source, r.group].join(\" \").toLowerCase();\n        return hay.includes(q);\n      })\n      .sort((a, b) => {\n        if (!!b.pinned === !!a.pinned) return b.updatedAt - a.updatedAt;\n        return Number(b.pinned) - Number(a.pinned);\n      });\n  }, [items, group, onlyPinned, query]);\n\n  function addNewWithTitle(titleText?: string) {\n    const title = (titleText ?? \"New reminder\").trim();\n    if (!title) return;\n    const now = Date.now();\n    const chosenGroup: Group = group === \"all\" ? \"pregame\" : group;\n    const next: Reminder = {\n      id: uid(\"rem\"),\n      title,\n      body: \"\",\n      tags: [],\n      source: \"Custom\",\n      group: chosenGroup,\n      pinned: chosenGroup === \"quick\",\n      createdAt: now,\n      updatedAt: now,\n    };\n    setItems(prev => [next, ...prev]);\n  }\n\n  function addQuick() {\n    const t = quickAdd.trim();\n    if (!t) return;\n    addNewWithTitle(t);\n    setQuickAdd(\"\");\n  }\n\n  function patch(id: string, partial: Partial<Reminder>) {\n    setItems(prev => prev.map(r => (r.id === id ? { ...r, ...partial, updatedAt: Date.now() } : r)));\n  }\n  function del(id: string) { setItems(prev => prev.filter(r => r.id !== id)); }\n  function dup(id: string) {\n    setItems(prev => {\n      const src = prev.find(r => r.id === id);\n      if (!src) return prev;\n      const now = Date.now();\n      return [{ ...src, id: uid(\"rem\"), title: `${src.title} (copy)`, createdAt: now, updatedAt: now }, ...prev];\n    });\n  }\n  function resetSeeds() {\n    const now = Date.now();\n    setItems(SEEDS.map(s => ({ ...s, id: uid(\"rem\"), createdAt: now, updatedAt: now })));\n  }\n\n  return (\n    <div className=\"grid gap-[var(--space-3)]\">\n      <SectionCard className=\"card-neo-soft\">\n        <SectionCard.Header sticky topClassName={GOALS_STICKY_TOP_CLASS}>\n          {/* header row (no Quick Add here anymore) */}\n          <div className=\"flex flex-wrap items-center gap-[var(--space-2)] sm:gap-[var(--space-3)] w-full\">\n            {/* search */}\n            <div className=\"relative flex-1 min-w-[calc(var(--space-8)*3.5)]\">\n              <Search\n                aria-hidden\n                className=\"icon-md pointer-events-none absolute left-[var(--space-4)] top-1/2 -translate-y-1/2 text-muted-foreground opacity-70\"\n              />\n              <Input\n                aria-label=\"Search reminders\"\n                placeholder=\"Search title, text, tags\"\n                name=\"search-reminders\"\n                height=\"md\"\n                indent\n                value={searchInput}\n                onChange={handleSearchChange}\n              >\n                <span className=\"pointer-events-none absolute right-[var(--space-3)] top-1/2 -translate-y-1/2 text-label font-medium tracking-[0.02em] text-muted-foreground\">\n                  {filtered.length}\n                </span>\n              </Input>\n            </div>\n\n            {/* groups */}\n            <TabBar\n              items={GROUP_TABS.map(t => ({ key: String(t.key), label: t.label }))}\n              value={String(group)}\n              onValueChange={(k) => setGroup((k === \"all\" ? \"all\" : k) as Group | \"all\")}\n              size=\"md\"\n              ariaLabel=\"Group filter\"\n              linkPanels={false}\n            />\n\n            {/* pinned */}\n            <SegmentedButton\n              className=\"min-h-[var(--control-h-md)]\"\n              onClick={() => setOnlyPinned(v => !v)}\n              aria-pressed={onlyPinned}\n              title=\"Pinned only\"\n              selected={onlyPinned}\n            >\n              {onlyPinned ? <PinOff className=\"mr-[var(--space-1)]\" /> : <Pin className=\"mr-[var(--space-1)]\" />}\n              {onlyPinned ? \"Pinned only\" : \"Any pin\"}\n            </SegmentedButton>\n\n            {/* actions */}\n            <SegmentedButton\n              className=\"min-h-[var(--control-h-md)]\"\n              onClick={resetSeeds}\n              title=\"Replace with curated seeds\"\n            >\n              Reset\n            </SegmentedButton>\n          </div>\n        </SectionCard.Header>\n\n        {/* Panel body now holds Quick Add + neon quote + cards grid */}\n        <SectionCard.Body className=\"grid gap-[var(--space-3)]\">\n          {/* Quick Add row (in the SAME panel as cards) */}\n          <div\n            className=\"flex flex-col gap-[var(--space-3)] sm:flex-row sm:items-center sm:justify-between sm:gap-[var(--space-4)] sm:p-[var(--space-4)]\"\n          >\n            <div className=\"flex flex-col gap-[var(--space-2)] sm:flex-row sm:items-center sm:gap-[var(--space-3)] sm:flex-1\">\n              <Input\n                aria-label=\"Quick add\"\n                placeholder={`Quick add to ${group === \"all\" ? \"Pre-Game\" : group.charAt(0).toUpperCase() + group.slice(1)}`}\n                name=\"quick-reminder\"\n                value={quickAdd}\n                onChange={(e) => setQuickAdd(e.currentTarget.value)}\n                onKeyDown={(e) => { if (e.key === \"Enter\") { e.preventDefault(); addQuick(); } }}\n                className=\"w-full sm:flex-1\"\n              />\n              <IconButton\n                title=\"Add quick\"\n                aria-label=\"Add quick\"\n                onClick={addQuick}\n                size=\"md\"\n                variant=\"default\"\n                className=\"sm:flex-none\"\n              >\n                <Plus />\n              </IconButton>\n            </div>\n            <p\n              className=\"text-balance text-label font-medium tracking-[0.02em] italic text-muted-foreground sm:text-ui sm:flex-1\"\n            >\n              Stop procrastinating, do it now if you have time\n            </p>\n          </div>\n\n          {/* Cards grid */}\n          <div className=\"grid card-neo-soft gap-[var(--space-3)] sm:gap-[var(--space-4)] md:grid-cols-12\">\n            {filtered.map((r) => (\n              <div key={r.id} className=\"md:col-span-6\">\n                <ReminderCard\n                  value={r}\n                  onChange={(p) => patch(r.id, p)}\n                  onDelete={() => del(r.id)}\n                  onDuplicate={() => dup(r.id)}\n                />\n              </div>\n            ))}\n\n            {filtered.length === 0 && (\n              <p className=\"text-ui font-medium text-muted-foreground\">\n                Nothing here. Add one or relax your filters.\n              </p>\n            )}\n          </div>\n        </SectionCard.Body>\n      </SectionCard>\n    </div>\n  );\n}\n\n/* ---------- Card ---------- */\n\nfunction ReminderCard({\n  value,\n  onChange,\n  onDelete,\n  onDuplicate,\n}: {\n  value: Reminder;\n  onChange: (partial: Partial<Reminder>) => void;\n  onDelete: () => void;\n  onDuplicate: () => void;\n}) {\n  const [editing, setEditing] = React.useState(false);\n  const [title, setTitle] = React.useState(value.title);\n  const [body, setBody] = React.useState(value.body ?? \"\");\n  const [tagsText, setTagsText] = React.useState(value.tags.join(\", \"));\n  const titleRef = React.useRef<HTMLInputElement | null>(null);\n\n  useAutoFocus({ ref: titleRef, when: editing });\n\n  function save() {\n    const cleanTags = tagsText.split(\",\").map(t => t.trim()).filter(Boolean);\n    onChange({ title: title.trim() || \"Untitled\", body: body.trim(), tags: cleanTags });\n    setEditing(false);\n  }\n  function cancel() {\n    setTitle(value.title); setBody(value.body ?? \"\"); setTagsText(value.tags.join(\", \")); setEditing(false);\n  }\n\n  const trimmedEditingTitle = title.trim();\n  const currentTitle = trimmedEditingTitle || value.title.trim() || \"Untitled reminder\";\n  const deleteLabel = `Delete ${currentTitle}`;\n  const duplicateLabel = `Duplicate ${currentTitle}`;\n  const saveLabel = `Save ${currentTitle}`;\n  const cancelLabel = `Cancel ${currentTitle}`;\n\n  return (\n    <article className=\"card-neo rounded-card p-[var(--space-4)] sm:p-[var(--space-5)] relative\">\n      {value.pinned && (\n        <span aria-hidden className=\"absolute inset-y-[var(--space-3)] left-0 w-0.5 rounded-full bg-primary/55\" />\n      )}\n\n      <div className=\"flex items-center justify-between gap-[var(--space-2)] mb-[var(--space-2)]\">\n        {editing ? (\n          <Input\n            ref={titleRef}\n            value={title}\n            onChange={(e) => setTitle(e.currentTarget.value)}\n            onKeyDown={(e) => {\n              if (e.key === \"Enter\") save();\n              if (e.key === \"Escape\") cancel();\n            }}\n            aria-label=\"Title\"\n            className=\"font-semibold\"\n          />\n        ) : (\n          <div className=\"flex items-center gap-[var(--space-2)] min-w-0\">\n            <h3 className=\"font-semibold title-glow truncate\" title={value.title}>\n              {value.title}\n            </h3>\n            <Button\n              size=\"sm\"\n              variant=\"quiet\"\n              onClick={() => setEditing(true)}\n              aria-label={value.title ? `Edit reminder ${value.title}` : \"Edit reminder\"}\n              className=\"shrink-0\"\n            >\n              <Pencil aria-hidden=\"true\" />\n              Edit\n            </Button>\n          </div>\n        )}\n\n        <div className=\"card-neo flex items-center gap-[var(--space-1)]\">\n          <IconButton\n            title={value.pinned ? \"Unpin\" : \"Pin\"}\n            aria-label={value.pinned ? \"Unpin\" : \"Pin\"}\n            onClick={() => onChange({ pinned: !value.pinned })}\n            size=\"sm\"\n            iconSize=\"sm\"\n          >\n            {value.pinned ? <PinOff /> : <Pin />}\n          </IconButton>\n          <IconButton\n            title={duplicateLabel}\n            aria-label={duplicateLabel}\n            onClick={onDuplicate}\n            size=\"sm\"\n            iconSize=\"sm\"\n          >\n            <Copy />\n          </IconButton>\n          {editing ? (\n            <>\n              <IconButton\n                title={`${saveLabel} (Enter)`}\n                aria-label={saveLabel}\n                onClick={save}\n                size=\"sm\"\n                iconSize=\"sm\"\n              >\n                <Check />\n              </IconButton>\n              <IconButton\n                title={`${cancelLabel} (Esc)`}\n                aria-label={cancelLabel}\n                onClick={cancel}\n                size=\"sm\"\n                iconSize=\"sm\"\n              >\n                <X />\n              </IconButton>\n            </>\n          ) : (\n            <>\n              <IconButton\n                title={deleteLabel}\n                aria-label={deleteLabel}\n                onClick={onDelete}\n                size=\"sm\"\n                iconSize=\"sm\"\n              >\n                <Trash2 />\n              </IconButton>\n            </>\n          )}\n        </div>\n      </div>\n\n      <div className=\"space-y-[var(--space-3)]\">\n        {editing ? (\n          <>\n            <Textarea\n              aria-label=\"Body\"\n              placeholder=\"Short, skimmable sentence. Keep it actionable.\"\n              value={body}\n              onChange={(e) => setBody(e.currentTarget.value)}\n              textareaClassName={cn(GOAL_TEXTAREA_MIN_HEIGHT_CLASS)}\n            />\n            <Input\n              aria-label=\"Tags (comma separated)\"\n              placeholder=\"tags, comma, separated\"\n              value={tagsText}\n              onChange={(e) => setTagsText(e.currentTarget.value)}\n            />\n            <div className=\"select-neo-wrap\">\n              <select\n                className=\"select-neo\"\n                value={value.group}\n                onChange={(e) => onChange({ group: e.currentTarget.value as Group })}\n                aria-label=\"Category\"\n              >\n                <option value=\"pregame\">Pre-Game</option>\n                <option value=\"laning\">Laning</option>\n                <option value=\"trading\">Trading</option>\n                <option value=\"tempo\">Tempo</option>\n                <option value=\"review\">Review</option>\n                <option value=\"quick\">Quick (pinned)</option>\n              </select>\n            </div>\n          </>\n        ) : (\n          <>\n            {value.body ? (\n              <p className=\"text-ui font-medium leading-6 text-muted-foreground\">{value.body}</p>\n            ) : (\n              <p className=\"text-ui font-medium text-muted-foreground/80\">No text. Click to edit.</p>\n            )}\n            <div className=\"flex flex-wrap items-center gap-[var(--space-2)] pt-[var(--space-1)]\">\n              {value.tags.map((t) => <span key={t} className=\"pill\">{t}</span>)}\n              <Badge size=\"sm\" tone=\"neutral\" className=\"opacity-75\">{value.group}</Badge>\n              <Badge\n                size=\"sm\"\n                tone={\n                  value.source === \"MLA\" ? \"primary\"\n                  : value.source === \"BLA\" ? \"accent\"\n                  : value.source === \"BrokenByConcept\" ? \"top\"\n                  : \"neutral\"\n                }\n              >\n                {value.source}\n              </Badge>\n            </div>\n          </>\n        )}\n      </div>\n    </article>\n  );\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"neonTonePrimary\":\"ReminderQuickAddForm_neonTonePrimary__qRLgg\",\"neonToneLife\":\"ReminderQuickAddForm_neonToneLife__MpYfq\",\"form\":\"ReminderQuickAddForm_form__yzrMK\",\"fields\":\"ReminderQuickAddForm_fields__79YNu\",\"noteWrap\":\"ReminderQuickAddForm_noteWrap__FsD_Q\",\"neonNote\":\"ReminderQuickAddForm_neonNote__trU_a\",\"neon-flicker\":\"ReminderQuickAddForm_neon-flicker__QuRN_\"};","import * as React from \"react\";\nimport { getRingMetrics, type RingSize } from \"@/lib/tokens\";\nimport { cn } from \"@/lib/utils\";\nimport RingNoiseDefs from \"./RingNoiseDefs\";\n\ninterface TimerRingIconProps {\n  pct: number; // 0..100\n  size?: number | RingSize;\n}\n\nconst DEFAULT_RING_SIZE: RingSize = \"l\";\n\nexport default function TimerRingIcon({\n  pct,\n  size,\n}: TimerRingIconProps) {\n  const uniqueId = React.useId();\n  const gradientId = `ring-gradient-${uniqueId}`;\n  const noiseFilterId = `ring-noise-${uniqueId}`;\n  const ringSize = typeof size === \"string\" ? size : DEFAULT_RING_SIZE;\n  const metrics = React.useMemo(() => getRingMetrics(ringSize), [ringSize]);\n  const resolvedSize = typeof size === \"number\" ? size : metrics.diameter;\n  const strokeWidth = metrics.stroke;\n  const trackInset = metrics.inset;\n  const radius = Math.max(resolvedSize / 2 - trackInset, 0);\n  const circumference = 2 * Math.PI * radius;\n  const offset = circumference - (pct / 100) * circumference;\n  const pulse = pct >= 90;\n  const accessibleLabel = `Timer ${pct}% complete`;\n  return (\n    <svg\n      className=\"h-full w-full rotate-[-90deg]\"\n      viewBox={`0 0 ${resolvedSize} ${resolvedSize}`}\n      role=\"img\"\n      aria-label={accessibleLabel}\n    >\n      <defs>\n        <RingNoiseDefs id={noiseFilterId} />\n        <linearGradient id={gradientId} x1=\"0%\" y1=\"0%\" x2=\"100%\" y2=\"0%\">\n          <stop offset=\"0%\" stopColor=\"hsl(var(--accent-1))\" />\n          <stop offset=\"100%\" stopColor=\"hsl(var(--accent-2))\" />\n        </linearGradient>\n      </defs>\n      <circle\n        cx={resolvedSize / 2}\n        cy={resolvedSize / 2}\n        r={radius}\n        stroke=\"hsl(var(--card-hairline))\"\n        strokeWidth={strokeWidth}\n        fill=\"none\"\n      />\n      <circle\n        cx={resolvedSize / 2}\n        cy={resolvedSize / 2}\n        r={radius}\n        stroke={`url(#${gradientId})`}\n        strokeWidth={strokeWidth}\n        strokeLinecap=\"round\"\n        strokeDasharray={circumference}\n        strokeDashoffset={offset}\n        className={cn(\n          \"drop-shadow-[0_0_calc(var(--space-3)/2)_hsl(var(--neon-soft))] transition-[stroke-dashoffset] duration-motion-sm ease-linear motion-reduce:transition-none\",\n          pulse && \"motion-safe:animate-pulse motion-reduce:animate-none\",\n        )}\n        filter={`url(#${noiseFilterId})`}\n        fill=\"none\"\n      />\n    </svg>\n  );\n}\n","\"use client\";\n\nimport * as React from \"react\";\n\nimport TimerRingIcon from \"@/icons/TimerRingIcon\";\nimport type { RingSize } from \"@/lib/tokens\";\nimport { cn } from \"@/lib/utils\";\n\ninterface TimerRingProps {\n  pct: number; // 0..100\n  className?: string;\n  size?: number | RingSize;\n}\n\nexport function TimerRing({\n  pct,\n  className,\n  size,\n}: TimerRingProps) {\n  const customSizeValue = React.useMemo(() => {\n    if (size == null) {\n      return null;\n    }\n    if (typeof size === \"number\") {\n      return Number.isFinite(size) ? `${size}px` : null;\n    }\n\n    return `var(--ring-diameter-${size})`;\n  }, [size]);\n  const hasCustomSize = customSizeValue !== null;\n  const ringIconSize =\n    typeof size === \"number\"\n      ? Number.isFinite(size)\n        ? size\n        : undefined\n      : size;\n\n  const customStyle = React.useMemo<\n    (React.CSSProperties & Record<string, string>) | undefined\n  >(() => {\n    if (!hasCustomSize || !customSizeValue) {\n      return undefined;\n    }\n    return {\n      \"--timer-ring-size\": customSizeValue,\n    };\n  }, [customSizeValue, hasCustomSize]);\n\n  return (\n    <div\n      className={cn(\n        \"relative aspect-square\",\n        className ?? \"size-[var(--timer-ring-size,var(--ring-diameter-l))]\",\n      )}\n      style={customStyle}\n    >\n      <TimerRingIcon pct={pct} size={ringIconSize} />\n    </div>\n  );\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"ReminderFilters_root__h9JIl\",\"primaryRow\":\"ReminderFilters_primaryRow__Q0Rhq\",\"searchShell\":\"ReminderFilters_searchShell___h7h0\",\"searchInput\":\"ReminderFilters_searchInput__wjGup\",\"searchIcon\":\"ReminderFilters_searchIcon__iQmoH\",\"groupRow\":\"ReminderFilters_groupRow__yhCfB\",\"tabBar\":\"ReminderFilters_tabBar__jjPkN\",\"tabList\":\"ReminderFilters_tabList__mG72J\",\"toggle\":\"ReminderFilters_toggle__HXBTv\",\"secondaryRow\":\"ReminderFilters_secondaryRow__Tup_k\",\"secondaryTabs\":\"ReminderFilters_secondaryTabs___odB5\",\"pinButton\":\"ReminderFilters_pinButton__8bY9c\"};","// src/components/goals/DurationSelector.tsx\n\"use client\";\n\nimport * as React from \"react\";\nimport { cn } from \"@/lib/utils\";\n\nexport type DurationSelectorProps = {\n  options?: number[];\n  value?: number;\n  onChange?: (value: number) => void;\n  disabled?: boolean;\n  className?: string;\n};\n\nconst DEFAULT_OPTIONS = [10, 15, 20, 25, 30, 45, 60];\n\nexport function DurationSelector({\n  options = DEFAULT_OPTIONS,\n  value,\n  onChange,\n  disabled = false,\n  className,\n}: DurationSelectorProps) {\n  return (\n    <div\n      role=\"radiogroup\"\n      aria-disabled={disabled || undefined}\n      className={cn(\"flex flex-row gap-[var(--space-3)]\", className)}\n    >\n      {options.map((m) => {\n        const active = value === m;\n        return (\n          <button\n            key={m}\n            type=\"button\"\n            disabled={disabled}\n            onClick={() => !disabled && onChange?.(m)}\n            role=\"radio\"\n            aria-checked={active}\n            aria-disabled={disabled || undefined}\n            className={cn(\n              \"inline-flex h-[var(--control-h-sm)] items-center justify-center rounded-full px-[var(--space-3)] text-center text-ui font-medium\",\n              \"border transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring\",\n              active\n                ? \"border-accent bg-accent/20 font-semibold text-on-accent hover:bg-accent/20 hover:text-on-accent\"\n                : \"border-border/10 bg-foreground/5 text-muted-foreground hover:bg-foreground/10 hover:text-foreground\"\n            )}\n          >\n            {m}m\n          </button>\n        );\n      })}\n    </div>\n  );\n}\n","\"use client\";\n\nimport * as React from \"react\";\nimport {\n  SegmentedControl,\n  type SegmentedControlOption,\n} from \"@/components/ui/primitives/SegmentedControl\";\n\nexport type GoalsTabKey = \"goals\" | \"reminders\" | \"timer\";\n\nconst OPTIONS: ReadonlyArray<SegmentedControlOption<GoalsTabKey>> = [\n  { label: \"Goals\", value: \"goals\" },\n  { label: \"Reminders\", value: \"reminders\" },\n  { label: \"Timer\", value: \"timer\" },\n];\n\ninterface GoalsTabsProps {\n  value: GoalsTabKey;\n  onChange: (value: GoalsTabKey) => void;\n  idBase?: string;\n  className?: string;\n}\n\nexport function GoalsTabs({ value, onChange, idBase, className }: GoalsTabsProps) {\n  return (\n    <SegmentedControl<GoalsTabKey>\n      value={value}\n      onChange={onChange}\n      options={OPTIONS}\n      ariaLabel=\"Goals header mode\"\n      idBase={idBase}\n      className={className}\n    />\n  );\n}\n","\"use client\";\n\nimport * as React from \"react\";\n\nimport { GenericList } from \"@/components/lists/GenericList\";\nimport { IconButton, Input, Textarea, CheckCircle } from \"@/components/ui\";\nimport { Trash2, Pencil, X, Check } from \"lucide-react\";\nimport { cn } from \"@/lib/utils\";\nimport { shortDate } from \"@/lib/date\";\nimport type { Goal } from \"@/lib/types\";\n\nconst ICON_SM = \"size-[var(--icon-size-sm)]\";\n\ninterface GoalListProps {\n  goals: Goal[];\n  onToggleDone: (id: string) => void;\n  onRemove: (id: string) => void;\n  onUpdate: (\n    id: string,\n    updates: Pick<Goal, \"title\" | \"metric\" | \"notes\">,\n  ) => boolean;\n}\n\nexport function GoalList({\n  goals,\n  onToggleDone,\n  onRemove,\n  onUpdate,\n}: GoalListProps) {\n  const [editingId, setEditingId] = React.useState<string | null>(null);\n  const [draft, setDraft] = React.useState({\n    title: \"\",\n    metric: \"\",\n    notes: \"\",\n  });\n\n  const startEdit = React.useCallback((goal: Goal) => {\n    setEditingId(goal.id);\n    setDraft({\n      title: goal.title,\n      metric: goal.metric ?? \"\",\n      notes: goal.notes ?? \"\",\n    });\n  }, []);\n\n  const cancelEdit = React.useCallback(() => {\n    setEditingId(null);\n  }, []);\n\n  const saveEdit = React.useCallback(\n    (id: string) => {\n      const updated = onUpdate(id, {\n        title: draft.title,\n        metric: draft.metric || undefined,\n        notes: draft.notes || undefined,\n      });\n      if (updated) {\n        setEditingId(null);\n      }\n    },\n    [draft.metric, draft.notes, draft.title, onUpdate],\n  );\n\n  const updateDraft = React.useCallback(\n    (key: \"title\" | \"metric\" | \"notes\", value: string) => {\n      setDraft((prev) => ({ ...prev, [key]: value }));\n    },\n    [],\n  );\n\n  return (\n    <GenericList\n      items={goals}\n      className={cn(\n        \"[&>ul]:grid [&>ul]:grid-cols-1 [&>ul]:gap-[var(--space-4)] [&>ul]:space-y-0\",\n        \"[&>ul]:sm:grid-cols-2 [&>ul]:lg:grid-cols-3 [&>ul]:xl:grid-cols-4\",\n        \"[&>ul>li]:list-none [&>ul>li]:flex\",\n      )}\n      emptyState={\n        <div className=\"rounded-[var(--radius-md)] border border-card-hairline bg-[hsl(var(--surface-2))] p-[var(--space-4)] text-center text-muted-foreground shadow-neo\">\n          <p className=\"text-body font-semibold text-foreground\">No goals here.</p>\n          <p className=\"text-ui\">Add one simple, finishable thing.</p>\n        </div>\n      }\n      renderItem={(goal) => {\n        const isEditing = editingId === goal.id;\n        const headingId = `goal-${goal.id}-heading`;\n\n        return (\n          <article\n            className=\"card-pad flex min-h-[var(--space-6)] w-full flex-1 flex-col rounded-card border border-card-hairline-60 bg-surface text-card-foreground transition-colors focus-within:outline-none focus-within:ring-2 focus-within:ring-focus focus-within:ring-offset-2 focus-within:ring-offset-surface hover:bg-surface-2 focus-within:bg-surface-2\"\n          >\n            <header className=\"flex items-start justify-between gap-[var(--space-2)]\">\n              <div className=\"flex-1 pr-[var(--space-6)]\">\n                <h3\n                  id={headingId}\n                  className={cn(\n                    \"text-title font-semibold tracking-[-0.01em] leading-tight\",\n                    isEditing ? \"sr-only\" : \"line-clamp-2\",\n                  )}\n                >\n                  {isEditing\n                    ? draft.title || goal.title || \"Goal title\"\n                    : goal.title}\n                </h3>\n                {isEditing ? (\n                  <Input\n                    aria-labelledby={headingId}\n                    value={draft.title}\n                    onChange={(event) => updateDraft(\"title\", event.target.value)}\n                    className=\"font-semibold\"\n                    placeholder=\"Title\"\n                  />\n                ) : null}\n              </div>\n              <div className=\"flex items-center gap-[var(--space-2)]\">\n                {isEditing ? (\n                  <>\n                    <IconButton\n                      aria-label=\"Cancel\"\n                      onClick={cancelEdit}\n                      size=\"sm\"\n                      variant=\"quiet\"\n                      tone=\"accent\"\n                      className=\"transition-transform hover:-translate-y-0.5 motion-reduce:transition-none motion-reduce:transform-none\"\n                      iconSize=\"sm\"\n                    >\n                      <X aria-hidden className={ICON_SM} />\n                    </IconButton>\n                    <IconButton\n                      aria-label=\"Save\"\n                      onClick={() => saveEdit(goal.id)}\n                      size=\"sm\"\n                      variant=\"neo\"\n                      tone=\"accent\"\n                      className=\"transition-transform hover:-translate-y-0.5 motion-reduce:transition-none motion-reduce:transform-none\"\n                      iconSize=\"sm\"\n                    >\n                      <Check aria-hidden className={ICON_SM} />\n                    </IconButton>\n                  </>\n                ) : (\n                  <>\n                    <CheckCircle\n                      aria-label={goal.done ? \"Mark active\" : \"Mark done\"}\n                      checked={goal.done}\n                      onChange={() => onToggleDone(goal.id)}\n                      size=\"sm\"\n                      className=\"transition-transform hover:-translate-y-0.5 motion-reduce:transition-none motion-reduce:transform-none\"\n                    />\n                    <IconButton\n                      title=\"Edit\"\n                      aria-label=\"Edit goal\"\n                      onClick={() => startEdit(goal)}\n                      size=\"sm\"\n                      variant=\"quiet\"\n                      tone=\"accent\"\n                      className=\"transition-transform hover:-translate-y-0.5 motion-reduce:transition-none motion-reduce:transform-none\"\n                      iconSize=\"sm\"\n                    >\n                      <Pencil aria-hidden className={ICON_SM} />\n                    </IconButton>\n                    <IconButton\n                      title=\"Delete\"\n                      aria-label=\"Delete goal\"\n                      onClick={() => onRemove(goal.id)}\n                      size=\"sm\"\n                      variant=\"neo\"\n                      tone=\"accent\"\n                      className=\"transition-transform hover:-translate-y-0.5 motion-reduce:transition-none motion-reduce:transform-none\"\n                      iconSize=\"sm\"\n                    >\n                      <Trash2 aria-hidden className={ICON_SM} />\n                    </IconButton>\n                  </>\n                )}\n              </div>\n            </header>\n\n            <div className=\"mt-[var(--space-4)] space-y-[var(--space-2)] text-ui font-medium text-muted-foreground\">\n              {isEditing ? (\n                <div className=\"space-y-[var(--space-2)]\">\n                  <Input\n                    aria-label=\"Metric\"\n                    value={draft.metric}\n                    onChange={(event) => updateDraft(\"metric\", event.target.value)}\n                    className=\"tabular-nums\"\n                    placeholder=\"Metric\"\n                  />\n                  <Textarea\n                    aria-label=\"Notes\"\n                    value={draft.notes}\n                    onChange={(event) => updateDraft(\"notes\", event.target.value)}\n                    placeholder=\"Notes\"\n                    className=\"resize-none\"\n                    rows={3}\n                  />\n                </div>\n              ) : (\n                <>\n                  {goal.metric ? (\n                    <div className=\"tabular-nums\">\n                      <span className=\"opacity-70\">Metric:</span>{\" \"}\n                      {goal.metric}\n                    </div>\n                  ) : null}\n                  {goal.notes ? (\n                    <p className=\"text-body leading-relaxed\">{goal.notes}</p>\n                  ) : null}\n                </>\n              )}\n            </div>\n\n            <footer className=\"mt-auto flex items-center justify-between pt-[var(--space-3)] text-label font-medium tracking-[0.02em] text-muted-foreground\">\n              <span className=\"inline-flex items-center gap-[var(--space-2)]\">\n                <span\n                  aria-hidden\n                  className={cn(\n                    \"h-[var(--space-2)] w-[var(--space-2)] rounded-full transition-all\",\n                    goal.done\n                      ? \"bg-muted-foreground/40\"\n                      : \"bg-accent shadow-ring motion-safe:animate-pulse\",\n                  )}\n                />\n                <time\n                  className=\"tabular-nums\"\n                  dateTime={new Date(goal.createdAt).toISOString()}\n                >\n                  {shortDate.format(new Date(goal.createdAt))}\n                </time>\n              </span>\n              <span className={goal.done ? \"text-muted-foreground\" : \"text-accent-3\"}>\n                {goal.done ? \"Done\" : \"Active\"}\n              </span>\n            </footer>\n          </article>\n        );\n      }}\n    />\n  );\n}\n","\"use client\";\n\nimport { usePlanner } from \"@/components/planner\";\nimport { ACTIVE_CAP, decodeGoals, type AddGoalInput } from \"./goalsPersistence\";\n\nexport { ACTIVE_CAP, decodeGoals, type AddGoalInput };\n\nexport function useGoals() {\n  const { goals } = usePlanner();\n  return goals;\n}\n\n","\"use client\";\n\nimport * as React from \"react\";\nimport { Check, Pencil, Trash2, X } from \"lucide-react\";\nimport { cn } from \"@/lib/utils\";\nimport useAutoFocus from \"@/lib/useAutoFocus\";\nimport type { Goal } from \"@/lib/types\";\nimport { Badge } from \"@/components/ui\";\nimport { PILLAR_ICONS, pillarToLabel } from \"@/lib/pillarDetails\";\nimport { Input } from \"@/components/ui/primitives/Input\";\nimport { IconButton } from \"@/components/ui/primitives/IconButton\";\n\nconst ICON_SM = \"size-[var(--icon-size-sm)]\";\nconst ICON_MD = \"size-[var(--icon-size-md)]\";\n\ninterface GoalSlotProps {\n  goal?: Goal | null;\n  onToggleDone?: (id: string) => void;\n  onEdit?: (id: string, title: string) => void;\n  onDelete?: (id: string) => void;\n}\n\nexport function GoalSlot({\n  goal,\n  onToggleDone,\n  onEdit,\n  onDelete,\n}: GoalSlotProps) {\n  const [editing, setEditing] = React.useState(false);\n  const [draft, setDraft] = React.useState(\"\");\n  const inputRef = React.useRef<HTMLInputElement>(null);\n  const editButtonRef = React.useRef<HTMLButtonElement>(null);\n  const wasEditing = React.useRef(false);\n\n  useAutoFocus({ ref: inputRef, when: editing });\n\n  React.useEffect(() => {\n    if (!editing && wasEditing.current) {\n      editButtonRef.current?.focus();\n    }\n    wasEditing.current = editing;\n  }, [editing]);\n\n  function startEdit() {\n    if (!goal) return;\n    setDraft(goal.title);\n    setEditing(true);\n  }\n\n  function saveEdit() {\n    if (!goal || !onEdit) return;\n    const clean = draft.trim();\n    if (clean) onEdit(goal.id, clean);\n    setEditing(false);\n  }\n\n  function cancelEdit() {\n    setEditing(false);\n  }\n\n  function handleKeyDown(e: React.KeyboardEvent<HTMLInputElement>) {\n    if (e.key === \"Enter\") {\n      e.preventDefault();\n      saveEdit();\n    } else if (e.key === \"Escape\") {\n      e.preventDefault();\n      cancelEdit();\n    }\n  }\n\n  return (\n    <div className=\"group relative rounded-card r-card-lg border border-border bg-surface p-[var(--space-1)] shadow-depth-soft\">\n      <div\n        className={cn(\n          \"relative flex aspect-[4/3] w-full items-center justify-center rounded-card r-card-lg bg-surface-2 font-mono text-center text-ui font-medium text-foreground\",\n          goal?.done && \"bg-muted text-muted-foreground\",\n        )}\n      >\n        {goal ? (\n          editing ? (\n            <div className=\"flex w-full flex-col items-center gap-[var(--space-1)]\">\n              <Input\n                ref={inputRef}\n                value={draft}\n                onChange={(e) => setDraft(e.target.value)}\n                onKeyDown={handleKeyDown}\n                aria-label=\"Goal title\"\n                height=\"sm\"\n              />\n              <div className=\"flex items-center gap-[var(--space-1)]\">\n                <IconButton\n                  size=\"sm\"\n                  iconSize=\"sm\"\n                  tone=\"accent\"\n                  onClick={saveEdit}\n                  aria-label=\"Save goal title\"\n                >\n                  <Check aria-hidden className={ICON_SM} />\n                </IconButton>\n                <IconButton\n                  size=\"sm\"\n                  iconSize=\"sm\"\n                  tone=\"danger\"\n                  onClick={cancelEdit}\n                  aria-label=\"Cancel editing\"\n                >\n                  <X aria-hidden className={ICON_SM} />\n                </IconButton>\n              </div>\n            </div>\n          ) : (\n            <>\n              <div className=\"flex flex-col items-center gap-[var(--space-1)]\">\n                <span className={cn(\"block\", goal?.done && \"line-through\")}>\n                  {goal.title}\n                </span>\n                {goal.pillar && (\n                  <Badge className=\"gap-[var(--space-1)] bg-card/70\">\n                    {(() => {\n                      const Icon = PILLAR_ICONS[goal.pillar];\n                      return (\n                        <Icon\n                          aria-hidden\n                          className=\"h-[var(--space-4)] w-[var(--space-4)] text-muted-foreground\"\n                        />\n                      );\n                    })()}\n                    <span>{pillarToLabel(goal.pillar)}</span>\n                  </Badge>\n                )}\n              </div>\n                <IconButton\n                  size=\"sm\"\n                  iconSize=\"md\"\n                  tone={goal.done ? \"accent\" : \"primary\"}\n                  variant=\"quiet\"\n                  className=\"absolute bottom-[var(--space-1)] right-[var(--space-1)]\"\n                  aria-label={goal.done ? \"Mark goal undone\" : \"Mark goal done\"}\n                  aria-pressed={goal.done}\n                  onClick={() => onToggleDone?.(goal.id)}\n                >\n                  <Check aria-hidden className={ICON_MD} />\n                </IconButton>\n              <div\n                className=\"pointer-events-none absolute bottom-[var(--space-1)] left-[var(--space-1)] flex items-center gap-[var(--space-1)] opacity-0 transition-opacity duration-motion-sm ease-out group-hover:pointer-events-auto group-hover:opacity-100 group-focus-within:pointer-events-auto group-focus-within:opacity-100\"\n              >\n                <IconButton\n                  ref={editButtonRef}\n                  size=\"sm\"\n                  iconSize=\"sm\"\n                  variant=\"quiet\"\n                  aria-label=\"Edit goal\"\n                  title=\"Edit goal\"\n                  onClick={startEdit}\n                >\n                  <Pencil aria-hidden className={ICON_SM} />\n                </IconButton>\n                <IconButton\n                  size=\"sm\"\n                  iconSize=\"sm\"\n                  tone=\"danger\"\n                  variant=\"quiet\"\n                  aria-label=\"Delete goal\"\n                  title=\"Delete goal\"\n                  onClick={() => onDelete?.(goal.id)}\n                >\n                  <Trash2 aria-hidden className={ICON_SM} />\n                </IconButton>\n              </div>\n            </>\n          )\n        ) : (\n          <span className=\"text-label font-medium tracking-[0.02em] text-muted-foreground\">NO SIGNAL</span>\n        )}\n      </div>\n    </div>\n  );\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"ReminderList_card__7dLPm\",\"reminder-scanline\":\"ReminderList_reminder-scanline___e_jI\"};","\"use client\";\n\nimport * as React from \"react\";\nimport { TabBar } from \"@/components/ui/layout/TabBar\";\nimport { SegmentedButton } from \"@/components/ui/primitives/SegmentedButton\";\nimport { Input } from \"@/components/ui/primitives/Input\";\nimport { cn } from \"@/lib/utils\";\nimport { SlidersHorizontal, Pin, PinOff, Search } from \"lucide-react\";\n\nimport styles from \"./ReminderFilters.module.css\";\nimport { useReminders, Group, SourceFilter } from \"./useReminders\";\n\nexport function ReminderFilters() {\n  const {\n    showGroups,\n    groupTabs,\n    group,\n    setGroup,\n    toggleFilters,\n    showFilters,\n    sourceTabs,\n    source,\n    setSource,\n    onlyPinned,\n    togglePinned,\n    query,\n    setQuery,\n  } = useReminders();\n\n  const handleSearchChange = React.useCallback(\n    (event: React.ChangeEvent<HTMLInputElement>) => {\n      setQuery(event.currentTarget.value);\n    },\n    [setQuery],\n  );\n\n  return (\n    <div className={styles.root}>\n      <div className={styles.primaryRow}>\n        <div className={styles.searchShell}>\n          <Search aria-hidden className={styles.searchIcon} />\n          <Input\n            aria-label=\"Search reminders\"\n            placeholder=\"Search reminders\"\n            value={query}\n            onChange={handleSearchChange}\n            indent\n            height=\"md\"\n            className={cn(\"shadow-depth-soft\", styles.searchInput)}\n          />\n        </div>\n\n        <div className={styles.groupRow}>\n          {showGroups ? (\n            <TabBar\n              items={groupTabs}\n              value={group}\n              onValueChange={(key) => setGroup(key as Group)}\n              ariaLabel=\"Reminder group\"\n              size=\"md\"\n              align=\"start\"\n              className={styles.tabBar}\n              tablistClassName={styles.tabList}\n              variant=\"neo\"\n              linkPanels={false}\n            />\n          ) : null}\n\n          <SegmentedButton\n            className={cn(\"inline-flex items-center gap-[var(--space-2)]\", styles.toggle)}\n            onClick={toggleFilters}\n            aria-expanded={showFilters}\n            title=\"Filters\"\n            selected={showFilters}\n          >\n            <SlidersHorizontal className=\"icon-sm\" aria-hidden />\n            Filters\n          </SegmentedButton>\n        </div>\n      </div>\n\n      {showFilters ? (\n        <div className={styles.secondaryRow}>\n          <TabBar\n            items={sourceTabs}\n            value={source}\n            onValueChange={(key) => setSource(key as SourceFilter)}\n            ariaLabel=\"Reminder source filter\"\n            size=\"md\"\n            variant=\"neo\"\n            className={styles.secondaryTabs}\n            tablistClassName={styles.tabList}\n            linkPanels={false}\n          />\n          <SegmentedButton\n            onClick={togglePinned}\n            aria-pressed={onlyPinned}\n            title=\"Pinned only\"\n            selected={onlyPinned}\n            className={cn(\"inline-flex items-center gap-[var(--space-2)]\", styles.pinButton)}\n          >\n            {onlyPinned ? <PinOff className=\"icon-sm\" /> : <Pin className=\"icon-sm\" />}\n            {onlyPinned ? \"Pinned only\" : \"Any pin\"}\n          </SegmentedButton>\n        </div>\n      ) : null}\n    </div>\n  );\n}\n\n","\"use client\";\n\nimport * as React from \"react\";\nimport { Badge } from \"@/components/ui/primitives/Badge\";\nimport { Button } from \"@/components/ui/primitives/Button\";\nimport { IconButton } from \"@/components/ui/primitives/IconButton\";\nimport { Input } from \"@/components/ui/primitives/Input\";\nimport { SegmentedButton } from \"@/components/ui/primitives/SegmentedButton\";\nimport { Textarea } from \"@/components/ui/primitives/Textarea\";\nimport useAutoFocus from \"@/lib/useAutoFocus\";\nimport { capitalize, cn } from \"@/lib/utils\";\nimport { Pencil, Trash2, Pin, PinOff } from \"lucide-react\";\nimport { useReminders, Reminder, Group, Source, Domain } from \"./useReminders\";\nimport styles from \"./ReminderList.module.css\";\n\nexport function ReminderList() {\n  const { filtered, updateReminder, removeReminder } = useReminders();\n  const handleChange = React.useCallback(\n    (id: string, partial: Partial<Reminder>) => {\n      updateReminder(id, partial);\n    },\n    [updateReminder],\n  );\n  const handleDelete = React.useCallback(\n    (id: string) => {\n      removeReminder(id);\n    },\n    [removeReminder],\n  );\n\n  return (\n    <>\n      <div className=\"grid grid-cols-12 gap-[var(--space-3)]\">\n        {filtered.map((reminder) => (\n          <div key={reminder.id} className=\"col-span-12 md:col-span-6 lg:col-span-4\">\n            <RemTile\n              reminder={reminder}\n              onChange={handleChange}\n              onDelete={handleDelete}\n            />\n          </div>\n        ))}\n      </div>\n\n      {filtered.length === 0 && <EmptyState />}\n    </>\n  );\n}\n\nfunction EmptyState() {\n  return (\n    <div className=\"grid place-items-center rounded-card border border-card-hairline-60 bg-surface card-pad text-ui font-medium text-muted-foreground\">\n      <p>Nothing here. Add one clear sentence youll read in champ select.</p>\n    </div>\n  );\n}\n\ntype RemTileProps = {\n  reminder: Reminder;\n  onChange: (id: string, partial: Partial<Reminder>) => void;\n  onDelete: (id: string) => void;\n};\n\nfunction RemTileBase({ reminder, onChange, onDelete }: RemTileProps) {\n  const [editing, setEditing] = React.useState(false);\n  const [title, setTitle] = React.useState(reminder.title);\n  const [body, setBody] = React.useState(reminder.body ?? \"\");\n  const [tagsText, setTagsText] = React.useState(reminder.tags.join(\", \"));\n  const titleRef = React.useRef<HTMLInputElement | null>(null);\n  const noteFieldId = `reminder-${reminder.id}-note`;\n  const tagsFieldId = `reminder-${reminder.id}-tags`;\n\n  useAutoFocus({ ref: titleRef, when: editing });\n\n  React.useEffect(() => {\n    if (editing) {\n      return;\n    }\n\n    setTitle(reminder.title);\n    setBody(reminder.body ?? \"\");\n    setTagsText(reminder.tags.join(\", \"));\n  }, [editing, reminder.body, reminder.tags, reminder.title]);\n\n  const commitChange = React.useCallback(\n    (partial: Partial<Reminder>) => {\n      onChange(reminder.id, partial);\n    },\n    [onChange, reminder.id],\n  );\n\n  const handleDelete = React.useCallback(() => {\n    onDelete(reminder.id);\n  }, [onDelete, reminder.id]);\n\n  const save = React.useCallback(() => {\n    const cleanTags = tagsText\n      .split(\",\")\n      .map((tag) => tag.trim())\n      .filter(Boolean);\n    commitChange({\n      title: title.trim() || \"Untitled\",\n      body: body.trim(),\n      tags: cleanTags,\n    });\n    setEditing(false);\n  }, [body, commitChange, tagsText, title]);\n\n  const pinned = !!reminder.pinned;\n  const togglePinned = React.useCallback(() => {\n    commitChange({ pinned: !pinned });\n  }, [commitChange, pinned]);\n  const togglePinnedLabel = React.useMemo(() => {\n    const baseLabel = pinned ? \"Unpin reminder\" : \"Pin reminder\";\n    return reminder.title ? `${baseLabel} ${reminder.title}` : baseLabel;\n  }, [pinned, reminder.title]);\n  const deleteLabel = React.useMemo(() => {\n    const name = reminder.title.trim() || \"Untitled reminder\";\n    return `Delete ${name}`;\n  }, [reminder.title]);\n\n  return (\n    <article\n      className={cn(\n        \"group relative rounded-card r-card-lg border border-card-hairline-60 bg-surface card-pad transition-colors focus-within:bg-surface-2\",\n        styles.card,\n      )}\n    >\n      <div className=\"flex items-center justify-between gap-[var(--space-2)]\">\n        <div className=\"flex-1 min-w-0\">\n          {editing ? (\n            <Input\n              ref={titleRef}\n              value={title}\n              onChange={(event: React.ChangeEvent<HTMLInputElement>) =>\n                setTitle(event.currentTarget.value)\n              }\n              onKeyDown={(event: React.KeyboardEvent<HTMLInputElement>) =>\n                event.key === \"Enter\" && save()\n              }\n              aria-label=\"Title\"\n              className=\"font-semibold uppercase tracking-wide\"\n            />\n          ) : (\n            <div className=\"flex items-center gap-[var(--space-2)] min-w-0\">\n              <h4\n                className=\"font-semibold uppercase tracking-wide pr-[var(--space-2)] title-glow glitch leading-6 truncate\"\n                title={reminder.title}\n              >\n                {reminder.title}\n              </h4>\n              <Button\n                size=\"sm\"\n                variant=\"quiet\"\n                onClick={() => {\n                  setEditing(true);\n                }}\n                aria-label={\n                  reminder.title ? `Edit reminder ${reminder.title}` : \"Edit reminder\"\n                }\n                className=\"shrink-0\"\n              >\n                <Pencil aria-hidden=\"true\" />\n                Edit\n              </Button>\n            </div>\n          )}\n        </div>\n\n        <div className=\"flex items-center gap-[var(--space-1)]\">\n          <IconButton\n            title={deleteLabel}\n            aria-label={deleteLabel}\n            onClick={handleDelete}\n            size=\"sm\"\n            iconSize=\"sm\"\n            variant=\"quiet\"\n            className=\"opacity-0 pointer-events-none group-hover:opacity-100 group-hover:pointer-events-auto focus-visible:opacity-100 focus-visible:pointer-events-auto group-focus-within:opacity-100 group-focus-within:pointer-events-auto transition-opacity\"\n          >\n            <Trash2 />\n          </IconButton>\n\n          <IconButton\n            aria-pressed={pinned}\n            title={togglePinnedLabel}\n            aria-label={togglePinnedLabel}\n            onClick={togglePinned}\n            size=\"sm\"\n            iconSize=\"sm\"\n          >\n            {pinned ? <PinOff /> : <Pin />}\n          </IconButton>\n        </div>\n      </div>\n\n      <div className=\"mt-[var(--space-2)] space-y-[var(--space-3)]\">\n        {editing ? (\n          <>\n            <label\n              className=\"text-label font-medium tracking-[0.02em] opacity-70\"\n              htmlFor={noteFieldId}\n            >\n              Note\n            </label>\n            <Textarea\n              id={noteFieldId}\n              aria-label=\"Body\"\n              placeholder=\"Short, skimmable sentence.\"\n              value={body}\n              onChange={(event: React.ChangeEvent<HTMLTextAreaElement>) =>\n                setBody(event.currentTarget.value)\n              }\n              className=\"rounded-[var(--radius-2xl)]\"\n              resize=\"resize-y\"\n              textareaClassName=\"min-h-[calc(var(--space-8)*2_+_var(--space-3))] leading-relaxed\"\n            />\n            <label\n              className=\"text-label font-medium tracking-[0.02em] opacity-70\"\n              htmlFor={tagsFieldId}\n            >\n              Tags\n            </label>\n            <Input\n              id={tagsFieldId}\n              aria-label=\"Tags (comma separated)\"\n              placeholder=\"tags, comma, separated\"\n              value={tagsText}\n              onChange={(event: React.ChangeEvent<HTMLInputElement>) =>\n                setTagsText(event.currentTarget.value)\n              }\n            />\n\n            <div className=\"segmented flex flex-wrap -m-[var(--space-1)]\">\n              {(\n                [\n                  \"pregame\",\n                  \"laning\",\n                  \"trading\",\n                  \"tempo\",\n                  \"review\",\n                  \"quick\",\n                ] as Group[]\n              ).map((groupKey) => (\n                <SegmentedButton\n                  key={groupKey}\n                  onClick={() => commitChange({ group: groupKey })}\n                  selected={reminder.group === groupKey}\n                  className=\"m-[var(--space-1)]\"\n                >\n                  {groupKey === \"pregame\" ? \"Pre-Game\" : capitalize(groupKey)}\n                </SegmentedButton>\n              ))}\n            </div>\n\n            <div className=\"segmented flex flex-wrap -m-[var(--space-1)]\">\n              {([\"MLA\", \"BLA\", \"BrokenByConcept\", \"Custom\"] as Source[]).map(\n                (sourceKey) => (\n                  <SegmentedButton\n                    key={sourceKey}\n                    onClick={() => commitChange({ source: sourceKey })}\n                    selected={reminder.source === sourceKey}\n                    className=\"m-[var(--space-1)]\"\n                  >\n                    {sourceKey}\n                  </SegmentedButton>\n                ),\n              )}\n            </div>\n\n            <div className=\"segmented flex flex-wrap -m-[var(--space-1)]\">\n              {([\"Life\", \"League\", \"Learn\"] as Domain[]).map((domainKey) => (\n                <SegmentedButton\n                  key={domainKey}\n                  onClick={() => commitChange({ domain: domainKey })}\n                  selected={(reminder.domain ?? \"League\") === domainKey}\n                  className=\"m-[var(--space-1)]\"\n                >\n                  {domainKey}\n                </SegmentedButton>\n              ))}\n            </div>\n\n            <div className=\"flex flex-col gap-[var(--space-2)] sm:flex-row sm:items-center sm:gap-[var(--space-2)]\">\n              <Button size=\"sm\" onClick={save} className=\"w-full sm:w-auto\">\n                Save\n              </Button>\n              <Button\n                size=\"sm\"\n                variant=\"quiet\"\n                onClick={() => {\n                  setEditing(false);\n                  setTitle(reminder.title);\n                  setBody(reminder.body ?? \"\");\n                  setTagsText(reminder.tags.join(\", \"));\n                }}\n                className=\"w-full sm:w-auto\"\n              >\n                Cancel\n              </Button>\n            </div>\n          </>\n        ) : (\n          <>\n            <p className=\"text-ui font-medium\">\n              <span className=\"opacity-70\">Note:</span>{\" \"}\n              {reminder.body || (\n                <span className=\"opacity-60\">\n                  No text. Click title to edit.\n                </span>\n              )}\n            </p>\n\n            <div className=\"mt-[var(--space-1)] flex items-center justify-between text-ui font-medium\">\n              <div className=\"flex items-center gap-[var(--space-2)]\">\n                <span\n                  aria-hidden=\"true\"\n                  className=\"inline-block size-[var(--space-2)] rounded-full bg-accent-overlay\"\n                />\n                <span className=\"text-label font-medium tracking-[0.02em]\">{fmtDate(reminder.createdAt)}</span>\n              </div>\n\n              <Badge\n                as=\"button\"\n                interactive\n                tone=\"primary\"\n                size=\"sm\"\n                onClick={togglePinned}\n                title={togglePinnedLabel}\n                aria-label={togglePinnedLabel}\n                aria-pressed={pinned}\n                selected={pinned}\n              >\n                {pinned ? \"Pinned\" : \"Pin\"}\n              </Badge>\n            </div>\n          </>\n        )}\n      </div>\n    </article>\n  );\n}\n\nconst RemTile = React.memo(RemTileBase);\nRemTile.displayName = \"RemTile\";\n\nfunction pad(value: number) {\n  return value < 10 ? `0${value}` : `${value}`;\n}\n\nfunction fmtDate(timestamp: number) {\n  const date = new Date(timestamp);\n  return `${pad(date.getDate())}/${pad(date.getMonth() + 1)}/${date.getFullYear()}`;\n}\n\n","\"use client\";\n\nimport * as React from \"react\";\nimport { Label } from \"@/components/ui/Label\";\nimport { Input } from \"@/components/ui/primitives/Input\";\nimport { IconButton } from \"@/components/ui/primitives/IconButton\";\nimport { Plus } from \"lucide-react\";\nimport { cn } from \"@/lib/utils\";\nimport { useReminders } from \"./useReminders\";\nimport styles from \"./ReminderQuickAddForm.module.css\";\n\nexport function ReminderQuickAddForm() {\n  const {\n    quickAdd,\n    setQuickAdd,\n    addReminder,\n    group,\n    groups,\n    neonClass,\n    quickAddError,\n    clearQuickAddError,\n    setQuickAddError,\n  } = useReminders();\n\n  const inputRef = React.useRef<HTMLInputElement>(null);\n  const inputId = React.useId();\n  const errorId = quickAddError ? `${inputId}-error` : undefined;\n\n  const groupLabel = React.useMemo(() => {\n    return groups.find((item) => item.key === group)?.label ?? \"Group\";\n  }, [groups, group]);\n\n  const neonToneClass = React.useMemo(() => {\n    return neonClass === \"neon-life\" ? styles.neonToneLife : styles.neonTonePrimary;\n  }, [neonClass]);\n\n  const handleSubmit = React.useCallback(\n    (event: React.FormEvent<HTMLFormElement>) => {\n      event.preventDefault();\n      const trimmed = quickAdd.trim();\n      if (!trimmed) {\n        setQuickAddError(\"Enter a reminder before adding.\");\n        return;\n      }\n      const added = addReminder(trimmed);\n      if (added) {\n        inputRef.current?.focus({ preventScroll: true });\n      }\n    },\n    [addReminder, quickAdd, setQuickAddError],\n  );\n\n  const handleChange = React.useCallback(\n    (event: React.ChangeEvent<HTMLInputElement>) => {\n      if (quickAddError) {\n        clearQuickAddError();\n      }\n      setQuickAdd(event.currentTarget.value);\n    },\n    [clearQuickAddError, quickAddError, setQuickAdd],\n  );\n\n  return (\n    <>\n      <form\n        onSubmit={handleSubmit}\n        className={cn(\n          \"card-neo-soft rounded-card r-card-lg border border-card-hairline-60 bg-surface shadow-depth-soft\",\n          styles.form,\n        )}\n      >\n        <div className={cn(styles.fields)}>\n          <Label htmlFor={inputId} className=\"sr-only\">\n            Quick add reminder\n          </Label>\n          <Input\n            ref={inputRef}\n            id={inputId}\n            aria-label=\"Quick add reminder\"\n            placeholder={`Quick add to ${groupLabel}`}\n            value={quickAdd}\n            onChange={handleChange}\n            aria-describedby={errorId}\n            height=\"md\"\n            className=\"w-full shadow-depth-soft\"\n          />\n          <IconButton\n            title=\"Add quick\"\n            aria-label=\"Add quick\"\n            type=\"submit\"\n            size=\"md\"\n            variant=\"neo\"\n            className=\"shadow-depth-soft\"\n          >\n            <Plus aria-hidden />\n          </IconButton>\n        </div>\n        <div className={cn(neonToneClass, styles.noteWrap)}>\n          <p className={`${styles.neonNote} neon-glow text-label font-medium tracking-[0.02em] italic`}>\n            Drop a precise cue and clear it once the habit sticks.\n          </p>\n        </div>\n      </form>\n      {quickAddError ? (\n        <p\n          id={errorId}\n          role=\"status\"\n          aria-live=\"polite\"\n          className=\"text-label font-medium tracking-[0.02em] text-danger\"\n        >\n          {quickAddError}\n        </p>\n      ) : null}\n    </>\n  );\n}\n\n","// src/components/goals/RemindersTab.tsx\n\"use client\";\n\nimport * as React from \"react\";\nimport Image from \"next/image\";\n\nimport { SectionCard } from \"@/components/ui/layout/SectionCard\";\nimport { AvatarFrame } from \"@/components/ui\";\nimport { withBasePath } from \"@/lib/utils\";\n\nimport { ReminderFilters } from \"./reminders/ReminderFilters\";\nimport { ReminderList } from \"./reminders/ReminderList\";\nimport { ReminderQuickAddForm } from \"./reminders/ReminderQuickAddForm\";\nimport styles from \"./RemindersTab.module.css\";\n\nconst REMINDER_AVATAR_SRC = withBasePath(\"/hero_image.png\");\n\nexport function RemindersTab() {\n  return (\n    <SectionCard variant=\"neo\" className={styles.card}>\n      <SectionCard.Header className={styles.header}>\n        <div className={styles.hero}>\n          <AvatarFrame\n            size=\"sm\"\n            media={\n              <Image\n                src={REMINDER_AVATAR_SRC}\n                alt=\"Planner avatar wearing a headset\"\n                fill\n                sizes=\"96px\"\n                priority={false}\n              />\n            }\n          />\n          <div className={styles.heroCopy}>\n            <p className=\"text-title font-semibold tracking-tight text-foreground\" role=\"text\">\n              Reminders\n            </p>\n            <p className=\"text-label text-muted-foreground\">\n              Keep crisp cues ready for every session and glide through focus swaps.\n            </p>\n          </div>\n        </div>\n      </SectionCard.Header>\n      <SectionCard.Body className={styles.body}>\n        <div className={styles.controls}>\n          <ReminderQuickAddForm />\n          <ReminderFilters />\n        </div>\n        <ReminderList />\n      </SectionCard.Body>\n    </SectionCard>\n  );\n}\n","// src/components/goals/GoalsPage.tsx\n\"use client\";\n\n/**\n * GoalsPage  Lavender-Glitch, hydration-safe, accessible.\n * - Uses <Header tabs={} /> with built-in segmented tabs\n * - Tabs: Goals / Reminders / Timer\n * - Grid layout (no Split dependency)\n * - Cap: 3 active goals; remaining indicator\n * - Undo snackbar with 5s timer\n */\n\nimport * as React from \"react\";\nimport {\n  Bomb,\n  Flag,\n  Search,\n  Sparkles,\n  Gamepad2,\n  GraduationCap,\n  Plus,\n} from \"lucide-react\";\n\nimport { Header, type HeaderTab } from \"@/components/ui/layout/Header\";\nimport { PRIMARY_PAGE_NAV, type HeaderNavItem } from \"@/components/ui/layout/primary-nav\";\nimport { TabBar, type TabItem } from \"@/components/ui/layout/TabBar\";\nimport {\n  Snackbar,\n  PageShell,\n  Modal,\n  ProgressRing,\n  Label,\n  AIExplainTooltip,\n  HeroSearchBar,\n} from \"@/components/ui\";\nimport { ThemeProvider } from \"@/lib/theme-context\";\nimport { PlannerProvider, SmallAgnesNoxiImage } from \"@/components/planner\";\nimport { Button } from \"@/components/ui/primitives/Button\";\nimport { Input, type InputProps } from \"@/components/ui/primitives/Input\";\nimport {\n  Card,\n  CardHeader,\n  CardTitle,\n  CardDescription,\n  CardContent,\n  CardFooter,\n} from \"@/components/ui/primitives/Card\";\nimport { Field } from \"@/components/ui/primitives/Field\";\nimport { type TextareaProps } from \"@/components/ui/primitives/Textarea\";\nimport { useFieldIds } from \"@/lib/useFieldIds\";\nimport { cn } from \"@/lib/utils\";\nimport { GoalsTabs, type GoalsTabKey } from \"./GoalsTabs\";\nimport {\n  type EntityFormSubmitResult,\n  type EntityFormValues,\n} from \"@/components/forms/EntityForm\";\nimport { GoalsProgress } from \"./GoalsProgress\";\nimport { GoalList } from \"./GoalList\";\nimport { GOALS_STICKY_TOP_CLASS } from \"./constants\";\n\nimport { readLocal, removeLocal } from \"@/lib/db\";\nimport { usePersistentTab } from \"@/lib/usePersistentTab\";\nimport { useQueryParam } from \"@/lib/useQueryParam\";\nimport { useGoals, ACTIVE_CAP } from \"./useGoals\";\nimport { usePrefersReducedMotion } from \"@/lib/useReducedMotion\";\n\n/* Tabs */\nimport { RemindersTab } from \"./RemindersTab\";\nimport { TimerTab } from \"./TimerTab\";\nimport { useReminders, type Domain } from \"./reminders/useReminders\";\n\n/* ---------- Types & constants ---------- */\ntype Tab = GoalsTabKey;\n\ntype FilterKey = \"All\" | \"Active\" | \"Done\" | \"New goal\";\n\ntype SegmentFilterKey = Exclude<FilterKey, \"New goal\">;\n\ntype GoalsInsetFormHandle = {\n  focus: (options?: FocusOptions) => void;\n  reset: () => void;\n};\n\ntype GoalsInsetFormProps = {\n  isAtCap: boolean;\n  remaining: number;\n  errorMessage?: string | null;\n  onSubmit?: (values: EntityFormValues) => EntityFormSubmitResult;\n};\n\nconst isTabValue = (value: unknown): value is Tab =>\n  value === \"goals\" || value === \"reminders\" || value === \"timer\";\n\nconst isSegmentFilterKey = (value: unknown): value is SegmentFilterKey =>\n  value === \"All\" || value === \"Active\" || value === \"Done\";\n\nconst NEW_GOAL_FILTER: FilterKey = \"New goal\";\n\nconst FILTER_ITEMS: TabItem<FilterKey>[] = [\n  { key: \"All\", label: \"All\" },\n  { key: \"Active\", label: \"Active\" },\n  { key: \"Done\", label: \"Done\" },\n  { key: \"New goal\", label: \"New goal\" },\n];\n\nconst DOMAIN_ITEMS: Array<{\n  key: Domain;\n  label: string;\n  icon: React.ReactNode;\n}> = [\n  { key: \"Life\", label: \"Life\", icon: <Sparkles className=\"mr-[var(--space-1)]\" /> },\n  { key: \"League\", label: \"League\", icon: <Gamepad2 className=\"mr-[var(--space-1)]\" /> },\n  { key: \"Learn\", label: \"Learn\", icon: <GraduationCap className=\"mr-[var(--space-1)]\" /> },\n];\n\nconst HERO_HEADINGS: Record<Tab, string> = {\n  goals: \"Goals\",\n  reminders: \"Reminders\",\n  timer: \"Focus timer\",\n};\n\nconst HERO_HEADING_IDS: Record<Tab, string> = {\n  goals: \"goals-hero-heading\",\n  reminders: \"reminders-hero-heading\",\n  timer: \"timer-hero-heading\",\n};\n\nconst HERO_SUBTITLE_IDS: Record<Tab, string> = {\n  goals: \"goals-hero-summary\",\n  reminders: \"reminders-hero-summary\",\n  timer: \"timer-hero-summary\",\n};\n\nconst HERO_REGION_ID = \"goals-hero-region\";\nconst GOALS_TABS_ID_BASE = \"goals-tabs\";\nconst getGoalsTabId = (key: Tab) => `${GOALS_TABS_ID_BASE}-${key}-tab`;\nconst getGoalsPanelId = (key: Tab) => `${GOALS_TABS_ID_BASE}-${key}-panel`;\nconst GOALS_TAB_STORAGE_KEY = \"goals.tab.v2\";\nconst GOALS_TAB_SESSION_SCOPE_KEY = \"goals.tab.session-scope.v1\";\n\nconst navItems: HeaderNavItem[] = PRIMARY_PAGE_NAV.map((item) => ({\n  ...item,\n  active: item.key === \"goals\",\n}));\n\nfunction buildSessionScopedTabKey(sessionId: string) {\n  return `${GOALS_TAB_STORAGE_KEY}::${sessionId}`;\n}\n\nfunction createGoalsTabSessionId(): string {\n  if (typeof window !== \"undefined\" && window.crypto?.randomUUID) {\n    return window.crypto.randomUUID();\n  }\n  return `${Date.now().toString(36)}-${Math.random().toString(36).slice(2, 10)}`;\n}\n\n/* ====================================================================== */\n\nexport function GoalsPage() {\n  return (\n    <PlannerProvider>\n      <GoalsPageContent />\n    </PlannerProvider>\n  );\n}\n\nfunction GoalsPageContent() {\n  const [tabStorageKey, setTabStorageKey] = React.useState<string>(\n    GOALS_TAB_STORAGE_KEY,\n  );\n  const [tab, setTab] = usePersistentTab<Tab>(\n    tabStorageKey,\n    \"goals\",\n    (value) => (isTabValue(value) ? value : null),\n  );\n  const hasMigratedTabKeyRef = React.useRef(false);\n\n  React.useEffect(() => {\n    if (typeof window === \"undefined\") return;\n\n    try {\n      const scopeStorage = window.sessionStorage;\n      let sessionId = scopeStorage.getItem(GOALS_TAB_SESSION_SCOPE_KEY);\n      if (!sessionId || sessionId.trim().length === 0) {\n        sessionId = createGoalsTabSessionId();\n        scopeStorage.setItem(GOALS_TAB_SESSION_SCOPE_KEY, sessionId);\n      }\n      const scopedKey = buildSessionScopedTabKey(sessionId);\n      setTabStorageKey((prev) => (prev === scopedKey ? prev : scopedKey));\n    } catch {\n      setTabStorageKey(GOALS_TAB_STORAGE_KEY);\n    }\n  }, []);\n\n  React.useEffect(() => {\n    if (hasMigratedTabKeyRef.current) return;\n    if (tabStorageKey === GOALS_TAB_STORAGE_KEY) return;\n    hasMigratedTabKeyRef.current = true;\n\n    const existingScoped = readLocal<Tab>(tabStorageKey);\n    if (existingScoped !== null && isTabValue(existingScoped)) {\n      if (existingScoped !== tab) {\n        setTab(existingScoped);\n      }\n    } else {\n      const legacy = readLocal<Tab>(GOALS_TAB_STORAGE_KEY);\n      if (legacy !== null && isTabValue(legacy) && legacy !== tab) {\n        setTab(legacy);\n      }\n    }\n\n    removeLocal(GOALS_TAB_STORAGE_KEY);\n  }, [tabStorageKey, tab, setTab]);\n\n  const [filter, setFilter] = usePersistentTab<SegmentFilterKey>(\n    \"goals.filter.v1\",\n    \"All\",\n    (value) => (isSegmentFilterKey(value) ? value : null),\n  );\n  const [shouldFocusGoalForm, setShouldFocusGoalForm] = React.useState(false);\n  const [intentApplied, setIntentApplied] = React.useState(false);\n  const {\n    goals,\n    err,\n    lastDeleted,\n    addGoal,\n    toggleDone,\n    removeGoal,\n    updateGoal,\n    undoRemove,\n    clearGoals,\n  } = useGoals();\n\n  const {\n    domain,\n    setDomain,\n    query,\n    setQuery,\n    filtered: reminderFiltered,\n    addReminder,\n  } = useReminders();\n\n  const formRef = React.useRef<HTMLDivElement | null>(null);\n  const goalFormRef = React.useRef<GoalsInsetFormHandle>(null);\n  const goalsRef = React.useRef<HTMLDivElement>(null);\n  const remindersRef = React.useRef<HTMLDivElement>(null);\n  const timerRef = React.useRef<HTMLDivElement>(null);\n\n  const [confirmClearOpen, setConfirmClearOpen] = React.useState(false);\n  const [clearedCount, setClearedCount] = React.useState(0);\n  const confirmButtonRef = React.useRef<HTMLButtonElement | null>(null);\n\n  React.useEffect(() => {\n    if (!confirmClearOpen) return;\n    confirmButtonRef.current?.focus({ preventScroll: true });\n  }, [confirmClearOpen]);\n\n  React.useEffect(() => {\n    if (clearedCount === 0) return;\n    const timer = window.setTimeout(() => setClearedCount(0), 5000);\n    return () => window.clearTimeout(timer);\n  }, [clearedCount]);\n\n  const handleOpenNuke = React.useCallback(() => {\n    setConfirmClearOpen(true);\n  }, []);\n\n  const handleCloseNuke = React.useCallback(() => {\n    setConfirmClearOpen(false);\n  }, []);\n\n  const handleAddGoal = React.useCallback(\n    (values: EntityFormValues) => {\n      const trimmedTitle = values.title?.trim() ?? \"\";\n      if (!trimmedTitle) {\n        return false;\n      }\n\n      const metric = values.metric?.trim() ?? \"\";\n      const notes = values.notes?.trim() ?? \"\";\n\n      const ok = addGoal({\n        title: trimmedTitle,\n        metric,\n        notes,\n        pillar: \"\",\n      });\n\n      if (ok) {\n        goalFormRef.current?.focus({ preventScroll: true });\n      }\n\n      return ok;\n    },\n    [addGoal],\n  );\n\n  const startGoalCreation = React.useCallback(() => {\n    setTab(\"goals\");\n    setShouldFocusGoalForm(true);\n  }, [setTab]);\n\n  const tabParam = useQueryParam(\"tab\", \"\");\n  React.useEffect(() => {\n    if (!tabParam) return;\n\n    if (isTabValue(tabParam)) {\n      if (tabParam !== tab) {\n        setTab(tabParam);\n      }\n      return;\n    }\n\n    if (tab !== \"goals\") {\n      setTab(\"goals\");\n    }\n  }, [tabParam, tab, setTab]);\n\n  const filterParam = useQueryParam(\"filter\", \"\");\n  React.useEffect(() => {\n    if (!filterParam) return;\n\n    if (filterParam === NEW_GOAL_FILTER) {\n      startGoalCreation();\n      return;\n    }\n\n    if (isSegmentFilterKey(filterParam)) {\n      if (filterParam !== filter) {\n        setFilter(filterParam);\n      }\n      return;\n    }\n\n    if (filter !== \"All\") {\n      setFilter(\"All\");\n    }\n  }, [filterParam, filter, setFilter, startGoalCreation]);\n\n  const handleTabChange = React.useCallback(\n    (value: GoalsTabKey) => {\n      if (isTabValue(value)) {\n        setTab(value);\n        return;\n      }\n      setTab(\"goals\");\n    },\n    [setTab],\n  );\n\n  const reminderCount = reminderFiltered.length;\n\n  const handleDomainChange = React.useCallback(\n    (key: Domain) => {\n      setDomain(key);\n    },\n    [setDomain],\n  );\n\n  const handleReminderSearchChange = React.useCallback(\n    (value: string) => {\n      setQuery(value);\n    },\n    [setQuery],\n  );\n\n  const handleAddReminder = React.useCallback(() => {\n    addReminder();\n  }, [addReminder]);\n\n  const reduceMotion = usePrefersReducedMotion();\n\n  React.useEffect(() => {\n    if (!shouldFocusGoalForm) {\n      return;\n    }\n    const behavior: ScrollBehavior = reduceMotion ? \"auto\" : \"smooth\";\n    formRef.current?.scrollIntoView({ behavior, block: \"start\" });\n    goalFormRef.current?.focus({ preventScroll: true });\n    setShouldFocusGoalForm(false);\n  }, [shouldFocusGoalForm, reduceMotion]);\n\n  const handleAddFirst = React.useCallback(() => {\n    startGoalCreation();\n  }, [startGoalCreation]);\n\n  const handleUndo = React.useCallback(() => {\n    undoRemove();\n  }, [undoRemove]);\n\n  const intentParam = useQueryParam(\"intent\", \"\");\n  React.useEffect(() => {\n    if (intentParam === \"create-goal\") {\n      if (!intentApplied) {\n        startGoalCreation();\n        setIntentApplied(true);\n      }\n      return;\n    }\n    if (intentApplied) {\n      setIntentApplied(false);\n    }\n  }, [intentParam, intentApplied, startGoalCreation]);\n\n  // stats\n  const totalCount = goals.length;\n  const doneCount = goals.filter((g) => g.done).length;\n  const activeCount = totalCount - doneCount;\n  const remaining = Math.max(0, ACTIVE_CAP - activeCount);\n  const isAtCap = remaining === 0;\n  const pctDone = totalCount ? Math.round((doneCount / totalCount) * 100) : 0;\n  const activePctOfCap =\n    ACTIVE_CAP > 0\n      ? Math.max(\n          0,\n          Math.min(100, Math.round((Math.min(activeCount, ACTIVE_CAP) / ACTIVE_CAP) * 100)),\n        )\n      : 0;\n  const remainingPctOfCap =\n    ACTIVE_CAP > 0\n      ? Math.max(\n          0,\n          Math.min(100, Math.round((Math.min(remaining, ACTIVE_CAP) / ACTIVE_CAP) * 100)),\n        )\n      : 0;\n  const activeCapNumber = Number(ACTIVE_CAP);\n  const activeSlotLabel = activeCapNumber === 1 ? \"slot\" : \"slots\";\n\n  const goalMetrics = React.useMemo(\n    () => [\n      {\n        key: \"completed\" as const,\n        label: \"Completed\",\n        percent: pctDone,\n        percentLabel: `${pctDone}%`,\n        valueLabel: doneCount.toString(),\n        detail:\n          totalCount === 0\n            ? \"of 0 goals\"\n            : `of ${totalCount} ${totalCount === 1 ? \"goal\" : \"goals\"}`,\n        progressClassName: \"text-success\",\n        trackClassName: \"text-success/20\",\n        srText: `Completed ${doneCount} of ${totalCount} ${totalCount === 1 ? \"goal\" : \"goals\"}`,\n      },\n      {\n        key: \"active\" as const,\n        label: \"Active\",\n        percent: activePctOfCap,\n        percentLabel: `${activePctOfCap}%`,\n        valueLabel: activeCount.toString(),\n        detail: `of ${activeCapNumber} ${activeSlotLabel} used`,\n        progressClassName: \"text-primary\",\n        trackClassName: \"text-primary/20\",\n        srText: `Active ${activeCount} of ${activeCapNumber} ${activeSlotLabel} used`,\n      },\n      {\n        key: \"remaining\" as const,\n        label: \"Remaining\",\n        percent: remainingPctOfCap,\n        percentLabel: `${remainingPctOfCap}%`,\n        valueLabel: remaining.toString(),\n        detail: `${remaining === 1 ? \"slot\" : \"slots\"} left`,\n        progressClassName: \"text-accent-3\",\n        trackClassName: \"text-accent-3/25\",\n        srText: `${remaining} active ${remaining === 1 ? \"slot\" : \"slots\"} remaining`,\n      },\n    ],\n    [\n      activeCapNumber,\n      activeCount,\n      activePctOfCap,\n      activeSlotLabel,\n      doneCount,\n      pctDone,\n      remaining,\n      remainingPctOfCap,\n      totalCount,\n    ],\n  );\n\n  const handleConfirmNuke = React.useCallback(() => {\n    if (totalCount > 0) {\n      setClearedCount(totalCount);\n    }\n    clearGoals();\n    setConfirmClearOpen(false);\n  }, [clearGoals, totalCount]);\n\n  // derive list\n  const sorted = React.useMemo(() => {\n    const rows = [...goals];\n    rows.sort((a, b) => b.createdAt - a.createdAt);\n    return rows;\n  }, [goals]);\n\n  const filtered = React.useMemo(() => {\n    if (filter === \"Active\") return sorted.filter((g) => !g.done);\n    if (filter === \"Done\") return sorted.filter((g) => g.done);\n    return sorted;\n  }, [sorted, filter]);\n  React.useEffect(() => {\n    const map: Record<Tab, React.RefObject<HTMLDivElement | null>> = {\n      goals: goalsRef,\n      reminders: remindersRef,\n      timer: timerRef,\n    };\n    map[tab].current?.focus();\n  }, [tab]);\n\n  const summary: React.ReactNode =\n    tab === \"goals\" ? (\n      <div className=\"flex flex-wrap items-center gap-[var(--space-4)]\">\n        <div\n          className=\"relative flex h-[var(--ring-diameter-l)] w-[var(--ring-diameter-l)] items-center justify-center\"\n          role=\"img\"\n          aria-label={`${pctDone}% of goals complete`}\n        >\n          <ProgressRing\n            value={pctDone}\n            className=\"text-foreground/15\"\n            progressClassName=\"text-success\"\n            trackClassName=\"text-success/20\"\n            aria-hidden\n          />\n          <span className=\"absolute text-title font-semibold tracking-[-0.01em] text-foreground\">\n            {pctDone}%\n          </span>\n        </div>\n        <div className=\"flex flex-col gap-[var(--space-1)]\">\n          <p className=\"text-label font-semibold uppercase tracking-[0.08em] text-muted-foreground\">\n            Progress\n          </p>\n          <p className=\"text-ui text-muted-foreground\">\n            <span className=\"font-semibold text-foreground\">{doneCount}</span> completed\n            {totalCount > 0 ? (\n              <>\n                {\" \"}\n                of <span className=\"font-semibold text-foreground\">{totalCount}</span>\n              </>\n            ) : null}\n            {\"  \"}\n            <span className=\"font-semibold text-foreground\">{remaining}</span>{\" \"}\n            {remaining === 1 ? \"slot\" : \"slots\"} left\n          </p>\n        </div>\n      </div>\n    ) : tab === \"reminders\" ? (\n      <>\n        Keep <span className=\"font-semibold text-accent-3\">nudges</span> handy with quick edit loops.\n      </>\n    ) : (\n      <>\n        <span className=\"inline-flex items-center rounded-full bg-primary-soft px-[var(--space-2)] font-semibold text-primary-foreground\">\n          Timebox\n        </span>{\" \"}\n        focus runs and reset between sets.\n      </>\n    );\n\n  const heroHeadingId = HERO_HEADING_IDS[tab];\n  const heroSubtitleId = HERO_SUBTITLE_IDS[tab];\n\n  const heroHeading = (\n    <span id={heroHeadingId}>{HERO_HEADINGS[tab]}</span>\n  );\n\n  const heroEyebrow = tab === \"reminders\" ? domain : \"Guide\";\n\n  let heroSubtitle: React.ReactNode;\n  if (tab === \"goals\") {\n    heroSubtitle = (\n      <span id={heroSubtitleId} className=\"text-muted-foreground\">\n        Set and achieve your objectives.\n      </span>\n    );\n  } else if (tab === \"reminders\") {\n    heroSubtitle = (\n      <span id={heroSubtitleId} className=\"text-muted-foreground\">\n        Stage <span className=\"font-semibold text-accent-3\">nudges</span> with contexts and cadence.\n      </span>\n    );\n  } else {\n    heroSubtitle = (\n      <span id={heroSubtitleId} className=\"text-muted-foreground\">\n        Dial in{\" \"}\n        <span className=\"inline-flex items-center rounded-full bg-primary-soft px-[var(--space-2)] font-semibold text-primary-foreground\">\n          focus sprints\n        </span>{\" \"}\n        and steady breaks.\n      </span>\n    );\n  }\n\n  const heroAriaDescribedby =\n    heroSubtitle != null ? heroSubtitleId : undefined;\n\n  const reminderHeroSubTabs = React.useMemo(() => {\n    if (tab !== \"reminders\") return undefined;\n    return {\n      items: DOMAIN_ITEMS as HeaderTab<Tab | Domain>[],\n      value: domain as Tab | Domain,\n      onChange: (key: Tab | Domain) => handleDomainChange(key as Domain),\n      align: \"end\" as const,\n      size: \"md\" as const,\n      ariaLabel: \"Reminder domain\",\n      showBaseline: true,\n    };\n  }, [tab, domain, handleDomainChange]);\n\n  const reminderHeroSearch = React.useMemo(() => {\n    if (tab !== \"reminders\") return undefined;\n    return {\n      value: query,\n      onValueChange: handleReminderSearchChange,\n      placeholder: \"Search title, text, tags\",\n      debounceMs: 300,\n      \"aria-label\": \"Search reminders\",\n      right: (\n        <div className=\"flex items-center gap-[var(--space-2)]\">\n          <span className=\"text-label font-medium tracking-[0.02em] opacity-75\">\n            {reminderCount}\n          </span>\n          <Search className=\"icon-sm opacity-80\" />\n        </div>\n      ),\n    };\n  }, [tab, query, handleReminderSearchChange, reminderCount]);\n\n  const heroActions = React.useMemo(() => {\n    if (tab === \"reminders\") {\n      return (\n        <Button\n          variant=\"default\"\n          size=\"md\"\n          className=\"whitespace-nowrap\"\n          onClick={handleAddReminder}\n        >\n          <Plus />\n          <span>New Reminder</span>\n        </Button>\n      );\n    }\n\n    if (tab === \"goals\") {\n      return (\n        <div className=\"flex w-full flex-col gap-[var(--space-2)] md:w-auto md:flex-row md:items-center md:justify-end md:gap-[var(--space-3)]\">\n          <Button\n            type=\"button\"\n            size=\"sm\"\n            variant=\"default\"\n            className=\"w-full shrink-0 md:w-auto\"\n            onClick={startGoalCreation}\n          >\n            <Plus aria-hidden=\"true\" className=\"size-[var(--space-4)]\" />\n            <span className=\"font-semibold tracking-[0.01em]\">Add Goal</span>\n          </Button>\n          <Button\n            type=\"button\"\n            size=\"sm\"\n            variant=\"default\"\n            tone=\"danger\"\n            className=\"w-full shrink-0 md:w-auto\"\n            onClick={handleOpenNuke}\n            disabled={totalCount === 0}\n            aria-haspopup=\"dialog\"\n            title=\"Delete all goals\"\n          >\n            <Bomb aria-hidden=\"true\" className=\"size-[var(--space-4)]\" />\n            <span className=\"font-semibold tracking-[0.01em]\">Reset All Goals</span>\n          </Button>\n        </div>\n      );\n    }\n\n    return undefined;\n  }, [\n    tab,\n    handleAddReminder,\n    handleOpenNuke,\n    totalCount,\n    startGoalCreation,\n  ]);\n\n  return (\n    <ThemeProvider>\n      <section\n        id={HERO_REGION_ID}\n        role=\"region\"\n        aria-labelledby={heroHeadingId}\n        aria-describedby={heroAriaDescribedby}\n      >\n        <Header<Tab | Domain>\n          heading={heroHeading}\n          subtitle={heroSubtitle}\n          icon={<Flag className=\"opacity-80\" />}\n          navItems={navItems}\n          variant=\"neo\"\n          underlineTone=\"brand\"\n          showThemeToggle\n          subTabs={reminderHeroSubTabs}\n          search={\n            reminderHeroSearch ? (\n              <HeroSearchBar\n                {...reminderHeroSearch}\n                className=\"min-w-[16rem] flex-1\"\n              />\n            ) : undefined\n          }\n          actions={heroActions}\n          topClassName={GOALS_STICKY_TOP_CLASS}\n        >\n          <div className=\"space-y-[var(--space-3)]\">\n            <span className=\"text-label font-semibold tracking-[0.02em] uppercase text-muted-foreground\">\n              {heroEyebrow}\n            </span>\n            {summary}\n          </div>\n        </Header>\n      </section>\n\n      <GoalsTabs\n        value={tab}\n        onChange={handleTabChange}\n        idBase={GOALS_TABS_ID_BASE}\n        className=\"mx-auto w-full max-w-xl\"\n      />\n\n      <PageShell\n        as=\"main\"\n        id=\"page-main\"\n        tabIndex={-1}\n        aria-labelledby={heroHeadingId}\n        className=\"py-[var(--space-6)]\"\n      >\n        <div className=\"grid gap-[var(--space-6)]\">\n          {/* ======= PANELS ======= */}\n          <div\n            role=\"tabpanel\"\n            id={getGoalsPanelId(\"goals\")}\n            aria-labelledby={getGoalsTabId(\"goals\")}\n            hidden={tab !== \"goals\"}\n            tabIndex={tab === \"goals\" ? 0 : -1}\n            ref={goalsRef}\n          >\n            {tab === \"goals\" && (\n              <div className=\"grid gap-[var(--space-4)]\">\n                <div className=\"space-y-[var(--space-2)]\">\n                  <Card className=\"p-0\">\n                    <CardHeader\n                      className={`sticky ${GOALS_STICKY_TOP_CLASS} z-[1] flex flex-col gap-[var(--space-3)] space-y-0 border-b border-card-hairline/60 bg-card/90 px-[var(--space-4)] py-[var(--space-3)] backdrop-blur-sm sm:flex-row sm:items-center sm:justify-between`}\n                    >\n                      <div className=\"flex items-center gap-[var(--space-2)] sm:gap-[var(--space-4)]\">\n                        <h2 className=\"text-title font-semibold tracking-[-0.01em]\">Your Goals</h2>\n                        <GoalsProgress total={totalCount} pct={pctDone} />\n                      </div>\n                      <div className=\"flex w-full flex-col gap-[var(--space-2)] sm:w-auto sm:flex-row sm:items-center sm:justify-end sm:gap-[var(--space-3)]\">\n                        <Button\n                          type=\"button\"\n                          size=\"sm\"\n                          variant=\"default\"\n                          className=\"w-full shrink-0 sm:w-auto\"\n                          onClick={startGoalCreation}\n                        >\n                          <Plus aria-hidden=\"true\" className=\"size-[var(--space-4)]\" />\n                          <span className=\"font-semibold tracking-[0.01em]\">New goal</span>\n                        </Button>\n                        <GoalFilterTabs\n                          value={filter}\n                          onChange={setFilter}\n                          onNewGoal={startGoalCreation}\n                          newGoalDisabled={isAtCap}\n                        />\n                      </div>\n                    </CardHeader>\n                    <CardContent className=\"space-y-[var(--space-4)] px-[var(--space-4)] pb-[var(--space-4)] pt-[var(--space-4)]\">\n                      <dl className=\"grid gap-[var(--space-3)] sm:grid-cols-3\">\n                        {goalMetrics.map((metric) => (\n                          <div\n                            key={metric.key}\n                            className=\"flex items-center gap-[var(--space-3)] rounded-card border border-card-hairline/60 bg-card/60 p-[var(--space-3)] shadow-neo-soft\"\n                          >\n                            <div\n                              className=\"relative flex h-[var(--ring-diameter-m)] w-[var(--ring-diameter-m)] items-center justify-center rounded-full bg-panel-tilt\"\n                              aria-hidden=\"true\"\n                            >\n                              <ProgressRing\n                                value={metric.percent}\n                                className=\"text-foreground/30\"\n                                progressClassName={metric.progressClassName}\n                                trackClassName={metric.trackClassName}\n                                aria-hidden={true}\n                              />\n                              <span className=\"absolute text-label font-semibold tracking-[0.02em] tabular-nums\">\n                                {metric.percentLabel}\n                              </span>\n                            </div>\n                            <div className=\"flex flex-col gap-[var(--space-1)]\">\n                              <dt className=\"text-label font-semibold uppercase tracking-[0.08em] text-muted-foreground\">\n                                {metric.label}\n                              </dt>\n                              <dd className=\"text-title font-semibold tracking-[-0.01em] text-foreground\">\n                                <span className=\"sr-only\">{metric.srText}</span>\n                                <span aria-hidden>\n                                  {metric.valueLabel}\n                                  <span className=\"ml-[var(--space-1)] text-label font-medium text-muted-foreground\">\n                                    {metric.detail}\n                                  </span>\n                                </span>\n                              </dd>\n                            </div>\n                          </div>\n                        ))}\n                      </dl>\n                      {totalCount === 0 ? (\n                        <div className=\"flex flex-col items-center gap-[var(--space-4)] py-[var(--space-6)] text-center\">\n                          <p className=\"text-ui font-medium text-muted-foreground\">No goals yet.</p>\n                          <Button onClick={handleAddFirst} size=\"sm\" variant=\"default\">\n                            Add a first goal\n                          </Button>\n                        </div>\n                      ) : (\n                        <GoalList\n                          goals={filtered}\n                          onToggleDone={toggleDone}\n                          onRemove={removeGoal}\n                          onUpdate={updateGoal}\n                        />\n                      )}\n                    </CardContent>\n                  </Card>\n                </div>\n\n                <div ref={formRef} id=\"goal-form\">\n                  <GoalsInsetForm\n                    ref={goalFormRef}\n                    isAtCap={isAtCap}\n                    remaining={remaining}\n                    errorMessage={err}\n                    onSubmit={handleAddGoal}\n                  />\n                </div>\n\n                {lastDeleted && (\n                  <Snackbar\n                    role=\"status\"\n                    aria-live=\"assertive\"\n                    message={<>Deleted {lastDeleted.title}.</>}\n                    actionLabel=\"Undo\"\n                    actionAriaLabel=\"Undo delete goal\"\n                    onAction={handleUndo}\n                  />\n                )}\n                {clearedCount > 0 && (\n                  <Snackbar\n                    tone=\"danger\"\n                    message={\n                      <>Removed {clearedCount} {clearedCount === 1 ? \"goal\" : \"goals\"}.</>\n                    }\n                  />\n                )}\n              </div>\n          )}\n          </div>\n\n          <div\n            role=\"tabpanel\"\n            id={getGoalsPanelId(\"reminders\")}\n            aria-labelledby={getGoalsTabId(\"reminders\")}\n            hidden={tab !== \"reminders\"}\n            tabIndex={tab === \"reminders\" ? 0 : -1}\n            ref={remindersRef}\n            className=\"grid gap-[var(--space-4)]\"\n          >\n            {tab === \"reminders\" && <RemindersTab />}\n          </div>\n\n          <div\n            role=\"tabpanel\"\n            id={getGoalsPanelId(\"timer\")}\n            aria-labelledby={getGoalsTabId(\"timer\")}\n            hidden={tab !== \"timer\"}\n            tabIndex={tab === \"timer\" ? 0 : -1}\n            ref={timerRef}\n            className=\"grid gap-[var(--space-4)]\"\n          >\n            {tab === \"timer\" && <TimerTab />}\n          </div>\n        </div>\n\n        <Modal\n          open={confirmClearOpen}\n          onOpenChange={setConfirmClearOpen}\n          title=\"Delete all goals?\"\n          description=\"This action permanently removes every goal, including completed history.\"\n          actions={(\n            <>\n              <Button\n                ref={confirmButtonRef}\n                type=\"button\"\n                size=\"sm\"\n                variant=\"default\"\n                tone=\"danger\"\n                tactile\n                onClick={handleConfirmNuke}\n                className=\"shrink-0\"\n              >\n                <Bomb aria-hidden=\"true\" className=\"size-[var(--space-4)]\" />\n                <span className=\"font-semibold tracking-[0.01em]\">Delete all goals</span>\n              </Button>\n              <Button\n                type=\"button\"\n                size=\"sm\"\n                variant=\"quiet\"\n                onClick={handleCloseNuke}\n                className=\"shrink-0\"\n              >\n                Cancel\n              </Button>\n            </>\n          )}\n        >\n          <div className=\"rounded-card border border-danger/40 bg-danger/10 px-[var(--space-4)] py-[var(--space-3)] text-left shadow-neo\">\n            <p className=\"text-ui font-medium text-danger\">\n              You are about to nuke {totalCount} {totalCount === 1 ? \"goal\" : \"goals\"}.\n            </p>\n            <p className=\"text-label text-muted-foreground\">\n              There is no automatic undo. Export anything important before continuing.\n            </p>\n          </div>\n        </Modal>\n\n      </PageShell>\n    </ThemeProvider>\n  );\n}\n\nconst createDefaultGoalFormValues = () => ({\n  title: \"\",\n  metric: \"\",\n  notes: \"\",\n});\n\nconst InsetInput = React.forwardRef<HTMLInputElement, InputProps>(\n  ({ variant: _variant, ...props }, ref) => (\n    <Input ref={ref} variant=\"sunken\" {...props} />\n  ),\n);\n\nconst InsetTextarea = React.forwardRef<HTMLTextAreaElement, TextareaProps>(\n  function InsetTextarea(\n    { className, textareaClassName, resize, id, name, \"aria-label\": ariaLabel, ...props },\n    ref,\n  ) {\n    const { id: finalId, name: finalName, isInvalid } = useFieldIds(\n      ariaLabel as string | undefined,\n      id,\n      name,\n      {\n        ariaInvalid: props[\"aria-invalid\"],\n        slugifyFallback: true,\n      },\n    );\n    const loadingAttr = props[\"data-loading\"];\n    const loading =\n      loadingAttr === \"\" ||\n      loadingAttr === true ||\n      loadingAttr === \"true\" ||\n      loadingAttr === 1;\n\n    return (\n      <Field.Root\n        variant=\"sunken\"\n        invalid={isInvalid}\n        disabled={props.disabled}\n        readOnly={props.readOnly}\n        loading={loading}\n        className={cn(\"items-start\", className)}\n      >\n        <Field.Textarea\n          ref={ref}\n          id={finalId}\n          name={finalName}\n          aria-label={ariaLabel}\n          className={cn(resize, textareaClassName)}\n          {...props}\n        />\n      </Field.Root>\n    );\n  },\n);\n\nInsetInput.displayName = \"InsetInput\";\nInsetTextarea.displayName = \"InsetTextarea\";\n\nconst GoalsInsetForm = React.forwardRef<GoalsInsetFormHandle, GoalsInsetFormProps>(\n  ({ isAtCap, remaining, errorMessage, onSubmit }, ref) => {\n    const [values, setValues] = React.useState(createDefaultGoalFormValues);\n    const titleInputRef = React.useRef<HTMLInputElement | null>(null);\n\n    const titleId = React.useId();\n    const metricId = React.useId();\n    const notesId = React.useId();\n    const metricHelpId = React.useId();\n\n    const resetValues = React.useCallback(() => {\n      setValues(createDefaultGoalFormValues());\n    }, []);\n\n    React.useImperativeHandle(\n      ref,\n      () => ({\n        focus: (options) => {\n          titleInputRef.current?.focus(options);\n        },\n        reset: () => {\n          resetValues();\n        },\n      }),\n      [resetValues],\n    );\n\n    const handleInputChange = React.useCallback(\n      (field: \"title\" | \"metric\") =>\n        (event: React.ChangeEvent<HTMLInputElement>) => {\n          const { value } = event.target;\n          setValues((previous) => ({ ...previous, [field]: value }));\n        },\n      [],\n    );\n\n    const handleNotesChange = React.useCallback(\n      (event: React.ChangeEvent<HTMLTextAreaElement>) => {\n        const { value } = event.target;\n        setValues((previous) => ({ ...previous, notes: value }));\n      },\n      [],\n    );\n\n    const handleSubmit = React.useCallback(\n      async (event: React.FormEvent<HTMLFormElement>) => {\n        event.preventDefault();\n        if (!onSubmit || isAtCap) {\n          return;\n        }\n\n        const result = await onSubmit({\n          title: values.title,\n          metric: values.metric,\n          notes: values.notes,\n        });\n\n        if (result !== false) {\n          resetValues();\n        }\n      },\n      [isAtCap, onSubmit, resetValues, values.metric, values.notes, values.title],\n    );\n\n    const handleCancel = React.useCallback(() => {\n      resetValues();\n      const active = document.activeElement;\n      if (active instanceof HTMLElement) {\n        active.blur();\n      }\n    }, [resetValues]);\n\n    const remainingMessage = isAtCap\n      ? \"Cap reached. Finish one to add more.\"\n      : `${remaining} active slot${remaining === 1 ? \"\" : \"s\"} left`;\n\n    return (\n      <form className=\"space-y-[var(--space-4)]\" onSubmit={handleSubmit}>\n        <Card className=\"shadow-[var(--depth-shadow-soft)]\">\n          <CardHeader className=\"space-y-[var(--space-2)]\">\n            <CardTitle>Add Goal</CardTitle>\n            <CardDescription>\n              Capture focused, finishable targets for your next session.\n            </CardDescription>\n          </CardHeader>\n          <CardContent className=\"space-y-[var(--space-4)]\">\n            <div className=\"space-y-[var(--space-2)]\">\n              <Label htmlFor={titleId}>Title</Label>\n              <InsetInput\n                id={titleId}\n                ref={titleInputRef}\n                placeholder=\"Review lane states\"\n                value={values.title}\n                onChange={handleInputChange(\"title\")}\n                required\n              />\n            </div>\n\n            <div className=\"space-y-[var(--space-2)]\">\n              <div className=\"flex items-center justify-between gap-[var(--space-2)]\">\n                <Label htmlFor={metricId} className=\"mb-0\">\n                  Metric (optional  enter the target value; for percentages, type the number like 75)\n                </Label>\n                <AIExplainTooltip\n                  triggerLabel=\"How metrics help\"\n                  explanation=\"Metrics surface on each goal card so you can track progress against a specific target. Enter the value you want to hit, and for percentages, type only the numberfor example, 75 instead of adding a percent sign. Leave it blank if a number doesn't help.\"\n                  tone=\"neutral\"\n                />\n              </div>\n              <p id={metricHelpId} className=\"sr-only\">\n                Optional metric for tracking progress. Enter the target value only; for percentages, type the number such as 75 for seventy-five percent so the field stays free of extra symbols.\n              </p>\n              <InsetInput\n                id={metricId}\n                type=\"text\"\n                inputMode=\"decimal\"\n                placeholder=\"75\"\n                aria-label=\"Metric (optional)\"\n                value={values.metric}\n                onChange={handleInputChange(\"metric\")}\n                aria-describedby={metricHelpId}\n              />\n            </div>\n\n            <div className=\"space-y-[var(--space-2)]\">\n              <Label htmlFor={notesId}>Notes (optional)</Label>\n              <InsetTextarea\n                id={notesId}\n                placeholder=\"Add context, blockers, or reminders\"\n                value={values.notes}\n                onChange={handleNotesChange}\n                resize=\"resize-y\"\n                className=\"border border-card-hairline/70\"\n                textareaClassName=\"min-h-[var(--space-20)]\"\n              />\n            </div>\n          </CardContent>\n          <CardFooter className=\"flex flex-col gap-[var(--space-3)] sm:flex-row sm:items-center sm:justify-between\">\n            <p className=\"text-label font-medium tracking-[0.02em] text-muted-foreground\">\n              {isAtCap ? (\n                <span className=\"text-danger\">{remainingMessage}</span>\n              ) : (\n                <span>{remainingMessage}</span>\n              )}\n            </p>\n            <div className=\"flex items-center gap-[var(--space-2)]\">\n              <Button type=\"submit\" size=\"sm\" variant=\"default\" disabled={isAtCap}>\n                Add Goal\n              </Button>\n              <Button type=\"button\" size=\"sm\" variant=\"quiet\" onClick={handleCancel}>\n                Cancel\n              </Button>\n            </div>\n          </CardFooter>\n        </Card>\n\n        {errorMessage ? (\n          <p\n            role=\"status\"\n            aria-live=\"polite\"\n            className=\"text-label font-medium tracking-[0.02em] text-danger\"\n          >\n            {errorMessage}\n          </p>\n        ) : null}\n      </form>\n    );\n  },\n);\n\nGoalsInsetForm.displayName = \"GoalsInsetForm\";\n\nfunction GoalFilterTabs({\n  value,\n  onChange,\n  onNewGoal,\n  newGoalDisabled,\n}: {\n  value: SegmentFilterKey;\n  onChange: (next: SegmentFilterKey) => void;\n  onNewGoal: () => void;\n  newGoalDisabled: boolean;\n}) {\n  const items = React.useMemo(\n    () =>\n      FILTER_ITEMS.map((item) =>\n        item.key === \"New goal\" ? { ...item, disabled: newGoalDisabled } : item,\n      ),\n    [newGoalDisabled],\n  );\n\n  const handleChange = React.useCallback(\n    (next: FilterKey) => {\n      if (next === \"New goal\") {\n        if (!newGoalDisabled) {\n          onNewGoal();\n        }\n        return;\n      }\n      onChange(next);\n    },\n    [newGoalDisabled, onChange, onNewGoal],\n  );\n\n  return (\n    <TabBar<FilterKey>\n      items={items}\n      value={value}\n      onValueChange={handleChange}\n      size=\"sm\"\n      ariaLabel=\"Filter goals\"\n      linkPanels={false}\n    />\n  );\n}\n","\"use client\";\n\nimport * as React from \"react\";\n\nimport ProgressRingIcon from \"@/icons/ProgressRingIcon\";\nimport { getRingMetrics, type RingSize } from \"@/lib/tokens\";\n\nconst DEFAULT_RING_SIZE: RingSize = \"m\";\n\ninterface GoalsProgressProps {\n  total: number;\n  pct: number; // 0..100\n  maxWidth?: number | string;\n}\n\nexport function GoalsProgress({\n  total,\n  pct,\n  maxWidth,\n}: GoalsProgressProps) {\n  const v = Math.max(0, Math.min(100, Math.round(pct)));\n  const baseMetrics = React.useMemo(() => getRingMetrics(DEFAULT_RING_SIZE), []);\n  const baseDiameter = baseMetrics.diameter;\n  const baseStroke = baseMetrics.stroke;\n  const customSizeValue = React.useMemo(() => {\n    if (maxWidth == null) {\n      return null;\n    }\n    if (typeof maxWidth === \"number\") {\n      return Number.isFinite(maxWidth) ? `${maxWidth}px` : null;\n    }\n\n    return maxWidth;\n  }, [maxWidth]);\n  const ringSize =\n    typeof maxWidth === \"number\" && Number.isFinite(maxWidth)\n      ? maxWidth\n      : undefined;\n  const resolvedRingSize = ringSize ?? DEFAULT_RING_SIZE;\n  const resolvedStrokeWidth = React.useMemo(() => {\n    if (typeof ringSize === \"number\" && baseDiameter > 0) {\n      const scale = ringSize / baseDiameter;\n      const scaledStroke = baseStroke * scale;\n      return Number.isFinite(scaledStroke) ? scaledStroke : baseStroke;\n    }\n\n    return baseStroke;\n  }, [ringSize, baseDiameter, baseStroke]);\n  const ariaLabel =\n    total === 0\n      ? \"Goals progress: no goals yet\"\n      : `Goals progress: ${v}% complete`;\n  const customStyle = React.useMemo<\n    (React.CSSProperties & Record<string, string>) | undefined\n  >(() => {\n    if (!customSizeValue) {\n      return undefined;\n    }\n    return {\n      \"--goals-progress-size\": customSizeValue,\n    };\n  }, [customSizeValue]);\n\n  return (\n    <div\n      className=\"relative inline-flex size-[var(--goals-progress-size,var(--ring-diameter-m))] items-center justify-center rounded-full bg-panel-tilt shadow-neo-soft\"\n      aria-label={ariaLabel}\n      style={customStyle}\n    >\n      <ProgressRingIcon\n        pct={v}\n        size={resolvedRingSize}\n        strokeWidth={resolvedStrokeWidth}\n      />\n      <span\n        aria-live=\"polite\"\n        className=\"absolute inset-0 flex items-center justify-center text-label font-medium tracking-[0.02em] tabular-nums\"\n      >\n        {v}%\n      </span>\n    </div>\n  );\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"card\":\"RemindersTab_card__hpGEZ\",\"header\":\"RemindersTab_header__IjUL4\",\"hero\":\"RemindersTab_hero__gV3_E\",\"heroCopy\":\"RemindersTab_heroCopy__3b2hX\",\"body\":\"RemindersTab_body__Qgle_\",\"controls\":\"RemindersTab_controls__cuxwX\"};","\"use client\";\n\nimport * as React from \"react\";\n\nimport { observeMediaQuery } from \"@/lib/react\";\n\nfunction detectCoarsePointer(): boolean {\n  if (typeof window === \"undefined\") {\n    return false;\n  }\n\n  const nav = window.navigator as Navigator & {\n    maxTouchPoints?: number;\n    msMaxTouchPoints?: number;\n  };\n\n  if (typeof nav.maxTouchPoints === \"number\" && nav.maxTouchPoints > 0) {\n    return true;\n  }\n\n  if (typeof nav.msMaxTouchPoints === \"number\" && nav.msMaxTouchPoints > 0) {\n    return true;\n  }\n\n  if (typeof window.matchMedia !== \"function\") {\n    return false;\n  }\n\n  try {\n    return [\"(pointer: coarse)\", \"(hover: none)\"].some((query) =>\n      window.matchMedia(query).matches,\n    );\n  } catch {\n    return false;\n  }\n}\n\n/**\n * Detects whether the current pointer prefers coarse interactions (e.g. touch).\n * Falls back to hover heuristics when matchMedia isn't available.\n */\nexport function useCoarsePointer(): boolean {\n  const [isCoarse, setIsCoarse] = React.useState(() => detectCoarsePointer());\n\n  React.useEffect(() => {\n    if (typeof window === \"undefined\") return;\n\n    setIsCoarse(detectCoarsePointer());\n\n    return observeMediaQuery(\"(hover: none)\", (matches) => {\n      setIsCoarse(matches || detectCoarsePointer());\n    });\n  }, []);\n\n  return isCoarse;\n}\n","export const GOALS_STICKY_TOP_CLASS = \"top-[var(--header-stack)]\";\nexport const GOAL_TEXTAREA_MIN_HEIGHT_CLASS = \"min-h-[calc(var(--space-8)*3)]\";\n","// src/components/goals/TimerTab.tsx\n\"use client\";\n\nimport * as React from \"react\";\nimport { SectionCard } from \"@/components/ui/layout/SectionCard\";\nimport { IconButton } from \"@/components/ui/primitives/IconButton\";\nimport { Hero } from \"@/components/ui\";\nimport { SegmentedButton } from \"@/components/ui/primitives/SegmentedButton\";\nimport { useScopedCssVars } from \"@/components/ui/hooks/useScopedCssVars\";\nimport { TimerRing } from \"./TimerRing\";\nimport { DurationSelector } from \"./DurationSelector\";\nimport styles from \"./TimerTab.module.css\";\nimport {\n  Play,\n  Pause,\n  RotateCcw,\n  Plus,\n  Minus,\n  BookOpen,\n  Brush,\n  Code2,\n  User,\n} from \"lucide-react\";\nimport { removeLocal, usePersistentState, readLocal } from \"@/lib/db\";\nimport { formatMmSs, parseMmSs } from \"@/lib/date\";\nimport { clamp } from \"@/lib/utils\";\n\n/* profiles */\ntype ProfileKey = \"study\" | \"clean\" | \"code\" | \"custom\";\ntype Profile = {\n  key: ProfileKey;\n  label: string;\n  icon: React.ReactNode;\n  defaultMin: number;\n};\nconst PROFILES: Profile[] = [\n  {\n    key: \"study\",\n    label: \"Studying\",\n    icon: <BookOpen className=\"mr-[var(--space-1)]\" />,\n    defaultMin: 45,\n  },\n  {\n    key: \"clean\",\n    label: \"Cleaning\",\n    icon: <Brush className=\"mr-[var(--space-1)]\" />,\n    defaultMin: 30,\n  },\n  {\n    key: \"code\",\n    label: \"Coding\",\n    icon: <Code2 className=\"mr-[var(--space-1)]\" />,\n    defaultMin: 60,\n  },\n  {\n    key: \"custom\",\n    label: \"Custom\",\n    icon: <User className=\"mr-[var(--space-1)]\" />,\n    defaultMin: 25,\n  },\n];\n\ntype TimerState = {\n  profile: ProfileKey;\n  customMinutes: number;\n  remaining: number;\n  running: boolean;\n};\n\nconst PROFILE_LOOKUP = PROFILES.reduce(\n  (acc, profile) => {\n    acc[profile.key] = profile;\n    return acc;\n  },\n  {} as Record<ProfileKey, Profile>,\n);\n\nconst TIMER_STATE_KEY = \"goals.timer.state.v1\";\nconst LEGACY_KEYS = {\n  profile: \"goals.timer.profile.v1\",\n  customMinutes: \"goals.timer.customMin.v1\",\n  remaining: \"goals.timer.remaining.v1\",\n  running: \"goals.timer.running.v1\",\n} as const;\n\nconst DEFAULT_PROFILE: ProfileKey = \"study\";\nconst DEFAULT_CUSTOM_MINUTES = 25;\n\nfunction getProfile(key: ProfileKey): Profile {\n  return PROFILE_LOOKUP[key] ?? PROFILES[0];\n}\n\nfunction getMinutesForProfile(key: ProfileKey, customMinutes: number) {\n  return key === \"custom\" ? customMinutes : getProfile(key).defaultMin;\n}\n\nconst DEFAULT_TIMER_STATE: TimerState = {\n  profile: DEFAULT_PROFILE,\n  customMinutes: DEFAULT_CUSTOM_MINUTES,\n  remaining:\n    getMinutesForProfile(DEFAULT_PROFILE, DEFAULT_CUSTOM_MINUTES) * 60_000,\n  running: false,\n};\n\nfunction isProfileKey(value: string): value is ProfileKey {\n  return value in PROFILE_LOOKUP;\n}\n\nfunction isFiniteNumber(value: unknown): value is number {\n  return typeof value === \"number\" && Number.isFinite(value);\n}\n\n/* helpers */\n\nconst ADJUST_BTN_CLASS =\n  \"absolute top-[var(--space-2)] sm:-top-[var(--space-4)] rounded-full bg-background/40 backdrop-blur shadow-[var(--shadow-glow-md)] transition-transform duration-motion-sm hover:-translate-y-0.5 focus-visible:ring-2 focus-visible:ring-ring\";\n\nexport function TimerTab() {\n  const [timer, setTimer] = usePersistentState<TimerState>(\n    TIMER_STATE_KEY,\n    DEFAULT_TIMER_STATE,\n  );\n  const { profile, customMinutes, remaining, running } = timer;\n\n  React.useEffect(() => {\n    const stored = readLocal<TimerState>(TIMER_STATE_KEY);\n    if (stored !== null) return;\n\n    const legacyProfile = readLocal<ProfileKey>(LEGACY_KEYS.profile);\n    const legacyCustom = readLocal<number>(LEGACY_KEYS.customMinutes);\n    const legacyRemaining = readLocal<number>(LEGACY_KEYS.remaining);\n    const legacyRunning = readLocal<boolean>(LEGACY_KEYS.running);\n\n    if (\n      legacyProfile == null &&\n      legacyCustom == null &&\n      legacyRemaining == null &&\n      legacyRunning == null\n    ) {\n      return;\n    }\n\n    const nextProfile =\n      typeof legacyProfile === \"string\" && isProfileKey(legacyProfile)\n        ? legacyProfile\n        : DEFAULT_TIMER_STATE.profile;\n    const nextCustomMinutes = isFiniteNumber(legacyCustom)\n      ? legacyCustom\n      : DEFAULT_TIMER_STATE.customMinutes;\n    const fallbackMinutes =\n      nextProfile === \"custom\"\n        ? nextCustomMinutes\n        : getProfile(nextProfile).defaultMin;\n    const nextRemaining = isFiniteNumber(legacyRemaining)\n      ? legacyRemaining\n      : fallbackMinutes * 60_000;\n    const nextRunning =\n      typeof legacyRunning === \"boolean\"\n        ? legacyRunning\n        : DEFAULT_TIMER_STATE.running;\n\n    setTimer({\n      profile: nextProfile,\n      customMinutes: nextCustomMinutes,\n      remaining: nextRemaining,\n      running: nextRunning,\n    });\n\n    removeLocal(LEGACY_KEYS.profile);\n    removeLocal(LEGACY_KEYS.customMinutes);\n    removeLocal(LEGACY_KEYS.remaining);\n    removeLocal(LEGACY_KEYS.running);\n  }, [setTimer]);\n\n  const profileDef = React.useMemo(\n    () => getProfile(profile),\n    [profile],\n  );\n  const isCustom = profile === \"custom\";\n  const minutes = isCustom ? customMinutes : profileDef.defaultMin;\n\n  // remaining time\n  const prevProfile = React.useRef<ProfileKey>(profile);\n  // Reset timer when switching profiles\n  React.useEffect(() => {\n    if (prevProfile.current === profile) return;\n    prevProfile.current = profile;\n    const nextRemaining =\n      (profile === \"custom\" ? customMinutes : profileDef.defaultMin) * 60_000;\n    setTimer((prev) => {\n      if (!prev.running && prev.remaining === nextRemaining) return prev;\n      return {\n        ...prev,\n        running: false,\n        remaining: nextRemaining,\n      };\n    });\n  }, [profile, customMinutes, profileDef.defaultMin, setTimer]);\n\n  // edit mode for mm:ss\n  const [timeEdit, setTimeEdit] = React.useState(\n    () => formatMmSs(remaining, { unit: \"milliseconds\", padMinutes: true }),\n  );\n  React.useEffect(() => {\n    setTimeEdit(formatMmSs(remaining, { unit: \"milliseconds\", padMinutes: true }));\n  }, [remaining]);\n\n  // tick loop\n  React.useEffect(() => {\n    if (!running) return;\n    const id = window.setInterval(() => {\n      let shouldStop = false;\n      setTimer((prev) => {\n        if (prev.remaining <= 0) {\n          if (!prev.running) return prev;\n          shouldStop = true;\n          return {\n            ...prev,\n            running: false,\n          };\n        }\n        const nextRemaining = prev.remaining - 250;\n        if (nextRemaining <= 0) {\n          shouldStop = true;\n          return {\n            ...prev,\n            remaining: 0,\n            running: false,\n          };\n        }\n        return {\n          ...prev,\n          remaining: nextRemaining,\n        };\n      });\n      if (shouldStop) {\n        window.clearInterval(id);\n      }\n    }, 250);\n    return () => window.clearInterval(id);\n  }, [running, setTimer]);\n\n  // adjust minutes for custom\n  function adjust(delta: number) {\n    if (!isCustom) return;\n    if (running) return;\n    const next = clamp(minutes + delta, 0, 180);\n    setTimer((prev) => {\n      if (prev.customMinutes === next) return prev;\n      const secs = Math.floor((prev.remaining % 60_000) / 1000);\n      return {\n        ...prev,\n        customMinutes: next,\n        remaining: next * 60_000 + secs * 1000,\n      };\n    });\n  }\n\n  const start = React.useCallback(() => {\n    setTimer((prev) => {\n      const target = prev.remaining <= 0 ? minutes * 60_000 : prev.remaining;\n      if (prev.running && target === prev.remaining) return prev;\n      return {\n        ...prev,\n        running: true,\n        remaining: target,\n      };\n    });\n  }, [minutes, setTimer]);\n  const pause = React.useCallback(() => {\n    setTimer((prev) => {\n      if (!prev.running) return prev;\n      return {\n        ...prev,\n        running: false,\n      };\n    });\n  }, [setTimer]);\n  const reset = React.useCallback(() => {\n    setTimer((prev) => {\n      const target = minutes * 60_000;\n      if (!prev.running && prev.remaining === target) return prev;\n      return {\n        ...prev,\n        running: false,\n        remaining: target,\n      };\n    });\n  }, [minutes, setTimer]);\n  function commitEdit() {\n    if (!isCustom || running) return;\n    const ms = parseMmSs(timeEdit, { unit: \"milliseconds\" });\n    if (ms == null) {\n      setTimeEdit(\n        formatMmSs(remaining, { unit: \"milliseconds\", padMinutes: true }),\n      );\n      return;\n    }\n    const mm = Math.floor(ms / 60_000),\n      ss = Math.floor((ms % 60_000) / 1000);\n    setTimer((prev) => {\n      const nextRemaining = mm * 60_000 + ss * 1000;\n      if (prev.customMinutes === mm && prev.remaining === nextRemaining)\n        return prev;\n      return {\n        ...prev,\n        customMinutes: mm,\n        remaining: nextRemaining,\n      };\n    });\n  }\n\n  const totalMs = minutes * 60_000;\n  const progress = Math.max(\n    0,\n    Math.min(1, 1 - remaining / Math.max(1, totalMs)),\n  );\n  const finished = remaining <= 0;\n\n  // Tab items map\n  const tabItems = React.useMemo(\n    () =>\n      PROFILES.map((p) => ({\n        key: p.key,\n        label: (\n          <span className=\"inline-flex items-center\">\n            {p.icon}\n            {p.label}\n          </span>\n        ),\n      })),\n    [],\n  );\n\n  // Right slot content for Custom: quick duration chips + custom time field\n  const rightSlot = isCustom ? (\n    <div className=\"flex items-center flex-wrap gap-[var(--space-2)]\">\n      <DurationSelector\n        value={minutes}\n        onChange={(m) => {\n          if (running) return;\n          setTimer((prev) => {\n            const nextRemaining = m * 60_000;\n            if (prev.customMinutes === m && prev.remaining === nextRemaining)\n              return prev;\n            return {\n              ...prev,\n              customMinutes: m,\n              remaining: nextRemaining,\n            };\n          });\n        }}\n        disabled={running}\n      />\n      <input\n        aria-label=\"Custom minutes and seconds\"\n        value={timeEdit}\n        onChange={(e) => setTimeEdit(e.currentTarget.value)}\n        onBlur={commitEdit}\n        onKeyDown={(e) => e.key === \"Enter\" && commitEdit()}\n        placeholder=\"mm:ss\"\n        disabled={running}\n        className=\"w-[5ch] rounded-full border border-border/20 bg-background/20 px-[var(--space-2)] text-center text-ui font-medium backdrop-blur focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring\"\n        type=\"text\"\n      />\n    </div>\n  ) : null;\n\n  // keyboard shortcuts\n  React.useEffect(() => {\n    function onKey(e: KeyboardEvent) {\n      if (\n        e.target instanceof HTMLInputElement ||\n        e.target instanceof HTMLTextAreaElement\n      )\n        return;\n      if (e.key === \" \") {\n        e.preventDefault();\n        if (running) pause();\n        else start();\n      } else if (e.key === \"r\" || e.key === \"R\") {\n        e.preventDefault();\n        reset();\n      } else if (isCustom && !running && /^[1-6]$/.test(e.key)) {\n        const opts = [10, 15, 20, 25, 30, 45];\n        const idx = Number(e.key) - 1;\n        const m = opts[idx];\n        if (m != null) {\n          setTimer((prev) => {\n            const nextRemaining = m * 60_000;\n            if (prev.customMinutes === m && prev.remaining === nextRemaining)\n              return prev;\n            return {\n              ...prev,\n              customMinutes: m,\n              remaining: nextRemaining,\n            };\n          });\n        }\n      }\n    }\n    window.addEventListener(\"keydown\", onKey);\n    return () => window.removeEventListener(\"keydown\", onKey);\n  }, [running, isCustom, pause, start, reset, setTimer]);\n\n  const pct = clamp(Math.round(progress * 100), 0, 100);\n  const { scopeProps: timerProgressScopeProps, style: timerProgressStyle } =\n    useScopedCssVars({\n      attribute: \"data-timer-progress-id\",\n      vars: {\n        \"--timer-progress\": (pct / 100).toString(),\n      },\n    });\n\n  return (\n    <>\n      <Hero\n        frame={false}\n        topClassName=\"top-[var(--header-stack)]\"\n        eyebrow=\"Focus\"\n        title=\"Timer\"\n        subtitle=\"Pick a duration and focus.\"\n        subTabs={{\n          items: tabItems,\n          value: profile,\n          onChange: (k: string) =>\n            setTimer((prev) => {\n              const next = k as ProfileKey;\n              if (prev.profile === next) return prev;\n              return {\n                ...prev,\n                profile: next,\n              };\n            }),\n          size: \"md\",\n          align: \"between\",\n          ariaLabel: \"Timer profiles\",\n          right: rightSlot,\n          showBaseline: true,\n          className: \"overflow-x-auto\",\n        }}\n      />\n\n      <SectionCard className=\"no-hover\">\n        <SectionCard.Body>\n          <div className=\"relative mx-auto flex w-full max-w-[calc(var(--space-8)*6)] flex-col items-stretch p-[var(--space-8)]\">\n            {/* plus/minus */}\n            <IconButton\n              aria-label=\"Minus 1 minute\"\n              title=\"Minus 1 minute\"\n              onClick={() => adjust(-1)}\n              disabled={!isCustom || running || minutes <= 0}\n              className={`${ADJUST_BTN_CLASS} left-[var(--space-2)] sm:-left-[var(--space-4)]`}\n            >\n              <Minus />\n            </IconButton>\n            <IconButton\n              aria-label=\"Plus 1 minute\"\n              title=\"Plus 1 minute\"\n              onClick={() => adjust(1)}\n              disabled={!isCustom || running}\n              className={`${ADJUST_BTN_CLASS} right-[var(--space-2)] sm:-right-[var(--space-4)]`}\n            >\n              <Plus />\n            </IconButton>\n\n            {/* ring + digits */}\n            <div\n              className=\"group relative mx-auto flex aspect-square w-full max-w-[min(calc(var(--space-8)*3.5),calc(var(--viewport-width)-var(--space-8)))] items-center justify-center\"\n            >\n              <TimerRing pct={pct} className=\"size-full\" />\n              <div className=\"pointer-events-none absolute inset-0 grid place-items-center\">\n                <div className=\"text-title font-semibold tabular-nums text-foreground drop-shadow-[0_0_var(--space-2)_hsl(var(--neon-soft))] transition-transform duration-motion-sm group-hover:translate-y-0.5 sm:text-title-lg\">\n                  {formatMmSs(remaining, {\n                    unit: \"milliseconds\",\n                    padMinutes: true,\n                  })}\n                </div>\n                {isCustom && !running && (\n                  <input\n                    aria-label=\"Edit minutes and seconds\"\n                    value={timeEdit}\n                    onChange={(e) => setTimeEdit(e.currentTarget.value)}\n                    onBlur={commitEdit}\n                    onKeyDown={(e) => e.key === \"Enter\" && commitEdit()}\n                    className=\"absolute w-full max-w-[calc(var(--space-7)*3.5)] rounded-full bg-transparent text-center text-title font-semibold tabular-nums opacity-0 focus:opacity-100 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring sm:text-title-lg\"\n                  />\n                )}\n              </div>\n            </div>\n\n            {/* progress bar */}\n            <div className=\"mt-[var(--space-6)] w-full\">\n              <div className=\"relative h-[var(--space-2)] w-full rounded-full bg-background/20 shadow-depth-inner\">\n                <div className=\"absolute inset-0 bg-[repeating-linear-gradient(to_right,transparent,transparent_9%,hsl(var(--foreground)/0.15)_9%,hsl(var(--foreground)/0.15)_10%)]\" />\n                <div\n                  className={`${styles.progressFill} h-full rounded-full bg-[linear-gradient(90deg,hsl(var(--accent-1)),hsl(var(--accent-2)))] shadow-[var(--shadow-glow-md)] transition-transform duration-motion-sm ease-linear motion-reduce:transition-none`}\n                  data-progress={pct}\n                  {...(timerProgressScopeProps ?? {})}\n                  style={timerProgressStyle}\n                />\n              </div>\n              <div className=\"mt-[var(--space-1)] text-right text-label font-medium tracking-[0.02em] text-muted-foreground tabular-nums\">\n                {pct}%\n              </div>\n            </div>\n\n            {/* controls */}\n            <div className=\"mt-[var(--space-6)] flex w-full flex-wrap justify-center gap-[var(--space-2)] overflow-x-auto\">\n              {!running ? (\n                <SegmentedButton\n                  className=\"gap-[var(--space-2)]\"\n                  onClick={start}\n                  title=\"Start\"\n                >\n                  <Play />\n                  Start\n                </SegmentedButton>\n              ) : (\n                <SegmentedButton\n                  className=\"gap-[var(--space-2)]\"\n                  onClick={pause}\n                  title=\"Pause\"\n                  selected\n                >\n                  <Pause />\n                  Pause\n                </SegmentedButton>\n              )}\n              <SegmentedButton\n                className=\"gap-[var(--space-2)]\"\n                onClick={reset}\n                title=\"Reset\"\n              >\n                <RotateCcw />\n                Reset\n              </SegmentedButton>\n            </div>\n\n            {/* Complete state */}\n            {finished && (\n              <div className=\"mt-[var(--space-6)] grid place-items-center\">\n                <div className=\"rounded-full bg-[linear-gradient(90deg,hsl(var(--accent-1)/0.35),hsl(var(--accent-2)/0.35)))] px-[var(--space-3)] py-[var(--space-1)] text-ui font-medium text-foreground shadow-[var(--shadow-glow-md)] ring-1 ring-inset ring-border/50 motion-safe:animate-pulse motion-reduce:animate-none\">\n                  Complete\n                </div>\n                <div className=\"mt-[var(--space-2)] text-label font-medium tracking-[0.02em] text-muted-foreground\">\n                  Good. Now do the review, not Twitter.\n                </div>\n              </div>\n            )}\n          </div>\n        </SectionCard.Body>\n      </SectionCard>\n    </>\n  );\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"progressFill\":\"TimerTab_progressFill__Chke_\"};","\"use client\";\n\nimport * as React from \"react\";\nimport { Input } from \"@/components/ui/primitives/Input\";\nimport { Textarea } from \"@/components/ui/primitives/Textarea\";\nimport { Button } from \"@/components/ui/primitives/Button\";\nimport { SectionCard } from \"@/components/ui/layout/SectionCard\";\nimport { Label } from \"@/components/ui/Label\";\nimport { cn } from \"@/lib/utils\";\nimport { GOAL_TEXTAREA_MIN_HEIGHT_CLASS } from \"./constants\";\n\ninterface GoalFormProps {\n  title: string;\n  metric: string;\n  notes: string;\n  onTitleChange: (v: string) => void;\n  onMetricChange: (v: string) => void;\n  onNotesChange: (v: string) => void;\n  onSubmit: () => void;\n  activeCount: number;\n  activeCap: number;\n  err?: string | null;\n}\n\nexport interface GoalFormHandle {\n  focus: (options?: FocusOptions) => void;\n}\nexport const GoalForm = React.forwardRef<GoalFormHandle, GoalFormProps>(function GoalForm(\n  {\n    title,\n    metric,\n    notes,\n    onTitleChange,\n    onMetricChange,\n    onNotesChange,\n    onSubmit,\n    activeCount,\n    activeCap,\n    err,\n  }: GoalFormProps,\n  ref,\n) {\n  const titleRef = React.useRef<HTMLInputElement>(null);\n  const baseId = React.useId();\n  const titleId = `${baseId}-title`;\n  const metricId = `${baseId}-metric`;\n  const notesId = `${baseId}-notes`;\n  const helpId = `${baseId}-help`;\n  const errorId = `${baseId}-error`;\n  const describedBy = [helpId, err ? errorId : null].filter(Boolean).join(\" \");\n  const trimmedTitle = title.trim();\n  const isAtCap = activeCount >= activeCap;\n  const canSubmit = Boolean(trimmedTitle) && !isAtCap;\n\n  React.useImperativeHandle(ref, () => ({\n    focus: (options?: FocusOptions) => titleRef.current?.focus(options),\n  }));\n\n  return (\n    <form\n      onSubmit={(e) => {\n        e.preventDefault();\n        if (!canSubmit) {\n          return;\n        }\n        onSubmit();\n      }}\n    >\n      <SectionCard className=\"card-neo-soft bg-panel-tilt shadow-inner-md\">\n        <SectionCard.Header\n          className=\"flex items-center justify-between\"\n          title=\"Add Goal\"\n          titleClassName=\"text-title font-semibold tracking-[-0.01em]\"\n        />\n        <SectionCard.Body className=\"grid gap-[var(--space-6)]\">\n          <Label htmlFor={titleId} className=\"mb-0 grid gap-[var(--space-2)]\">\n            Title\n            <Input\n              ref={titleRef}\n              id={titleId}\n              height=\"md\"\n              inputClassName=\"font-medium\"\n              value={title}\n              onChange={(e) => onTitleChange(e.target.value)}\n              required\n              aria-required=\"true\"\n              aria-describedby={describedBy || undefined}\n              aria-invalid={err ? \"true\" : undefined}\n            />\n          </Label>\n\n          <Label htmlFor={metricId} className=\"mb-0 grid gap-[var(--space-2)]\">\n            Metric (optional)\n            <Input\n              id={metricId}\n              height=\"md\"\n              inputClassName=\"font-medium tabular-nums\"\n              value={metric}\n              onChange={(e) => onMetricChange(e.target.value)}\n              aria-describedby={describedBy || undefined}\n            />\n          </Label>\n\n          <Label htmlFor={notesId} className=\"mb-0 grid gap-[var(--space-2)]\">\n            Notes (optional)\n            <Textarea\n              id={notesId}\n              textareaClassName={cn(\n                GOAL_TEXTAREA_MIN_HEIGHT_CLASS,\n                \"text-ui font-medium\",\n              )}\n              value={notes}\n              onChange={(e) => onNotesChange(e.target.value)}\n              aria-describedby={describedBy || undefined}\n            />\n          </Label>\n\n          <div id={helpId} className=\"text-label font-medium tracking-[0.02em] text-muted-foreground\">\n            {isAtCap ? (\n              <span className=\"text-danger\">\n                Cap reached. Finish one to add more.\n              </span>\n            ) : (\n              <span>\n                {activeCap - activeCount} active slot\n                {activeCap - activeCount === 1 ? \"\" : \"s\"} left\n              </span>\n            )}\n          </div>\n\n          {err ? (\n            <p\n              id={errorId}\n              role=\"status\"\n              aria-live=\"polite\"\n              className=\"text-label font-medium tracking-[0.02em] text-danger\"\n            >\n              {err}\n            </p>\n          ) : null}\n\n          <div className=\"flex justify-end\">\n            <Button type=\"submit\" size=\"sm\" disabled={!canSubmit}>\n              Add Goal\n            </Button>\n          </div>\n        </SectionCard.Body>\n      </SectionCard>\n    </form>\n  );\n});\n"],"names":["GoalQueue","items","onAdd","onRemove","val","setVal","React","inputId","revealOnInteractionClass","useCoarsePointer","SectionCard","className","Header","title","titleClassName","Body","ul","length","li","map","it","created","Date","createdAt","goalLabel","formatGoalLabel","text","normalized","trim","replace","cleaned","FALLBACK_GOAL_LABEL","MAX_GOAL_LABEL_LENGTH","truncated","slice","trimEnd","deleteLabel","span","aria-hidden","p","time","cn","dateTime","toISOString","shortDate","format","div","IconButton","aria-label","onClick","id","size","iconSize","variant","Trash2","form","onSubmit","submit","e","preventDefault","t","label","htmlFor","Input","height","value","onChange","currentTarget","placeholder","usePersistentTab","storageKey","defaultValue","decode","setValue","usePersistentState","R","body","tags","source","group","pinned","now","uid","updatedAt","SEEDS","GROUP_TABS","key","Reminders","setItems","STORE_KEY","searchState","setSearchState","input","committed","onlyPinned","setOnlyPinned","setGroup","quickAdd","setQuickAdd","searchInput","query","commitQuery","cancelCommitQuery","useDebouncedCallback","prev","next","handleSearchChange","event","filtered","q","toLowerCase","filter","r","join","includes","sort","a","b","Number","addQuick","addNewWithTitle","titleText","chosenGroup","sticky","topClassName","GOALS_STICKY_TOP_CLASS","Search","name","indent","TabBar","String","onValueChange","k","ariaLabel","linkPanels","SegmentedButton","v","aria-pressed","selected","PinOff","Pin","resetSeeds","s","charAt","toUpperCase","onKeyDown","Plus","ReminderCard","patch","partial","onDelete","del","onDuplicate","dup","src","find","editing","setEditing","setTitle","setBody","tagsText","setTagsText","titleRef","save","cleanTags","split","Boolean","cancel","useAutoFocus","ref","when","currentTitle","duplicateLabel","saveLabel","cancelLabel","article","h3","Button","Pencil","Copy","Check","X","Textarea","textareaClassName","GOAL_TEXTAREA_MIN_HEIGHT_CLASS","select","option","Badge","tone","TimerRingIcon","pct","uniqueId","gradientId","noiseFilterId","ringSize","metrics","DEFAULT_RING_SIZE","getRingMetrics","resolvedSize","diameter","strokeWidth","stroke","radius","Math","max","trackInset","circumference","PI","svg","viewBox","role","accessibleLabel","defs","RingNoiseDefs","linearGradient","x1","y1","x2","y2","stop","offset","stopColor","circle","cx","cy","fill","strokeLinecap","strokeDasharray","strokeDashoffset","pulse","TimerRing","customSizeValue","isFinite","hasCustomSize","ringIconSize","undefined","customStyle","style","DEFAULT_OPTIONS","DurationSelector","options","disabled","aria-disabled","m","active","button","type","aria-checked","OPTIONS","GoalsTabs","idBase","SegmentedControl","ICON_SM","GoalList","goals","onToggleDone","onUpdate","editingId","setEditingId","draft","setDraft","metric","notes","startEdit","goal","saveEdit","updated","updateDraft","GenericList","emptyState","renderItem","isEditing","headingId","header","aria-labelledby","target","cancelEdit","CheckCircle","done","checked","rows","footer","useGoals","usePlanner","GoalSlot","onEdit","inputRef","editButtonRef","wasEditing","clean","current","focus","handleKeyDown","pillar","Icon","PILLAR_ICONS","pillarToLabel","ICON_MD","ReminderFilters","showGroups","groupTabs","toggleFilters","showFilters","sourceTabs","setSource","togglePinned","setQuery","useReminders","styles","align","tablistClassName","aria-expanded","SlidersHorizontal","ReminderList","updateReminder","removeReminder","handleChange","handleDelete","RemTile","reminder","EmptyState","RemTileBase","noteFieldId","tagsFieldId","commitChange","tag","togglePinnedLabel","baseLabel","h4","resize","groupKey","capitalize","sourceKey","domain","domainKey","fmtDate","date","timestamp","pad","getDate","getMonth","getFullYear","as","interactive","displayName","ReminderQuickAddForm","addReminder","groups","neonClass","quickAddError","clearQuickAddError","setQuickAddError","errorId","groupLabel","item","neonToneClass","handleSubmit","trimmed","added","preventScroll","Label","aria-describedby","aria-live","REMINDER_AVATAR_SRC","withBasePath","RemindersTab","AvatarFrame","media","Image","alt","sizes","priority","isTabValue","isSegmentFilterKey","FILTER_ITEMS","DOMAIN_ITEMS","icon","Sparkles","Gamepad2","GraduationCap","HERO_HEADINGS","reminders","timer","HERO_HEADING_IDS","HERO_SUBTITLE_IDS","GOALS_TABS_ID_BASE","getGoalsTabId","getGoalsPanelId","GOALS_TAB_STORAGE_KEY","GOALS_TAB_SESSION_SCOPE_KEY","navItems","PRIMARY_PAGE_NAV","GoalsPage","PlannerProvider","GoalsPageContent","heroSubtitle","tabStorageKey","setTabStorageKey","tab","setTab","hasMigratedTabKeyRef","window","scopeStorage","sessionStorage","sessionId","getItem","crypto","randomUUID","toString","random","setItem","scopedKey","existingScoped","readLocal","legacy","removeLocal","setFilter","shouldFocusGoalForm","setShouldFocusGoalForm","intentApplied","setIntentApplied","err","lastDeleted","addGoal","toggleDone","removeGoal","updateGoal","undoRemove","clearGoals","setDomain","reminderFiltered","formRef","goalFormRef","goalsRef","remindersRef","timerRef","confirmClearOpen","setConfirmClearOpen","clearedCount","setClearedCount","confirmButtonRef","setTimeout","clearTimeout","handleOpenNuke","handleCloseNuke","handleAddGoal","values","trimmedTitle","ok","startGoalCreation","tabParam","useQueryParam","filterParam","NEW_GOAL_FILTER","handleTabChange","reminderCount","handleDomainChange","handleReminderSearchChange","handleAddReminder","reduceMotion","usePrefersReducedMotion","scrollIntoView","behavior","block","handleAddFirst","handleUndo","intentParam","totalCount","doneCount","g","activeCount","remaining","ACTIVE_CAP","isAtCap","pctDone","round","activePctOfCap","min","remainingPctOfCap","activeCapNumber","activeSlotLabel","goalMetrics","percent","percentLabel","valueLabel","detail","progressClassName","trackClassName","srText","handleConfirmNuke","sorted","summary","ProgressRing","heroHeadingId","heroSubtitleId","heroHeading","heroEyebrow","heroAriaDescribedby","reminderHeroSubTabs","showBaseline","reminderHeroSearch","debounceMs","right","heroActions","aria-haspopup","Bomb","ThemeProvider","section","HERO_REGION_ID","heading","subtitle","Flag","underlineTone","showThemeToggle","subTabs","search","HeroSearchBar","actions","PageShell","tabIndex","hidden","Card","CardHeader","h2","GoalsProgress","total","GoalFilterTabs","onNewGoal","newGoalDisabled","CardContent","dl","dt","dd","GoalsInsetForm","errorMessage","Snackbar","message","actionLabel","actionAriaLabel","onAction","TimerTab","Modal","open","onOpenChange","description","tactile","createDefaultGoalFormValues","InsetInput","_variant","props","InsetTextarea","finalId","finalName","isInvalid","useFieldIds","ariaInvalid","slugifyFallback","loadingAttr","Field","Root","invalid","readOnly","loading","setValues","titleInputRef","titleId","metricId","notesId","metricHelpId","resetValues","reset","handleInputChange","previous","handleNotesChange","result","handleCancel","document","activeElement","HTMLElement","blur","remainingMessage","CardTitle","CardDescription","required","AIExplainTooltip","triggerLabel","explanation","inputMode","CardFooter","maxWidth","baseMetrics","baseDiameter","baseStroke","resolvedRingSize","resolvedStrokeWidth","scaledStroke","scale","ProgressRingIcon","detectCoarsePointer","nav","navigator","maxTouchPoints","msMaxTouchPoints","matchMedia","some","matches","isCoarse","setIsCoarse","observeMediaQuery","PROFILES","BookOpen","defaultMin","Brush","Code2","User","PROFILE_LOOKUP","reduce","acc","profile","TIMER_STATE_KEY","LEGACY_KEYS","customMinutes","running","DEFAULT_PROFILE","getProfile","DEFAULT_TIMER_STATE","DEFAULT_CUSTOM_MINUTES","getMinutesForProfile","isFiniteNumber","ADJUST_BTN_CLASS","setTimer","stored","legacyProfile","legacyCustom","legacyRemaining","legacyRunning","nextProfile","isProfileKey","nextCustomMinutes","fallbackMinutes","nextRemaining","nextRunning","profileDef","isCustom","minutes","prevProfile","timeEdit","setTimeEdit","formatMmSs","unit","padMinutes","adjust","delta","clamp","secs","floor","setInterval","shouldStop","clearInterval","start","pause","commitEdit","ms","parseMmSs","mm","ss","progress","totalMs","finished","tabItems","rightSlot","onBlur","onKey","HTMLInputElement","HTMLTextAreaElement","test","addEventListener","removeEventListener","scopeProps","timerProgressScopeProps","timerProgressStyle","useScopedCssVars","attribute","vars","Hero","frame","eyebrow","Minus","data-progress","Pause","Play","RotateCcw","GoalForm","onTitleChange","onMetricChange","onNotesChange","activeCap","baseId","helpId","describedBy","canSubmit","inputClassName","aria-required","aria-invalid"],"sourceRoot":"","ignoreList":[]}